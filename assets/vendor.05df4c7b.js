var k2e=Object.defineProperty,$2e=Object.defineProperties;var b2e=Object.getOwnPropertyDescriptors;var KP=Object.getOwnPropertySymbols;var Jee=Object.prototype.hasOwnProperty,Xee=Object.prototype.propertyIsEnumerable;var Yee=(r,e,n)=>e in r?k2e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,zi=(r,e)=>{for(var n in e||(e={}))Jee.call(e,n)&&Yee(r,n,e[n]);if(KP)for(var n of KP(e))Xee.call(e,n)&&Yee(r,n,e[n]);return r},yu=(r,e)=>$2e(r,b2e(e));var ah=(r,e)=>{var n={};for(var o in r)Jee.call(r,o)&&e.indexOf(o)<0&&(n[o]=r[o]);if(r!=null&&KP)for(var o of KP(r))e.indexOf(o)<0&&Xee.call(r,o)&&(n[o]=r[o]);return n};function w2e(r,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(o){if(o!=="default"&&!(o in r)){var a=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(r,o,a.get?a:{enumerable:!0,get:function(){return n[o]}})}})}),Object.freeze(r)}var C0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function G5(r){if(r.__esModule)return r;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),e}var Xn={exports:{}},fi={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Qee=Object.getOwnPropertySymbols,x2e=Object.prototype.hasOwnProperty,S2e=Object.prototype.propertyIsEnumerable;function E2e(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function C2e(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(e).map(function(l){return e[l]});if(o.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(l){a[l]=l}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var W5=C2e()?Object.assign:function(r,e){for(var n,o=E2e(r),a,l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var u in n)x2e.call(n,u)&&(o[u]=n[u]);if(Qee){a=Qee(n);for(var _=0;_<a.length;_++)S2e.call(n,a[_])&&(o[a[_]]=n[a[_]])}}return o};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H5=W5,dw=60103,Zee=60106;fi.Fragment=60107;fi.StrictMode=60108;fi.Profiler=60114;var ete=60109,tte=60110,nte=60112;fi.Suspense=60113;var rte=60115,ite=60116;if(typeof Symbol=="function"&&Symbol.for){var qf=Symbol.for;dw=qf("react.element"),Zee=qf("react.portal"),fi.Fragment=qf("react.fragment"),fi.StrictMode=qf("react.strict_mode"),fi.Profiler=qf("react.profiler"),ete=qf("react.provider"),tte=qf("react.context"),nte=qf("react.forward_ref"),fi.Suspense=qf("react.suspense"),rte=qf("react.memo"),ite=qf("react.lazy")}var ote=typeof Symbol=="function"&&Symbol.iterator;function A2e(r){return r===null||typeof r!="object"?null:(r=ote&&r[ote]||r["@@iterator"],typeof r=="function"?r:null)}function pC(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ate={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ste={};function mw(r,e,n){this.props=r,this.context=e,this.refs=ste,this.updater=n||ate}mw.prototype.isReactComponent={};mw.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error(pC(85));this.updater.enqueueSetState(this,r,e,"setState")};mw.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function lte(){}lte.prototype=mw.prototype;function V5(r,e,n){this.props=r,this.context=e,this.refs=ste,this.updater=n||ate}var q5=V5.prototype=new lte;q5.constructor=V5;H5(q5,mw.prototype);q5.isPureReactComponent=!0;var K5={current:null},ute=Object.prototype.hasOwnProperty,cte={key:!0,ref:!0,__self:!0,__source:!0};function _te(r,e,n){var o,a={},l=null,u=null;if(e!=null)for(o in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(l=""+e.key),e)ute.call(e,o)&&!cte.hasOwnProperty(o)&&(a[o]=e[o]);var _=arguments.length-2;if(_===1)a.children=n;else if(1<_){for(var f=Array(_),h=0;h<_;h++)f[h]=arguments[h+2];a.children=f}if(r&&r.defaultProps)for(o in _=r.defaultProps,_)a[o]===void 0&&(a[o]=_[o]);return{$$typeof:dw,type:r,key:l,ref:u,props:a,_owner:K5.current}}function T2e(r,e){return{$$typeof:dw,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function J5(r){return typeof r=="object"&&r!==null&&r.$$typeof===dw}function I2e(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(n){return e[n]})}var fte=/\/+/g;function X5(r,e){return typeof r=="object"&&r!==null&&r.key!=null?I2e(""+r.key):e.toString(36)}function JP(r,e,n,o,a){var l=typeof r;(l==="undefined"||l==="boolean")&&(r=null);var u=!1;if(r===null)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(r.$$typeof){case dw:case Zee:u=!0}}if(u)return u=r,a=a(u),r=o===""?"."+X5(u,0):o,Array.isArray(a)?(n="",r!=null&&(n=r.replace(fte,"$&/")+"/"),JP(a,e,n,"",function(h){return h})):a!=null&&(J5(a)&&(a=T2e(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(fte,"$&/")+"/")+r)),e.push(a)),1;if(u=0,o=o===""?".":o+":",Array.isArray(r))for(var _=0;_<r.length;_++){l=r[_];var f=o+X5(l,_);u+=JP(l,e,n,f,a)}else if(f=A2e(r),typeof f=="function")for(r=f.call(r),_=0;!(l=r.next()).done;)l=l.value,f=o+X5(l,_++),u+=JP(l,e,n,f,a);else if(l==="object")throw e=""+r,Error(pC(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e));return u}function XP(r,e,n){if(r==null)return r;var o=[],a=0;return JP(r,o,"","",function(l){return e.call(n,l,a++)}),o}function M2e(r){if(r._status===-1){var e=r._result;e=e(),r._status=0,r._result=e,e.then(function(n){r._status===0&&(n=n.default,r._status=1,r._result=n)},function(n){r._status===0&&(r._status=2,r._result=n)})}if(r._status===1)return r._result;throw r._result}var pte={current:null};function Ud(){var r=pte.current;if(r===null)throw Error(pC(321));return r}var N2e={ReactCurrentDispatcher:pte,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:K5,IsSomeRendererActing:{current:!1},assign:H5};fi.Children={map:XP,forEach:function(r,e,n){XP(r,function(){e.apply(this,arguments)},n)},count:function(r){var e=0;return XP(r,function(){e++}),e},toArray:function(r){return XP(r,function(e){return e})||[]},only:function(r){if(!J5(r))throw Error(pC(143));return r}};fi.Component=mw;fi.PureComponent=V5;fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N2e;fi.cloneElement=function(r,e,n){if(r==null)throw Error(pC(267,r));var o=H5({},r.props),a=r.key,l=r.ref,u=r._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,u=K5.current),e.key!==void 0&&(a=""+e.key),r.type&&r.type.defaultProps)var _=r.type.defaultProps;for(f in e)ute.call(e,f)&&!cte.hasOwnProperty(f)&&(o[f]=e[f]===void 0&&_!==void 0?_[f]:e[f])}var f=arguments.length-2;if(f===1)o.children=n;else if(1<f){_=Array(f);for(var h=0;h<f;h++)_[h]=arguments[h+2];o.children=_}return{$$typeof:dw,type:r.type,key:a,ref:l,props:o,_owner:u}};fi.createContext=function(r,e){return e===void 0&&(e=null),r={$$typeof:tte,_calculateChangedBits:e,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null},r.Provider={$$typeof:ete,_context:r},r.Consumer=r};fi.createElement=_te;fi.createFactory=function(r){var e=_te.bind(null,r);return e.type=r,e};fi.createRef=function(){return{current:null}};fi.forwardRef=function(r){return{$$typeof:nte,render:r}};fi.isValidElement=J5;fi.lazy=function(r){return{$$typeof:ite,_payload:{_status:-1,_result:r},_init:M2e}};fi.memo=function(r,e){return{$$typeof:rte,type:r,compare:e===void 0?null:e}};fi.useCallback=function(r,e){return Ud().useCallback(r,e)};fi.useContext=function(r,e){return Ud().useContext(r,e)};fi.useDebugValue=function(){};fi.useEffect=function(r,e){return Ud().useEffect(r,e)};fi.useImperativeHandle=function(r,e,n){return Ud().useImperativeHandle(r,e,n)};fi.useLayoutEffect=function(r,e){return Ud().useLayoutEffect(r,e)};fi.useMemo=function(r,e){return Ud().useMemo(r,e)};fi.useReducer=function(r,e,n){return Ud().useReducer(r,e,n)};fi.useRef=function(r){return Ud().useRef(r)};fi.useState=function(r){return Ud().useState(r)};fi.version="17.0.2";Xn.exports=fi;var uet=Xn.exports,hte={exports:{}},P_={},vw={exports:{}},dte={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){var e,n,o,a;if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,_=u.now();r.unstable_now=function(){return u.now()-_}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var f=null,h=null,d=function(){if(f!==null)try{var ve=r.unstable_now();f(!0,ve),f=null}catch(He){throw setTimeout(d,0),He}};e=function(ve){f!==null?setTimeout(e,0,ve):(f=ve,setTimeout(d,0))},n=function(ve,He){h=setTimeout(ve,He)},o=function(){clearTimeout(h)},r.unstable_shouldYield=function(){return!1},a=r.unstable_forceFrameRate=function(){}}else{var m=window.setTimeout,g=window.clearTimeout;if(typeof console!="undefined"){var y=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof y!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var w=!1,E=null,A=-1,S=5,C=0;r.unstable_shouldYield=function(){return r.unstable_now()>=C},a=function(){},r.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ve?Math.floor(1e3/ve):5};var R=new MessageChannel,P=R.port2;R.port1.onmessage=function(){if(E!==null){var ve=r.unstable_now();C=ve+S;try{E(!0,ve)?P.postMessage(null):(w=!1,E=null)}catch(He){throw P.postMessage(null),He}}else w=!1},e=function(ve){E=ve,w||(w=!0,P.postMessage(null))},n=function(ve,He){A=m(function(){ve(r.unstable_now())},He)},o=function(){g(A),A=-1}}function D(ve,He){var Ge=ve.length;ve.push(He);e:for(;;){var kt=Ge-1>>>1,an=ve[kt];if(an!==void 0&&0<V(an,He))ve[kt]=He,ve[Ge]=an,Ge=kt;else break e}}function G(ve){return ve=ve[0],ve===void 0?null:ve}function z(ve){var He=ve[0];if(He!==void 0){var Ge=ve.pop();if(Ge!==He){ve[0]=Ge;e:for(var kt=0,an=ve.length;kt<an;){var ot=2*(kt+1)-1,Mn=ve[ot],mn=ot+1,Gt=ve[mn];if(Mn!==void 0&&0>V(Mn,Ge))Gt!==void 0&&0>V(Gt,Mn)?(ve[kt]=Gt,ve[mn]=Ge,kt=mn):(ve[kt]=Mn,ve[ot]=Ge,kt=ot);else if(Gt!==void 0&&0>V(Gt,Ge))ve[kt]=Gt,ve[mn]=Ge,kt=mn;else break e}}return He}return null}function V(ve,He){var Ge=ve.sortIndex-He.sortIndex;return Ge!==0?Ge:ve.id-He.id}var X=[],ne=[],Y=1,ue=null,_e=3,ge=!1,$e=!1,xe=!1;function Ie(ve){for(var He=G(ne);He!==null;){if(He.callback===null)z(ne);else if(He.startTime<=ve)z(ne),He.sortIndex=He.expirationTime,D(X,He);else break;He=G(ne)}}function tt(ve){if(xe=!1,Ie(ve),!$e)if(G(X)!==null)$e=!0,e(gt);else{var He=G(ne);He!==null&&n(tt,He.startTime-ve)}}function gt(ve,He){$e=!1,xe&&(xe=!1,o()),ge=!0;var Ge=_e;try{for(Ie(He),ue=G(X);ue!==null&&(!(ue.expirationTime>He)||ve&&!r.unstable_shouldYield());){var kt=ue.callback;if(typeof kt=="function"){ue.callback=null,_e=ue.priorityLevel;var an=kt(ue.expirationTime<=He);He=r.unstable_now(),typeof an=="function"?ue.callback=an:ue===G(X)&&z(X),Ie(He)}else z(X);ue=G(X)}if(ue!==null)var ot=!0;else{var Mn=G(ne);Mn!==null&&n(tt,Mn.startTime-He),ot=!1}return ot}finally{ue=null,_e=Ge,ge=!1}}var Je=a;r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ve){ve.callback=null},r.unstable_continueExecution=function(){$e||ge||($e=!0,e(gt))},r.unstable_getCurrentPriorityLevel=function(){return _e},r.unstable_getFirstCallbackNode=function(){return G(X)},r.unstable_next=function(ve){switch(_e){case 1:case 2:case 3:var He=3;break;default:He=_e}var Ge=_e;_e=He;try{return ve()}finally{_e=Ge}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=Je,r.unstable_runWithPriority=function(ve,He){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Ge=_e;_e=ve;try{return He()}finally{_e=Ge}},r.unstable_scheduleCallback=function(ve,He,Ge){var kt=r.unstable_now();switch(typeof Ge=="object"&&Ge!==null?(Ge=Ge.delay,Ge=typeof Ge=="number"&&0<Ge?kt+Ge:kt):Ge=kt,ve){case 1:var an=-1;break;case 2:an=250;break;case 5:an=1073741823;break;case 4:an=1e4;break;default:an=5e3}return an=Ge+an,ve={id:Y++,callback:He,priorityLevel:ve,startTime:Ge,expirationTime:an,sortIndex:-1},Ge>kt?(ve.sortIndex=Ge,D(ne,ve),G(X)===null&&ve===G(ne)&&(xe?o():xe=!0,n(tt,Ge-kt))):(ve.sortIndex=an,D(X,ve),$e||ge||($e=!0,e(gt))),ve},r.unstable_wrapCallback=function(ve){var He=_e;return function(){var Ge=_e;_e=He;try{return ve.apply(this,arguments)}finally{_e=Ge}}}})(dte);vw.exports=dte;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=Xn.exports,Vo=W5,Ts=vw.exports;function Pt(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!YP)throw Error(Pt(227));var mte=new Set,hC={};function A0(r,e){gw(r,e),gw(r+"Capture",e)}function gw(r,e){for(hC[r]=e,r=0;r<e.length;r++)mte.add(e[r])}var jd=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),R2e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vte=Object.prototype.hasOwnProperty,gte={},yte={};function P2e(r){return vte.call(yte,r)?!0:vte.call(gte,r)?!1:R2e.test(r)?yte[r]=!0:(gte[r]=!0,!1)}function B2e(r,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function F2e(r,e,n,o){if(e===null||typeof e=="undefined"||B2e(r,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ku(r,e,n,o,a,l,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=r,this.type=e,this.sanitizeURL=l,this.removeEmptyString=u}var Ys={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Ys[r]=new ku(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Ys[e]=new ku(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Ys[r]=new ku(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Ys[r]=new ku(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Ys[r]=new ku(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Ys[r]=new ku(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Ys[r]=new ku(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Ys[r]=new ku(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Ys[r]=new ku(r,5,!1,r.toLowerCase(),null,!1,!1)});var Y5=/[\-:]([a-z])/g;function Q5(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(Y5,Q5);Ys[e]=new ku(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(Y5,Q5);Ys[e]=new ku(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(Y5,Q5);Ys[e]=new ku(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Ys[r]=new ku(r,1,!1,r.toLowerCase(),null,!1,!1)});Ys.xlinkHref=new ku("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Ys[r]=new ku(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z5(r,e,n,o){var a=Ys.hasOwnProperty(e)?Ys[e]:null,l=a!==null?a.type===0:o?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");l||(F2e(e,n,a,o)&&(n=null),o||a===null?P2e(e)&&(n===null?r.removeAttribute(e):r.setAttribute(e,""+n)):a.mustUseProperty?r[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,o=a.attributeNamespace,n===null?r.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,o?r.setAttributeNS(o,e,n):r.setAttribute(e,n))))}var T0=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dC=60103,I0=60106,Nv=60107,e7=60108,mC=60114,t7=60109,n7=60110,QP=60112,vC=60113,ZP=60120,eB=60115,r7=60116,i7=60121,o7=60128,kte=60129,a7=60130,s7=60131;if(typeof Symbol=="function"&&Symbol.for){var Is=Symbol.for;dC=Is("react.element"),I0=Is("react.portal"),Nv=Is("react.fragment"),e7=Is("react.strict_mode"),mC=Is("react.profiler"),t7=Is("react.provider"),n7=Is("react.context"),QP=Is("react.forward_ref"),vC=Is("react.suspense"),ZP=Is("react.suspense_list"),eB=Is("react.memo"),r7=Is("react.lazy"),i7=Is("react.block"),Is("react.scope"),o7=Is("react.opaque.id"),kte=Is("react.debug_trace_mode"),a7=Is("react.offscreen"),s7=Is("react.legacy_hidden")}var $te=typeof Symbol=="function"&&Symbol.iterator;function gC(r){return r===null||typeof r!="object"?null:(r=$te&&r[$te]||r["@@iterator"],typeof r=="function"?r:null)}var l7;function yC(r){if(l7===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);l7=e&&e[1]||""}return`
`+l7+r}var u7=!1;function tB(r,e){if(!r||u7)return"";u7=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var o=f}Reflect.construct(r,[],e)}else{try{e.call()}catch(f){o=f}r.call(e.prototype)}else{try{throw Error()}catch(f){o=f}r()}}catch(f){if(f&&o&&typeof f.stack=="string"){for(var a=f.stack.split(`
`),l=o.stack.split(`
`),u=a.length-1,_=l.length-1;1<=u&&0<=_&&a[u]!==l[_];)_--;for(;1<=u&&0<=_;u--,_--)if(a[u]!==l[_]){if(u!==1||_!==1)do if(u--,_--,0>_||a[u]!==l[_])return`
`+a[u].replace(" at new "," at ");while(1<=u&&0<=_);break}}}finally{u7=!1,Error.prepareStackTrace=n}return(r=r?r.displayName||r.name:"")?yC(r):""}function L2e(r){switch(r.tag){case 5:return yC(r.type);case 16:return yC("Lazy");case 13:return yC("Suspense");case 19:return yC("SuspenseList");case 0:case 2:case 15:return r=tB(r.type,!1),r;case 11:return r=tB(r.type.render,!1),r;case 22:return r=tB(r.type._render,!1),r;case 1:return r=tB(r.type,!0),r;default:return""}}function yw(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Nv:return"Fragment";case I0:return"Portal";case mC:return"Profiler";case e7:return"StrictMode";case vC:return"Suspense";case ZP:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case n7:return(r.displayName||"Context")+".Consumer";case t7:return(r._context.displayName||"Context")+".Provider";case QP:var e=r.render;return e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case eB:return yw(r.type);case i7:return yw(r._render);case r7:e=r._payload,r=r._init;try{return yw(r(e))}catch{}}return null}function Rv(r){switch(typeof r){case"boolean":case"number":case"object":case"string":case"undefined":return r;default:return""}}function bte(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function D2e(r){var e=bte(r)?"checked":"value",n=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),o=""+r[e];if(!r.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return a.call(this)},set:function(u){o=""+u,l.call(this,u)}}),Object.defineProperty(r,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(u){o=""+u},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function nB(r){r._valueTracker||(r._valueTracker=D2e(r))}function wte(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return r&&(o=bte(r)?r.checked?"true":"false":r.value),r=o,r!==n?(e.setValue(r),!0):!1}function rB(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch{return r.body}}function c7(r,e){var n=e.checked;return Vo({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:r._wrapperState.initialChecked})}function xte(r,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Rv(e.value!=null?e.value:n),r._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ste(r,e){e=e.checked,e!=null&&Z5(r,"checked",e,!1)}function _7(r,e){Ste(r,e);var n=Rv(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&r.value===""||r.value!=n)&&(r.value=""+n):r.value!==""+n&&(r.value=""+n);else if(o==="submit"||o==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?f7(r,e.type,n):e.hasOwnProperty("defaultValue")&&f7(r,e.type,Rv(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function Ete(r,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,n||e===r.value||(r.value=e),r.defaultValue=e}n=r.name,n!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,n!==""&&(r.name=n)}function f7(r,e,n){(e!=="number"||rB(r.ownerDocument)!==r)&&(n==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+n&&(r.defaultValue=""+n))}function O2e(r){var e="";return YP.Children.forEach(r,function(n){n!=null&&(e+=n)}),e}function p7(r,e){return r=Vo({children:void 0},e),(e=O2e(e.children))&&(r.children=e),r}function kw(r,e,n,o){if(r=r.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<r.length;n++)a=e.hasOwnProperty("$"+r[n].value),r[n].selected!==a&&(r[n].selected=a),a&&o&&(r[n].defaultSelected=!0)}else{for(n=""+Rv(n),e=null,a=0;a<r.length;a++){if(r[a].value===n){r[a].selected=!0,o&&(r[a].defaultSelected=!0);return}e!==null||r[a].disabled||(e=r[a])}e!==null&&(e.selected=!0)}}function h7(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pt(91));return Vo({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Cte(r,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Pt(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Pt(93));n=n[0]}e=n}e==null&&(e=""),n=e}r._wrapperState={initialValue:Rv(n)}}function Ate(r,e){var n=Rv(e.value),o=Rv(e.defaultValue);n!=null&&(n=""+n,n!==r.value&&(r.value=n),e.defaultValue==null&&r.defaultValue!==n&&(r.defaultValue=n)),o!=null&&(r.defaultValue=""+o)}function Tte(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}var d7={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ite(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m7(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?Ite(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var iB,Mte=function(r){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,o,a){MSApp.execUnsafeLocalFunction(function(){return r(e,n,o,a)})}:r}(function(r,e){if(r.namespaceURI!==d7.svg||"innerHTML"in r)r.innerHTML=e;else{for(iB=iB||document.createElement("div"),iB.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=iB.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function kC(r,e){if(e){var n=r.firstChild;if(n&&n===r.lastChild&&n.nodeType===3){n.nodeValue=e;return}}r.textContent=e}var $C={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z2e=["Webkit","ms","Moz","O"];Object.keys($C).forEach(function(r){z2e.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),$C[e]=$C[r]})});function Nte(r,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$C.hasOwnProperty(r)&&$C[r]?(""+e).trim():e+"px"}function Rte(r,e){r=r.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,a=Nte(n,e[n],o);n==="float"&&(n="cssFloat"),o?r.setProperty(n,a):r[n]=a}}var U2e=Vo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v7(r,e){if(e){if(U2e[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pt(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pt(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Pt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pt(62))}}function g7(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function y7(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var k7=null,$w=null,bw=null;function Pte(r){if(r=zC(r)){if(typeof k7!="function")throw Error(Pt(280));var e=r.stateNode;e&&(e=bB(e),k7(r.stateNode,r.type,e))}}function Bte(r){$w?bw?bw.push(r):bw=[r]:$w=r}function Fte(){if($w){var r=$w,e=bw;if(bw=$w=null,Pte(r),e)for(r=0;r<e.length;r++)Pte(e[r])}}function $7(r,e){return r(e)}function Lte(r,e,n,o,a){return r(e,n,o,a)}function b7(){}var Dte=$7,M0=!1,w7=!1;function x7(){($w!==null||bw!==null)&&(b7(),Fte())}function j2e(r,e,n){if(w7)return r(e,n);w7=!0;try{return Dte(r,e,n)}finally{w7=!1,x7()}}function bC(r,e){var n=r.stateNode;if(n===null)return null;var o=bB(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(r=r.type,o=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!o;break e;default:r=!1}if(r)return null;if(n&&typeof n!="function")throw Error(Pt(231,e,typeof n));return n}var S7=!1;if(jd)try{var wC={};Object.defineProperty(wC,"passive",{get:function(){S7=!0}}),window.addEventListener("test",wC,wC),window.removeEventListener("test",wC,wC)}catch{S7=!1}function G2e(r,e,n,o,a,l,u,_,f){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var xC=!1,oB=null,aB=!1,E7=null,W2e={onError:function(r){xC=!0,oB=r}};function H2e(r,e,n,o,a,l,u,_,f){xC=!1,oB=null,G2e.apply(W2e,arguments)}function V2e(r,e,n,o,a,l,u,_,f){if(H2e.apply(this,arguments),xC){if(xC){var h=oB;xC=!1,oB=null}else throw Error(Pt(198));aB||(aB=!0,E7=h)}}function N0(r){var e=r,n=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,(e.flags&1026)!=0&&(n=e.return),r=e.return;while(r)}return e.tag===3?n:null}function Ote(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function zte(r){if(N0(r)!==r)throw Error(Pt(188))}function q2e(r){var e=r.alternate;if(!e){if(e=N0(r),e===null)throw Error(Pt(188));return e!==r?null:r}for(var n=r,o=e;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(o=a.return,o!==null){n=o;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return zte(a),r;if(l===o)return zte(a),e;l=l.sibling}throw Error(Pt(188))}if(n.return!==o.return)n=a,o=l;else{for(var u=!1,_=a.child;_;){if(_===n){u=!0,n=a,o=l;break}if(_===o){u=!0,o=a,n=l;break}_=_.sibling}if(!u){for(_=l.child;_;){if(_===n){u=!0,n=l,o=a;break}if(_===o){u=!0,o=l,n=a;break}_=_.sibling}if(!u)throw Error(Pt(189))}}if(n.alternate!==o)throw Error(Pt(190))}if(n.tag!==3)throw Error(Pt(188));return n.stateNode.current===n?r:e}function Ute(r){if(r=q2e(r),!r)return null;for(var e=r;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===r)break;for(;!e.sibling;){if(!e.return||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function jte(r,e){for(var n=r.alternate;e!==null;){if(e===r||e===n)return!0;e=e.return}return!1}var Gte,C7,Wte,Hte,A7=!1,sh=[],Pv=null,Bv=null,Fv=null,SC=new Map,EC=new Map,CC=[],Vte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T7(r,e,n,o,a){return{blockedOn:r,domEventName:e,eventSystemFlags:n|16,nativeEvent:a,targetContainers:[o]}}function qte(r,e){switch(r){case"focusin":case"focusout":Pv=null;break;case"dragenter":case"dragleave":Bv=null;break;case"mouseover":case"mouseout":Fv=null;break;case"pointerover":case"pointerout":SC.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":EC.delete(e.pointerId)}}function AC(r,e,n,o,a,l){return r===null||r.nativeEvent!==l?(r=T7(e,n,o,a,l),e!==null&&(e=zC(e),e!==null&&C7(e)),r):(r.eventSystemFlags|=o,e=r.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),r)}function K2e(r,e,n,o,a){switch(e){case"focusin":return Pv=AC(Pv,r,e,n,o,a),!0;case"dragenter":return Bv=AC(Bv,r,e,n,o,a),!0;case"mouseover":return Fv=AC(Fv,r,e,n,o,a),!0;case"pointerover":var l=a.pointerId;return SC.set(l,AC(SC.get(l)||null,r,e,n,o,a)),!0;case"gotpointercapture":return l=a.pointerId,EC.set(l,AC(EC.get(l)||null,r,e,n,o,a)),!0}return!1}function J2e(r){var e=R0(r.target);if(e!==null){var n=N0(e);if(n!==null){if(e=n.tag,e===13){if(e=Ote(n),e!==null){r.blockedOn=e,Hte(r.lanePriority,function(){Ts.unstable_runWithPriority(r.priority,function(){Wte(n)})});return}}else if(e===3&&n.stateNode.hydrate){r.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sB(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var n=B7(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(n!==null)return e=zC(n),e!==null&&C7(e),r.blockedOn=n,!1;e.shift()}return!0}function Kte(r,e,n){sB(r)&&n.delete(e)}function X2e(){for(A7=!1;0<sh.length;){var r=sh[0];if(r.blockedOn!==null){r=zC(r.blockedOn),r!==null&&Gte(r);break}for(var e=r.targetContainers;0<e.length;){var n=B7(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(n!==null){r.blockedOn=n;break}e.shift()}r.blockedOn===null&&sh.shift()}Pv!==null&&sB(Pv)&&(Pv=null),Bv!==null&&sB(Bv)&&(Bv=null),Fv!==null&&sB(Fv)&&(Fv=null),SC.forEach(Kte),EC.forEach(Kte)}function TC(r,e){r.blockedOn===e&&(r.blockedOn=null,A7||(A7=!0,Ts.unstable_scheduleCallback(Ts.unstable_NormalPriority,X2e)))}function Jte(r){function e(a){return TC(a,r)}if(0<sh.length){TC(sh[0],r);for(var n=1;n<sh.length;n++){var o=sh[n];o.blockedOn===r&&(o.blockedOn=null)}}for(Pv!==null&&TC(Pv,r),Bv!==null&&TC(Bv,r),Fv!==null&&TC(Fv,r),SC.forEach(e),EC.forEach(e),n=0;n<CC.length;n++)o=CC[n],o.blockedOn===r&&(o.blockedOn=null);for(;0<CC.length&&(n=CC[0],n.blockedOn===null);)J2e(n),n.blockedOn===null&&CC.shift()}function lB(r,e){var n={};return n[r.toLowerCase()]=e.toLowerCase(),n["Webkit"+r]="webkit"+e,n["Moz"+r]="moz"+e,n}var ww={animationend:lB("Animation","AnimationEnd"),animationiteration:lB("Animation","AnimationIteration"),animationstart:lB("Animation","AnimationStart"),transitionend:lB("Transition","TransitionEnd")},I7={},Xte={};jd&&(Xte=document.createElement("div").style,"AnimationEvent"in window||(delete ww.animationend.animation,delete ww.animationiteration.animation,delete ww.animationstart.animation),"TransitionEvent"in window||delete ww.transitionend.transition);function uB(r){if(I7[r])return I7[r];if(!ww[r])return r;var e=ww[r],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xte)return I7[r]=e[n];return r}var Yte=uB("animationend"),Qte=uB("animationiteration"),Zte=uB("animationstart"),ene=uB("transitionend"),tne=new Map,M7=new Map,Y2e=["abort","abort",Yte,"animationEnd",Qte,"animationIteration",Zte,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ene,"transitionEnd","waiting","waiting"];function N7(r,e){for(var n=0;n<r.length;n+=2){var o=r[n],a=r[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),M7.set(o,e),tne.set(o,a),A0(a,[o])}}var Q2e=Ts.unstable_now;Q2e();var mo=8;function xw(r){if((1&r)!=0)return mo=15,1;if((2&r)!=0)return mo=14,2;if((4&r)!=0)return mo=13,4;var e=24&r;return e!==0?(mo=12,e):(r&32)!=0?(mo=11,32):(e=192&r,e!==0?(mo=10,e):(r&256)!=0?(mo=9,256):(e=3584&r,e!==0?(mo=8,e):(r&4096)!=0?(mo=7,4096):(e=4186112&r,e!==0?(mo=6,e):(e=62914560&r,e!==0?(mo=5,e):r&67108864?(mo=4,67108864):(r&134217728)!=0?(mo=3,134217728):(e=805306368&r,e!==0?(mo=2,e):(1073741824&r)!=0?(mo=1,1073741824):(mo=8,r))))))}function Z2e(r){switch(r){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function eTe(r){switch(r){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Pt(358,r))}}function IC(r,e){var n=r.pendingLanes;if(n===0)return mo=0;var o=0,a=0,l=r.expiredLanes,u=r.suspendedLanes,_=r.pingedLanes;if(l!==0)o=l,a=mo=15;else if(l=n&134217727,l!==0){var f=l&~u;f!==0?(o=xw(f),a=mo):(_&=l,_!==0&&(o=xw(_),a=mo))}else l=n&~u,l!==0?(o=xw(l),a=mo):_!==0&&(o=xw(_),a=mo);if(o===0)return 0;if(o=31-Lv(o),o=n&((0>o?0:1<<o)<<1)-1,e!==0&&e!==o&&(e&u)==0){if(xw(e),a<=mo)return e;mo=a}if(e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=o;0<e;)n=31-Lv(e),a=1<<n,o|=r[n],e&=~a;return o}function nne(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function cB(r,e){switch(r){case 15:return 1;case 14:return 2;case 12:return r=Sw(24&~e),r===0?cB(10,e):r;case 10:return r=Sw(192&~e),r===0?cB(8,e):r;case 8:return r=Sw(3584&~e),r===0&&(r=Sw(4186112&~e),r===0&&(r=512)),r;case 2:return e=Sw(805306368&~e),e===0&&(e=268435456),e}throw Error(Pt(358,r))}function Sw(r){return r&-r}function R7(r){for(var e=[],n=0;31>n;n++)e.push(r);return e}function _B(r,e,n){r.pendingLanes|=e;var o=e-1;r.suspendedLanes&=o,r.pingedLanes&=o,r=r.eventTimes,e=31-Lv(e),r[e]=n}var Lv=Math.clz32?Math.clz32:rTe,tTe=Math.log,nTe=Math.LN2;function rTe(r){return r===0?32:31-(tTe(r)/nTe|0)|0}var iTe=Ts.unstable_UserBlockingPriority,oTe=Ts.unstable_runWithPriority,fB=!0;function aTe(r,e,n,o){M0||b7();var a=P7,l=M0;M0=!0;try{Lte(a,r,e,n,o)}finally{(M0=l)||x7()}}function sTe(r,e,n,o){oTe(iTe,P7.bind(null,r,e,n,o))}function P7(r,e,n,o){if(fB){var a;if((a=(e&4)==0)&&0<sh.length&&-1<Vte.indexOf(r))r=T7(null,r,e,n,o),sh.push(r);else{var l=B7(r,e,n,o);if(l===null)a&&qte(r,o);else{if(a){if(-1<Vte.indexOf(r)){r=T7(l,r,e,n,o),sh.push(r);return}if(K2e(l,r,e,n,o))return;qte(r,o)}Nne(r,e,o,null,n)}}}}function B7(r,e,n,o){var a=y7(o);if(a=R0(a),a!==null){var l=N0(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=Ote(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.hydrate)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Nne(r,e,o,a,n),null}var Dv=null,F7=null,pB=null;function rne(){if(pB)return pB;var r,e=F7,n=e.length,o,a="value"in Dv?Dv.value:Dv.textContent,l=a.length;for(r=0;r<n&&e[r]===a[r];r++);var u=n-r;for(o=1;o<=u&&e[n-o]===a[l-o];o++);return pB=a.slice(r,1<o?1-o:void 0)}function hB(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function dB(){return!0}function ine(){return!1}function Vc(r){function e(n,o,a,l,u){this._reactName=n,this._targetInst=a,this.type=o,this.nativeEvent=l,this.target=u,this.currentTarget=null;for(var _ in r)r.hasOwnProperty(_)&&(n=r[_],this[_]=n?n(l):l[_]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?dB:ine,this.isPropagationStopped=ine,this}return Vo(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dB)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dB)},persist:function(){},isPersistent:dB}),e}var Ew={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L7=Vc(Ew),MC=Vo({},Ew,{view:0,detail:0}),lTe=Vc(MC),D7,O7,NC,mB=Vo({},MC,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U7,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==NC&&(NC&&r.type==="mousemove"?(D7=r.screenX-NC.screenX,O7=r.screenY-NC.screenY):O7=D7=0,NC=r),D7)},movementY:function(r){return"movementY"in r?r.movementY:O7}}),one=Vc(mB),uTe=Vo({},mB,{dataTransfer:0}),cTe=Vc(uTe),_Te=Vo({},MC,{relatedTarget:0}),z7=Vc(_Te),fTe=Vo({},Ew,{animationName:0,elapsedTime:0,pseudoElement:0}),pTe=Vc(fTe),hTe=Vo({},Ew,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),dTe=Vc(hTe),mTe=Vo({},Ew,{data:0}),ane=Vc(mTe),vTe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gTe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yTe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kTe(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=yTe[r])?!!e[r]:!1}function U7(){return kTe}var $Te=Vo({},MC,{key:function(r){if(r.key){var e=vTe[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=hB(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gTe[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U7,charCode:function(r){return r.type==="keypress"?hB(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?hB(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),bTe=Vc($Te),wTe=Vo({},mB,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sne=Vc(wTe),xTe=Vo({},MC,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U7}),STe=Vc(xTe),ETe=Vo({},Ew,{propertyName:0,elapsedTime:0,pseudoElement:0}),CTe=Vc(ETe),ATe=Vo({},mB,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),TTe=Vc(ATe),ITe=[9,13,27,32],j7=jd&&"CompositionEvent"in window,RC=null;jd&&"documentMode"in document&&(RC=document.documentMode);var MTe=jd&&"TextEvent"in window&&!RC,lne=jd&&(!j7||RC&&8<RC&&11>=RC),une=String.fromCharCode(32),cne=!1;function _ne(r,e){switch(r){case"keyup":return ITe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fne(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Cw=!1;function NTe(r,e){switch(r){case"compositionend":return fne(e);case"keypress":return e.which!==32?null:(cne=!0,une);case"textInput":return r=e.data,r===une&&cne?null:r;default:return null}}function RTe(r,e){if(Cw)return r==="compositionend"||!j7&&_ne(r,e)?(r=rne(),pB=F7=Dv=null,Cw=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lne&&e.locale!=="ko"?null:e.data;default:return null}}var PTe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pne(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!PTe[r.type]:e==="textarea"}function hne(r,e,n,o){Bte(o),e=gB(e,"onChange"),0<e.length&&(n=new L7("onChange","change",null,n,o),r.push({event:n,listeners:e}))}var PC=null,BC=null;function BTe(r){Cne(r,0)}function vB(r){var e=Nw(r);if(wte(e))return r}function FTe(r,e){if(r==="change")return e}var dne=!1;if(jd){var G7;if(jd){var W7="oninput"in document;if(!W7){var mne=document.createElement("div");mne.setAttribute("oninput","return;"),W7=typeof mne.oninput=="function"}G7=W7}else G7=!1;dne=G7&&(!document.documentMode||9<document.documentMode)}function vne(){PC&&(PC.detachEvent("onpropertychange",gne),BC=PC=null)}function gne(r){if(r.propertyName==="value"&&vB(BC)){var e=[];if(hne(e,BC,r,y7(r)),r=BTe,M0)r(e);else{M0=!0;try{$7(r,e)}finally{M0=!1,x7()}}}}function LTe(r,e,n){r==="focusin"?(vne(),PC=e,BC=n,PC.attachEvent("onpropertychange",gne)):r==="focusout"&&vne()}function DTe(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vB(BC)}function OTe(r,e){if(r==="click")return vB(e)}function zTe(r,e){if(r==="input"||r==="change")return vB(e)}function UTe(r,e){return r===e&&(r!==0||1/r==1/e)||r!==r&&e!==e}var B_=typeof Object.is=="function"?Object.is:UTe,jTe=Object.prototype.hasOwnProperty;function FC(r,e){if(B_(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var n=Object.keys(r),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++)if(!jTe.call(e,n[o])||!B_(r[n[o]],e[n[o]]))return!1;return!0}function yne(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function kne(r,e){var n=yne(r);r=0;for(var o;n;){if(n.nodeType===3){if(o=r+n.textContent.length,r<=e&&o>=e)return{node:n,offset:e-r};r=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yne(n)}}function $ne(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?$ne(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function bne(){for(var r=window,e=rB();e instanceof r.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)r=e.contentWindow;else break;e=rB(r.document)}return e}function H7(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}var GTe=jd&&"documentMode"in document&&11>=document.documentMode,Aw=null,V7=null,LC=null,q7=!1;function wne(r,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;q7||Aw==null||Aw!==rB(o)||(o=Aw,"selectionStart"in o&&H7(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),LC&&FC(LC,o)||(LC=o,o=gB(V7,"onSelect"),0<o.length&&(e=new L7("onSelect","select",null,e,n),r.push({event:e,listeners:o}),e.target=Aw)))}N7("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);N7("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);N7(Y2e,2);for(var xne="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),K7=0;K7<xne.length;K7++)M7.set(xne[K7],0);gw("onMouseEnter",["mouseout","mouseover"]);gw("onMouseLeave",["mouseout","mouseover"]);gw("onPointerEnter",["pointerout","pointerover"]);gw("onPointerLeave",["pointerout","pointerover"]);A0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));A0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));A0("onBeforeInput",["compositionend","keypress","textInput","paste"]);A0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));A0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));A0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var DC="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sne=new Set("cancel close invalid load scroll toggle".split(" ").concat(DC));function Ene(r,e,n){var o=r.type||"unknown-event";r.currentTarget=n,V2e(o,e,void 0,r),r.currentTarget=null}function Cne(r,e){e=(e&4)!=0;for(var n=0;n<r.length;n++){var o=r[n],a=o.event;o=o.listeners;e:{var l=void 0;if(e)for(var u=o.length-1;0<=u;u--){var _=o[u],f=_.instance,h=_.currentTarget;if(_=_.listener,f!==l&&a.isPropagationStopped())break e;Ene(a,_,h),l=f}else for(u=0;u<o.length;u++){if(_=o[u],f=_.instance,h=_.currentTarget,_=_.listener,f!==l&&a.isPropagationStopped())break e;Ene(a,_,h),l=f}}}if(aB)throw r=E7,aB=!1,E7=null,r}function Mo(r,e){var n=Dne(e),o=r+"__bubble";n.has(o)||(Mne(e,r,2,!1),n.add(o))}var Ane="_reactListening"+Math.random().toString(36).slice(2);function Tne(r){r[Ane]||(r[Ane]=!0,mte.forEach(function(e){Sne.has(e)||Ine(e,!1,r,null),Ine(e,!0,r,null)}))}function Ine(r,e,n,o){var a=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,l=n;if(r==="selectionchange"&&n.nodeType!==9&&(l=n.ownerDocument),o!==null&&!e&&Sne.has(r)){if(r!=="scroll")return;a|=2,l=o}var u=Dne(l),_=r+"__"+(e?"capture":"bubble");u.has(_)||(e&&(a|=4),Mne(l,r,a,e),u.add(_))}function Mne(r,e,n,o){var a=M7.get(e);switch(a===void 0?2:a){case 0:a=aTe;break;case 1:a=sTe;break;default:a=P7}n=a.bind(null,e,n,r),a=void 0,!S7||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?r.addEventListener(e,n,{capture:!0,passive:a}):r.addEventListener(e,n,!0):a!==void 0?r.addEventListener(e,n,{passive:a}):r.addEventListener(e,n,!1)}function Nne(r,e,n,o,a){var l=o;if((e&1)==0&&(e&2)==0&&o!==null)e:for(;;){if(o===null)return;var u=o.tag;if(u===3||u===4){var _=o.stateNode.containerInfo;if(_===a||_.nodeType===8&&_.parentNode===a)break;if(u===4)for(u=o.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===a||f.nodeType===8&&f.parentNode===a))return;u=u.return}for(;_!==null;){if(u=R0(_),u===null)return;if(f=u.tag,f===5||f===6){o=l=u;continue e}_=_.parentNode}}o=o.return}j2e(function(){var h=l,d=y7(n),m=[];e:{var g=tne.get(r);if(g!==void 0){var y=L7,w=r;switch(r){case"keypress":if(hB(n)===0)break e;case"keydown":case"keyup":y=bTe;break;case"focusin":w="focus",y=z7;break;case"focusout":w="blur",y=z7;break;case"beforeblur":case"afterblur":y=z7;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=one;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=cTe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=STe;break;case Yte:case Qte:case Zte:y=pTe;break;case ene:y=CTe;break;case"scroll":y=lTe;break;case"wheel":y=TTe;break;case"copy":case"cut":case"paste":y=dTe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=sne}var E=(e&4)!=0,A=!E&&r==="scroll",S=E?g!==null?g+"Capture":null:g;E=[];for(var C=h,R;C!==null;){R=C;var P=R.stateNode;if(R.tag===5&&P!==null&&(R=P,S!==null&&(P=bC(C,S),P!=null&&E.push(OC(C,P,R)))),A)break;C=C.return}0<E.length&&(g=new y(g,w,null,n,d),m.push({event:g,listeners:E}))}}if((e&7)==0){e:{if(g=r==="mouseover"||r==="pointerover",y=r==="mouseout"||r==="pointerout",g&&(e&16)==0&&(w=n.relatedTarget||n.fromElement)&&(R0(w)||w[Mw]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?R0(w):null,w!==null&&(A=N0(w),w!==A||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(E=one,P="onMouseLeave",S="onMouseEnter",C="mouse",(r==="pointerout"||r==="pointerover")&&(E=sne,P="onPointerLeave",S="onPointerEnter",C="pointer"),A=y==null?g:Nw(y),R=w==null?g:Nw(w),g=new E(P,C+"leave",y,n,d),g.target=A,g.relatedTarget=R,P=null,R0(d)===h&&(E=new E(S,C+"enter",w,n,d),E.target=R,E.relatedTarget=A,P=E),A=P,y&&w)t:{for(E=y,S=w,C=0,R=E;R;R=Tw(R))C++;for(R=0,P=S;P;P=Tw(P))R++;for(;0<C-R;)E=Tw(E),C--;for(;0<R-C;)S=Tw(S),R--;for(;C--;){if(E===S||S!==null&&E===S.alternate)break t;E=Tw(E),S=Tw(S)}E=null}else E=null;y!==null&&Rne(m,g,y,E,!1),w!==null&&A!==null&&Rne(m,A,w,E,!0)}}e:{if(g=h?Nw(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var D=FTe;else if(pne(g))if(dne)D=zTe;else{D=DTe;var G=LTe}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=OTe);if(D&&(D=D(r,h))){hne(m,D,n,d);break e}G&&G(r,g,h),r==="focusout"&&(G=g._wrapperState)&&G.controlled&&g.type==="number"&&f7(g,"number",g.value)}switch(G=h?Nw(h):window,r){case"focusin":(pne(G)||G.contentEditable==="true")&&(Aw=G,V7=h,LC=null);break;case"focusout":LC=V7=Aw=null;break;case"mousedown":q7=!0;break;case"contextmenu":case"mouseup":case"dragend":q7=!1,wne(m,n,d);break;case"selectionchange":if(GTe)break;case"keydown":case"keyup":wne(m,n,d)}var z;if(j7)e:{switch(r){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Cw?_ne(r,n)&&(V="onCompositionEnd"):r==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(lne&&n.locale!=="ko"&&(Cw||V!=="onCompositionStart"?V==="onCompositionEnd"&&Cw&&(z=rne()):(Dv=d,F7="value"in Dv?Dv.value:Dv.textContent,Cw=!0)),G=gB(h,V),0<G.length&&(V=new ane(V,r,null,n,d),m.push({event:V,listeners:G}),z?V.data=z:(z=fne(n),z!==null&&(V.data=z)))),(z=MTe?NTe(r,n):RTe(r,n))&&(h=gB(h,"onBeforeInput"),0<h.length&&(d=new ane("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:h}),d.data=z))}Cne(m,e)})}function OC(r,e,n){return{instance:r,listener:e,currentTarget:n}}function gB(r,e){for(var n=e+"Capture",o=[];r!==null;){var a=r,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=bC(r,n),l!=null&&o.unshift(OC(r,l,a)),l=bC(r,e),l!=null&&o.push(OC(r,l,a))),r=r.return}return o}function Tw(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Rne(r,e,n,o,a){for(var l=e._reactName,u=[];n!==null&&n!==o;){var _=n,f=_.alternate,h=_.stateNode;if(f!==null&&f===o)break;_.tag===5&&h!==null&&(_=h,a?(f=bC(n,l),f!=null&&u.unshift(OC(n,f,_))):a||(f=bC(n,l),f!=null&&u.push(OC(n,f,_)))),n=n.return}u.length!==0&&r.push({event:e,listeners:u})}function yB(){}var J7=null,X7=null;function Pne(r,e){switch(r){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Y7(r,e){return r==="textarea"||r==="option"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bne=typeof setTimeout=="function"?setTimeout:void 0,WTe=typeof clearTimeout=="function"?clearTimeout:void 0;function Q7(r){r.nodeType===1?r.textContent="":r.nodeType===9&&(r=r.body,r!=null&&(r.textContent=""))}function Iw(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break}return r}function Fne(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var n=r.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return r;e--}else n==="/$"&&e++}r=r.previousSibling}return null}var Z7=0;function HTe(r){return{$$typeof:o7,toString:r,valueOf:r}}var kB=Math.random().toString(36).slice(2),Ov="__reactFiber$"+kB,$B="__reactProps$"+kB,Mw="__reactContainer$"+kB,Lne="__reactEvents$"+kB;function R0(r){var e=r[Ov];if(e)return e;for(var n=r.parentNode;n;){if(e=n[Mw]||n[Ov]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(r=Fne(r);r!==null;){if(n=r[Ov])return n;r=Fne(r)}return e}r=n,n=r.parentNode}return null}function zC(r){return r=r[Ov]||r[Mw],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Nw(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Pt(33))}function bB(r){return r[$B]||null}function Dne(r){var e=r[Lne];return e===void 0&&(e=r[Lne]=new Set),e}var e6=[],Rw=-1;function zv(r){return{current:r}}function No(r){0>Rw||(r.current=e6[Rw],e6[Rw]=null,Rw--)}function ma(r,e){Rw++,e6[Rw]=r.current,r.current=e}var Uv={},El=zv(Uv),nc=zv(!1),P0=Uv;function Pw(r,e){var n=r.type.contextTypes;if(!n)return Uv;var o=r.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=e[l];return o&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=a),a}function rc(r){return r=r.childContextTypes,r!=null}function wB(){No(nc),No(El)}function One(r,e,n){if(El.current!==Uv)throw Error(Pt(168));ma(El,e),ma(nc,n)}function zne(r,e,n){var o=r.stateNode;if(r=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var a in o)if(!(a in r))throw Error(Pt(108,yw(e)||"Unknown",a));return Vo({},n,o)}function xB(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Uv,P0=El.current,ma(El,r),ma(nc,nc.current),!0}function Une(r,e,n){var o=r.stateNode;if(!o)throw Error(Pt(169));n?(r=zne(r,e,P0),o.__reactInternalMemoizedMergedChildContext=r,No(nc),No(El),ma(El,r)):No(nc),ma(nc,n)}var t6=null,B0=null,VTe=Ts.unstable_runWithPriority,n6=Ts.unstable_scheduleCallback,r6=Ts.unstable_cancelCallback,qTe=Ts.unstable_shouldYield,jne=Ts.unstable_requestPaint,i6=Ts.unstable_now,KTe=Ts.unstable_getCurrentPriorityLevel,SB=Ts.unstable_ImmediatePriority,Gne=Ts.unstable_UserBlockingPriority,Wne=Ts.unstable_NormalPriority,Hne=Ts.unstable_LowPriority,Vne=Ts.unstable_IdlePriority,o6={},JTe=jne!==void 0?jne:function(){},Gd=null,EB=null,a6=!1,qne=i6(),Cl=1e4>qne?i6:function(){return i6()-qne};function Bw(){switch(KTe()){case SB:return 99;case Gne:return 98;case Wne:return 97;case Hne:return 96;case Vne:return 95;default:throw Error(Pt(332))}}function Kne(r){switch(r){case 99:return SB;case 98:return Gne;case 97:return Wne;case 96:return Hne;case 95:return Vne;default:throw Error(Pt(332))}}function F0(r,e){return r=Kne(r),VTe(r,e)}function UC(r,e,n){return r=Kne(r),n6(r,e,n)}function lh(){if(EB!==null){var r=EB;EB=null,r6(r)}Jne()}function Jne(){if(!a6&&Gd!==null){a6=!0;var r=0;try{var e=Gd;F0(99,function(){for(;r<e.length;r++){var n=e[r];do n=n(!0);while(n!==null)}}),Gd=null}catch(n){throw Gd!==null&&(Gd=Gd.slice(r+1)),n6(SB,lh),n}finally{a6=!1}}}var XTe=T0.ReactCurrentBatchConfig;function Kf(r,e){if(r&&r.defaultProps){e=Vo({},e),r=r.defaultProps;for(var n in r)e[n]===void 0&&(e[n]=r[n]);return e}return e}var CB=zv(null),AB=null,Fw=null,TB=null;function s6(){TB=Fw=AB=null}function l6(r){var e=CB.current;No(CB),r.type._context._currentValue=e}function Xne(r,e){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else r.childLanes|=e,n!==null&&(n.childLanes|=e);r=r.return}}function Lw(r,e){AB=r,TB=Fw=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&e)!=0&&(Jf=!0),r.firstContext=null)}function F_(r,e){if(TB!==r&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(TB=r,e=1073741823),e={context:r,observedBits:e,next:null},Fw===null){if(AB===null)throw Error(Pt(308));Fw=e,AB.dependencies={lanes:0,firstContext:e,responders:null}}else Fw=Fw.next=e;return r._currentValue}var jv=!1;function u6(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Yne(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Gv(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function Wv(r,e){if(r=r.updateQueue,r!==null){r=r.shared;var n=r.pending;n===null?e.next=e:(e.next=n.next,n.next=e),r.pending=e}}function Qne(r,e){var n=r.updateQueue,o=r.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=u:l=l.next=u,n=n.next}while(n!==null);l===null?a=l=e:l=l.next=e}else a=l=e;n={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:o.shared,effects:o.effects},r.updateQueue=n;return}r=n.lastBaseUpdate,r===null?n.firstBaseUpdate=e:r.next=e,n.lastBaseUpdate=e}function jC(r,e,n,o){var a=r.updateQueue;jv=!1;var l=a.firstBaseUpdate,u=a.lastBaseUpdate,_=a.shared.pending;if(_!==null){a.shared.pending=null;var f=_,h=f.next;f.next=null,u===null?l=h:u.next=h,u=f;var d=r.alternate;if(d!==null){d=d.updateQueue;var m=d.lastBaseUpdate;m!==u&&(m===null?d.firstBaseUpdate=h:m.next=h,d.lastBaseUpdate=f)}}if(l!==null){m=a.baseState,u=0,d=h=f=null;do{_=l.lane;var g=l.eventTime;if((o&_)===_){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=r,w=l;switch(_=e,g=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){m=y.call(g,m,_);break e}m=y;break e;case 3:y.flags=y.flags&-4097|64;case 0:if(y=w.payload,_=typeof y=="function"?y.call(g,m,_):y,_==null)break e;m=Vo({},m,_);break e;case 2:jv=!0}}l.callback!==null&&(r.flags|=32,_=a.effects,_===null?a.effects=[l]:_.push(l))}else g={eventTime:g,lane:_,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=g,f=m):d=d.next=g,u|=_;if(l=l.next,l===null){if(_=a.shared.pending,_===null)break;l=_.next,_.next=null,a.lastBaseUpdate=_,a.shared.pending=null}}while(1);d===null&&(f=m),a.baseState=f,a.firstBaseUpdate=h,a.lastBaseUpdate=d,eA|=u,r.lanes=u,r.memoizedState=m}}function Zne(r,e,n){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var o=r[e],a=o.callback;if(a!==null){if(o.callback=null,o=n,typeof a!="function")throw Error(Pt(191,a));a.call(o)}}}var ere=new YP.Component().refs;function IB(r,e,n,o){e=r.memoizedState,n=n(o,e),n=n==null?e:Vo({},e,n),r.memoizedState=n,r.lanes===0&&(r.updateQueue.baseState=n)}var MB={isMounted:function(r){return(r=r._reactInternals)?N0(r)===r:!1},enqueueSetState:function(r,e,n){r=r._reactInternals;var o=qc(),a=qv(r),l=Gv(o,a);l.payload=e,n!=null&&(l.callback=n),Wv(r,l),Kv(r,a,o)},enqueueReplaceState:function(r,e,n){r=r._reactInternals;var o=qc(),a=qv(r),l=Gv(o,a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),Wv(r,l),Kv(r,a,o)},enqueueForceUpdate:function(r,e){r=r._reactInternals;var n=qc(),o=qv(r),a=Gv(n,o);a.tag=2,e!=null&&(a.callback=e),Wv(r,a),Kv(r,o,n)}};function tre(r,e,n,o,a,l,u){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(o,l,u):e.prototype&&e.prototype.isPureReactComponent?!FC(n,o)||!FC(a,l):!0}function nre(r,e,n){var o=!1,a=Uv,l=e.contextType;return typeof l=="object"&&l!==null?l=F_(l):(a=rc(e)?P0:El.current,o=e.contextTypes,l=(o=o!=null)?Pw(r,a):Uv),e=new e(n,l),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=MB,r.stateNode=e,e._reactInternals=r,o&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=l),e}function rre(r,e,n,o){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==r&&MB.enqueueReplaceState(e,e.state,null)}function c6(r,e,n,o){var a=r.stateNode;a.props=n,a.state=r.memoizedState,a.refs=ere,u6(r);var l=e.contextType;typeof l=="object"&&l!==null?a.context=F_(l):(l=rc(e)?P0:El.current,a.context=Pw(r,l)),jC(r,n,a,o),a.state=r.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(IB(r,e,l,n),a.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&MB.enqueueReplaceState(a,a.state,null),jC(r,n,a,o),a.state=r.memoizedState),typeof a.componentDidMount=="function"&&(r.flags|=4)}var NB=Array.isArray;function GC(r,e,n){if(r=n.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pt(309));var o=n.stateNode}if(!o)throw Error(Pt(147,r));var a=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var u=o.refs;u===ere&&(u=o.refs={}),l===null?delete u[a]:u[a]=l},e._stringRef=a,e)}if(typeof r!="string")throw Error(Pt(284));if(!n._owner)throw Error(Pt(290,r))}return r}function RB(r,e){if(r.type!=="textarea")throw Error(Pt(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function ire(r){function e(A,S){if(r){var C=A.lastEffect;C!==null?(C.nextEffect=S,A.lastEffect=S):A.firstEffect=A.lastEffect=S,S.nextEffect=null,S.flags=8}}function n(A,S){if(!r)return null;for(;S!==null;)e(A,S),S=S.sibling;return null}function o(A,S){for(A=new Map;S!==null;)S.key!==null?A.set(S.key,S):A.set(S.index,S),S=S.sibling;return A}function a(A,S){return A=Yv(A,S),A.index=0,A.sibling=null,A}function l(A,S,C){return A.index=C,r?(C=A.alternate,C!==null?(C=C.index,C<S?(A.flags=2,S):C):(A.flags=2,S)):S}function u(A){return r&&A.alternate===null&&(A.flags=2),A}function _(A,S,C,R){return S===null||S.tag!==6?(S=V6(C,A.mode,R),S.return=A,S):(S=a(S,C),S.return=A,S)}function f(A,S,C,R){return S!==null&&S.elementType===C.type?(R=a(S,C.props),R.ref=GC(A,S,C),R.return=A,R):(R=YB(C.type,C.key,C.props,null,A.mode,R),R.ref=GC(A,S,C),R.return=A,R)}function h(A,S,C,R){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=q6(C,A.mode,R),S.return=A,S):(S=a(S,C.children||[]),S.return=A,S)}function d(A,S,C,R,P){return S===null||S.tag!==7?(S=Hw(C,A.mode,R,P),S.return=A,S):(S=a(S,C),S.return=A,S)}function m(A,S,C){if(typeof S=="string"||typeof S=="number")return S=V6(""+S,A.mode,C),S.return=A,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case dC:return C=YB(S.type,S.key,S.props,null,A.mode,C),C.ref=GC(A,null,S),C.return=A,C;case I0:return S=q6(S,A.mode,C),S.return=A,S}if(NB(S)||gC(S))return S=Hw(S,A.mode,C,null),S.return=A,S;RB(A,S)}return null}function g(A,S,C,R){var P=S!==null?S.key:null;if(typeof C=="string"||typeof C=="number")return P!==null?null:_(A,S,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case dC:return C.key===P?C.type===Nv?d(A,S,C.props.children,R,P):f(A,S,C,R):null;case I0:return C.key===P?h(A,S,C,R):null}if(NB(C)||gC(C))return P!==null?null:d(A,S,C,R,null);RB(A,C)}return null}function y(A,S,C,R,P){if(typeof R=="string"||typeof R=="number")return A=A.get(C)||null,_(S,A,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case dC:return A=A.get(R.key===null?C:R.key)||null,R.type===Nv?d(S,A,R.props.children,P,R.key):f(S,A,R,P);case I0:return A=A.get(R.key===null?C:R.key)||null,h(S,A,R,P)}if(NB(R)||gC(R))return A=A.get(C)||null,d(S,A,R,P,null);RB(S,R)}return null}function w(A,S,C,R){for(var P=null,D=null,G=S,z=S=0,V=null;G!==null&&z<C.length;z++){G.index>z?(V=G,G=null):V=G.sibling;var X=g(A,G,C[z],R);if(X===null){G===null&&(G=V);break}r&&G&&X.alternate===null&&e(A,G),S=l(X,S,z),D===null?P=X:D.sibling=X,D=X,G=V}if(z===C.length)return n(A,G),P;if(G===null){for(;z<C.length;z++)G=m(A,C[z],R),G!==null&&(S=l(G,S,z),D===null?P=G:D.sibling=G,D=G);return P}for(G=o(A,G);z<C.length;z++)V=y(G,A,z,C[z],R),V!==null&&(r&&V.alternate!==null&&G.delete(V.key===null?z:V.key),S=l(V,S,z),D===null?P=V:D.sibling=V,D=V);return r&&G.forEach(function(ne){return e(A,ne)}),P}function E(A,S,C,R){var P=gC(C);if(typeof P!="function")throw Error(Pt(150));if(C=P.call(C),C==null)throw Error(Pt(151));for(var D=P=null,G=S,z=S=0,V=null,X=C.next();G!==null&&!X.done;z++,X=C.next()){G.index>z?(V=G,G=null):V=G.sibling;var ne=g(A,G,X.value,R);if(ne===null){G===null&&(G=V);break}r&&G&&ne.alternate===null&&e(A,G),S=l(ne,S,z),D===null?P=ne:D.sibling=ne,D=ne,G=V}if(X.done)return n(A,G),P;if(G===null){for(;!X.done;z++,X=C.next())X=m(A,X.value,R),X!==null&&(S=l(X,S,z),D===null?P=X:D.sibling=X,D=X);return P}for(G=o(A,G);!X.done;z++,X=C.next())X=y(G,A,z,X.value,R),X!==null&&(r&&X.alternate!==null&&G.delete(X.key===null?z:X.key),S=l(X,S,z),D===null?P=X:D.sibling=X,D=X);return r&&G.forEach(function(Y){return e(A,Y)}),P}return function(A,S,C,R){var P=typeof C=="object"&&C!==null&&C.type===Nv&&C.key===null;P&&(C=C.props.children);var D=typeof C=="object"&&C!==null;if(D)switch(C.$$typeof){case dC:e:{for(D=C.key,P=S;P!==null;){if(P.key===D){switch(P.tag){case 7:if(C.type===Nv){n(A,P.sibling),S=a(P,C.props.children),S.return=A,A=S;break e}break;default:if(P.elementType===C.type){n(A,P.sibling),S=a(P,C.props),S.ref=GC(A,P,C),S.return=A,A=S;break e}}n(A,P);break}else e(A,P);P=P.sibling}C.type===Nv?(S=Hw(C.props.children,A.mode,R,C.key),S.return=A,A=S):(R=YB(C.type,C.key,C.props,null,A.mode,R),R.ref=GC(A,S,C),R.return=A,A=R)}return u(A);case I0:e:{for(P=C.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(A,S.sibling),S=a(S,C.children||[]),S.return=A,A=S;break e}else{n(A,S);break}else e(A,S);S=S.sibling}S=q6(C,A.mode,R),S.return=A,A=S}return u(A)}if(typeof C=="string"||typeof C=="number")return C=""+C,S!==null&&S.tag===6?(n(A,S.sibling),S=a(S,C),S.return=A,A=S):(n(A,S),S=V6(C,A.mode,R),S.return=A,A=S),u(A);if(NB(C))return w(A,S,C,R);if(gC(C))return E(A,S,C,R);if(D&&RB(A,C),typeof C=="undefined"&&!P)switch(A.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Pt(152,yw(A.type)||"Component"))}return n(A,S)}}var PB=ire(!0),ore=ire(!1),WC={},uh=zv(WC),HC=zv(WC),VC=zv(WC);function L0(r){if(r===WC)throw Error(Pt(174));return r}function _6(r,e){switch(ma(VC,e),ma(HC,r),ma(uh,WC),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:m7(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=m7(e,r)}No(uh),ma(uh,e)}function Dw(){No(uh),No(HC),No(VC)}function are(r){L0(VC.current);var e=L0(uh.current),n=m7(e,r.type);e!==n&&(ma(HC,r),ma(uh,n))}function f6(r){HC.current===r&&(No(uh),No(HC))}var va=zv(0);function BB(r){for(var e=r;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wd=null,Hv=null,ch=!1;function sre(r,e){var n=O_(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=r,n.flags=8,r.lastEffect!==null?(r.lastEffect.nextEffect=n,r.lastEffect=n):r.firstEffect=r.lastEffect=n}function lre(r,e){switch(r.tag){case 5:var n=r.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function p6(r){if(ch){var e=Hv;if(e){var n=e;if(!lre(r,e)){if(e=Iw(n.nextSibling),!e||!lre(r,e)){r.flags=r.flags&-1025|2,ch=!1,Wd=r;return}sre(Wd,n)}Wd=r,Hv=Iw(e.firstChild)}else r.flags=r.flags&-1025|2,ch=!1,Wd=r}}function ure(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Wd=r}function FB(r){if(r!==Wd)return!1;if(!ch)return ure(r),ch=!0,!1;var e=r.type;if(r.tag!==5||e!=="head"&&e!=="body"&&!Y7(e,r.memoizedProps))for(e=Hv;e;)sre(r,e),e=Iw(e.nextSibling);if(ure(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Pt(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var n=r.data;if(n==="/$"){if(e===0){Hv=Iw(r.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}r=r.nextSibling}Hv=null}}else Hv=Wd?Iw(r.stateNode.nextSibling):null;return!0}function h6(){Hv=Wd=null,ch=!1}var Ow=[];function d6(){for(var r=0;r<Ow.length;r++)Ow[r]._workInProgressVersionPrimary=null;Ow.length=0}var qC=T0.ReactCurrentDispatcher,L_=T0.ReactCurrentBatchConfig,KC=0,Ia=null,Al=null,Qs=null,LB=!1,JC=!1;function ic(){throw Error(Pt(321))}function m6(r,e){if(e===null)return!1;for(var n=0;n<e.length&&n<r.length;n++)if(!B_(r[n],e[n]))return!1;return!0}function v6(r,e,n,o,a,l){if(KC=l,Ia=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qC.current=r===null||r.memoizedState===null?QTe:ZTe,r=n(o,a),JC){l=0;do{if(JC=!1,!(25>l))throw Error(Pt(301));l+=1,Qs=Al=null,e.updateQueue=null,qC.current=eIe,r=n(o,a)}while(JC)}if(qC.current=UB,e=Al!==null&&Al.next!==null,KC=0,Qs=Al=Ia=null,LB=!1,e)throw Error(Pt(300));return r}function D0(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qs===null?Ia.memoizedState=Qs=r:Qs=Qs.next=r,Qs}function O0(){if(Al===null){var r=Ia.alternate;r=r!==null?r.memoizedState:null}else r=Al.next;var e=Qs===null?Ia.memoizedState:Qs.next;if(e!==null)Qs=e,Al=r;else{if(r===null)throw Error(Pt(310));Al=r,r={memoizedState:Al.memoizedState,baseState:Al.baseState,baseQueue:Al.baseQueue,queue:Al.queue,next:null},Qs===null?Ia.memoizedState=Qs=r:Qs=Qs.next=r}return Qs}function _h(r,e){return typeof e=="function"?e(r):e}function XC(r){var e=O0(),n=e.queue;if(n===null)throw Error(Pt(311));n.lastRenderedReducer=r;var o=Al,a=o.baseQueue,l=n.pending;if(l!==null){if(a!==null){var u=a.next;a.next=l.next,l.next=u}o.baseQueue=a=l,n.pending=null}if(a!==null){a=a.next,o=o.baseState;var _=u=l=null,f=a;do{var h=f.lane;if((KC&h)===h)_!==null&&(_=_.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),o=f.eagerReducer===r?f.eagerState:r(o,f.action);else{var d={lane:h,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};_===null?(u=_=d,l=o):_=_.next=d,Ia.lanes|=h,eA|=h}f=f.next}while(f!==null&&f!==a);_===null?l=o:_.next=u,B_(o,e.memoizedState)||(Jf=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=_,n.lastRenderedState=o}return[e.memoizedState,n.dispatch]}function YC(r){var e=O0(),n=e.queue;if(n===null)throw Error(Pt(311));n.lastRenderedReducer=r;var o=n.dispatch,a=n.pending,l=e.memoizedState;if(a!==null){n.pending=null;var u=a=a.next;do l=r(l,u.action),u=u.next;while(u!==a);B_(l,e.memoizedState)||(Jf=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,o]}function cre(r,e,n){var o=e._getVersion;o=o(e._source);var a=e._workInProgressVersionPrimary;if(a!==null?r=a===o:(r=r.mutableReadLanes,(r=(KC&r)===r)&&(e._workInProgressVersionPrimary=o,Ow.push(e))),r)return n(e._source);throw Ow.push(e),Error(Pt(350))}function _re(r,e,n,o){var a=$u;if(a===null)throw Error(Pt(349));var l=e._getVersion,u=l(e._source),_=qC.current,f=_.useState(function(){return cre(a,e,n)}),h=f[1],d=f[0];f=Qs;var m=r.memoizedState,g=m.refs,y=g.getSnapshot,w=m.source;m=m.subscribe;var E=Ia;return r.memoizedState={refs:g,source:e,subscribe:o},_.useEffect(function(){g.getSnapshot=n,g.setSnapshot=h;var A=l(e._source);if(!B_(u,A)){A=n(e._source),B_(d,A)||(h(A),A=qv(E),a.mutableReadLanes|=A&a.pendingLanes),A=a.mutableReadLanes,a.entangledLanes|=A;for(var S=a.entanglements,C=A;0<C;){var R=31-Lv(C),P=1<<R;S[R]|=A,C&=~P}}},[n,e,o]),_.useEffect(function(){return o(e._source,function(){var A=g.getSnapshot,S=g.setSnapshot;try{S(A(e._source));var C=qv(E);a.mutableReadLanes|=C&a.pendingLanes}catch(R){S(function(){throw R})}})},[e,o]),B_(y,n)&&B_(w,e)&&B_(m,o)||(r={pending:null,dispatch:null,lastRenderedReducer:_h,lastRenderedState:d},r.dispatch=h=$6.bind(null,Ia,r),f.queue=r,f.baseQueue=null,d=cre(a,e,n),f.memoizedState=f.baseState=d),d}function fre(r,e,n){var o=O0();return _re(o,r,e,n)}function QC(r){var e=D0();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r=e.queue={pending:null,dispatch:null,lastRenderedReducer:_h,lastRenderedState:r},r=r.dispatch=$6.bind(null,Ia,r),[e.memoizedState,r]}function DB(r,e,n,o){return r={tag:r,create:e,destroy:n,deps:o,next:null},e=Ia.updateQueue,e===null?(e={lastEffect:null},Ia.updateQueue=e,e.lastEffect=r.next=r):(n=e.lastEffect,n===null?e.lastEffect=r.next=r:(o=n.next,n.next=r,r.next=o,e.lastEffect=r)),r}function pre(r){var e=D0();return r={current:r},e.memoizedState=r}function OB(){return O0().memoizedState}function g6(r,e,n,o){var a=D0();Ia.flags|=r,a.memoizedState=DB(1|e,n,void 0,o===void 0?null:o)}function y6(r,e,n,o){var a=O0();o=o===void 0?null:o;var l=void 0;if(Al!==null){var u=Al.memoizedState;if(l=u.destroy,o!==null&&m6(o,u.deps)){DB(e,n,l,o);return}}Ia.flags|=r,a.memoizedState=DB(1|e,n,l,o)}function hre(r,e){return g6(516,4,r,e)}function zB(r,e){return y6(516,4,r,e)}function dre(r,e){return y6(4,2,r,e)}function mre(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function vre(r,e,n){return n=n!=null?n.concat([r]):null,y6(4,2,mre.bind(null,e,r),n)}function k6(){}function gre(r,e){var n=O0();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&m6(e,o[1])?o[0]:(n.memoizedState=[r,e],r)}function yre(r,e){var n=O0();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&m6(e,o[1])?o[0]:(r=r(),n.memoizedState=[r,e],r)}function YTe(r,e){var n=Bw();F0(98>n?98:n,function(){r(!0)}),F0(97<n?97:n,function(){var o=L_.transition;L_.transition=1;try{r(!1),e()}finally{L_.transition=o}})}function $6(r,e,n){var o=qc(),a=qv(r),l={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},u=e.pending;if(u===null?l.next=l:(l.next=u.next,u.next=l),e.pending=l,u=r.alternate,r===Ia||u!==null&&u===Ia)JC=LB=!0;else{if(r.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var _=e.lastRenderedState,f=u(_,n);if(l.eagerReducer=u,l.eagerState=f,B_(f,_))return}catch{}finally{}Kv(r,a,o)}}var UB={readContext:F_,useCallback:ic,useContext:ic,useEffect:ic,useImperativeHandle:ic,useLayoutEffect:ic,useMemo:ic,useReducer:ic,useRef:ic,useState:ic,useDebugValue:ic,useDeferredValue:ic,useTransition:ic,useMutableSource:ic,useOpaqueIdentifier:ic,unstable_isNewReconciler:!1},QTe={readContext:F_,useCallback:function(r,e){return D0().memoizedState=[r,e===void 0?null:e],r},useContext:F_,useEffect:hre,useImperativeHandle:function(r,e,n){return n=n!=null?n.concat([r]):null,g6(4,2,mre.bind(null,e,r),n)},useLayoutEffect:function(r,e){return g6(4,2,r,e)},useMemo:function(r,e){var n=D0();return e=e===void 0?null:e,r=r(),n.memoizedState=[r,e],r},useReducer:function(r,e,n){var o=D0();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,r=o.queue={pending:null,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},r=r.dispatch=$6.bind(null,Ia,r),[o.memoizedState,r]},useRef:pre,useState:QC,useDebugValue:k6,useDeferredValue:function(r){var e=QC(r),n=e[0],o=e[1];return hre(function(){var a=L_.transition;L_.transition=1;try{o(r)}finally{L_.transition=a}},[r]),n},useTransition:function(){var r=QC(!1),e=r[0];return r=YTe.bind(null,r[1]),pre(r),[r,e]},useMutableSource:function(r,e,n){var o=D0();return o.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:r,subscribe:n},_re(o,r,e,n)},useOpaqueIdentifier:function(){if(ch){var r=!1,e=HTe(function(){throw r||(r=!0,n("r:"+(Z7++).toString(36))),Error(Pt(355))}),n=QC(e)[1];return(Ia.mode&2)==0&&(Ia.flags|=516,DB(5,function(){n("r:"+(Z7++).toString(36))},void 0,null)),e}return e="r:"+(Z7++).toString(36),QC(e),e},unstable_isNewReconciler:!1},ZTe={readContext:F_,useCallback:gre,useContext:F_,useEffect:zB,useImperativeHandle:vre,useLayoutEffect:dre,useMemo:yre,useReducer:XC,useRef:OB,useState:function(){return XC(_h)},useDebugValue:k6,useDeferredValue:function(r){var e=XC(_h),n=e[0],o=e[1];return zB(function(){var a=L_.transition;L_.transition=1;try{o(r)}finally{L_.transition=a}},[r]),n},useTransition:function(){var r=XC(_h)[0];return[OB().current,r]},useMutableSource:fre,useOpaqueIdentifier:function(){return XC(_h)[0]},unstable_isNewReconciler:!1},eIe={readContext:F_,useCallback:gre,useContext:F_,useEffect:zB,useImperativeHandle:vre,useLayoutEffect:dre,useMemo:yre,useReducer:YC,useRef:OB,useState:function(){return YC(_h)},useDebugValue:k6,useDeferredValue:function(r){var e=YC(_h),n=e[0],o=e[1];return zB(function(){var a=L_.transition;L_.transition=1;try{o(r)}finally{L_.transition=a}},[r]),n},useTransition:function(){var r=YC(_h)[0];return[OB().current,r]},useMutableSource:fre,useOpaqueIdentifier:function(){return YC(_h)[0]},unstable_isNewReconciler:!1},tIe=T0.ReactCurrentOwner,Jf=!1;function oc(r,e,n,o){e.child=r===null?ore(e,null,n,o):PB(e,r.child,n,o)}function kre(r,e,n,o,a){n=n.render;var l=e.ref;return Lw(e,a),o=v6(r,e,n,o,l,a),r!==null&&!Jf?(e.updateQueue=r.updateQueue,e.flags&=-517,r.lanes&=~a,Hd(r,e,a)):(e.flags|=1,oc(r,e,o,a),e.child)}function $re(r,e,n,o,a,l){if(r===null){var u=n.type;return typeof u=="function"&&!W6(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=u,bre(r,e,u,o,a,l)):(r=YB(n.type,null,o,e,e.mode,l),r.ref=e.ref,r.return=e,e.child=r)}return u=r.child,(a&l)==0&&(a=u.memoizedProps,n=n.compare,n=n!==null?n:FC,n(a,o)&&r.ref===e.ref)?Hd(r,e,l):(e.flags|=1,r=Yv(u,o),r.ref=e.ref,r.return=e,e.child=r)}function bre(r,e,n,o,a,l){if(r!==null&&FC(r.memoizedProps,o)&&r.ref===e.ref)if(Jf=!1,(l&a)!=0)(r.flags&16384)!=0&&(Jf=!0);else return e.lanes=r.lanes,Hd(r,e,l);return w6(r,e,n,o,l)}function b6(r,e,n){var o=e.pendingProps,a=o.children,l=r!==null?r.memoizedState:null;if(o.mode==="hidden"||o.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},XB(e,n);else if((n&1073741824)!=0)e.memoizedState={baseLanes:0},XB(e,l!==null?l.baseLanes:n);else return r=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r},XB(e,r),null;else l!==null?(o=l.baseLanes|n,e.memoizedState=null):o=n,XB(e,o);return oc(r,e,a,n),e.child}function wre(r,e){var n=e.ref;(r===null&&n!==null||r!==null&&r.ref!==n)&&(e.flags|=128)}function w6(r,e,n,o,a){var l=rc(n)?P0:El.current;return l=Pw(e,l),Lw(e,a),n=v6(r,e,n,o,l,a),r!==null&&!Jf?(e.updateQueue=r.updateQueue,e.flags&=-517,r.lanes&=~a,Hd(r,e,a)):(e.flags|=1,oc(r,e,n,a),e.child)}function xre(r,e,n,o,a){if(rc(n)){var l=!0;xB(e)}else l=!1;if(Lw(e,a),e.stateNode===null)r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2),nre(e,n,o),c6(e,n,o,a),o=!0;else if(r===null){var u=e.stateNode,_=e.memoizedProps;u.props=_;var f=u.context,h=n.contextType;typeof h=="object"&&h!==null?h=F_(h):(h=rc(n)?P0:El.current,h=Pw(e,h));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof u.getSnapshotBeforeUpdate=="function";m||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_!==o||f!==h)&&rre(e,u,o,h),jv=!1;var g=e.memoizedState;u.state=g,jC(e,o,u,a),f=e.memoizedState,_!==o||g!==f||nc.current||jv?(typeof d=="function"&&(IB(e,n,d,o),f=e.memoizedState),(_=jv||tre(e,n,_,o,g,f,h))?(m||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4)):(typeof u.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=o,e.memoizedState=f),u.props=o,u.state=f,u.context=h,o=_):(typeof u.componentDidMount=="function"&&(e.flags|=4),o=!1)}else{u=e.stateNode,Yne(r,e),_=e.memoizedProps,h=e.type===e.elementType?_:Kf(e.type,_),u.props=h,m=e.pendingProps,g=u.context,f=n.contextType,typeof f=="object"&&f!==null?f=F_(f):(f=rc(n)?P0:El.current,f=Pw(e,f));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_!==m||g!==f)&&rre(e,u,o,f),jv=!1,g=e.memoizedState,u.state=g,jC(e,o,u,a);var w=e.memoizedState;_!==m||g!==w||nc.current||jv?(typeof y=="function"&&(IB(e,n,y,o),w=e.memoizedState),(h=jv||tre(e,n,h,o,g,w,f))?(d||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(o,w,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(o,w,f)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof u.componentDidUpdate!="function"||_===r.memoizedProps&&g===r.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&g===r.memoizedState||(e.flags|=256),e.memoizedProps=o,e.memoizedState=w),u.props=o,u.state=w,u.context=f,o=h):(typeof u.componentDidUpdate!="function"||_===r.memoizedProps&&g===r.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&g===r.memoizedState||(e.flags|=256),o=!1)}return x6(r,e,n,o,l,a)}function x6(r,e,n,o,a,l){wre(r,e);var u=(e.flags&64)!=0;if(!o&&!u)return a&&Une(e,n,!1),Hd(r,e,l);o=e.stateNode,tIe.current=e;var _=u&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,r!==null&&u?(e.child=PB(e,r.child,null,l),e.child=PB(e,null,_,l)):oc(r,e,_,l),e.memoizedState=o.state,a&&Une(e,n,!0),e.child}function Sre(r){var e=r.stateNode;e.pendingContext?One(r,e.pendingContext,e.pendingContext!==e.context):e.context&&One(r,e.context,!1),_6(r,e.containerInfo)}var jB={dehydrated:null,retryLane:0};function Ere(r,e,n){var o=e.pendingProps,a=va.current,l=!1,u;return(u=(e.flags&64)!=0)||(u=r!==null&&r.memoizedState===null?!1:(a&2)!=0),u?(l=!0,e.flags&=-65):r!==null&&r.memoizedState===null||o.fallback===void 0||o.unstable_avoidThisFallback===!0||(a|=1),ma(va,a&1),r===null?(o.fallback!==void 0&&p6(e),r=o.children,a=o.fallback,l?(r=Cre(e,r,a,n),e.child.memoizedState={baseLanes:n},e.memoizedState=jB,r):typeof o.unstable_expectedLoadTime=="number"?(r=Cre(e,r,a,n),e.child.memoizedState={baseLanes:n},e.memoizedState=jB,e.lanes=33554432,r):(n=H6({mode:"visible",children:r},e.mode,n,null),n.return=e,e.child=n)):r.memoizedState!==null?l?(o=Tre(r,e,o.children,o.fallback,n),l=e.child,a=r.child.memoizedState,l.memoizedState=a===null?{baseLanes:n}:{baseLanes:a.baseLanes|n},l.childLanes=r.childLanes&~n,e.memoizedState=jB,o):(n=Are(r,e,o.children,n),e.memoizedState=null,n):l?(o=Tre(r,e,o.children,o.fallback,n),l=e.child,a=r.child.memoizedState,l.memoizedState=a===null?{baseLanes:n}:{baseLanes:a.baseLanes|n},l.childLanes=r.childLanes&~n,e.memoizedState=jB,o):(n=Are(r,e,o.children,n),e.memoizedState=null,n)}function Cre(r,e,n,o){var a=r.mode,l=r.child;return e={mode:"hidden",children:e},(a&2)==0&&l!==null?(l.childLanes=0,l.pendingProps=e):l=H6(e,a,0,null),n=Hw(n,a,o,null),l.return=r,n.return=r,l.sibling=n,r.child=l,n}function Are(r,e,n,o){var a=r.child;return r=a.sibling,n=Yv(a,{mode:"visible",children:n}),(e.mode&2)==0&&(n.lanes=o),n.return=e,n.sibling=null,r!==null&&(r.nextEffect=null,r.flags=8,e.firstEffect=e.lastEffect=r),e.child=n}function Tre(r,e,n,o,a){var l=e.mode,u=r.child;r=u.sibling;var _={mode:"hidden",children:n};return(l&2)==0&&e.child!==u?(n=e.child,n.childLanes=0,n.pendingProps=_,u=n.lastEffect,u!==null?(e.firstEffect=n.firstEffect,e.lastEffect=u,u.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Yv(u,_),r!==null?o=Yv(r,o):(o=Hw(o,l,a,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,o}function Ire(r,e){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),Xne(r.return,e)}function S6(r,e,n,o,a,l){var u=r.memoizedState;u===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:a,lastEffect:l}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=n,u.tailMode=a,u.lastEffect=l)}function Mre(r,e,n){var o=e.pendingProps,a=o.revealOrder,l=o.tail;if(oc(r,e,o.children,n),o=va.current,(o&2)!=0)o=o&1|2,e.flags|=64;else{if(r!==null&&(r.flags&64)!=0)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ire(r,n);else if(r.tag===19)Ire(r,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}o&=1}if(ma(va,o),(e.mode&2)==0)e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)r=n.alternate,r!==null&&BB(r)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),S6(e,!1,a,n,l,e.lastEffect);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(r=a.alternate,r!==null&&BB(r)===null){e.child=a;break}r=a.sibling,a.sibling=n,n=a,a=r}S6(e,!0,n,null,l,e.lastEffect);break;case"together":S6(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Hd(r,e,n){if(r!==null&&(e.dependencies=r.dependencies),eA|=e.lanes,(n&e.childLanes)!=0){if(r!==null&&e.child!==r.child)throw Error(Pt(153));if(e.child!==null){for(r=e.child,n=Yv(r,r.pendingProps),e.child=n,n.return=e;r.sibling!==null;)r=r.sibling,n=n.sibling=Yv(r,r.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Nre,E6,Rre,Pre;Nre=function(r,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)r.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E6=function(){};Rre=function(r,e,n,o){var a=r.memoizedProps;if(a!==o){r=e.stateNode,L0(uh.current);var l=null;switch(n){case"input":a=c7(r,a),o=c7(r,o),l=[];break;case"option":a=p7(r,a),o=p7(r,o),l=[];break;case"select":a=Vo({},a,{value:void 0}),o=Vo({},o,{value:void 0}),l=[];break;case"textarea":a=h7(r,a),o=h7(r,o),l=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(r.onclick=yB)}v7(n,o);var u;n=null;for(h in a)if(!o.hasOwnProperty(h)&&a.hasOwnProperty(h)&&a[h]!=null)if(h==="style"){var _=a[h];for(u in _)_.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(hC.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in o){var f=o[h];if(_=a!=null?a[h]:void 0,o.hasOwnProperty(h)&&f!==_&&(f!=null||_!=null))if(h==="style")if(_){for(u in _)!_.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&_[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(l||(l=[]),l.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,_=_?_.__html:void 0,f!=null&&_!==f&&(l=l||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(l=l||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(hC.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Mo("scroll",r),l||_===f||(l=[])):typeof f=="object"&&f!==null&&f.$$typeof===o7?f.toString():(l=l||[]).push(h,f))}n&&(l=l||[]).push("style",n);var h=l;(e.updateQueue=h)&&(e.flags|=4)}};Pre=function(r,e,n,o){n!==o&&(e.flags|=4)};function ZC(r,e){if(!ch)switch(r.tailMode){case"hidden":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?r.tail=null:n.sibling=null;break;case"collapsed":n=r.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:o.sibling=null}}function nIe(r,e,n){var o=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return rc(e.type)&&wB(),null;case 3:return Dw(),No(nc),No(El),d6(),o=e.stateNode,o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(FB(e)?e.flags|=4:o.hydrate||(e.flags|=256)),E6(e),null;case 5:f6(e);var a=L0(VC.current);if(n=e.type,r!==null&&e.stateNode!=null)Rre(r,e,n,o,a),r.ref!==e.ref&&(e.flags|=128);else{if(!o){if(e.stateNode===null)throw Error(Pt(166));return null}if(r=L0(uh.current),FB(e)){o=e.stateNode,n=e.type;var l=e.memoizedProps;switch(o[Ov]=e,o[$B]=l,n){case"dialog":Mo("cancel",o),Mo("close",o);break;case"iframe":case"object":case"embed":Mo("load",o);break;case"video":case"audio":for(r=0;r<DC.length;r++)Mo(DC[r],o);break;case"source":Mo("error",o);break;case"img":case"image":case"link":Mo("error",o),Mo("load",o);break;case"details":Mo("toggle",o);break;case"input":xte(o,l),Mo("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},Mo("invalid",o);break;case"textarea":Cte(o,l),Mo("invalid",o)}v7(n,l),r=null;for(var u in l)l.hasOwnProperty(u)&&(a=l[u],u==="children"?typeof a=="string"?o.textContent!==a&&(r=["children",a]):typeof a=="number"&&o.textContent!==""+a&&(r=["children",""+a]):hC.hasOwnProperty(u)&&a!=null&&u==="onScroll"&&Mo("scroll",o));switch(n){case"input":nB(o),Ete(o,l,!0);break;case"textarea":nB(o),Tte(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=yB)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{switch(u=a.nodeType===9?a:a.ownerDocument,r===d7.html&&(r=Ite(n)),r===d7.html?n==="script"?(r=u.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof o.is=="string"?r=u.createElement(n,{is:o.is}):(r=u.createElement(n),n==="select"&&(u=r,o.multiple?u.multiple=!0:o.size&&(u.size=o.size))):r=u.createElementNS(r,n),r[Ov]=e,r[$B]=o,Nre(r,e,!1,!1),e.stateNode=r,u=g7(n,o),n){case"dialog":Mo("cancel",r),Mo("close",r),a=o;break;case"iframe":case"object":case"embed":Mo("load",r),a=o;break;case"video":case"audio":for(a=0;a<DC.length;a++)Mo(DC[a],r);a=o;break;case"source":Mo("error",r),a=o;break;case"img":case"image":case"link":Mo("error",r),Mo("load",r),a=o;break;case"details":Mo("toggle",r),a=o;break;case"input":xte(r,o),a=c7(r,o),Mo("invalid",r);break;case"option":a=p7(r,o);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},a=Vo({},o,{value:void 0}),Mo("invalid",r);break;case"textarea":Cte(r,o),a=h7(r,o),Mo("invalid",r);break;default:a=o}v7(n,a);var _=a;for(l in _)if(_.hasOwnProperty(l)){var f=_[l];l==="style"?Rte(r,f):l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Mte(r,f)):l==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&kC(r,f):typeof f=="number"&&kC(r,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(hC.hasOwnProperty(l)?f!=null&&l==="onScroll"&&Mo("scroll",r):f!=null&&Z5(r,l,f,u))}switch(n){case"input":nB(r),Ete(r,o,!1);break;case"textarea":nB(r),Tte(r);break;case"option":o.value!=null&&r.setAttribute("value",""+Rv(o.value));break;case"select":r.multiple=!!o.multiple,l=o.value,l!=null?kw(r,!!o.multiple,l,!1):o.defaultValue!=null&&kw(r,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(r.onclick=yB)}Pne(n,o)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(r&&e.stateNode!=null)Pre(r,e,r.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(Pt(166));n=L0(VC.current),L0(uh.current),FB(e)?(o=e.stateNode,n=e.memoizedProps,o[Ov]=e,o.nodeValue!==n&&(e.flags|=4)):(o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Ov]=e,e.stateNode=o)}return null;case 13:return No(va),o=e.memoizedState,(e.flags&64)!=0?(e.lanes=n,e):(o=o!==null,n=!1,r===null?e.memoizedProps.fallback!==void 0&&FB(e):n=r.memoizedState!==null,o&&!n&&(e.mode&2)!=0&&(r===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(va.current&1)!=0?Zs===0&&(Zs=3):((Zs===0||Zs===3)&&(Zs=4),$u===null||(eA&134217727)==0&&(Uw&134217727)==0||Gw($u,Tl))),(o||n)&&(e.flags|=4),null);case 4:return Dw(),E6(e),r===null&&Tne(e.stateNode.containerInfo),null;case 10:return l6(e),null;case 17:return rc(e.type)&&wB(),null;case 19:if(No(va),o=e.memoizedState,o===null)return null;if(l=(e.flags&64)!=0,u=o.rendering,u===null)if(l)ZC(o,!1);else{if(Zs!==0||r!==null&&(r.flags&64)!=0)for(r=e.child;r!==null;){if(u=BB(r),u!==null){for(e.flags|=64,ZC(o,!1),l=u.updateQueue,l!==null&&(e.updateQueue=l,e.flags|=4),o.lastEffect===null&&(e.firstEffect=null),e.lastEffect=o.lastEffect,o=n,n=e.child;n!==null;)l=n,r=o,l.flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,u=l.alternate,u===null?(l.childLanes=0,l.lanes=r,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,r=u.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n=n.sibling;return ma(va,va.current&1|2),e.child}r=r.sibling}o.tail!==null&&Cl()>L6&&(e.flags|=64,l=!0,ZC(o,!1),e.lanes=33554432)}else{if(!l)if(r=BB(u),r!==null){if(e.flags|=64,l=!0,n=r.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ZC(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!ch)return e=e.lastEffect=o.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Cl()-o.renderingStartTime>L6&&n!==1073741824&&(e.flags|=64,l=!0,ZC(o,!1),e.lanes=33554432);o.isBackwards?(u.sibling=e.child,e.child=u):(n=o.last,n!==null?n.sibling=u:e.child=u,o.last=u)}return o.tail!==null?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.lastEffect=e.lastEffect,o.renderingStartTime=Cl(),n.sibling=null,e=va.current,ma(va,l?e&1|2:e&1),n):null;case 23:case 24:return G6(),r!==null&&r.memoizedState!==null!=(e.memoizedState!==null)&&o.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Pt(156,e.tag))}function rIe(r){switch(r.tag){case 1:rc(r.type)&&wB();var e=r.flags;return e&4096?(r.flags=e&-4097|64,r):null;case 3:if(Dw(),No(nc),No(El),d6(),e=r.flags,(e&64)!=0)throw Error(Pt(285));return r.flags=e&-4097|64,r;case 5:return f6(r),null;case 13:return No(va),e=r.flags,e&4096?(r.flags=e&-4097|64,r):null;case 19:return No(va),null;case 4:return Dw(),null;case 10:return l6(r),null;case 23:case 24:return G6(),null;default:return null}}function C6(r,e){try{var n="",o=e;do n+=L2e(o),o=o.return;while(o);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:r,source:e,stack:a}}function A6(r,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iIe=typeof WeakMap=="function"?WeakMap:Map;function Bre(r,e,n){n=Gv(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){HB||(HB=!0,D6=o),A6(r,e)},n}function Fre(r,e,n){n=Gv(-1,n),n.tag=3;var o=r.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;n.payload=function(){return A6(r,e),o(a)}}var l=r.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){typeof o!="function"&&(fh===null?fh=new Set([this]):fh.add(this),A6(r,e));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}var oIe=typeof WeakSet=="function"?WeakSet:Set;function Lre(r){var e=r.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Xv(r,n)}else e.current=null}function aIe(r,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&r!==null){var n=r.memoizedProps,o=r.memoizedState;r=e.stateNode,e=r.getSnapshotBeforeUpdate(e.elementType===e.type?n:Kf(e.type,n),o),r.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Q7(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Pt(163))}function sIe(r,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){r=e=e.next;do{if((r.tag&3)==3){var o=r.create;r.destroy=o()}r=r.next}while(r!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){r=e=e.next;do{var a=r;o=a.next,a=a.tag,(a&4)!=0&&(a&1)!=0&&(Qre(n,r),dIe(n,r)),r=o}while(r!==e)}return;case 1:r=n.stateNode,n.flags&4&&(e===null?r.componentDidMount():(o=n.elementType===n.type?e.memoizedProps:Kf(n.type,e.memoizedProps),r.componentDidUpdate(o,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Zne(n,e,r);return;case 3:if(e=n.updateQueue,e!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}Zne(n,e,r)}return;case 5:r=n.stateNode,e===null&&n.flags&4&&Pne(n.type,n.memoizedProps)&&r.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Jte(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Pt(163))}function Dre(r,e){for(var n=r;;){if(n.tag===5){var o=n.stateNode;if(e)o=o.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{o=n.stateNode;var a=n.memoizedProps.style;a=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=Nte("display",a)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===r)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ore(r,e){if(B0&&typeof B0.onCommitFiberUnmount=="function")try{B0.onCommitFiberUnmount(t6,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null)){var n=r=r.next;do{var o=n,a=o.destroy;if(o=o.tag,a!==void 0)if((o&4)!=0)Qre(e,n);else{o=e;try{a()}catch(l){Xv(o,l)}}n=n.next}while(n!==r)}break;case 1:if(Lre(e),r=e.stateNode,typeof r.componentWillUnmount=="function")try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(l){Xv(e,l)}break;case 5:Lre(e);break;case 4:Gre(r,e)}}function zre(r){r.alternate=null,r.child=null,r.dependencies=null,r.firstEffect=null,r.lastEffect=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.return=null,r.updateQueue=null}function Ure(r){return r.tag===5||r.tag===3||r.tag===4}function jre(r){e:{for(var e=r.return;e!==null;){if(Ure(e))break e;e=e.return}throw Error(Pt(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var o=!1;break;case 3:e=e.containerInfo,o=!0;break;case 4:e=e.containerInfo,o=!0;break;default:throw Error(Pt(161))}n.flags&16&&(kC(e,""),n.flags&=-17);e:t:for(n=r;;){for(;n.sibling===null;){if(n.return===null||Ure(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}o?T6(r,n,e):I6(r,n,e)}function T6(r,e,n){var o=r.tag,a=o===5||o===6;if(a)r=a?r.stateNode:r.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(r,e):n.insertBefore(r,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(r,n)):(e=n,e.appendChild(r)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yB));else if(o!==4&&(r=r.child,r!==null))for(T6(r,e,n),r=r.sibling;r!==null;)T6(r,e,n),r=r.sibling}function I6(r,e,n){var o=r.tag,a=o===5||o===6;if(a)r=a?r.stateNode:r.stateNode.instance,e?n.insertBefore(r,e):n.appendChild(r);else if(o!==4&&(r=r.child,r!==null))for(I6(r,e,n),r=r.sibling;r!==null;)I6(r,e,n),r=r.sibling}function Gre(r,e){for(var n=e,o=!1,a,l;;){if(!o){o=n.return;e:for(;;){if(o===null)throw Error(Pt(160));switch(a=o.stateNode,o.tag){case 5:l=!1;break e;case 3:a=a.containerInfo,l=!0;break e;case 4:a=a.containerInfo,l=!0;break e}o=o.return}o=!0}if(n.tag===5||n.tag===6){e:for(var u=r,_=n,f=_;;)if(Ore(u,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===_)break e;for(;f.sibling===null;){if(f.return===null||f.return===_)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}l?(u=a,_=n.stateNode,u.nodeType===8?u.parentNode.removeChild(_):u.removeChild(_)):a.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){a=n.stateNode.containerInfo,l=!0,n.child.return=n,n=n.child;continue}}else if(Ore(r,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(o=!1)}n.sibling.return=n.return,n=n.sibling}}function M6(r,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do(o.tag&3)==3&&(r=o.destroy,o.destroy=void 0,r!==void 0&&r()),o=o.next;while(o!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){o=e.memoizedProps;var a=r!==null?r.memoizedProps:o;r=e.type;var l=e.updateQueue;if(e.updateQueue=null,l!==null){for(n[$B]=o,r==="input"&&o.type==="radio"&&o.name!=null&&Ste(n,o),g7(r,a),e=g7(r,o),a=0;a<l.length;a+=2){var u=l[a],_=l[a+1];u==="style"?Rte(n,_):u==="dangerouslySetInnerHTML"?Mte(n,_):u==="children"?kC(n,_):Z5(n,u,_,e)}switch(r){case"input":_7(n,o);break;case"textarea":Ate(n,o);break;case"select":r=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!o.multiple,l=o.value,l!=null?kw(n,!!o.multiple,l,!1):r!==!!o.multiple&&(o.defaultValue!=null?kw(n,!!o.multiple,o.defaultValue,!0):kw(n,!!o.multiple,o.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Pt(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Jte(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(F6=Cl(),Dre(e.child,!0)),Wre(e);return;case 19:Wre(e);return;case 17:return;case 23:case 24:Dre(e,e.memoizedState!==null);return}throw Error(Pt(163))}function Wre(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var n=r.stateNode;n===null&&(n=r.stateNode=new oIe),e.forEach(function(o){var a=gIe.bind(null,r,o);n.has(o)||(n.add(o),o.then(a,a))})}}function lIe(r,e){return r!==null&&(r=r.memoizedState,r===null||r.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var uIe=Math.ceil,GB=T0.ReactCurrentDispatcher,N6=T0.ReactCurrentOwner,mr=0,$u=null,_s=null,Tl=0,z0=0,R6=zv(0),Zs=0,WB=null,zw=0,eA=0,Uw=0,P6=0,B6=null,F6=0,L6=1/0;function jw(){L6=Cl()+500}var $n=null,HB=!1,D6=null,fh=null,Vv=!1,tA=null,nA=90,O6=[],z6=[],Vd=null,rA=0,U6=null,VB=-1,qd=0,qB=0,iA=null,KB=!1;function qc(){return(mr&48)!=0?Cl():VB!==-1?VB:VB=Cl()}function qv(r){if(r=r.mode,(r&2)==0)return 1;if((r&4)==0)return Bw()===99?1:2;if(qd===0&&(qd=zw),XTe.transition!==0){qB!==0&&(qB=B6!==null?B6.pendingLanes:0),r=qd;var e=4186112&~qB;return e&=-e,e===0&&(r=4186112&~r,e=r&-r,e===0&&(e=8192)),e}return r=Bw(),(mr&4)!=0&&r===98?r=cB(12,qd):(r=Z2e(r),r=cB(r,qd)),r}function Kv(r,e,n){if(50<rA)throw rA=0,U6=null,Error(Pt(185));if(r=JB(r,e),r===null)return null;_B(r,e,n),r===$u&&(Uw|=e,Zs===4&&Gw(r,Tl));var o=Bw();e===1?(mr&8)!=0&&(mr&48)==0?j6(r):(D_(r,n),mr===0&&(jw(),lh())):((mr&4)==0||o!==98&&o!==99||(Vd===null?Vd=new Set([r]):Vd.add(r)),D_(r,n)),B6=r}function JB(r,e){r.lanes|=e;var n=r.alternate;for(n!==null&&(n.lanes|=e),n=r,r=r.return;r!==null;)r.childLanes|=e,n=r.alternate,n!==null&&(n.childLanes|=e),n=r,r=r.return;return n.tag===3?n.stateNode:null}function D_(r,e){for(var n=r.callbackNode,o=r.suspendedLanes,a=r.pingedLanes,l=r.expirationTimes,u=r.pendingLanes;0<u;){var _=31-Lv(u),f=1<<_,h=l[_];if(h===-1){if((f&o)==0||(f&a)!=0){h=e,xw(f);var d=mo;l[_]=10<=d?h+250:6<=d?h+5e3:-1}}else h<=e&&(r.expiredLanes|=f);u&=~f}if(o=IC(r,r===$u?Tl:0),e=mo,o===0)n!==null&&(n!==o6&&r6(n),r.callbackNode=null,r.callbackPriority=0);else{if(n!==null){if(r.callbackPriority===e)return;n!==o6&&r6(n)}e===15?(n=j6.bind(null,r),Gd===null?(Gd=[n],EB=n6(SB,Jne)):Gd.push(n),n=o6):e===14?n=UC(99,j6.bind(null,r)):(n=eTe(e),n=UC(n,Hre.bind(null,r))),r.callbackPriority=e,r.callbackNode=n}}function Hre(r){if(VB=-1,qB=qd=0,(mr&48)!=0)throw Error(Pt(327));var e=r.callbackNode;if(Jv()&&r.callbackNode!==e)return null;var n=IC(r,r===$u?Tl:0);if(n===0)return null;var o=n,a=mr;mr|=16;var l=Jre();($u!==r||Tl!==o)&&(jw(),Ww(r,o));do try{fIe();break}catch(_){Kre(r,_)}while(1);if(s6(),GB.current=l,mr=a,_s!==null?o=0:($u=null,Tl=0,o=Zs),(zw&Uw)!=0)Ww(r,0);else if(o!==0){if(o===2&&(mr|=64,r.hydrate&&(r.hydrate=!1,Q7(r.containerInfo)),n=nne(r),n!==0&&(o=oA(r,n))),o===1)throw e=WB,Ww(r,0),Gw(r,n),D_(r,Cl()),e;switch(r.finishedWork=r.current.alternate,r.finishedLanes=n,o){case 0:case 1:throw Error(Pt(345));case 2:U0(r);break;case 3:if(Gw(r,n),(n&62914560)===n&&(o=F6+500-Cl(),10<o)){if(IC(r,0)!==0)break;if(a=r.suspendedLanes,(a&n)!==n){qc(),r.pingedLanes|=r.suspendedLanes&a;break}r.timeoutHandle=Bne(U0.bind(null,r),o);break}U0(r);break;case 4:if(Gw(r,n),(n&4186112)===n)break;for(o=r.eventTimes,a=-1;0<n;){var u=31-Lv(n);l=1<<u,u=o[u],u>a&&(a=u),n&=~l}if(n=a,n=Cl()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uIe(n/1960))-n,10<n){r.timeoutHandle=Bne(U0.bind(null,r),n);break}U0(r);break;case 5:U0(r);break;default:throw Error(Pt(329))}}return D_(r,Cl()),r.callbackNode===e?Hre.bind(null,r):null}function Gw(r,e){for(e&=~P6,e&=~Uw,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var n=31-Lv(e),o=1<<n;r[n]=-1,e&=~o}}function j6(r){if((mr&48)!=0)throw Error(Pt(327));if(Jv(),r===$u&&(r.expiredLanes&Tl)!=0){var e=Tl,n=oA(r,e);(zw&Uw)!=0&&(e=IC(r,e),n=oA(r,e))}else e=IC(r,0),n=oA(r,e);if(r.tag!==0&&n===2&&(mr|=64,r.hydrate&&(r.hydrate=!1,Q7(r.containerInfo)),e=nne(r),e!==0&&(n=oA(r,e))),n===1)throw n=WB,Ww(r,0),Gw(r,e),D_(r,Cl()),n;return r.finishedWork=r.current.alternate,r.finishedLanes=e,U0(r),D_(r,Cl()),null}function cIe(){if(Vd!==null){var r=Vd;Vd=null,r.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,D_(e,Cl())})}lh()}function Vre(r,e){var n=mr;mr|=1;try{return r(e)}finally{mr=n,mr===0&&(jw(),lh())}}function qre(r,e){var n=mr;mr&=-2,mr|=8;try{return r(e)}finally{mr=n,mr===0&&(jw(),lh())}}function XB(r,e){ma(R6,z0),z0|=e,zw|=e}function G6(){z0=R6.current,No(R6)}function Ww(r,e){r.finishedWork=null,r.finishedLanes=0;var n=r.timeoutHandle;if(n!==-1&&(r.timeoutHandle=-1,WTe(n)),_s!==null)for(n=_s.return;n!==null;){var o=n;switch(o.tag){case 1:o=o.type.childContextTypes,o!=null&&wB();break;case 3:Dw(),No(nc),No(El),d6();break;case 5:f6(o);break;case 4:Dw();break;case 13:No(va);break;case 19:No(va);break;case 10:l6(o);break;case 23:case 24:G6()}n=n.return}$u=r,_s=Yv(r.current,null),Tl=z0=zw=e,Zs=0,WB=null,P6=Uw=eA=0}function Kre(r,e){do{var n=_s;try{if(s6(),qC.current=UB,LB){for(var o=Ia.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}LB=!1}if(KC=0,Qs=Al=Ia=null,JC=!1,N6.current=null,n===null||n.return===null){Zs=1,WB=e,_s=null;break}e:{var l=r,u=n.return,_=n,f=e;if(e=Tl,_.flags|=2048,_.firstEffect=_.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f;if((_.mode&2)==0){var d=_.alternate;d?(_.updateQueue=d.updateQueue,_.memoizedState=d.memoizedState,_.lanes=d.lanes):(_.updateQueue=null,_.memoizedState=null)}var m=(va.current&1)!=0,g=u;do{var y;if(y=g.tag===13){var w=g.memoizedState;if(w!==null)y=w.dehydrated!==null;else{var E=g.memoizedProps;y=E.fallback===void 0?!1:E.unstable_avoidThisFallback!==!0?!0:!m}}if(y){var A=g.updateQueue;if(A===null){var S=new Set;S.add(h),g.updateQueue=S}else A.add(h);if((g.mode&2)==0){if(g.flags|=64,_.flags|=16384,_.flags&=-2981,_.tag===1)if(_.alternate===null)_.tag=17;else{var C=Gv(-1,1);C.tag=2,Wv(_,C)}_.lanes|=1;break e}f=void 0,_=e;var R=l.pingCache;if(R===null?(R=l.pingCache=new iIe,f=new Set,R.set(h,f)):(f=R.get(h),f===void 0&&(f=new Set,R.set(h,f))),!f.has(_)){f.add(_);var P=vIe.bind(null,l,h,_);h.then(P,P)}g.flags|=4096,g.lanes=e;break e}g=g.return}while(g!==null);f=Error((yw(_.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Zs!==5&&(Zs=2),f=C6(f,_),g=u;do{switch(g.tag){case 3:l=f,g.flags|=4096,e&=-e,g.lanes|=e;var D=Bre(g,l,e);Qne(g,D);break e;case 1:l=f;var G=g.type,z=g.stateNode;if((g.flags&64)==0&&(typeof G.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(fh===null||!fh.has(z)))){g.flags|=4096,e&=-e,g.lanes|=e;var V=Fre(g,l,e);Qne(g,V);break e}}g=g.return}while(g!==null)}Yre(n)}catch(X){e=X,_s===n&&n!==null&&(_s=n=n.return);continue}break}while(1)}function Jre(){var r=GB.current;return GB.current=UB,r===null?UB:r}function oA(r,e){var n=mr;mr|=16;var o=Jre();$u===r&&Tl===e||Ww(r,e);do try{_Ie();break}catch(a){Kre(r,a)}while(1);if(s6(),mr=n,GB.current=o,_s!==null)throw Error(Pt(261));return $u=null,Tl=0,Zs}function _Ie(){for(;_s!==null;)Xre(_s)}function fIe(){for(;_s!==null&&!qTe();)Xre(_s)}function Xre(r){var e=eie(r.alternate,r,z0);r.memoizedProps=r.pendingProps,e===null?Yre(r):_s=e,N6.current=null}function Yre(r){var e=r;do{var n=e.alternate;if(r=e.return,(e.flags&2048)==0){if(n=nIe(n,e,z0),n!==null){_s=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(z0&1073741824)!=0||(n.mode&4)==0){for(var o=0,a=n.child;a!==null;)o|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=o}r!==null&&(r.flags&2048)==0&&(r.firstEffect===null&&(r.firstEffect=e.firstEffect),e.lastEffect!==null&&(r.lastEffect!==null&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),1<e.flags&&(r.lastEffect!==null?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e))}else{if(n=rIe(e),n!==null){n.flags&=2047,_s=n;return}r!==null&&(r.firstEffect=r.lastEffect=null,r.flags|=2048)}if(e=e.sibling,e!==null){_s=e;return}_s=e=r}while(e!==null);Zs===0&&(Zs=5)}function U0(r){var e=Bw();return F0(99,pIe.bind(null,r,e)),null}function pIe(r,e){do Jv();while(tA!==null);if((mr&48)!=0)throw Error(Pt(327));var n=r.finishedWork;if(n===null)return null;if(r.finishedWork=null,r.finishedLanes=0,n===r.current)throw Error(Pt(177));r.callbackNode=null;var o=n.lanes|n.childLanes,a=o,l=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;for(var u=r.eventTimes,_=r.expirationTimes;0<l;){var f=31-Lv(l),h=1<<f;a[f]=0,u[f]=-1,_[f]=-1,l&=~h}if(Vd!==null&&(o&24)==0&&Vd.has(r)&&Vd.delete(r),r===$u&&(_s=$u=null,Tl=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,o!==null){if(a=mr,mr|=32,N6.current=null,J7=fB,u=bne(),H7(u)){if("selectionStart"in u)_={start:u.selectionStart,end:u.selectionEnd};else e:if(_=(_=u.ownerDocument)&&_.defaultView||window,(h=_.getSelection&&_.getSelection())&&h.rangeCount!==0){_=h.anchorNode,l=h.anchorOffset,f=h.focusNode,h=h.focusOffset;try{_.nodeType,f.nodeType}catch{_=null;break e}var d=0,m=-1,g=-1,y=0,w=0,E=u,A=null;t:for(;;){for(var S;E!==_||l!==0&&E.nodeType!==3||(m=d+l),E!==f||h!==0&&E.nodeType!==3||(g=d+h),E.nodeType===3&&(d+=E.nodeValue.length),(S=E.firstChild)!==null;)A=E,E=S;for(;;){if(E===u)break t;if(A===_&&++y===l&&(m=d),A===f&&++w===h&&(g=d),(S=E.nextSibling)!==null)break;E=A,A=E.parentNode}E=S}_=m===-1||g===-1?null:{start:m,end:g}}else _=null;_=_||{start:0,end:0}}else _=null;X7={focusedElem:u,selectionRange:_},fB=!1,iA=null,KB=!1,$n=o;do try{hIe()}catch(X){if($n===null)throw Error(Pt(330));Xv($n,X),$n=$n.nextEffect}while($n!==null);iA=null,$n=o;do try{for(u=r;$n!==null;){var C=$n.flags;if(C&16&&kC($n.stateNode,""),C&128){var R=$n.alternate;if(R!==null){var P=R.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(C&1038){case 2:jre($n),$n.flags&=-3;break;case 6:jre($n),$n.flags&=-3,M6($n.alternate,$n);break;case 1024:$n.flags&=-1025;break;case 1028:$n.flags&=-1025,M6($n.alternate,$n);break;case 4:M6($n.alternate,$n);break;case 8:_=$n,Gre(u,_);var D=_.alternate;zre(_),D!==null&&zre(D)}$n=$n.nextEffect}}catch(X){if($n===null)throw Error(Pt(330));Xv($n,X),$n=$n.nextEffect}while($n!==null);if(P=X7,R=bne(),C=P.focusedElem,u=P.selectionRange,R!==C&&C&&C.ownerDocument&&$ne(C.ownerDocument.documentElement,C)){for(u!==null&&H7(C)&&(R=u.start,P=u.end,P===void 0&&(P=R),"selectionStart"in C?(C.selectionStart=R,C.selectionEnd=Math.min(P,C.value.length)):(P=(R=C.ownerDocument||document)&&R.defaultView||window,P.getSelection&&(P=P.getSelection(),_=C.textContent.length,D=Math.min(u.start,_),u=u.end===void 0?D:Math.min(u.end,_),!P.extend&&D>u&&(_=u,u=D,D=_),_=kne(C,D),l=kne(C,u),_&&l&&(P.rangeCount!==1||P.anchorNode!==_.node||P.anchorOffset!==_.offset||P.focusNode!==l.node||P.focusOffset!==l.offset)&&(R=R.createRange(),R.setStart(_.node,_.offset),P.removeAllRanges(),D>u?(P.addRange(R),P.extend(l.node,l.offset)):(R.setEnd(l.node,l.offset),P.addRange(R)))))),R=[],P=C;P=P.parentNode;)P.nodeType===1&&R.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<R.length;C++)P=R[C],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}fB=!!J7,X7=J7=null,r.current=n,$n=o;do try{for(C=r;$n!==null;){var G=$n.flags;if(G&36&&sIe(C,$n.alternate,$n),G&128){R=void 0;var z=$n.ref;if(z!==null){var V=$n.stateNode;switch($n.tag){case 5:R=V;break;default:R=V}typeof z=="function"?z(R):z.current=R}}$n=$n.nextEffect}}catch(X){if($n===null)throw Error(Pt(330));Xv($n,X),$n=$n.nextEffect}while($n!==null);$n=null,JTe(),mr=a}else r.current=n;if(Vv)Vv=!1,tA=r,nA=e;else for($n=o;$n!==null;)e=$n.nextEffect,$n.nextEffect=null,$n.flags&8&&(G=$n,G.sibling=null,G.stateNode=null),$n=e;if(o=r.pendingLanes,o===0&&(fh=null),o===1?r===U6?rA++:(rA=0,U6=r):rA=0,n=n.stateNode,B0&&typeof B0.onCommitFiberRoot=="function")try{B0.onCommitFiberRoot(t6,n,void 0,(n.current.flags&64)==64)}catch{}if(D_(r,Cl()),HB)throw HB=!1,r=D6,D6=null,r;return(mr&8)!=0||lh(),null}function hIe(){for(;$n!==null;){var r=$n.alternate;KB||iA===null||(($n.flags&8)!=0?jte($n,iA)&&(KB=!0):$n.tag===13&&lIe(r,$n)&&jte($n,iA)&&(KB=!0));var e=$n.flags;(e&256)!=0&&aIe(r,$n),(e&512)==0||Vv||(Vv=!0,UC(97,function(){return Jv(),null})),$n=$n.nextEffect}}function Jv(){if(nA!==90){var r=97<nA?97:nA;return nA=90,F0(r,mIe)}return!1}function dIe(r,e){O6.push(e,r),Vv||(Vv=!0,UC(97,function(){return Jv(),null}))}function Qre(r,e){z6.push(e,r),Vv||(Vv=!0,UC(97,function(){return Jv(),null}))}function mIe(){if(tA===null)return!1;var r=tA;if(tA=null,(mr&48)!=0)throw Error(Pt(331));var e=mr;mr|=32;var n=z6;z6=[];for(var o=0;o<n.length;o+=2){var a=n[o],l=n[o+1],u=a.destroy;if(a.destroy=void 0,typeof u=="function")try{u()}catch(f){if(l===null)throw Error(Pt(330));Xv(l,f)}}for(n=O6,O6=[],o=0;o<n.length;o+=2){a=n[o],l=n[o+1];try{var _=a.create;a.destroy=_()}catch(f){if(l===null)throw Error(Pt(330));Xv(l,f)}}for(_=r.current.firstEffect;_!==null;)r=_.nextEffect,_.nextEffect=null,_.flags&8&&(_.sibling=null,_.stateNode=null),_=r;return mr=e,lh(),!0}function Zre(r,e,n){e=C6(n,e),e=Bre(r,e,1),Wv(r,e),e=qc(),r=JB(r,1),r!==null&&(_B(r,1,e),D_(r,e))}function Xv(r,e){if(r.tag===3)Zre(r,r,e);else for(var n=r.return;n!==null;){if(n.tag===3){Zre(n,r,e);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(fh===null||!fh.has(o))){r=C6(e,r);var a=Fre(n,r,1);if(Wv(n,a),a=qc(),n=JB(n,1),n!==null)_B(n,1,a),D_(n,a);else if(typeof o.componentDidCatch=="function"&&(fh===null||!fh.has(o)))try{o.componentDidCatch(e,r)}catch{}break}}n=n.return}}function vIe(r,e,n){var o=r.pingCache;o!==null&&o.delete(e),e=qc(),r.pingedLanes|=r.suspendedLanes&n,$u===r&&(Tl&n)===n&&(Zs===4||Zs===3&&(Tl&62914560)===Tl&&500>Cl()-F6?Ww(r,0):P6|=n),D_(r,e)}function gIe(r,e){var n=r.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=r.mode,(e&2)==0?e=1:(e&4)==0?e=Bw()===99?1:2:(qd===0&&(qd=zw),e=Sw(62914560&~qd),e===0&&(e=4194304))),n=qc(),r=JB(r,e),r!==null&&(_B(r,e,n),D_(r,n))}var eie;eie=function(r,e,n){var o=e.lanes;if(r!==null)if(r.memoizedProps!==e.pendingProps||nc.current)Jf=!0;else if((n&o)!=0)Jf=(r.flags&16384)!=0;else{switch(Jf=!1,e.tag){case 3:Sre(e),h6();break;case 5:are(e);break;case 1:rc(e.type)&&xB(e);break;case 4:_6(e,e.stateNode.containerInfo);break;case 10:o=e.memoizedProps.value;var a=e.type._context;ma(CB,a._currentValue),a._currentValue=o;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!=0?Ere(r,e,n):(ma(va,va.current&1),e=Hd(r,e,n),e!==null?e.sibling:null);ma(va,va.current&1);break;case 19:if(o=(n&e.childLanes)!=0,(r.flags&64)!=0){if(o)return Mre(r,e,n);e.flags|=64}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ma(va,va.current),o)break;return null;case 23:case 24:return e.lanes=0,b6(r,e,n)}return Hd(r,e,n)}else Jf=!1;switch(e.lanes=0,e.tag){case 2:if(o=e.type,r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2),r=e.pendingProps,a=Pw(e,El.current),Lw(e,n),a=v6(null,e,o,r,a,n),e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,rc(o)){var l=!0;xB(e)}else l=!1;e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,u6(e);var u=o.getDerivedStateFromProps;typeof u=="function"&&IB(e,o,u,r),a.updater=MB,e.stateNode=a,a._reactInternals=e,c6(e,o,r,n),e=x6(null,e,o,!0,l,n)}else e.tag=0,oc(null,e,a,n),e=e.child;return e;case 16:a=e.elementType;e:{switch(r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2),r=e.pendingProps,l=a._init,a=l(a._payload),e.type=a,l=e.tag=kIe(a),r=Kf(a,r),l){case 0:e=w6(null,e,a,r,n);break e;case 1:e=xre(null,e,a,r,n);break e;case 11:e=kre(null,e,a,r,n);break e;case 14:e=$re(null,e,a,Kf(a.type,r),o,n);break e}throw Error(Pt(306,a,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Kf(o,a),w6(r,e,o,a,n);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Kf(o,a),xre(r,e,o,a,n);case 3:if(Sre(e),o=e.updateQueue,r===null||o===null)throw Error(Pt(282));if(o=e.pendingProps,a=e.memoizedState,a=a!==null?a.element:null,Yne(r,e),jC(e,o,null,n),o=e.memoizedState.element,o===a)h6(),e=Hd(r,e,n);else{if(a=e.stateNode,(l=a.hydrate)&&(Hv=Iw(e.stateNode.containerInfo.firstChild),Wd=e,l=ch=!0),l){if(r=a.mutableSourceEagerHydrationData,r!=null)for(a=0;a<r.length;a+=2)l=r[a],l._workInProgressVersionPrimary=r[a+1],Ow.push(l);for(n=ore(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else oc(r,e,o,n),h6();e=e.child}return e;case 5:return are(e),r===null&&p6(e),o=e.type,a=e.pendingProps,l=r!==null?r.memoizedProps:null,u=a.children,Y7(o,a)?u=null:l!==null&&Y7(o,l)&&(e.flags|=16),wre(r,e),oc(r,e,u,n),e.child;case 6:return r===null&&p6(e),null;case 13:return Ere(r,e,n);case 4:return _6(e,e.stateNode.containerInfo),o=e.pendingProps,r===null?e.child=PB(e,null,o,n):oc(r,e,o,n),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Kf(o,a),kre(r,e,o,a,n);case 7:return oc(r,e,e.pendingProps,n),e.child;case 8:return oc(r,e,e.pendingProps.children,n),e.child;case 12:return oc(r,e,e.pendingProps.children,n),e.child;case 10:e:{o=e.type._context,a=e.pendingProps,u=e.memoizedProps,l=a.value;var _=e.type._context;if(ma(CB,_._currentValue),_._currentValue=l,u!==null)if(_=u.value,l=B_(_,l)?0:(typeof o._calculateChangedBits=="function"?o._calculateChangedBits(_,l):1073741823)|0,l===0){if(u.children===a.children&&!nc.current){e=Hd(r,e,n);break e}}else for(_=e.child,_!==null&&(_.return=e);_!==null;){var f=_.dependencies;if(f!==null){u=_.child;for(var h=f.firstContext;h!==null;){if(h.context===o&&(h.observedBits&l)!=0){_.tag===1&&(h=Gv(-1,n&-n),h.tag=2,Wv(_,h)),_.lanes|=n,h=_.alternate,h!==null&&(h.lanes|=n),Xne(_.return,n),f.lanes|=n;break}h=h.next}}else u=_.tag===10&&_.type===e.type?null:_.child;if(u!==null)u.return=_;else for(u=_;u!==null;){if(u===e){u=null;break}if(_=u.sibling,_!==null){_.return=u.return,u=_;break}u=u.return}_=u}oc(r,e,a.children,n),e=e.child}return e;case 9:return a=e.type,l=e.pendingProps,o=l.children,Lw(e,n),a=F_(a,l.unstable_observedBits),o=o(a),e.flags|=1,oc(r,e,o,n),e.child;case 14:return a=e.type,l=Kf(a,e.pendingProps),l=Kf(a.type,l),$re(r,e,a,l,o,n);case 15:return bre(r,e,e.type,e.pendingProps,o,n);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Kf(o,a),r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,rc(o)?(r=!0,xB(e)):r=!1,Lw(e,n),nre(e,o,a),c6(e,o,a,n),x6(null,e,o,!0,r,n);case 19:return Mre(r,e,n);case 23:return b6(r,e,n);case 24:return b6(r,e,n)}throw Error(Pt(156,e.tag))};function yIe(r,e,n,o){this.tag=r,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function O_(r,e,n,o){return new yIe(r,e,n,o)}function W6(r){return r=r.prototype,!(!r||!r.isReactComponent)}function kIe(r){if(typeof r=="function")return W6(r)?1:0;if(r!=null){if(r=r.$$typeof,r===QP)return 11;if(r===eB)return 14}return 2}function Yv(r,e){var n=r.alternate;return n===null?(n=O_(r.tag,e,r.key,r.mode),n.elementType=r.elementType,n.type=r.type,n.stateNode=r.stateNode,n.alternate=r,r.alternate=n):(n.pendingProps=e,n.type=r.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,e=r.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=r.sibling,n.index=r.index,n.ref=r.ref,n}function YB(r,e,n,o,a,l){var u=2;if(o=r,typeof r=="function")W6(r)&&(u=1);else if(typeof r=="string")u=5;else e:switch(r){case Nv:return Hw(n.children,a,l,e);case kte:u=8,a|=16;break;case e7:u=8,a|=1;break;case mC:return r=O_(12,n,e,a|8),r.elementType=mC,r.type=mC,r.lanes=l,r;case vC:return r=O_(13,n,e,a),r.type=vC,r.elementType=vC,r.lanes=l,r;case ZP:return r=O_(19,n,e,a),r.elementType=ZP,r.lanes=l,r;case a7:return H6(n,a,l,e);case s7:return r=O_(24,n,e,a),r.elementType=s7,r.lanes=l,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case t7:u=10;break e;case n7:u=9;break e;case QP:u=11;break e;case eB:u=14;break e;case r7:u=16,o=null;break e;case i7:u=22;break e}throw Error(Pt(130,r==null?r:typeof r,""))}return e=O_(u,n,e,a),e.elementType=r,e.type=o,e.lanes=l,e}function Hw(r,e,n,o){return r=O_(7,r,o,e),r.lanes=n,r}function H6(r,e,n,o){return r=O_(23,r,o,e),r.elementType=a7,r.lanes=n,r}function V6(r,e,n){return r=O_(6,r,null,e),r.lanes=n,r}function q6(r,e,n){return e=O_(4,r.children!==null?r.children:[],r.key,e),e.lanes=n,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function $Ie(r,e,n){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=R7(0),this.expirationTimes=R7(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R7(0),this.mutableSourceEagerHydrationData=null}function bIe(r,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I0,key:o==null?null:""+o,children:r,containerInfo:e,implementation:n}}function QB(r,e,n,o){var a=e.current,l=qc(),u=qv(a);e:if(n){n=n._reactInternals;t:{if(N0(n)!==n||n.tag!==1)throw Error(Pt(170));var _=n;do{switch(_.tag){case 3:_=_.stateNode.context;break t;case 1:if(rc(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break t}}_=_.return}while(_!==null);throw Error(Pt(171))}if(n.tag===1){var f=n.type;if(rc(f)){n=zne(n,f,_);break e}}n=_}else n=Uv;return e.context===null?e.context=n:e.pendingContext=n,e=Gv(l,u),e.payload={element:r},o=o===void 0?null:o,o!==null&&(e.callback=o),Wv(a,e),Kv(a,u,l),u}function K6(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function tie(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var n=r.retryLane;r.retryLane=n!==0&&n<e?n:e}}function J6(r,e){tie(r,e),(r=r.alternate)&&tie(r,e)}function wIe(){return null}function X6(r,e,n){var o=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new $Ie(r,e,n!=null&&n.hydrate===!0),e=O_(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,u6(e),r[Mw]=n.current,Tne(r.nodeType===8?r.parentNode:r),o)for(r=0;r<o.length;r++){e=o[r];var a=e._getVersion;a=a(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,a]:n.mutableSourceEagerHydrationData.push(e,a)}this._internalRoot=n}X6.prototype.render=function(r){QB(r,this._internalRoot,null,null)};X6.prototype.unmount=function(){var r=this._internalRoot,e=r.containerInfo;QB(null,r,null,function(){e[Mw]=null})};function aA(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function xIe(r,e){if(e||(e=r?r.nodeType===9?r.documentElement:r.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=r.lastChild;)r.removeChild(n);return new X6(r,0,e?{hydrate:!0}:void 0)}function ZB(r,e,n,o,a){var l=n._reactRootContainer;if(l){var u=l._internalRoot;if(typeof a=="function"){var _=a;a=function(){var h=K6(u);_.call(h)}}QB(e,u,r,a)}else{if(l=n._reactRootContainer=xIe(n,o),u=l._internalRoot,typeof a=="function"){var f=a;a=function(){var h=K6(u);f.call(h)}}qre(function(){QB(e,u,r,a)})}return K6(u)}Gte=function(r){if(r.tag===13){var e=qc();Kv(r,4,e),J6(r,4)}};C7=function(r){if(r.tag===13){var e=qc();Kv(r,67108864,e),J6(r,67108864)}};Wte=function(r){if(r.tag===13){var e=qc(),n=qv(r);Kv(r,n,e),J6(r,n)}};Hte=function(r,e){return e()};k7=function(r,e,n){switch(e){case"input":if(_7(r,n),e=n.name,n.type==="radio"&&e!=null){for(n=r;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==r&&o.form===r.form){var a=bB(o);if(!a)throw Error(Pt(90));wte(o),_7(o,a)}}}break;case"textarea":Ate(r,n);break;case"select":e=n.value,e!=null&&kw(r,!!n.multiple,e,!1)}};$7=Vre;Lte=function(r,e,n,o,a){var l=mr;mr|=4;try{return F0(98,r.bind(null,e,n,o,a))}finally{mr=l,mr===0&&(jw(),lh())}};b7=function(){(mr&49)==0&&(cIe(),Jv())};Dte=function(r,e){var n=mr;mr|=2;try{return r(e)}finally{mr=n,mr===0&&(jw(),lh())}};function nie(r,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aA(e))throw Error(Pt(200));return bIe(r,e,null,n)}var SIe={Events:[zC,Nw,bB,Bte,Fte,Jv,{current:!1}]},sA={findFiberByHostInstance:R0,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},EIe={bundleType:sA.bundleType,version:sA.version,rendererPackageName:sA.rendererPackageName,rendererConfig:sA.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T0.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ute(r),r===null?null:r.stateNode},findFiberByHostInstance:sA.findFiberByHostInstance||wIe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var eF=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eF.isDisabled&&eF.supportsFiber)try{t6=eF.inject(EIe),B0=eF}catch{}}P_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SIe;P_.createPortal=nie;P_.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(Pt(188)):Error(Pt(268,Object.keys(r)));return r=Ute(e),r=r===null?null:r.stateNode,r};P_.flushSync=function(r,e){var n=mr;if((n&48)!=0)return r(e);mr|=1;try{if(r)return F0(99,r.bind(null,e))}finally{mr=n,lh()}};P_.hydrate=function(r,e,n){if(!aA(e))throw Error(Pt(200));return ZB(null,r,e,!0,n)};P_.render=function(r,e,n){if(!aA(e))throw Error(Pt(200));return ZB(null,r,e,!1,n)};P_.unmountComponentAtNode=function(r){if(!aA(r))throw Error(Pt(40));return r._reactRootContainer?(qre(function(){ZB(null,null,r,!1,function(){r._reactRootContainer=null,r[Mw]=null})}),!0):!1};P_.unstable_batchedUpdates=Vre;P_.unstable_createPortal=function(r,e){return nie(r,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};P_.unstable_renderSubtreeIntoContainer=function(r,e,n,o){if(!aA(n))throw Error(Pt(200));if(r==null||r._reactInternals===void 0)throw Error(Pt(38));return ZB(r,e,n,!1,o)};P_.version="17.0.2";function rie(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rie)}catch(r){console.error(r)}}rie(),hte.exports=P_;var cet=hte.exports;function Y6(){return Y6=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Y6.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const tF="135",j0={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},G0={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},iie=0,Q6=1,oie=2,CIe=3,AIe=0,Z6=1,eG=2,Vw=3,Qv=0,Ma=1,Zv=2,tG=1,TIe=2,Kd=0,qw=1,nG=2,rG=3,iG=4,aie=5,W0=100,sie=101,lie=102,oG=103,aG=104,uie=200,cie=201,_ie=202,fie=203,sG=204,lG=205,pie=206,hie=207,die=208,mie=209,vie=210,gie=0,yie=1,kie=2,nF=3,$ie=4,bie=5,wie=6,xie=7,lA=0,Sie=1,Eie=2,Jd=0,Cie=1,Aie=2,Tie=3,uG=4,Iie=5,rF=300,H0=301,V0=302,uA=303,cA=304,Kw=306,_A=307,eg=1e3,Ms=1001,Jw=1002,ra=1003,fA=1004,IIe=1004,pA=1005,MIe=1005,Ro=1006,iF=1007,NIe=1007,Xd=1008,RIe=1008,Kc=1009,Mie=1010,Nie=1011,Xw=1012,Rie=1013,hA=1014,Jc=1015,ph=1016,Pie=1017,Bie=1018,Fie=1019,q0=1020,Lie=1021,Xf=1022,el=1023,Die=1024,Oie=1025,cG=el,tg=1026,K0=1027,zie=1028,Uie=1029,jie=1030,Gie=1031,Wie=1032,Hie=1033,_G=33776,fG=33777,pG=33778,hG=33779,dG=35840,mG=35841,vG=35842,gG=35843,Vie=36196,yG=37492,kG=37496,qie=37808,Kie=37809,Jie=37810,Xie=37811,Yie=37812,Qie=37813,Zie=37814,eoe=37815,toe=37816,noe=37817,roe=37818,ioe=37819,ooe=37820,aoe=37821,soe=36492,loe=37840,uoe=37841,coe=37842,_oe=37843,foe=37844,poe=37845,hoe=37846,doe=37847,moe=37848,voe=37849,goe=37850,yoe=37851,koe=37852,$oe=37853,boe=2200,woe=2201,xoe=2202,Yw=2300,J0=2301,oF=2302,X0=2400,Y0=2401,dA=2402,aF=2500,$G=2501,Soe=0,Eoe=1,bG=2,Ns=3e3,hh=3001,sF=3007,mA=3002,wG=3004,xG=3005,SG=3006,Coe=3200,Aoe=3201,ng=0,Toe=1,PIe=0,lF=7680,BIe=7681,FIe=7682,LIe=7683,DIe=34055,OIe=34056,zIe=5386,UIe=512,jIe=513,GIe=514,WIe=515,HIe=516,VIe=517,qIe=518,Ioe=519,Qw=35044,Zw=35048,KIe=35040,JIe=35045,XIe=35049,YIe=35041,QIe=35046,ZIe=35050,eMe=35042,tMe="100",EG="300 es";class Yd{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[e]===void 0&&(o[e]=[]),o[e].indexOf(n)===-1&&o[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const o=this._listeners;return o[e]!==void 0&&o[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const l=a.indexOf(n);l!==-1&&a.splice(l,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const o=this._listeners[e.type];if(o!==void 0){e.target=this;const a=o.slice(0);for(let l=0,u=a.length;l<u;l++)a[l].call(this,e);e.target=null}}}const tl=[];for(let r=0;r<256;r++)tl[r]=(r<16?"0":"")+r.toString(16);let uF=1234567;const Q0=Math.PI/180,vA=180/Math.PI;function Xc(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(tl[r&255]+tl[r>>8&255]+tl[r>>16&255]+tl[r>>24&255]+"-"+tl[e&255]+tl[e>>8&255]+"-"+tl[e>>16&15|64]+tl[e>>24&255]+"-"+tl[n&63|128]+tl[n>>8&255]+"-"+tl[n>>16&255]+tl[n>>24&255]+tl[o&255]+tl[o>>8&255]+tl[o>>16&255]+tl[o>>24&255]).toUpperCase()}function nl(r,e,n){return Math.max(e,Math.min(n,r))}function CG(r,e){return(r%e+e)%e}function nMe(r,e,n,o,a){return o+(r-e)*(a-o)/(n-e)}function rMe(r,e,n){return r!==e?(n-r)/(e-r):0}function gA(r,e,n){return(1-n)*r+n*e}function iMe(r,e,n,o){return gA(r,e,1-Math.exp(-n*o))}function oMe(r,e=1){return e-Math.abs(CG(r,e*2)-e)}function aMe(r,e,n){return r<=e?0:r>=n?1:(r=(r-e)/(n-e),r*r*(3-2*r))}function sMe(r,e,n){return r<=e?0:r>=n?1:(r=(r-e)/(n-e),r*r*r*(r*(r*6-15)+10))}function lMe(r,e){return r+Math.floor(Math.random()*(e-r+1))}function uMe(r,e){return r+Math.random()*(e-r)}function cMe(r){return r*(.5-Math.random())}function _Me(r){return r!==void 0&&(uF=r%2147483647),uF=uF*16807%2147483647,(uF-1)/2147483646}function fMe(r){return r*Q0}function pMe(r){return r*vA}function AG(r){return(r&r-1)==0&&r!==0}function Moe(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function Noe(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function hMe(r,e,n,o,a){const l=Math.cos,u=Math.sin,_=l(n/2),f=u(n/2),h=l((e+o)/2),d=u((e+o)/2),m=l((e-o)/2),g=u((e-o)/2),y=l((o-e)/2),w=u((o-e)/2);switch(a){case"XYX":r.set(_*d,f*m,f*g,_*h);break;case"YZY":r.set(f*g,_*d,f*m,_*h);break;case"ZXZ":r.set(f*m,f*g,_*d,_*h);break;case"XZX":r.set(_*d,f*w,f*y,_*h);break;case"YXY":r.set(f*y,_*d,f*w,_*h);break;case"ZYZ":r.set(f*w,f*y,_*d,_*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}var TG=Object.freeze({__proto__:null,DEG2RAD:Q0,RAD2DEG:vA,generateUUID:Xc,clamp:nl,euclideanModulo:CG,mapLinear:nMe,inverseLerp:rMe,lerp:gA,damp:iMe,pingpong:oMe,smoothstep:aMe,smootherstep:sMe,randInt:lMe,randFloat:uMe,randFloatSpread:cMe,seededRandom:_Me,degToRad:fMe,radToDeg:pMe,isPowerOfTwo:AG,ceilPowerOfTwo:Moe,floorPowerOfTwo:Noe,setQuaternionFromProperEuler:hMe});class rt{constructor(e=0,n=0){this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,o=this.y,a=e.elements;return this.x=a[0]*n+a[3]*o+a[6],this.y=a[1]*n+a[4]*o+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(n,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,o=this.y-e.y;return n*n+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,o){return o!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const o=Math.cos(n),a=Math.sin(n),l=this.x-e.x,u=this.y-e.y;return this.x=l*o-u*a+e.x,this.y=l*a+u*o+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}rt.prototype.isVector2=!0;class fs{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,o,a,l,u,_,f,h){const d=this.elements;return d[0]=e,d[1]=a,d[2]=_,d[3]=n,d[4]=l,d[5]=f,d[6]=o,d[7]=u,d[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,o=e.elements;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],this}extractBasis(e,n,o){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const o=e.elements,a=n.elements,l=this.elements,u=o[0],_=o[3],f=o[6],h=o[1],d=o[4],m=o[7],g=o[2],y=o[5],w=o[8],E=a[0],A=a[3],S=a[6],C=a[1],R=a[4],P=a[7],D=a[2],G=a[5],z=a[8];return l[0]=u*E+_*C+f*D,l[3]=u*A+_*R+f*G,l[6]=u*S+_*P+f*z,l[1]=h*E+d*C+m*D,l[4]=h*A+d*R+m*G,l[7]=h*S+d*P+m*z,l[2]=g*E+y*C+w*D,l[5]=g*A+y*R+w*G,l[8]=g*S+y*P+w*z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],o=e[1],a=e[2],l=e[3],u=e[4],_=e[5],f=e[6],h=e[7],d=e[8];return n*u*d-n*_*h-o*l*d+o*_*f+a*l*h-a*u*f}invert(){const e=this.elements,n=e[0],o=e[1],a=e[2],l=e[3],u=e[4],_=e[5],f=e[6],h=e[7],d=e[8],m=d*u-_*h,g=_*f-d*l,y=h*l-u*f,w=n*m+o*g+a*y;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/w;return e[0]=m*E,e[1]=(a*h-d*o)*E,e[2]=(_*o-a*u)*E,e[3]=g*E,e[4]=(d*n-a*f)*E,e[5]=(a*l-_*n)*E,e[6]=y*E,e[7]=(o*f-h*n)*E,e[8]=(u*n-o*l)*E,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,o,a,l,u,_){const f=Math.cos(l),h=Math.sin(l);return this.set(o*f,o*h,-o*(f*u+h*_)+u+e,-a*h,a*f,-a*(-h*u+f*_)+_+n,0,0,1),this}scale(e,n){const o=this.elements;return o[0]*=e,o[3]*=e,o[6]*=e,o[1]*=n,o[4]*=n,o[7]*=n,this}rotate(e){const n=Math.cos(e),o=Math.sin(e),a=this.elements,l=a[0],u=a[3],_=a[6],f=a[1],h=a[4],d=a[7];return a[0]=n*l+o*f,a[3]=n*u+o*h,a[6]=n*_+o*d,a[1]=-o*l+n*f,a[4]=-o*u+n*h,a[7]=-o*_+n*d,this}translate(e,n){const o=this.elements;return o[0]+=e*o[2],o[3]+=e*o[5],o[6]+=e*o[8],o[1]+=n*o[2],o[4]+=n*o[5],o[7]+=n*o[8],this}equals(e){const n=this.elements,o=e.elements;for(let a=0;a<9;a++)if(n[a]!==o[a])return!1;return!0}fromArray(e,n=0){for(let o=0;o<9;o++)this.elements[o]=e[o+n];return this}toArray(e=[],n=0){const o=this.elements;return e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3],e[n+4]=o[4],e[n+5]=o[5],e[n+6]=o[6],e[n+7]=o[7],e[n+8]=o[8],e}clone(){return new this.constructor().fromArray(this.elements)}}fs.prototype.isMatrix3=!0;function Roe(r){if(r.length===0)return-1/0;let e=r[0];for(let n=1,o=r.length;n<o;++n)r[n]>e&&(e=r[n]);return e}const dMe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ex(r,e){return new dMe[r](e)}function cF(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function Poe(r,e=0){let n=3735928559^e,o=1103547991^e;for(let a=0,l;a<r.length;a++)l=r.charCodeAt(a),n=Math.imul(n^l,2654435761),o=Math.imul(o^l,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&o)+(n>>>0)}let tx;class Z0{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{tx===void 0&&(tx=cF("canvas")),tx.width=e.width,tx.height=e.height;const o=tx.getContext("2d");e instanceof ImageData?o.putImageData(e,0,0):o.drawImage(e,0,0,e.width,e.height),n=tx}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}}let mMe=0;class Na extends Yd{constructor(e=Na.DEFAULT_IMAGE,n=Na.DEFAULT_MAPPING,o=Ms,a=Ms,l=Ro,u=Xd,_=el,f=Kc,h=1,d=Ns){super();Object.defineProperty(this,"id",{value:mMe++}),this.uuid=Xc(),this.name="",this.image=e,this.mipmaps=[],this.mapping=n,this.wrapS=o,this.wrapT=a,this.magFilter=l,this.minFilter=u,this.anisotropy=h,this.format=_,this.internalFormat=null,this.type=f,this.offset=new rt(0,0),this.repeat=new rt(1,1),this.center=new rt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const o={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const a=this.image;if(a.uuid===void 0&&(a.uuid=Xc()),!n&&e.images[a.uuid]===void 0){let l;if(Array.isArray(a)){l=[];for(let u=0,_=a.length;u<_;u++)a[u].isDataTexture?l.push(IG(a[u].image)):l.push(IG(a[u]))}else l=IG(a);e.images[a.uuid]={uuid:a.uuid,url:l}}o.image=a.uuid}return JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData),n||(e.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==rF)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case eg:e.x=e.x-Math.floor(e.x);break;case Ms:e.x=e.x<0?0:1;break;case Jw:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case eg:e.y=e.y-Math.floor(e.y);break;case Ms:e.y=e.y<0?0:1;break;case Jw:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}Na.DEFAULT_IMAGE=void 0;Na.DEFAULT_MAPPING=rF;Na.prototype.isTexture=!0;function IG(r){return typeof HTMLImageElement!="undefined"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&r instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&r instanceof ImageBitmap?Z0.getDataURL(r):r.data?{data:Array.prototype.slice.call(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class Ui{constructor(e=0,n=0,o=0,a=1){this.x=e,this.y=n,this.z=o,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,o,a){return this.x=e,this.y=n,this.z=o,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,o=this.y,a=this.z,l=this.w,u=e.elements;return this.x=u[0]*n+u[4]*o+u[8]*a+u[12]*l,this.y=u[1]*n+u[5]*o+u[9]*a+u[13]*l,this.z=u[2]*n+u[6]*o+u[10]*a+u[14]*l,this.w=u[3]*n+u[7]*o+u[11]*a+u[15]*l,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,o,a,l;const u=.01,_=.1,f=e.elements,h=f[0],d=f[4],m=f[8],g=f[1],y=f[5],w=f[9],E=f[2],A=f[6],S=f[10];if(Math.abs(d-g)<u&&Math.abs(m-E)<u&&Math.abs(w-A)<u){if(Math.abs(d+g)<_&&Math.abs(m+E)<_&&Math.abs(w+A)<_&&Math.abs(h+y+S-3)<_)return this.set(1,0,0,0),this;n=Math.PI;const R=(h+1)/2,P=(y+1)/2,D=(S+1)/2,G=(d+g)/4,z=(m+E)/4,V=(w+A)/4;return R>P&&R>D?R<u?(o=0,a=.707106781,l=.707106781):(o=Math.sqrt(R),a=G/o,l=z/o):P>D?P<u?(o=.707106781,a=0,l=.707106781):(a=Math.sqrt(P),o=G/a,l=V/a):D<u?(o=.707106781,a=.707106781,l=0):(l=Math.sqrt(D),o=z/l,a=V/l),this.set(o,a,l,n),this}let C=Math.sqrt((A-w)*(A-w)+(m-E)*(m-E)+(g-d)*(g-d));return Math.abs(C)<.001&&(C=1),this.x=(A-w)/C,this.y=(m-E)/C,this.z=(g-d)/C,this.w=Math.acos((h+y+S-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(n,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this.z=e.z+(n.z-e.z)*o,this.w=e.w+(n.w-e.w)*o,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,o){return o!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Ui.prototype.isVector4=!0;class Yc extends Yd{constructor(e,n,o={}){super();this.width=e,this.height=n,this.depth=1,this.scissor=new Ui(0,0,e,n),this.scissorTest=!1,this.viewport=new Ui(0,0,e,n),this.texture=new Na(void 0,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:n,depth:1},this.texture.generateMipmaps=o.generateMipmaps!==void 0?o.generateMipmaps:!1,this.texture.internalFormat=o.internalFormat!==void 0?o.internalFormat:null,this.texture.minFilter=o.minFilter!==void 0?o.minFilter:Ro,this.depthBuffer=o.depthBuffer!==void 0?o.depthBuffer:!0,this.stencilBuffer=o.stencilBuffer!==void 0?o.stencilBuffer:!1,this.depthTexture=o.depthTexture!==void 0?o.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,n,o=1){(this.width!==e||this.height!==n||this.depth!==o)&&(this.width=e,this.height=n,this.depth=o,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=o,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=zi({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Yc.prototype.isWebGLRenderTarget=!0;class Boe extends Yc{constructor(e,n,o){super(e,n);const a=this.texture;this.texture=[];for(let l=0;l<o;l++)this.texture[l]=a.clone()}setSize(e,n,o=1){if(this.width!==e||this.height!==n||this.depth!==o){this.width=e,this.height=n,this.depth=o;for(let a=0,l=this.texture.length;a<l;a++)this.texture[a].image.width=e,this.texture[a].image.height=n,this.texture[a].image.depth=o;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let n=0,o=e.texture.length;n<o;n++)this.texture[n]=e.texture[n].clone();return this}}Boe.prototype.isWebGLMultipleRenderTargets=!0;class _F extends Yc{constructor(e,n,o={}){super(e,n,o);this.samples=4,this.ignoreDepthForMultisampleCopy=o.ignoreDepth!==void 0?o.ignoreDepth:!0,this.useRenderToTexture=o.useRenderToTexture!==void 0?o.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}}_F.prototype.isWebGLMultisampleRenderTarget=!0;class ps{constructor(e=0,n=0,o=0,a=1){this._x=e,this._y=n,this._z=o,this._w=a}static slerp(e,n,o,a){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),o.slerpQuaternions(e,n,a)}static slerpFlat(e,n,o,a,l,u,_){let f=o[a+0],h=o[a+1],d=o[a+2],m=o[a+3];const g=l[u+0],y=l[u+1],w=l[u+2],E=l[u+3];if(_===0){e[n+0]=f,e[n+1]=h,e[n+2]=d,e[n+3]=m;return}if(_===1){e[n+0]=g,e[n+1]=y,e[n+2]=w,e[n+3]=E;return}if(m!==E||f!==g||h!==y||d!==w){let A=1-_;const S=f*g+h*y+d*w+m*E,C=S>=0?1:-1,R=1-S*S;if(R>Number.EPSILON){const D=Math.sqrt(R),G=Math.atan2(D,S*C);A=Math.sin(A*G)/D,_=Math.sin(_*G)/D}const P=_*C;if(f=f*A+g*P,h=h*A+y*P,d=d*A+w*P,m=m*A+E*P,A===1-_){const D=1/Math.sqrt(f*f+h*h+d*d+m*m);f*=D,h*=D,d*=D,m*=D}}e[n]=f,e[n+1]=h,e[n+2]=d,e[n+3]=m}static multiplyQuaternionsFlat(e,n,o,a,l,u){const _=o[a],f=o[a+1],h=o[a+2],d=o[a+3],m=l[u],g=l[u+1],y=l[u+2],w=l[u+3];return e[n]=_*w+d*m+f*y-h*g,e[n+1]=f*w+d*g+h*m-_*y,e[n+2]=h*w+d*y+_*g-f*m,e[n+3]=d*w-_*m-f*g-h*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,o,a){return this._x=e,this._y=n,this._z=o,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const o=e._x,a=e._y,l=e._z,u=e._order,_=Math.cos,f=Math.sin,h=_(o/2),d=_(a/2),m=_(l/2),g=f(o/2),y=f(a/2),w=f(l/2);switch(u){case"XYZ":this._x=g*d*m+h*y*w,this._y=h*y*m-g*d*w,this._z=h*d*w+g*y*m,this._w=h*d*m-g*y*w;break;case"YXZ":this._x=g*d*m+h*y*w,this._y=h*y*m-g*d*w,this._z=h*d*w-g*y*m,this._w=h*d*m+g*y*w;break;case"ZXY":this._x=g*d*m-h*y*w,this._y=h*y*m+g*d*w,this._z=h*d*w+g*y*m,this._w=h*d*m-g*y*w;break;case"ZYX":this._x=g*d*m-h*y*w,this._y=h*y*m+g*d*w,this._z=h*d*w-g*y*m,this._w=h*d*m+g*y*w;break;case"YZX":this._x=g*d*m+h*y*w,this._y=h*y*m+g*d*w,this._z=h*d*w-g*y*m,this._w=h*d*m-g*y*w;break;case"XZY":this._x=g*d*m-h*y*w,this._y=h*y*m-g*d*w,this._z=h*d*w+g*y*m,this._w=h*d*m+g*y*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+u)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const o=n/2,a=Math.sin(o);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,o=n[0],a=n[4],l=n[8],u=n[1],_=n[5],f=n[9],h=n[2],d=n[6],m=n[10],g=o+_+m;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(d-f)*y,this._y=(l-h)*y,this._z=(u-a)*y}else if(o>_&&o>m){const y=2*Math.sqrt(1+o-_-m);this._w=(d-f)/y,this._x=.25*y,this._y=(a+u)/y,this._z=(l+h)/y}else if(_>m){const y=2*Math.sqrt(1+_-o-m);this._w=(l-h)/y,this._x=(a+u)/y,this._y=.25*y,this._z=(f+d)/y}else{const y=2*Math.sqrt(1+m-o-_);this._w=(u-a)/y,this._x=(l+h)/y,this._y=(f+d)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let o=e.dot(n)+1;return o<Number.EPSILON?(o=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=o):(this._x=0,this._y=-e.z,this._z=e.y,this._w=o)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=o),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(nl(this.dot(e),-1,1)))}rotateTowards(e,n){const o=this.angleTo(e);if(o===0)return this;const a=Math.min(1,n/o);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const o=e._x,a=e._y,l=e._z,u=e._w,_=n._x,f=n._y,h=n._z,d=n._w;return this._x=o*d+u*_+a*h-l*f,this._y=a*d+u*f+l*_-o*h,this._z=l*d+u*h+o*f-a*_,this._w=u*d-o*_-a*f-l*h,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const o=this._x,a=this._y,l=this._z,u=this._w;let _=u*e._w+o*e._x+a*e._y+l*e._z;if(_<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,_=-_):this.copy(e),_>=1)return this._w=u,this._x=o,this._y=a,this._z=l,this;const f=1-_*_;if(f<=Number.EPSILON){const y=1-n;return this._w=y*u+n*this._w,this._x=y*o+n*this._x,this._y=y*a+n*this._y,this._z=y*l+n*this._z,this.normalize(),this._onChangeCallback(),this}const h=Math.sqrt(f),d=Math.atan2(h,_),m=Math.sin((1-n)*d)/h,g=Math.sin(n*d)/h;return this._w=u*m+this._w*g,this._x=o*m+this._x*g,this._y=a*m+this._y*g,this._z=l*m+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,n,o){this.copy(e).slerp(n,o)}random(){const e=Math.random(),n=Math.sqrt(1-e),o=Math.sqrt(e),a=2*Math.PI*Math.random(),l=2*Math.PI*Math.random();return this.set(n*Math.cos(a),o*Math.sin(l),o*Math.cos(l),n*Math.sin(a))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}ps.prototype.isQuaternion=!0;class te{constructor(e=0,n=0,o=0){this.x=e,this.y=n,this.z=o}set(e,n,o){return o===void 0&&(o=this.z),this.x=e,this.y=n,this.z=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Foe.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Foe.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,o=this.y,a=this.z,l=e.elements;return this.x=l[0]*n+l[3]*o+l[6]*a,this.y=l[1]*n+l[4]*o+l[7]*a,this.z=l[2]*n+l[5]*o+l[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,o=this.y,a=this.z,l=e.elements,u=1/(l[3]*n+l[7]*o+l[11]*a+l[15]);return this.x=(l[0]*n+l[4]*o+l[8]*a+l[12])*u,this.y=(l[1]*n+l[5]*o+l[9]*a+l[13])*u,this.z=(l[2]*n+l[6]*o+l[10]*a+l[14])*u,this}applyQuaternion(e){const n=this.x,o=this.y,a=this.z,l=e.x,u=e.y,_=e.z,f=e.w,h=f*n+u*a-_*o,d=f*o+_*n-l*a,m=f*a+l*o-u*n,g=-l*n-u*o-_*a;return this.x=h*f+g*-l+d*-_-m*-u,this.y=d*f+g*-u+m*-l-h*-_,this.z=m*f+g*-_+h*-u-d*-l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,o=this.y,a=this.z,l=e.elements;return this.x=l[0]*n+l[4]*o+l[8]*a,this.y=l[1]*n+l[5]*o+l[9]*a,this.z=l[2]*n+l[6]*o+l[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(n,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this.z=e.z+(n.z-e.z)*o,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const o=e.x,a=e.y,l=e.z,u=n.x,_=n.y,f=n.z;return this.x=a*f-l*_,this.y=l*u-o*f,this.z=o*_-a*u,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const o=e.dot(this)/n;return this.copy(e).multiplyScalar(o)}projectOnPlane(e){return MG.copy(this).projectOnVector(e),this.sub(MG)}reflect(e){return this.sub(MG.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const o=this.dot(e)/n;return Math.acos(nl(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,o=this.y-e.y,a=this.z-e.z;return n*n+o*o+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,o){const a=Math.sin(n)*e;return this.x=a*Math.sin(o),this.y=Math.cos(n)*e,this.z=a*Math.cos(o),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,o){return this.x=e*Math.sin(n),this.y=o,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),o=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=o,this.z=a,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,o){return o!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,o=Math.sqrt(1-e**2);return this.x=o*Math.cos(n),this.y=o*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}te.prototype.isVector3=!0;const MG=new te,Foe=new ps;class ac{constructor(e=new te(1/0,1/0,1/0),n=new te(-1/0,-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,o=1/0,a=1/0,l=-1/0,u=-1/0,_=-1/0;for(let f=0,h=e.length;f<h;f+=3){const d=e[f],m=e[f+1],g=e[f+2];d<n&&(n=d),m<o&&(o=m),g<a&&(a=g),d>l&&(l=d),m>u&&(u=m),g>_&&(_=g)}return this.min.set(n,o,a),this.max.set(l,u,_),this}setFromBufferAttribute(e){let n=1/0,o=1/0,a=1/0,l=-1/0,u=-1/0,_=-1/0;for(let f=0,h=e.count;f<h;f++){const d=e.getX(f),m=e.getY(f),g=e.getZ(f);d<n&&(n=d),m<o&&(o=m),g<a&&(a=g),d>l&&(l=d),m>u&&(u=m),g>_&&(_=g)}return this.min.set(n,o,a),this.max.set(l,u,_),this}setFromPoints(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const o=yA.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const n=e.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),NG.copy(n.boundingBox),NG.applyMatrix4(e.matrixWorld),this.union(NG));const o=e.children;for(let a=0,l=o.length;a<l;a++)this.expandByObject(o[a]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,yA),yA.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,o;return e.normal.x>0?(n=e.normal.x*this.min.x,o=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,o=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,o+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,o+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,o+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,o+=e.normal.z*this.min.z),n<=-e.constant&&o>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(kA),fF.subVectors(this.max,kA),nx.subVectors(e.a,kA),rx.subVectors(e.b,kA),ix.subVectors(e.c,kA),rg.subVectors(rx,nx),ig.subVectors(ix,rx),ek.subVectors(nx,ix);let n=[0,-rg.z,rg.y,0,-ig.z,ig.y,0,-ek.z,ek.y,rg.z,0,-rg.x,ig.z,0,-ig.x,ek.z,0,-ek.x,-rg.y,rg.x,0,-ig.y,ig.x,0,-ek.y,ek.x,0];return!RG(n,nx,rx,ix,fF)||(n=[1,0,0,0,1,0,0,0,1],!RG(n,nx,rx,ix,fF))?!1:(pF.crossVectors(rg,ig),n=[pF.x,pF.y,pF.z],RG(n,nx,rx,ix,fF))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return yA.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(yA).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Qd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Qd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Qd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Qd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Qd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Qd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Qd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Qd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Qd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}ac.prototype.isBox3=!0;const Qd=[new te,new te,new te,new te,new te,new te,new te,new te],yA=new te,NG=new ac,nx=new te,rx=new te,ix=new te,rg=new te,ig=new te,ek=new te,kA=new te,fF=new te,pF=new te,tk=new te;function RG(r,e,n,o,a){for(let l=0,u=r.length-3;l<=u;l+=3){tk.fromArray(r,l);const _=a.x*Math.abs(tk.x)+a.y*Math.abs(tk.y)+a.z*Math.abs(tk.z),f=e.dot(tk),h=n.dot(tk),d=o.dot(tk);if(Math.max(-Math.max(f,h,d),Math.min(f,h,d))>_)return!1}return!0}const vMe=new ac,Loe=new te,PG=new te,BG=new te;class Zd{constructor(e=new te,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const o=this.center;n!==void 0?o.copy(n):vMe.setFromPoints(e).getCenter(o);let a=0;for(let l=0,u=e.length;l<u;l++)a=Math.max(a,o.distanceToSquared(e[l]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const o=this.center.distanceToSquared(e);return n.copy(e),o>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){BG.subVectors(e,this.center);const n=BG.lengthSq();if(n>this.radius*this.radius){const o=Math.sqrt(n),a=(o-this.radius)*.5;this.center.add(BG.multiplyScalar(a/o)),this.radius+=a}return this}union(e){return PG.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Loe.copy(e.center).add(PG)),this.expandByPoint(Loe.copy(e.center).sub(PG)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const em=new te,FG=new te,hF=new te,og=new te,LG=new te,dF=new te,DG=new te;class ag{constructor(e=new te,n=new te(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,em)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const o=n.dot(this.direction);return o<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(o).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=em.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(em.copy(this.direction).multiplyScalar(n).add(this.origin),em.distanceToSquared(e))}distanceSqToSegment(e,n,o,a){FG.copy(e).add(n).multiplyScalar(.5),hF.copy(n).sub(e).normalize(),og.copy(this.origin).sub(FG);const l=e.distanceTo(n)*.5,u=-this.direction.dot(hF),_=og.dot(this.direction),f=-og.dot(hF),h=og.lengthSq(),d=Math.abs(1-u*u);let m,g,y,w;if(d>0)if(m=u*f-_,g=u*_-f,w=l*d,m>=0)if(g>=-w)if(g<=w){const E=1/d;m*=E,g*=E,y=m*(m+u*g+2*_)+g*(u*m+g+2*f)+h}else g=l,m=Math.max(0,-(u*g+_)),y=-m*m+g*(g+2*f)+h;else g=-l,m=Math.max(0,-(u*g+_)),y=-m*m+g*(g+2*f)+h;else g<=-w?(m=Math.max(0,-(-u*l+_)),g=m>0?-l:Math.min(Math.max(-l,-f),l),y=-m*m+g*(g+2*f)+h):g<=w?(m=0,g=Math.min(Math.max(-l,-f),l),y=g*(g+2*f)+h):(m=Math.max(0,-(u*l+_)),g=m>0?l:Math.min(Math.max(-l,-f),l),y=-m*m+g*(g+2*f)+h);else g=u>0?-l:l,m=Math.max(0,-(u*g+_)),y=-m*m+g*(g+2*f)+h;return o&&o.copy(this.direction).multiplyScalar(m).add(this.origin),a&&a.copy(hF).multiplyScalar(g).add(FG),y}intersectSphere(e,n){em.subVectors(e.center,this.origin);const o=em.dot(this.direction),a=em.dot(em)-o*o,l=e.radius*e.radius;if(a>l)return null;const u=Math.sqrt(l-a),_=o-u,f=o+u;return _<0&&f<0?null:_<0?this.at(f,n):this.at(_,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const o=-(this.origin.dot(e.normal)+e.constant)/n;return o>=0?o:null}intersectPlane(e,n){const o=this.distanceToPlane(e);return o===null?null:this.at(o,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let o,a,l,u,_,f;const h=1/this.direction.x,d=1/this.direction.y,m=1/this.direction.z,g=this.origin;return h>=0?(o=(e.min.x-g.x)*h,a=(e.max.x-g.x)*h):(o=(e.max.x-g.x)*h,a=(e.min.x-g.x)*h),d>=0?(l=(e.min.y-g.y)*d,u=(e.max.y-g.y)*d):(l=(e.max.y-g.y)*d,u=(e.min.y-g.y)*d),o>u||l>a||((l>o||o!==o)&&(o=l),(u<a||a!==a)&&(a=u),m>=0?(_=(e.min.z-g.z)*m,f=(e.max.z-g.z)*m):(_=(e.max.z-g.z)*m,f=(e.min.z-g.z)*m),o>f||_>a)||((_>o||o!==o)&&(o=_),(f<a||a!==a)&&(a=f),a<0)?null:this.at(o>=0?o:a,n)}intersectsBox(e){return this.intersectBox(e,em)!==null}intersectTriangle(e,n,o,a,l){LG.subVectors(n,e),dF.subVectors(o,e),DG.crossVectors(LG,dF);let u=this.direction.dot(DG),_;if(u>0){if(a)return null;_=1}else if(u<0)_=-1,u=-u;else return null;og.subVectors(this.origin,e);const f=_*this.direction.dot(dF.crossVectors(og,dF));if(f<0)return null;const h=_*this.direction.dot(LG.cross(og));if(h<0||f+h>u)return null;const d=-_*og.dot(DG);return d<0?null:this.at(d/u,l)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Cn{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,o,a,l,u,_,f,h,d,m,g,y,w,E,A){const S=this.elements;return S[0]=e,S[4]=n,S[8]=o,S[12]=a,S[1]=l,S[5]=u,S[9]=_,S[13]=f,S[2]=h,S[6]=d,S[10]=m,S[14]=g,S[3]=y,S[7]=w,S[11]=E,S[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Cn().fromArray(this.elements)}copy(e){const n=this.elements,o=e.elements;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],this}copyPosition(e){const n=this.elements,o=e.elements;return n[12]=o[12],n[13]=o[13],n[14]=o[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,o){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(e,n,o){return this.set(e.x,n.x,o.x,0,e.y,n.y,o.y,0,e.z,n.z,o.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,o=e.elements,a=1/ox.setFromMatrixColumn(e,0).length(),l=1/ox.setFromMatrixColumn(e,1).length(),u=1/ox.setFromMatrixColumn(e,2).length();return n[0]=o[0]*a,n[1]=o[1]*a,n[2]=o[2]*a,n[3]=0,n[4]=o[4]*l,n[5]=o[5]*l,n[6]=o[6]*l,n[7]=0,n[8]=o[8]*u,n[9]=o[9]*u,n[10]=o[10]*u,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,o=e.x,a=e.y,l=e.z,u=Math.cos(o),_=Math.sin(o),f=Math.cos(a),h=Math.sin(a),d=Math.cos(l),m=Math.sin(l);if(e.order==="XYZ"){const g=u*d,y=u*m,w=_*d,E=_*m;n[0]=f*d,n[4]=-f*m,n[8]=h,n[1]=y+w*h,n[5]=g-E*h,n[9]=-_*f,n[2]=E-g*h,n[6]=w+y*h,n[10]=u*f}else if(e.order==="YXZ"){const g=f*d,y=f*m,w=h*d,E=h*m;n[0]=g+E*_,n[4]=w*_-y,n[8]=u*h,n[1]=u*m,n[5]=u*d,n[9]=-_,n[2]=y*_-w,n[6]=E+g*_,n[10]=u*f}else if(e.order==="ZXY"){const g=f*d,y=f*m,w=h*d,E=h*m;n[0]=g-E*_,n[4]=-u*m,n[8]=w+y*_,n[1]=y+w*_,n[5]=u*d,n[9]=E-g*_,n[2]=-u*h,n[6]=_,n[10]=u*f}else if(e.order==="ZYX"){const g=u*d,y=u*m,w=_*d,E=_*m;n[0]=f*d,n[4]=w*h-y,n[8]=g*h+E,n[1]=f*m,n[5]=E*h+g,n[9]=y*h-w,n[2]=-h,n[6]=_*f,n[10]=u*f}else if(e.order==="YZX"){const g=u*f,y=u*h,w=_*f,E=_*h;n[0]=f*d,n[4]=E-g*m,n[8]=w*m+y,n[1]=m,n[5]=u*d,n[9]=-_*d,n[2]=-h*d,n[6]=y*m+w,n[10]=g-E*m}else if(e.order==="XZY"){const g=u*f,y=u*h,w=_*f,E=_*h;n[0]=f*d,n[4]=-m,n[8]=h*d,n[1]=g*m+E,n[5]=u*d,n[9]=y*m-w,n[2]=w*m-y,n[6]=_*d,n[10]=E*m+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(gMe,e,yMe)}lookAt(e,n,o){const a=this.elements;return Qc.subVectors(e,n),Qc.lengthSq()===0&&(Qc.z=1),Qc.normalize(),sg.crossVectors(o,Qc),sg.lengthSq()===0&&(Math.abs(o.z)===1?Qc.x+=1e-4:Qc.z+=1e-4,Qc.normalize(),sg.crossVectors(o,Qc)),sg.normalize(),mF.crossVectors(Qc,sg),a[0]=sg.x,a[4]=mF.x,a[8]=Qc.x,a[1]=sg.y,a[5]=mF.y,a[9]=Qc.y,a[2]=sg.z,a[6]=mF.z,a[10]=Qc.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const o=e.elements,a=n.elements,l=this.elements,u=o[0],_=o[4],f=o[8],h=o[12],d=o[1],m=o[5],g=o[9],y=o[13],w=o[2],E=o[6],A=o[10],S=o[14],C=o[3],R=o[7],P=o[11],D=o[15],G=a[0],z=a[4],V=a[8],X=a[12],ne=a[1],Y=a[5],ue=a[9],_e=a[13],ge=a[2],$e=a[6],xe=a[10],Ie=a[14],tt=a[3],gt=a[7],Je=a[11],ve=a[15];return l[0]=u*G+_*ne+f*ge+h*tt,l[4]=u*z+_*Y+f*$e+h*gt,l[8]=u*V+_*ue+f*xe+h*Je,l[12]=u*X+_*_e+f*Ie+h*ve,l[1]=d*G+m*ne+g*ge+y*tt,l[5]=d*z+m*Y+g*$e+y*gt,l[9]=d*V+m*ue+g*xe+y*Je,l[13]=d*X+m*_e+g*Ie+y*ve,l[2]=w*G+E*ne+A*ge+S*tt,l[6]=w*z+E*Y+A*$e+S*gt,l[10]=w*V+E*ue+A*xe+S*Je,l[14]=w*X+E*_e+A*Ie+S*ve,l[3]=C*G+R*ne+P*ge+D*tt,l[7]=C*z+R*Y+P*$e+D*gt,l[11]=C*V+R*ue+P*xe+D*Je,l[15]=C*X+R*_e+P*Ie+D*ve,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],o=e[4],a=e[8],l=e[12],u=e[1],_=e[5],f=e[9],h=e[13],d=e[2],m=e[6],g=e[10],y=e[14],w=e[3],E=e[7],A=e[11],S=e[15];return w*(+l*f*m-a*h*m-l*_*g+o*h*g+a*_*y-o*f*y)+E*(+n*f*y-n*h*g+l*u*g-a*u*y+a*h*d-l*f*d)+A*(+n*h*m-n*_*y-l*u*m+o*u*y+l*_*d-o*h*d)+S*(-a*_*d-n*f*m+n*_*g+a*u*m-o*u*g+o*f*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,o){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=n,a[14]=o),this}invert(){const e=this.elements,n=e[0],o=e[1],a=e[2],l=e[3],u=e[4],_=e[5],f=e[6],h=e[7],d=e[8],m=e[9],g=e[10],y=e[11],w=e[12],E=e[13],A=e[14],S=e[15],C=m*A*h-E*g*h+E*f*y-_*A*y-m*f*S+_*g*S,R=w*g*h-d*A*h-w*f*y+u*A*y+d*f*S-u*g*S,P=d*E*h-w*m*h+w*_*y-u*E*y-d*_*S+u*m*S,D=w*m*f-d*E*f-w*_*g+u*E*g+d*_*A-u*m*A,G=n*C+o*R+a*P+l*D;if(G===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const z=1/G;return e[0]=C*z,e[1]=(E*g*l-m*A*l-E*a*y+o*A*y+m*a*S-o*g*S)*z,e[2]=(_*A*l-E*f*l+E*a*h-o*A*h-_*a*S+o*f*S)*z,e[3]=(m*f*l-_*g*l-m*a*h+o*g*h+_*a*y-o*f*y)*z,e[4]=R*z,e[5]=(d*A*l-w*g*l+w*a*y-n*A*y-d*a*S+n*g*S)*z,e[6]=(w*f*l-u*A*l-w*a*h+n*A*h+u*a*S-n*f*S)*z,e[7]=(u*g*l-d*f*l+d*a*h-n*g*h-u*a*y+n*f*y)*z,e[8]=P*z,e[9]=(w*m*l-d*E*l-w*o*y+n*E*y+d*o*S-n*m*S)*z,e[10]=(u*E*l-w*_*l+w*o*h-n*E*h-u*o*S+n*_*S)*z,e[11]=(d*_*l-u*m*l-d*o*h+n*m*h+u*o*y-n*_*y)*z,e[12]=D*z,e[13]=(d*E*a-w*m*a+w*o*g-n*E*g-d*o*A+n*m*A)*z,e[14]=(w*_*a-u*E*a-w*o*f+n*E*f+u*o*A-n*_*A)*z,e[15]=(u*m*a-d*_*a+d*o*f-n*m*f-u*o*g+n*_*g)*z,this}scale(e){const n=this.elements,o=e.x,a=e.y,l=e.z;return n[0]*=o,n[4]*=a,n[8]*=l,n[1]*=o,n[5]*=a,n[9]*=l,n[2]*=o,n[6]*=a,n[10]*=l,n[3]*=o,n[7]*=a,n[11]*=l,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,o,a))}makeTranslation(e,n,o){return this.set(1,0,0,e,0,1,0,n,0,0,1,o,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),o=Math.sin(e);return this.set(1,0,0,0,0,n,-o,0,0,o,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,0,o,0,0,1,0,0,-o,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const o=Math.cos(n),a=Math.sin(n),l=1-o,u=e.x,_=e.y,f=e.z,h=l*u,d=l*_;return this.set(h*u+o,h*_-a*f,h*f+a*_,0,h*_+a*f,d*_+o,d*f-a*u,0,h*f-a*_,d*f+a*u,l*f*f+o,0,0,0,0,1),this}makeScale(e,n,o){return this.set(e,0,0,0,0,n,0,0,0,0,o,0,0,0,0,1),this}makeShear(e,n,o,a,l,u){return this.set(1,o,l,0,e,1,u,0,n,a,1,0,0,0,0,1),this}compose(e,n,o){const a=this.elements,l=n._x,u=n._y,_=n._z,f=n._w,h=l+l,d=u+u,m=_+_,g=l*h,y=l*d,w=l*m,E=u*d,A=u*m,S=_*m,C=f*h,R=f*d,P=f*m,D=o.x,G=o.y,z=o.z;return a[0]=(1-(E+S))*D,a[1]=(y+P)*D,a[2]=(w-R)*D,a[3]=0,a[4]=(y-P)*G,a[5]=(1-(g+S))*G,a[6]=(A+C)*G,a[7]=0,a[8]=(w+R)*z,a[9]=(A-C)*z,a[10]=(1-(g+E))*z,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,n,o){const a=this.elements;let l=ox.set(a[0],a[1],a[2]).length();const u=ox.set(a[4],a[5],a[6]).length(),_=ox.set(a[8],a[9],a[10]).length();this.determinant()<0&&(l=-l),e.x=a[12],e.y=a[13],e.z=a[14],Yf.copy(this);const h=1/l,d=1/u,m=1/_;return Yf.elements[0]*=h,Yf.elements[1]*=h,Yf.elements[2]*=h,Yf.elements[4]*=d,Yf.elements[5]*=d,Yf.elements[6]*=d,Yf.elements[8]*=m,Yf.elements[9]*=m,Yf.elements[10]*=m,n.setFromRotationMatrix(Yf),o.x=l,o.y=u,o.z=_,this}makePerspective(e,n,o,a,l,u){u===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const _=this.elements,f=2*l/(n-e),h=2*l/(o-a),d=(n+e)/(n-e),m=(o+a)/(o-a),g=-(u+l)/(u-l),y=-2*u*l/(u-l);return _[0]=f,_[4]=0,_[8]=d,_[12]=0,_[1]=0,_[5]=h,_[9]=m,_[13]=0,_[2]=0,_[6]=0,_[10]=g,_[14]=y,_[3]=0,_[7]=0,_[11]=-1,_[15]=0,this}makeOrthographic(e,n,o,a,l,u){const _=this.elements,f=1/(n-e),h=1/(o-a),d=1/(u-l),m=(n+e)*f,g=(o+a)*h,y=(u+l)*d;return _[0]=2*f,_[4]=0,_[8]=0,_[12]=-m,_[1]=0,_[5]=2*h,_[9]=0,_[13]=-g,_[2]=0,_[6]=0,_[10]=-2*d,_[14]=-y,_[3]=0,_[7]=0,_[11]=0,_[15]=1,this}equals(e){const n=this.elements,o=e.elements;for(let a=0;a<16;a++)if(n[a]!==o[a])return!1;return!0}fromArray(e,n=0){for(let o=0;o<16;o++)this.elements[o]=e[o+n];return this}toArray(e=[],n=0){const o=this.elements;return e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3],e[n+4]=o[4],e[n+5]=o[5],e[n+6]=o[6],e[n+7]=o[7],e[n+8]=o[8],e[n+9]=o[9],e[n+10]=o[10],e[n+11]=o[11],e[n+12]=o[12],e[n+13]=o[13],e[n+14]=o[14],e[n+15]=o[15],e}}Cn.prototype.isMatrix4=!0;const ox=new te,Yf=new Cn,gMe=new te(0,0,0),yMe=new te(1,1,1),sg=new te,mF=new te,Qc=new te,Doe=new Cn,Ooe=new ps;class nk{constructor(e=0,n=0,o=0,a=nk.DefaultOrder){this._x=e,this._y=n,this._z=o,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,o,a=this._order){return this._x=e,this._y=n,this._z=o,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,o=!0){const a=e.elements,l=a[0],u=a[4],_=a[8],f=a[1],h=a[5],d=a[9],m=a[2],g=a[6],y=a[10];switch(n){case"XYZ":this._y=Math.asin(nl(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(-d,y),this._z=Math.atan2(-u,l)):(this._x=Math.atan2(g,h),this._z=0);break;case"YXZ":this._x=Math.asin(-nl(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(_,y),this._z=Math.atan2(f,h)):(this._y=Math.atan2(-m,l),this._z=0);break;case"ZXY":this._x=Math.asin(nl(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-m,y),this._z=Math.atan2(-u,h)):(this._y=0,this._z=Math.atan2(f,l));break;case"ZYX":this._y=Math.asin(-nl(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(g,y),this._z=Math.atan2(f,l)):(this._x=0,this._z=Math.atan2(-u,h));break;case"YZX":this._z=Math.asin(nl(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-d,h),this._y=Math.atan2(-m,l)):(this._x=0,this._y=Math.atan2(_,y));break;case"XZY":this._z=Math.asin(-nl(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(g,h),this._y=Math.atan2(_,l)):(this._x=Math.atan2(-d,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,o===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,o){return Doe.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Doe,n,o)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Ooe.setFromEuler(this),this.setFromQuaternion(Ooe,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new te(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}nk.prototype.isEuler=!0;nk.DefaultOrder="XYZ";nk.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class ax{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}}let kMe=0;const zoe=new te,sx=new ps,tm=new Cn,vF=new te,$A=new te,$Me=new te,bMe=new ps,Uoe=new te(1,0,0),joe=new te(0,1,0),Goe=new te(0,0,1),wMe={type:"added"},Woe={type:"removed"};class Ur extends Yd{constructor(){super();Object.defineProperty(this,"id",{value:kMe++}),this.uuid=Xc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ur.DefaultUp.clone();const e=new te,n=new nk,o=new ps,a=new te(1,1,1);function l(){o.setFromEuler(n,!1)}function u(){n.setFromQuaternion(o,void 0,!1)}n._onChange(l),o._onChange(u),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Cn},normalMatrix:{value:new fs}}),this.matrix=new Cn,this.matrixWorld=new Cn,this.matrixAutoUpdate=Ur.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ax,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return sx.setFromAxisAngle(e,n),this.quaternion.multiply(sx),this}rotateOnWorldAxis(e,n){return sx.setFromAxisAngle(e,n),this.quaternion.premultiply(sx),this}rotateX(e){return this.rotateOnAxis(Uoe,e)}rotateY(e){return this.rotateOnAxis(joe,e)}rotateZ(e){return this.rotateOnAxis(Goe,e)}translateOnAxis(e,n){return zoe.copy(e).applyQuaternion(this.quaternion),this.position.add(zoe.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Uoe,e)}translateY(e){return this.translateOnAxis(joe,e)}translateZ(e){return this.translateOnAxis(Goe,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(tm.copy(this.matrixWorld).invert())}lookAt(e,n,o){e.isVector3?vF.copy(e):vF.set(e,n,o);const a=this.parent;this.updateWorldMatrix(!0,!1),$A.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?tm.lookAt($A,vF,this.up):tm.lookAt(vF,$A,this.up),this.quaternion.setFromRotationMatrix(tm),a&&(tm.extractRotation(a.matrixWorld),sx.setFromRotationMatrix(tm),this.quaternion.premultiply(sx.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(wMe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Woe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(Woe)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),tm.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),tm.multiply(e.parent.matrixWorld)),e.applyMatrix4(tm),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let o=0,a=this.children.length;o<a;o++){const u=this.children[o].getObjectByProperty(e,n);if(u!==void 0)return u}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($A,e,$Me),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($A,bMe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let o=0,a=n.length;o<a;o++)n[o].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let o=0,a=n.length;o<a;o++)n[o].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let o=0,a=n.length;o<a;o++)n[o].updateMatrixWorld(e)}updateWorldMatrix(e,n){const o=this.parent;if(e===!0&&o!==null&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const a=this.children;for(let l=0,u=a.length;l<u;l++)a[l].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",o={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},o.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON()));function l(_,f){return _[f.uuid]===void 0&&(_[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=l(e.geometries,this.geometry);const _=this.geometry.parameters;if(_!==void 0&&_.shapes!==void 0){const f=_.shapes;if(Array.isArray(f))for(let h=0,d=f.length;h<d;h++){const m=f[h];l(e.shapes,m)}else l(e.shapes,f)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(l(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const _=[];for(let f=0,h=this.material.length;f<h;f++)_.push(l(e.materials,this.material[f]));a.material=_}else a.material=l(e.materials,this.material);if(this.children.length>0){a.children=[];for(let _=0;_<this.children.length;_++)a.children.push(this.children[_].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let _=0;_<this.animations.length;_++){const f=this.animations[_];a.animations.push(l(e.animations,f))}}if(n){const _=u(e.geometries),f=u(e.materials),h=u(e.textures),d=u(e.images),m=u(e.shapes),g=u(e.skeletons),y=u(e.animations);_.length>0&&(o.geometries=_),f.length>0&&(o.materials=f),h.length>0&&(o.textures=h),d.length>0&&(o.images=d),m.length>0&&(o.shapes=m),g.length>0&&(o.skeletons=g),y.length>0&&(o.animations=y)}return o.object=a,o;function u(_){const f=[];for(const h in _){const d=_[h];delete d.metadata,f.push(d)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let o=0;o<e.children.length;o++){const a=e.children[o];this.add(a.clone())}return this}}Ur.DefaultUp=new te(0,1,0);Ur.DefaultMatrixAutoUpdate=!0;Ur.prototype.isObject3D=!0;const Qf=new te,nm=new te,OG=new te,rm=new te,lx=new te,ux=new te,Hoe=new te,zG=new te,UG=new te,jG=new te;class Ra{constructor(e=new te,n=new te,o=new te){this.a=e,this.b=n,this.c=o}static getNormal(e,n,o,a){a.subVectors(o,n),Qf.subVectors(e,n),a.cross(Qf);const l=a.lengthSq();return l>0?a.multiplyScalar(1/Math.sqrt(l)):a.set(0,0,0)}static getBarycoord(e,n,o,a,l){Qf.subVectors(a,n),nm.subVectors(o,n),OG.subVectors(e,n);const u=Qf.dot(Qf),_=Qf.dot(nm),f=Qf.dot(OG),h=nm.dot(nm),d=nm.dot(OG),m=u*h-_*_;if(m===0)return l.set(-2,-1,-1);const g=1/m,y=(h*f-_*d)*g,w=(u*d-_*f)*g;return l.set(1-y-w,w,y)}static containsPoint(e,n,o,a){return this.getBarycoord(e,n,o,a,rm),rm.x>=0&&rm.y>=0&&rm.x+rm.y<=1}static getUV(e,n,o,a,l,u,_,f){return this.getBarycoord(e,n,o,a,rm),f.set(0,0),f.addScaledVector(l,rm.x),f.addScaledVector(u,rm.y),f.addScaledVector(_,rm.z),f}static isFrontFacing(e,n,o,a){return Qf.subVectors(o,n),nm.subVectors(e,n),Qf.cross(nm).dot(a)<0}set(e,n,o){return this.a.copy(e),this.b.copy(n),this.c.copy(o),this}setFromPointsAndIndices(e,n,o,a){return this.a.copy(e[n]),this.b.copy(e[o]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,n,o,a){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,o),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qf.subVectors(this.c,this.b),nm.subVectors(this.a,this.b),Qf.cross(nm).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ra.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ra.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,o,a,l){return Ra.getUV(e,this.a,this.b,this.c,n,o,a,l)}containsPoint(e){return Ra.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ra.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const o=this.a,a=this.b,l=this.c;let u,_;lx.subVectors(a,o),ux.subVectors(l,o),zG.subVectors(e,o);const f=lx.dot(zG),h=ux.dot(zG);if(f<=0&&h<=0)return n.copy(o);UG.subVectors(e,a);const d=lx.dot(UG),m=ux.dot(UG);if(d>=0&&m<=d)return n.copy(a);const g=f*m-d*h;if(g<=0&&f>=0&&d<=0)return u=f/(f-d),n.copy(o).addScaledVector(lx,u);jG.subVectors(e,l);const y=lx.dot(jG),w=ux.dot(jG);if(w>=0&&y<=w)return n.copy(l);const E=y*h-f*w;if(E<=0&&h>=0&&w<=0)return _=h/(h-w),n.copy(o).addScaledVector(ux,_);const A=d*w-y*m;if(A<=0&&m-d>=0&&y-w>=0)return Hoe.subVectors(l,a),_=(m-d)/(m-d+(y-w)),n.copy(a).addScaledVector(Hoe,_);const S=1/(A+E+g);return u=E*S,_=g*S,n.copy(o).addScaledVector(lx,u).addScaledVector(ux,_)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let xMe=0;class Ha extends Yd{constructor(){super();Object.defineProperty(this,"id",{value:xMe++}),this.uuid=Xc(),this.name="",this.type="Material",this.fog=!0,this.blending=qw,this.side=Qv,this.vertexColors=!1,this.opacity=1,this.format=el,this.transparent=!1,this.blendSrc=sG,this.blendDst=lG,this.blendEquation=W0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=nF,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ioe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=lF,this.stencilZFail=lF,this.stencilZPass=lF,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const o=e[n];if(o===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=o===tG;continue}const a=this[n];if(a===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}a&&a.isColor?a.set(o):a&&a.isVector3&&o&&o.isVector3?a.copy(o):this[n]=o}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const o={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.color&&this.color.isColor&&(o.color=this.color.getHex()),this.roughness!==void 0&&(o.roughness=this.roughness),this.metalness!==void 0&&(o.metalness=this.metalness),this.sheen!==void 0&&(o.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(o.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(o.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(o.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(o.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(o.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(o.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(o.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(o.shininess=this.shininess),this.clearcoat!==void 0&&(o.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(o.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(o.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(o.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,o.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(o.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(o.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(o.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(o.lightMap=this.lightMap.toJSON(e).uuid,o.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(o.aoMap=this.aoMap.toJSON(e).uuid,o.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(o.bumpMap=this.bumpMap.toJSON(e).uuid,o.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(o.normalMap=this.normalMap.toJSON(e).uuid,o.normalMapType=this.normalMapType,o.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(o.displacementMap=this.displacementMap.toJSON(e).uuid,o.displacementScale=this.displacementScale,o.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(o.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(o.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(o.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(o.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(o.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(o.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(o.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(o.combine=this.combine)),this.envMapIntensity!==void 0&&(o.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(o.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(o.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(o.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(o.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(o.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(o.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(o.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(o.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(o.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(o.size=this.size),this.shadowSide!==null&&(o.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(o.sizeAttenuation=this.sizeAttenuation),this.blending!==qw&&(o.blending=this.blending),this.side!==Qv&&(o.side=this.side),this.vertexColors&&(o.vertexColors=!0),this.opacity<1&&(o.opacity=this.opacity),this.format!==el&&(o.format=this.format),this.transparent===!0&&(o.transparent=this.transparent),o.depthFunc=this.depthFunc,o.depthTest=this.depthTest,o.depthWrite=this.depthWrite,o.colorWrite=this.colorWrite,o.stencilWrite=this.stencilWrite,o.stencilWriteMask=this.stencilWriteMask,o.stencilFunc=this.stencilFunc,o.stencilRef=this.stencilRef,o.stencilFuncMask=this.stencilFuncMask,o.stencilFail=this.stencilFail,o.stencilZFail=this.stencilZFail,o.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(o.rotation=this.rotation),this.polygonOffset===!0&&(o.polygonOffset=!0),this.polygonOffsetFactor!==0&&(o.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(o.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(o.linewidth=this.linewidth),this.dashSize!==void 0&&(o.dashSize=this.dashSize),this.gapSize!==void 0&&(o.gapSize=this.gapSize),this.scale!==void 0&&(o.scale=this.scale),this.dithering===!0&&(o.dithering=!0),this.alphaTest>0&&(o.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(o.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(o.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(o.wireframe=this.wireframe),this.wireframeLinewidth>1&&(o.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(o.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(o.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(o.flatShading=this.flatShading),this.visible===!1&&(o.visible=!1),this.toneMapped===!1&&(o.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData);function a(l){const u=[];for(const _ in l){const f=l[_];delete f.metadata,u.push(f)}return u}if(n){const l=a(e.textures),u=a(e.images);l.length>0&&(o.textures=l),u.length>0&&(o.images=u)}return o}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let o=null;if(n!==null){const a=n.length;o=new Array(a);for(let l=0;l!==a;++l)o[l]=n[l].clone()}return this.clippingPlanes=o,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Ha.prototype.isMaterial=!0;const Voe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zf={h:0,s:0,l:0},gF={h:0,s:0,l:0};function GG(r,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?r+(e-r)*6*n:n<1/2?e:n<2/3?r+(e-r)*6*(2/3-n):r}function WG(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function HG(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}class Ut{constructor(e,n,o){return n===void 0&&o===void 0?this.set(e):this.setRGB(e,n,o)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,n,o){return this.r=e,this.g=n,this.b=o,this}setHSL(e,n,o){if(e=CG(e,1),n=nl(n,0,1),o=nl(o,0,1),n===0)this.r=this.g=this.b=o;else{const a=o<=.5?o*(1+n):o+n-o*n,l=2*o-a;this.r=GG(l,a,e+1/3),this.g=GG(l,a,e),this.b=GG(l,a,e-1/3)}return this}setStyle(e){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let a;const l=o[1],u=o[2];switch(l){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,n(a[4]),this;if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,n(a[4]),this;break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u)){const _=parseFloat(a[1])/360,f=parseInt(a[2],10)/100,h=parseInt(a[3],10)/100;return n(a[4]),this.setHSL(_,f,h)}break}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=o[1],l=a.length;if(l===3)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,this;if(l===6)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const n=Voe[e.toLowerCase()];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,n=2){return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}copyLinearToGamma(e,n=2){const o=n>0?1/n:1;return this.r=Math.pow(e.r,o),this.g=Math.pow(e.g,o),this.b=Math.pow(e.b,o),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=WG(e.r),this.g=WG(e.g),this.b=WG(e.b),this}copyLinearToSRGB(e){return this.r=HG(e.r),this.g=HG(e.g),this.b=HG(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const n=this.r,o=this.g,a=this.b,l=Math.max(n,o,a),u=Math.min(n,o,a);let _,f;const h=(u+l)/2;if(u===l)_=0,f=0;else{const d=l-u;switch(f=h<=.5?d/(l+u):d/(2-l-u),l){case n:_=(o-a)/d+(o<a?6:0);break;case o:_=(a-n)/d+2;break;case a:_=(n-o)/d+4;break}_/=6}return e.h=_,e.s=f,e.l=h,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,n,o){return this.getHSL(Zf),Zf.h+=e,Zf.s+=n,Zf.l+=o,this.setHSL(Zf.h,Zf.s,Zf.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,o){return this.r=e.r+(n.r-e.r)*o,this.g=e.g+(n.g-e.g)*o,this.b=e.b+(n.b-e.b)*o,this}lerpHSL(e,n){this.getHSL(Zf),e.getHSL(gF);const o=gA(Zf.h,gF.h,n),a=gA(Zf.s,gF.s,n),l=gA(Zf.l,gF.l,n);return this.setHSL(o,a,l),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ut.NAMES=Voe;Ut.prototype.isColor=!0;Ut.prototype.r=1;Ut.prototype.g=1;Ut.prototype.b=1;class sc extends Ha{constructor(e){super();this.type="MeshBasicMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}sc.prototype.isMeshBasicMaterial=!0;const vo=new te,yF=new rt;class jr{constructor(e,n,o){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=o===!0,this.usage=Qw,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,o){e*=this.itemSize,o*=n.itemSize;for(let a=0,l=this.itemSize;a<l;a++)this.array[e+a]=n.array[o+a];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let o=0;for(let a=0,l=e.length;a<l;a++){let u=e[a];u===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",a),u=new Ut),n[o++]=u.r,n[o++]=u.g,n[o++]=u.b}return this}copyVector2sArray(e){const n=this.array;let o=0;for(let a=0,l=e.length;a<l;a++){let u=e[a];u===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",a),u=new rt),n[o++]=u.x,n[o++]=u.y}return this}copyVector3sArray(e){const n=this.array;let o=0;for(let a=0,l=e.length;a<l;a++){let u=e[a];u===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",a),u=new te),n[o++]=u.x,n[o++]=u.y,n[o++]=u.z}return this}copyVector4sArray(e){const n=this.array;let o=0;for(let a=0,l=e.length;a<l;a++){let u=e[a];u===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",a),u=new Ui),n[o++]=u.x,n[o++]=u.y,n[o++]=u.z,n[o++]=u.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,o=this.count;n<o;n++)yF.fromBufferAttribute(this,n),yF.applyMatrix3(e),this.setXY(n,yF.x,yF.y);else if(this.itemSize===3)for(let n=0,o=this.count;n<o;n++)vo.fromBufferAttribute(this,n),vo.applyMatrix3(e),this.setXYZ(n,vo.x,vo.y,vo.z);return this}applyMatrix4(e){for(let n=0,o=this.count;n<o;n++)vo.x=this.getX(n),vo.y=this.getY(n),vo.z=this.getZ(n),vo.applyMatrix4(e),this.setXYZ(n,vo.x,vo.y,vo.z);return this}applyNormalMatrix(e){for(let n=0,o=this.count;n<o;n++)vo.x=this.getX(n),vo.y=this.getY(n),vo.z=this.getZ(n),vo.applyNormalMatrix(e),this.setXYZ(n,vo.x,vo.y,vo.z);return this}transformDirection(e){for(let n=0,o=this.count;n<o;n++)vo.x=this.getX(n),vo.y=this.getY(n),vo.z=this.getZ(n),vo.transformDirection(e),this.setXYZ(n,vo.x,vo.y,vo.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,o){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=o,this}setXYZ(e,n,o,a){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=o,this.array[e+2]=a,this}setXYZW(e,n,o,a,l){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=o,this.array[e+2]=a,this.array[e+3]=l,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Qw&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}jr.prototype.isBufferAttribute=!0;class qoe extends jr{constructor(e,n,o){super(new Int8Array(e),n,o)}}class Koe extends jr{constructor(e,n,o){super(new Uint8Array(e),n,o)}}class Joe extends jr{constructor(e,n,o){super(new Uint8ClampedArray(e),n,o)}}class Xoe extends jr{constructor(e,n,o){super(new Int16Array(e),n,o)}}class kF extends jr{constructor(e,n,o){super(new Uint16Array(e),n,o)}}class Yoe extends jr{constructor(e,n,o){super(new Int32Array(e),n,o)}}class $F extends jr{constructor(e,n,o){super(new Uint32Array(e),n,o)}}class Qoe extends jr{constructor(e,n,o){super(new Uint16Array(e),n,o)}}Qoe.prototype.isFloat16BufferAttribute=!0;class In extends jr{constructor(e,n,o){super(new Float32Array(e),n,o)}}class Zoe extends jr{constructor(e,n,o){super(new Float64Array(e),n,o)}}let SMe=0;const z_=new Cn,VG=new Ur,cx=new te,Zc=new ac,bA=new ac,Rs=new te;class Yn extends Yd{constructor(){super();Object.defineProperty(this,"id",{value:SMe++}),this.uuid=Xc(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Roe(e)>65535?$F:kF)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,o=0){this.groups.push({start:e,count:n,materialIndex:o})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const o=this.attributes.normal;if(o!==void 0){const l=new fs().getNormalMatrix(e);o.applyNormalMatrix(l),o.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return z_.makeRotationFromQuaternion(e),this.applyMatrix4(z_),this}rotateX(e){return z_.makeRotationX(e),this.applyMatrix4(z_),this}rotateY(e){return z_.makeRotationY(e),this.applyMatrix4(z_),this}rotateZ(e){return z_.makeRotationZ(e),this.applyMatrix4(z_),this}translate(e,n,o){return z_.makeTranslation(e,n,o),this.applyMatrix4(z_),this}scale(e,n,o){return z_.makeScale(e,n,o),this.applyMatrix4(z_),this}lookAt(e){return VG.lookAt(e),VG.updateMatrix(),this.applyMatrix4(VG.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cx).negate(),this.translate(cx.x,cx.y,cx.z),this}setFromPoints(e){const n=[];for(let o=0,a=e.length;o<a;o++){const l=e[o];n.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new In(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ac);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const l=n[o];Zc.setFromBufferAttribute(l),this.morphTargetsRelative?(Rs.addVectors(this.boundingBox.min,Zc.min),this.boundingBox.expandByPoint(Rs),Rs.addVectors(this.boundingBox.max,Zc.max),this.boundingBox.expandByPoint(Rs)):(this.boundingBox.expandByPoint(Zc.min),this.boundingBox.expandByPoint(Zc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zd);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new te,1/0);return}if(e){const o=this.boundingSphere.center;if(Zc.setFromBufferAttribute(e),n)for(let l=0,u=n.length;l<u;l++){const _=n[l];bA.setFromBufferAttribute(_),this.morphTargetsRelative?(Rs.addVectors(Zc.min,bA.min),Zc.expandByPoint(Rs),Rs.addVectors(Zc.max,bA.max),Zc.expandByPoint(Rs)):(Zc.expandByPoint(bA.min),Zc.expandByPoint(bA.max))}Zc.getCenter(o);let a=0;for(let l=0,u=e.count;l<u;l++)Rs.fromBufferAttribute(e,l),a=Math.max(a,o.distanceToSquared(Rs));if(n)for(let l=0,u=n.length;l<u;l++){const _=n[l],f=this.morphTargetsRelative;for(let h=0,d=_.count;h<d;h++)Rs.fromBufferAttribute(_,h),f&&(cx.fromBufferAttribute(e,h),Rs.add(cx)),a=Math.max(a,o.distanceToSquared(Rs))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const o=e.array,a=n.position.array,l=n.normal.array,u=n.uv.array,_=a.length/3;n.tangent===void 0&&this.setAttribute("tangent",new jr(new Float32Array(4*_),4));const f=n.tangent.array,h=[],d=[];for(let ne=0;ne<_;ne++)h[ne]=new te,d[ne]=new te;const m=new te,g=new te,y=new te,w=new rt,E=new rt,A=new rt,S=new te,C=new te;function R(ne,Y,ue){m.fromArray(a,ne*3),g.fromArray(a,Y*3),y.fromArray(a,ue*3),w.fromArray(u,ne*2),E.fromArray(u,Y*2),A.fromArray(u,ue*2),g.sub(m),y.sub(m),E.sub(w),A.sub(w);const _e=1/(E.x*A.y-A.x*E.y);!isFinite(_e)||(S.copy(g).multiplyScalar(A.y).addScaledVector(y,-E.y).multiplyScalar(_e),C.copy(y).multiplyScalar(E.x).addScaledVector(g,-A.x).multiplyScalar(_e),h[ne].add(S),h[Y].add(S),h[ue].add(S),d[ne].add(C),d[Y].add(C),d[ue].add(C))}let P=this.groups;P.length===0&&(P=[{start:0,count:o.length}]);for(let ne=0,Y=P.length;ne<Y;++ne){const ue=P[ne],_e=ue.start,ge=ue.count;for(let $e=_e,xe=_e+ge;$e<xe;$e+=3)R(o[$e+0],o[$e+1],o[$e+2])}const D=new te,G=new te,z=new te,V=new te;function X(ne){z.fromArray(l,ne*3),V.copy(z);const Y=h[ne];D.copy(Y),D.sub(z.multiplyScalar(z.dot(Y))).normalize(),G.crossVectors(V,Y);const _e=G.dot(d[ne])<0?-1:1;f[ne*4]=D.x,f[ne*4+1]=D.y,f[ne*4+2]=D.z,f[ne*4+3]=_e}for(let ne=0,Y=P.length;ne<Y;++ne){const ue=P[ne],_e=ue.start,ge=ue.count;for(let $e=_e,xe=_e+ge;$e<xe;$e+=3)X(o[$e+0]),X(o[$e+1]),X(o[$e+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let o=this.getAttribute("normal");if(o===void 0)o=new jr(new Float32Array(n.count*3),3),this.setAttribute("normal",o);else for(let g=0,y=o.count;g<y;g++)o.setXYZ(g,0,0,0);const a=new te,l=new te,u=new te,_=new te,f=new te,h=new te,d=new te,m=new te;if(e)for(let g=0,y=e.count;g<y;g+=3){const w=e.getX(g+0),E=e.getX(g+1),A=e.getX(g+2);a.fromBufferAttribute(n,w),l.fromBufferAttribute(n,E),u.fromBufferAttribute(n,A),d.subVectors(u,l),m.subVectors(a,l),d.cross(m),_.fromBufferAttribute(o,w),f.fromBufferAttribute(o,E),h.fromBufferAttribute(o,A),_.add(d),f.add(d),h.add(d),o.setXYZ(w,_.x,_.y,_.z),o.setXYZ(E,f.x,f.y,f.z),o.setXYZ(A,h.x,h.y,h.z)}else for(let g=0,y=n.count;g<y;g+=3)a.fromBufferAttribute(n,g+0),l.fromBufferAttribute(n,g+1),u.fromBufferAttribute(n,g+2),d.subVectors(u,l),m.subVectors(a,l),d.cross(m),o.setXYZ(g+0,d.x,d.y,d.z),o.setXYZ(g+1,d.x,d.y,d.z),o.setXYZ(g+2,d.x,d.y,d.z);this.normalizeNormals(),o.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const o=this.attributes;for(const a in o){if(e.attributes[a]===void 0)continue;const u=o[a].array,_=e.attributes[a],f=_.array,h=_.itemSize*n,d=Math.min(f.length,u.length-h);for(let m=0,g=h;m<d;m++,g++)u[g]=f[m]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,o=e.count;n<o;n++)Rs.fromBufferAttribute(e,n),Rs.normalize(),e.setXYZ(n,Rs.x,Rs.y,Rs.z)}toNonIndexed(){function e(_,f){const h=_.array,d=_.itemSize,m=_.normalized,g=new h.constructor(f.length*d);let y=0,w=0;for(let E=0,A=f.length;E<A;E++){_.isInterleavedBufferAttribute?y=f[E]*_.data.stride+_.offset:y=f[E]*d;for(let S=0;S<d;S++)g[w++]=h[y++]}return new jr(g,d,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Yn,o=this.index.array,a=this.attributes;for(const _ in a){const f=a[_],h=e(f,o);n.setAttribute(_,h)}const l=this.morphAttributes;for(const _ in l){const f=[],h=l[_];for(let d=0,m=h.length;d<m;d++){const g=h[d],y=e(g,o);f.push(y)}n.morphAttributes[_]=f}n.morphTargetsRelative=this.morphTargetsRelative;const u=this.groups;for(let _=0,f=u.length;_<f;_++){const h=u[_];n.addGroup(h.start,h.count,h.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const h in f)f[h]!==void 0&&(e[h]=f[h]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const o=this.attributes;for(const f in o){const h=o[f];e.data.attributes[f]=h.toJSON(e.data)}const a={};let l=!1;for(const f in this.morphAttributes){const h=this.morphAttributes[f],d=[];for(let m=0,g=h.length;m<g;m++){const y=h[m];d.push(y.toJSON(e.data))}d.length>0&&(a[f]=d,l=!0)}l&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const u=this.groups;u.length>0&&(e.data.groups=JSON.parse(JSON.stringify(u)));const _=this.boundingSphere;return _!==null&&(e.data.boundingSphere={center:_.center.toArray(),radius:_.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const o=e.index;o!==null&&this.setIndex(o.clone(n));const a=e.attributes;for(const h in a){const d=a[h];this.setAttribute(h,d.clone(n))}const l=e.morphAttributes;for(const h in l){const d=[],m=l[h];for(let g=0,y=m.length;g<y;g++)d.push(m[g].clone(n));this.morphAttributes[h]=d}this.morphTargetsRelative=e.morphTargetsRelative;const u=e.groups;for(let h=0,d=u.length;h<d;h++){const m=u[h];this.addGroup(m.start,m.count,m.materialIndex)}const _=e.boundingBox;_!==null&&(this.boundingBox=_.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Yn.prototype.isBufferGeometry=!0;const eae=new Cn,_x=new ag,qG=new Zd,lg=new te,ug=new te,cg=new te,KG=new te,JG=new te,XG=new te,bF=new te,wF=new te,xF=new te,SF=new rt,EF=new rt,CF=new rt,YG=new te,AF=new te;class Pa extends Ur{constructor(e=new Yn,n=new sc){super();this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,o=Object.keys(n);if(o.length>0){const a=n[o[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,u=a.length;l<u;l++){const _=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[_]=l}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,n){const o=this.geometry,a=this.material,l=this.matrixWorld;if(a===void 0||(o.boundingSphere===null&&o.computeBoundingSphere(),qG.copy(o.boundingSphere),qG.applyMatrix4(l),e.ray.intersectsSphere(qG)===!1)||(eae.copy(l).invert(),_x.copy(e.ray).applyMatrix4(eae),o.boundingBox!==null&&_x.intersectsBox(o.boundingBox)===!1))return;let u;if(o.isBufferGeometry){const _=o.index,f=o.attributes.position,h=o.morphAttributes.position,d=o.morphTargetsRelative,m=o.attributes.uv,g=o.attributes.uv2,y=o.groups,w=o.drawRange;if(_!==null)if(Array.isArray(a))for(let E=0,A=y.length;E<A;E++){const S=y[E],C=a[S.materialIndex],R=Math.max(S.start,w.start),P=Math.min(_.count,Math.min(S.start+S.count,w.start+w.count));for(let D=R,G=P;D<G;D+=3){const z=_.getX(D),V=_.getX(D+1),X=_.getX(D+2);u=TF(this,C,e,_x,f,h,d,m,g,z,V,X),u&&(u.faceIndex=Math.floor(D/3),u.face.materialIndex=S.materialIndex,n.push(u))}}else{const E=Math.max(0,w.start),A=Math.min(_.count,w.start+w.count);for(let S=E,C=A;S<C;S+=3){const R=_.getX(S),P=_.getX(S+1),D=_.getX(S+2);u=TF(this,a,e,_x,f,h,d,m,g,R,P,D),u&&(u.faceIndex=Math.floor(S/3),n.push(u))}}else if(f!==void 0)if(Array.isArray(a))for(let E=0,A=y.length;E<A;E++){const S=y[E],C=a[S.materialIndex],R=Math.max(S.start,w.start),P=Math.min(f.count,Math.min(S.start+S.count,w.start+w.count));for(let D=R,G=P;D<G;D+=3){const z=D,V=D+1,X=D+2;u=TF(this,C,e,_x,f,h,d,m,g,z,V,X),u&&(u.faceIndex=Math.floor(D/3),u.face.materialIndex=S.materialIndex,n.push(u))}}else{const E=Math.max(0,w.start),A=Math.min(f.count,w.start+w.count);for(let S=E,C=A;S<C;S+=3){const R=S,P=S+1,D=S+2;u=TF(this,a,e,_x,f,h,d,m,g,R,P,D),u&&(u.faceIndex=Math.floor(S/3),n.push(u))}}}else o.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Pa.prototype.isMesh=!0;function EMe(r,e,n,o,a,l,u,_){let f;if(e.side===Ma?f=o.intersectTriangle(u,l,a,!0,_):f=o.intersectTriangle(a,l,u,e.side!==Zv,_),f===null)return null;AF.copy(_),AF.applyMatrix4(r.matrixWorld);const h=n.ray.origin.distanceTo(AF);return h<n.near||h>n.far?null:{distance:h,point:AF.clone(),object:r}}function TF(r,e,n,o,a,l,u,_,f,h,d,m){lg.fromBufferAttribute(a,h),ug.fromBufferAttribute(a,d),cg.fromBufferAttribute(a,m);const g=r.morphTargetInfluences;if(l&&g){bF.set(0,0,0),wF.set(0,0,0),xF.set(0,0,0);for(let w=0,E=l.length;w<E;w++){const A=g[w],S=l[w];A!==0&&(KG.fromBufferAttribute(S,h),JG.fromBufferAttribute(S,d),XG.fromBufferAttribute(S,m),u?(bF.addScaledVector(KG,A),wF.addScaledVector(JG,A),xF.addScaledVector(XG,A)):(bF.addScaledVector(KG.sub(lg),A),wF.addScaledVector(JG.sub(ug),A),xF.addScaledVector(XG.sub(cg),A)))}lg.add(bF),ug.add(wF),cg.add(xF)}r.isSkinnedMesh&&(r.boneTransform(h,lg),r.boneTransform(d,ug),r.boneTransform(m,cg));const y=EMe(r,e,n,o,lg,ug,cg,YG);if(y){_&&(SF.fromBufferAttribute(_,h),EF.fromBufferAttribute(_,d),CF.fromBufferAttribute(_,m),y.uv=Ra.getUV(YG,lg,ug,cg,SF,EF,CF,new rt)),f&&(SF.fromBufferAttribute(f,h),EF.fromBufferAttribute(f,d),CF.fromBufferAttribute(f,m),y.uv2=Ra.getUV(YG,lg,ug,cg,SF,EF,CF,new rt));const w={a:h,b:d,c:m,normal:new te,materialIndex:0};Ra.getNormal(lg,ug,cg,w.normal),y.face=w}return y}class im extends Yn{constructor(e=1,n=1,o=1,a=1,l=1,u=1){super();this.type="BoxGeometry",this.parameters={width:e,height:n,depth:o,widthSegments:a,heightSegments:l,depthSegments:u};const _=this;a=Math.floor(a),l=Math.floor(l),u=Math.floor(u);const f=[],h=[],d=[],m=[];let g=0,y=0;w("z","y","x",-1,-1,o,n,e,u,l,0),w("z","y","x",1,-1,o,n,-e,u,l,1),w("x","z","y",1,1,e,o,n,a,u,2),w("x","z","y",1,-1,e,o,-n,a,u,3),w("x","y","z",1,-1,e,n,o,a,l,4),w("x","y","z",-1,-1,e,n,-o,a,l,5),this.setIndex(f),this.setAttribute("position",new In(h,3)),this.setAttribute("normal",new In(d,3)),this.setAttribute("uv",new In(m,2));function w(E,A,S,C,R,P,D,G,z,V,X){const ne=P/z,Y=D/V,ue=P/2,_e=D/2,ge=G/2,$e=z+1,xe=V+1;let Ie=0,tt=0;const gt=new te;for(let Je=0;Je<xe;Je++){const ve=Je*Y-_e;for(let He=0;He<$e;He++){const Ge=He*ne-ue;gt[E]=Ge*C,gt[A]=ve*R,gt[S]=ge,h.push(gt.x,gt.y,gt.z),gt[E]=0,gt[A]=0,gt[S]=G>0?1:-1,d.push(gt.x,gt.y,gt.z),m.push(He/z),m.push(1-Je/V),Ie+=1}}for(let Je=0;Je<V;Je++)for(let ve=0;ve<z;ve++){const He=g+ve+$e*Je,Ge=g+ve+$e*(Je+1),kt=g+(ve+1)+$e*(Je+1),an=g+(ve+1)+$e*Je;f.push(He,Ge,an),f.push(Ge,kt,an),tt+=6}_.addGroup(y,tt,X),y+=tt,g+=Ie}}static fromJSON(e){return new im(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function fx(r){const e={};for(const n in r){e[n]={};for(const o in r[n]){const a=r[n][o];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?e[n][o]=a.clone():Array.isArray(a)?e[n][o]=a.slice():e[n][o]=a}}return e}function Il(r){const e={};for(let n=0;n<r.length;n++){const o=fx(r[n]);for(const a in o)e[a]=o[a]}return e}const tae={clone:fx,merge:Il};var CMe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,AMe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class om extends Ha{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=CMe,this.fragmentShader=AMe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=fx(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const a in this.uniforms){const u=this.uniforms[a].value;u&&u.isTexture?n.uniforms[a]={type:"t",value:u.toJSON(e).uuid}:u&&u.isColor?n.uniforms[a]={type:"c",value:u.getHex()}:u&&u.isVector2?n.uniforms[a]={type:"v2",value:u.toArray()}:u&&u.isVector3?n.uniforms[a]={type:"v3",value:u.toArray()}:u&&u.isVector4?n.uniforms[a]={type:"v4",value:u.toArray()}:u&&u.isMatrix3?n.uniforms[a]={type:"m3",value:u.toArray()}:u&&u.isMatrix4?n.uniforms[a]={type:"m4",value:u.toArray()}:n.uniforms[a]={value:u}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const o={};for(const a in this.extensions)this.extensions[a]===!0&&(o[a]=!0);return Object.keys(o).length>0&&(n.extensions=o),n}}om.prototype.isShaderMaterial=!0;class rk extends Ur{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Cn,this.projectionMatrix=new Cn,this.projectionMatrixInverse=new Cn}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}rk.prototype.isCamera=!0;class go extends rk{constructor(e=50,n=1,o=.1,a=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=o,this.far=a,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=vA*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Q0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return vA*2*Math.atan(Math.tan(Q0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,o,a,l,u){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=o,this.view.offsetY=a,this.view.width=l,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Q0*.5*this.fov)/this.zoom,o=2*n,a=this.aspect*o,l=-.5*a;const u=this.view;if(this.view!==null&&this.view.enabled){const f=u.fullWidth,h=u.fullHeight;l+=u.offsetX*a/f,n-=u.offsetY*o/h,a*=u.width/f,o*=u.height/h}const _=this.filmOffset;_!==0&&(l+=e*_/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+a,n,n-o,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}go.prototype.isPerspectiveCamera=!0;const px=90,hx=1;class IF extends Ur{constructor(e,n,o){super();if(this.type="CubeCamera",o.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=o;const a=new go(px,hx,e,n);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new te(1,0,0)),this.add(a);const l=new go(px,hx,e,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new te(-1,0,0)),this.add(l);const u=new go(px,hx,e,n);u.layers=this.layers,u.up.set(0,0,1),u.lookAt(new te(0,1,0)),this.add(u);const _=new go(px,hx,e,n);_.layers=this.layers,_.up.set(0,0,-1),_.lookAt(new te(0,-1,0)),this.add(_);const f=new go(px,hx,e,n);f.layers=this.layers,f.up.set(0,-1,0),f.lookAt(new te(0,0,1)),this.add(f);const h=new go(px,hx,e,n);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new te(0,0,-1)),this.add(h)}update(e,n){this.parent===null&&this.updateMatrixWorld();const o=this.renderTarget,[a,l,u,_,f,h]=this.children,d=e.xr.enabled,m=e.getRenderTarget();e.xr.enabled=!1;const g=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,e.setRenderTarget(o,0),e.render(n,a),e.setRenderTarget(o,1),e.render(n,l),e.setRenderTarget(o,2),e.render(n,u),e.setRenderTarget(o,3),e.render(n,_),e.setRenderTarget(o,4),e.render(n,f),o.texture.generateMipmaps=g,e.setRenderTarget(o,5),e.render(n,h),e.setRenderTarget(m),e.xr.enabled=d}}class dx extends Na{constructor(e,n,o,a,l,u,_,f,h,d){e=e!==void 0?e:[],n=n!==void 0?n:H0;super(e,n,o,a,l,u,_,f,h,d);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}dx.prototype.isCubeTexture=!0;class MF extends Yc{constructor(e,n,o){Number.isInteger(n)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),n=o);super(e,e,n);n=n||{},this.texture=new dx(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Ro,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.format=el,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const o={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new im(5,5,5),l=new om({name:"CubemapFromEquirect",uniforms:fx(o.uniforms),vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,side:Ma,blending:Kd});l.uniforms.tEquirect.value=n;const u=new Pa(a,l),_=n.minFilter;return n.minFilter===Xd&&(n.minFilter=Ro),new IF(1,10,this).update(e,u),n.minFilter=_,u.geometry.dispose(),u.material.dispose(),this}clear(e,n,o,a){const l=e.getRenderTarget();for(let u=0;u<6;u++)e.setRenderTarget(this,u),e.clear(n,o,a);e.setRenderTarget(l)}}MF.prototype.isWebGLCubeRenderTarget=!0;const QG=new te,TMe=new te,IMe=new fs;class dh{constructor(e=new te(1,0,0),n=0){this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,o,a){return this.normal.set(e,n,o),this.constant=a,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,o){const a=QG.subVectors(o,n).cross(TMe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const o=e.delta(QG),a=this.normal.dot(o);if(a===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const l=-(e.start.dot(this.normal)+this.constant)/a;return l<0||l>1?null:n.copy(o).multiplyScalar(l).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),o=this.distanceToPoint(e.end);return n<0&&o>0||o<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const o=n||IMe.getNormalMatrix(e),a=this.coplanarPoint(QG).applyMatrix4(e),l=this.normal.applyMatrix3(o).normalize();return this.constant=-a.dot(l),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}dh.prototype.isPlane=!0;const mx=new Zd,NF=new te;class wA{constructor(e=new dh,n=new dh,o=new dh,a=new dh,l=new dh,u=new dh){this.planes=[e,n,o,a,l,u]}set(e,n,o,a,l,u){const _=this.planes;return _[0].copy(e),_[1].copy(n),_[2].copy(o),_[3].copy(a),_[4].copy(l),_[5].copy(u),this}copy(e){const n=this.planes;for(let o=0;o<6;o++)n[o].copy(e.planes[o]);return this}setFromProjectionMatrix(e){const n=this.planes,o=e.elements,a=o[0],l=o[1],u=o[2],_=o[3],f=o[4],h=o[5],d=o[6],m=o[7],g=o[8],y=o[9],w=o[10],E=o[11],A=o[12],S=o[13],C=o[14],R=o[15];return n[0].setComponents(_-a,m-f,E-g,R-A).normalize(),n[1].setComponents(_+a,m+f,E+g,R+A).normalize(),n[2].setComponents(_+l,m+h,E+y,R+S).normalize(),n[3].setComponents(_-l,m-h,E-y,R-S).normalize(),n[4].setComponents(_-u,m-d,E-w,R-C).normalize(),n[5].setComponents(_+u,m+d,E+w,R+C).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),mx.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(mx)}intersectsSprite(e){return mx.center.set(0,0,0),mx.radius=.7071067811865476,mx.applyMatrix4(e.matrixWorld),this.intersectsSphere(mx)}intersectsSphere(e){const n=this.planes,o=e.center,a=-e.radius;for(let l=0;l<6;l++)if(n[l].distanceToPoint(o)<a)return!1;return!0}intersectsBox(e){const n=this.planes;for(let o=0;o<6;o++){const a=n[o];if(NF.x=a.normal.x>0?e.max.x:e.min.x,NF.y=a.normal.y>0?e.max.y:e.min.y,NF.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(NF)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let o=0;o<6;o++)if(n[o].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function nae(){let r=null,e=!1,n=null,o=null;function a(l,u){n(l,u),o=r.requestAnimationFrame(a)}return{start:function(){e!==!0&&n!==null&&(o=r.requestAnimationFrame(a),e=!0)},stop:function(){r.cancelAnimationFrame(o),e=!1},setAnimationLoop:function(l){n=l},setContext:function(l){r=l}}}function MMe(r,e){const n=e.isWebGL2,o=new WeakMap;function a(h,d){const m=h.array,g=h.usage,y=r.createBuffer();r.bindBuffer(d,y),r.bufferData(d,m,g),h.onUploadCallback();let w=5126;return m instanceof Float32Array?w=5126:m instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):m instanceof Uint16Array?h.isFloat16BufferAttribute?n?w=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):w=5123:m instanceof Int16Array?w=5122:m instanceof Uint32Array?w=5125:m instanceof Int32Array?w=5124:m instanceof Int8Array?w=5120:(m instanceof Uint8Array||m instanceof Uint8ClampedArray)&&(w=5121),{buffer:y,type:w,bytesPerElement:m.BYTES_PER_ELEMENT,version:h.version}}function l(h,d,m){const g=d.array,y=d.updateRange;r.bindBuffer(m,h),y.count===-1?r.bufferSubData(m,0,g):(n?r.bufferSubData(m,y.offset*g.BYTES_PER_ELEMENT,g,y.offset,y.count):r.bufferSubData(m,y.offset*g.BYTES_PER_ELEMENT,g.subarray(y.offset,y.offset+y.count)),y.count=-1)}function u(h){return h.isInterleavedBufferAttribute&&(h=h.data),o.get(h)}function _(h){h.isInterleavedBufferAttribute&&(h=h.data);const d=o.get(h);d&&(r.deleteBuffer(d.buffer),o.delete(h))}function f(h,d){if(h.isGLBufferAttribute){const g=o.get(h);(!g||g.version<h.version)&&o.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version});return}h.isInterleavedBufferAttribute&&(h=h.data);const m=o.get(h);m===void 0?o.set(h,a(h,d)):m.version<h.version&&(l(m.buffer,h,d),m.version=h.version)}return{get:u,remove:_,update:f}}class ik extends Yn{constructor(e=1,n=1,o=1,a=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:o,heightSegments:a};const l=e/2,u=n/2,_=Math.floor(o),f=Math.floor(a),h=_+1,d=f+1,m=e/_,g=n/f,y=[],w=[],E=[],A=[];for(let S=0;S<d;S++){const C=S*g-u;for(let R=0;R<h;R++){const P=R*m-l;w.push(P,-C,0),E.push(0,0,1),A.push(R/_),A.push(1-S/f)}}for(let S=0;S<f;S++)for(let C=0;C<_;C++){const R=C+h*S,P=C+h*(S+1),D=C+1+h*(S+1),G=C+1+h*S;y.push(R,P,G),y.push(P,D,G)}this.setIndex(y),this.setAttribute("position",new In(w,3)),this.setAttribute("normal",new In(E,3)),this.setAttribute("uv",new In(A,2))}static fromJSON(e){return new ik(e.width,e.height,e.widthSegments,e.heightSegments)}}var NMe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,RMe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,PMe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,BMe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,FMe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,LMe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,DMe="vec3 transformed = vec3( position );",OMe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zMe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,UMe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,jMe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,GMe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,WMe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,HMe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,VMe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,qMe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,KMe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,JMe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,XMe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,YMe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,QMe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ZMe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,eNe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,tNe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,nNe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,rNe="gl_FragColor = linearToOutputTexel( gl_FragColor );",iNe=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}`,oNe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,aNe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,sNe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,lNe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,uNe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,cNe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,_Ne=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fNe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,pNe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,hNe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,dNe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,mNe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,vNe=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,gNe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,yNe=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,kNe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$Ne=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,bNe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,wNe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,xNe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,SNe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ENe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,CNe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ANe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,TNe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,INe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,MNe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,NNe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,RNe=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,PNe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,BNe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,FNe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,LNe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,DNe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ONe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,zNe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,UNe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,jNe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,GNe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,WNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,HNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,VNe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,qNe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,KNe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,JNe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,XNe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,YNe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,QNe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,ZNe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,eRe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,tRe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,nRe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,rRe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,iRe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,oRe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,aRe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,sRe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,lRe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,uRe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,cRe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,_Re=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,fRe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,pRe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,hRe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,dRe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mRe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,vRe=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,gRe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,yRe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,kRe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,$Re=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,bRe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,wRe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,xRe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,SRe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ERe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,CRe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ARe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,TRe=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,IRe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,MRe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,NRe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,RRe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,PRe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,BRe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,FRe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,LRe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,DRe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ORe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zRe=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,URe=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jRe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,GRe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,WRe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,HRe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,VRe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qRe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KRe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,JRe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XRe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,YRe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QRe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ZRe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,e3e=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,t3e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,n3e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,r3e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Gr={alphamap_fragment:NMe,alphamap_pars_fragment:RMe,alphatest_fragment:PMe,alphatest_pars_fragment:BMe,aomap_fragment:FMe,aomap_pars_fragment:LMe,begin_vertex:DMe,beginnormal_vertex:OMe,bsdfs:zMe,bumpmap_pars_fragment:UMe,clipping_planes_fragment:jMe,clipping_planes_pars_fragment:GMe,clipping_planes_pars_vertex:WMe,clipping_planes_vertex:HMe,color_fragment:VMe,color_pars_fragment:qMe,color_pars_vertex:KMe,color_vertex:JMe,common:XMe,cube_uv_reflection_fragment:YMe,defaultnormal_vertex:QMe,displacementmap_pars_vertex:ZMe,displacementmap_vertex:eNe,emissivemap_fragment:tNe,emissivemap_pars_fragment:nNe,encodings_fragment:rNe,encodings_pars_fragment:iNe,envmap_fragment:oNe,envmap_common_pars_fragment:aNe,envmap_pars_fragment:sNe,envmap_pars_vertex:lNe,envmap_physical_pars_fragment:yNe,envmap_vertex:uNe,fog_vertex:cNe,fog_pars_vertex:_Ne,fog_fragment:fNe,fog_pars_fragment:pNe,gradientmap_pars_fragment:hNe,lightmap_fragment:dNe,lightmap_pars_fragment:mNe,lights_lambert_vertex:vNe,lights_pars_begin:gNe,lights_toon_fragment:kNe,lights_toon_pars_fragment:$Ne,lights_phong_fragment:bNe,lights_phong_pars_fragment:wNe,lights_physical_fragment:xNe,lights_physical_pars_fragment:SNe,lights_fragment_begin:ENe,lights_fragment_maps:CNe,lights_fragment_end:ANe,logdepthbuf_fragment:TNe,logdepthbuf_pars_fragment:INe,logdepthbuf_pars_vertex:MNe,logdepthbuf_vertex:NNe,map_fragment:RNe,map_pars_fragment:PNe,map_particle_fragment:BNe,map_particle_pars_fragment:FNe,metalnessmap_fragment:LNe,metalnessmap_pars_fragment:DNe,morphnormal_vertex:ONe,morphtarget_pars_vertex:zNe,morphtarget_vertex:UNe,normal_fragment_begin:jNe,normal_fragment_maps:GNe,normal_pars_fragment:WNe,normal_pars_vertex:HNe,normal_vertex:VNe,normalmap_pars_fragment:qNe,clearcoat_normal_fragment_begin:KNe,clearcoat_normal_fragment_maps:JNe,clearcoat_pars_fragment:XNe,output_fragment:YNe,packing:QNe,premultiplied_alpha_fragment:ZNe,project_vertex:eRe,dithering_fragment:tRe,dithering_pars_fragment:nRe,roughnessmap_fragment:rRe,roughnessmap_pars_fragment:iRe,shadowmap_pars_fragment:oRe,shadowmap_pars_vertex:aRe,shadowmap_vertex:sRe,shadowmask_pars_fragment:lRe,skinbase_vertex:uRe,skinning_pars_vertex:cRe,skinning_vertex:_Re,skinnormal_vertex:fRe,specularmap_fragment:pRe,specularmap_pars_fragment:hRe,tonemapping_fragment:dRe,tonemapping_pars_fragment:mRe,transmission_fragment:vRe,transmission_pars_fragment:gRe,uv_pars_fragment:yRe,uv_pars_vertex:kRe,uv_vertex:$Re,uv2_pars_fragment:bRe,uv2_pars_vertex:wRe,uv2_vertex:xRe,worldpos_vertex:SRe,background_vert:ERe,background_frag:CRe,cube_vert:ARe,cube_frag:TRe,depth_vert:IRe,depth_frag:MRe,distanceRGBA_vert:NRe,distanceRGBA_frag:RRe,equirect_vert:PRe,equirect_frag:BRe,linedashed_vert:FRe,linedashed_frag:LRe,meshbasic_vert:DRe,meshbasic_frag:ORe,meshlambert_vert:zRe,meshlambert_frag:URe,meshmatcap_vert:jRe,meshmatcap_frag:GRe,meshnormal_vert:WRe,meshnormal_frag:HRe,meshphong_vert:VRe,meshphong_frag:qRe,meshphysical_vert:KRe,meshphysical_frag:JRe,meshtoon_vert:XRe,meshtoon_frag:YRe,points_vert:QRe,points_frag:ZRe,shadow_vert:e3e,shadow_frag:t3e,sprite_vert:n3e,sprite_frag:r3e},tn={common:{diffuse:{value:new Ut(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new fs},uv2Transform:{value:new fs},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new rt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fs}},sprite:{diffuse:{value:new Ut(16777215)},opacity:{value:1},center:{value:new rt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fs}}},ep={basic:{uniforms:Il([tn.common,tn.specularmap,tn.envmap,tn.aomap,tn.lightmap,tn.fog]),vertexShader:Gr.meshbasic_vert,fragmentShader:Gr.meshbasic_frag},lambert:{uniforms:Il([tn.common,tn.specularmap,tn.envmap,tn.aomap,tn.lightmap,tn.emissivemap,tn.fog,tn.lights,{emissive:{value:new Ut(0)}}]),vertexShader:Gr.meshlambert_vert,fragmentShader:Gr.meshlambert_frag},phong:{uniforms:Il([tn.common,tn.specularmap,tn.envmap,tn.aomap,tn.lightmap,tn.emissivemap,tn.bumpmap,tn.normalmap,tn.displacementmap,tn.fog,tn.lights,{emissive:{value:new Ut(0)},specular:{value:new Ut(1118481)},shininess:{value:30}}]),vertexShader:Gr.meshphong_vert,fragmentShader:Gr.meshphong_frag},standard:{uniforms:Il([tn.common,tn.envmap,tn.aomap,tn.lightmap,tn.emissivemap,tn.bumpmap,tn.normalmap,tn.displacementmap,tn.roughnessmap,tn.metalnessmap,tn.fog,tn.lights,{emissive:{value:new Ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Gr.meshphysical_vert,fragmentShader:Gr.meshphysical_frag},toon:{uniforms:Il([tn.common,tn.aomap,tn.lightmap,tn.emissivemap,tn.bumpmap,tn.normalmap,tn.displacementmap,tn.gradientmap,tn.fog,tn.lights,{emissive:{value:new Ut(0)}}]),vertexShader:Gr.meshtoon_vert,fragmentShader:Gr.meshtoon_frag},matcap:{uniforms:Il([tn.common,tn.bumpmap,tn.normalmap,tn.displacementmap,tn.fog,{matcap:{value:null}}]),vertexShader:Gr.meshmatcap_vert,fragmentShader:Gr.meshmatcap_frag},points:{uniforms:Il([tn.points,tn.fog]),vertexShader:Gr.points_vert,fragmentShader:Gr.points_frag},dashed:{uniforms:Il([tn.common,tn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gr.linedashed_vert,fragmentShader:Gr.linedashed_frag},depth:{uniforms:Il([tn.common,tn.displacementmap]),vertexShader:Gr.depth_vert,fragmentShader:Gr.depth_frag},normal:{uniforms:Il([tn.common,tn.bumpmap,tn.normalmap,tn.displacementmap,{opacity:{value:1}}]),vertexShader:Gr.meshnormal_vert,fragmentShader:Gr.meshnormal_frag},sprite:{uniforms:Il([tn.sprite,tn.fog]),vertexShader:Gr.sprite_vert,fragmentShader:Gr.sprite_frag},background:{uniforms:{uvTransform:{value:new fs},t2D:{value:null}},vertexShader:Gr.background_vert,fragmentShader:Gr.background_frag},cube:{uniforms:Il([tn.envmap,{opacity:{value:1}}]),vertexShader:Gr.cube_vert,fragmentShader:Gr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Gr.equirect_vert,fragmentShader:Gr.equirect_frag},distanceRGBA:{uniforms:Il([tn.common,tn.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Gr.distanceRGBA_vert,fragmentShader:Gr.distanceRGBA_frag},shadow:{uniforms:Il([tn.lights,tn.fog,{color:{value:new Ut(0)},opacity:{value:1}}]),vertexShader:Gr.shadow_vert,fragmentShader:Gr.shadow_frag}};ep.physical={uniforms:Il([ep.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new rt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Ut(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new rt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ut(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new Ut(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Gr.meshphysical_vert,fragmentShader:Gr.meshphysical_frag};function i3e(r,e,n,o,a){const l=new Ut(0);let u=0,_,f,h=null,d=0,m=null;function g(w,E){let A=!1,S=E.isScene===!0?E.background:null;S&&S.isTexture&&(S=e.get(S));const C=r.xr,R=C.getSession&&C.getSession();R&&R.environmentBlendMode==="additive"&&(S=null),S===null?y(l,u):S&&S.isColor&&(y(S,1),A=!0),(r.autoClear||A)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Kw)?(f===void 0&&(f=new Pa(new im(1,1,1),new om({name:"BackgroundCubeMaterial",uniforms:fx(ep.cube.uniforms),vertexShader:ep.cube.vertexShader,fragmentShader:ep.cube.fragmentShader,side:Ma,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,D,G){this.matrixWorld.copyPosition(G.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(f)),f.material.uniforms.envMap.value=S,f.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,(h!==S||d!==S.version||m!==r.toneMapping)&&(f.material.needsUpdate=!0,h=S,d=S.version,m=r.toneMapping),w.unshift(f,f.geometry,f.material,0,0,null)):S&&S.isTexture&&(_===void 0&&(_=new Pa(new ik(2,2),new om({name:"BackgroundMaterial",uniforms:fx(ep.background.uniforms),vertexShader:ep.background.vertexShader,fragmentShader:ep.background.fragmentShader,side:Qv,depthTest:!1,depthWrite:!1,fog:!1})),_.geometry.deleteAttribute("normal"),Object.defineProperty(_.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(_)),_.material.uniforms.t2D.value=S,S.matrixAutoUpdate===!0&&S.updateMatrix(),_.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||d!==S.version||m!==r.toneMapping)&&(_.material.needsUpdate=!0,h=S,d=S.version,m=r.toneMapping),w.unshift(_,_.geometry,_.material,0,0,null))}function y(w,E){n.buffers.color.setClear(w.r,w.g,w.b,E,a)}return{getClearColor:function(){return l},setClearColor:function(w,E=1){l.set(w),u=E,y(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(w){u=w,y(l,u)},render:g}}function o3e(r,e,n,o){const a=r.getParameter(34921),l=o.isWebGL2?null:e.get("OES_vertex_array_object"),u=o.isWebGL2||l!==null,_={},f=E(null);let h=f;function d(_e,ge,$e,xe,Ie){let tt=!1;if(u){const gt=w(xe,$e,ge);h!==gt&&(h=gt,g(h.object)),tt=A(xe,Ie),tt&&S(xe,Ie)}else{const gt=ge.wireframe===!0;(h.geometry!==xe.id||h.program!==$e.id||h.wireframe!==gt)&&(h.geometry=xe.id,h.program=$e.id,h.wireframe=gt,tt=!0)}_e.isInstancedMesh===!0&&(tt=!0),Ie!==null&&n.update(Ie,34963),tt&&(z(_e,ge,$e,xe),Ie!==null&&r.bindBuffer(34963,n.get(Ie).buffer))}function m(){return o.isWebGL2?r.createVertexArray():l.createVertexArrayOES()}function g(_e){return o.isWebGL2?r.bindVertexArray(_e):l.bindVertexArrayOES(_e)}function y(_e){return o.isWebGL2?r.deleteVertexArray(_e):l.deleteVertexArrayOES(_e)}function w(_e,ge,$e){const xe=$e.wireframe===!0;let Ie=_[_e.id];Ie===void 0&&(Ie={},_[_e.id]=Ie);let tt=Ie[ge.id];tt===void 0&&(tt={},Ie[ge.id]=tt);let gt=tt[xe];return gt===void 0&&(gt=E(m()),tt[xe]=gt),gt}function E(_e){const ge=[],$e=[],xe=[];for(let Ie=0;Ie<a;Ie++)ge[Ie]=0,$e[Ie]=0,xe[Ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ge,enabledAttributes:$e,attributeDivisors:xe,object:_e,attributes:{},index:null}}function A(_e,ge){const $e=h.attributes,xe=_e.attributes;let Ie=0;for(const tt in xe){const gt=$e[tt],Je=xe[tt];if(gt===void 0||gt.attribute!==Je||gt.data!==Je.data)return!0;Ie++}return h.attributesNum!==Ie||h.index!==ge}function S(_e,ge){const $e={},xe=_e.attributes;let Ie=0;for(const tt in xe){const gt=xe[tt],Je={};Je.attribute=gt,gt.data&&(Je.data=gt.data),$e[tt]=Je,Ie++}h.attributes=$e,h.attributesNum=Ie,h.index=ge}function C(){const _e=h.newAttributes;for(let ge=0,$e=_e.length;ge<$e;ge++)_e[ge]=0}function R(_e){P(_e,0)}function P(_e,ge){const $e=h.newAttributes,xe=h.enabledAttributes,Ie=h.attributeDivisors;$e[_e]=1,xe[_e]===0&&(r.enableVertexAttribArray(_e),xe[_e]=1),Ie[_e]!==ge&&((o.isWebGL2?r:e.get("ANGLE_instanced_arrays"))[o.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](_e,ge),Ie[_e]=ge)}function D(){const _e=h.newAttributes,ge=h.enabledAttributes;for(let $e=0,xe=ge.length;$e<xe;$e++)ge[$e]!==_e[$e]&&(r.disableVertexAttribArray($e),ge[$e]=0)}function G(_e,ge,$e,xe,Ie,tt){o.isWebGL2===!0&&($e===5124||$e===5125)?r.vertexAttribIPointer(_e,ge,$e,Ie,tt):r.vertexAttribPointer(_e,ge,$e,xe,Ie,tt)}function z(_e,ge,$e,xe){if(o.isWebGL2===!1&&(_e.isInstancedMesh||xe.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;C();const Ie=xe.attributes,tt=$e.getAttributes(),gt=ge.defaultAttributeValues;for(const Je in tt){const ve=tt[Je];if(ve.location>=0){let He=Ie[Je];if(He===void 0&&(Je==="instanceMatrix"&&_e.instanceMatrix&&(He=_e.instanceMatrix),Je==="instanceColor"&&_e.instanceColor&&(He=_e.instanceColor)),He!==void 0){const Ge=He.normalized,kt=He.itemSize,an=n.get(He);if(an===void 0)continue;const ot=an.buffer,Mn=an.type,mn=an.bytesPerElement;if(He.isInterleavedBufferAttribute){const Gt=He.data,An=Gt.stride,Pr=He.offset;if(Gt&&Gt.isInstancedInterleavedBuffer){for(let et=0;et<ve.locationSize;et++)P(ve.location+et,Gt.meshPerAttribute);_e.isInstancedMesh!==!0&&xe._maxInstanceCount===void 0&&(xe._maxInstanceCount=Gt.meshPerAttribute*Gt.count)}else for(let et=0;et<ve.locationSize;et++)R(ve.location+et);r.bindBuffer(34962,ot);for(let et=0;et<ve.locationSize;et++)G(ve.location+et,kt/ve.locationSize,Mn,Ge,An*mn,(Pr+kt/ve.locationSize*et)*mn)}else{if(He.isInstancedBufferAttribute){for(let Gt=0;Gt<ve.locationSize;Gt++)P(ve.location+Gt,He.meshPerAttribute);_e.isInstancedMesh!==!0&&xe._maxInstanceCount===void 0&&(xe._maxInstanceCount=He.meshPerAttribute*He.count)}else for(let Gt=0;Gt<ve.locationSize;Gt++)R(ve.location+Gt);r.bindBuffer(34962,ot);for(let Gt=0;Gt<ve.locationSize;Gt++)G(ve.location+Gt,kt/ve.locationSize,Mn,Ge,kt*mn,kt/ve.locationSize*Gt*mn)}}else if(gt!==void 0){const Ge=gt[Je];if(Ge!==void 0)switch(Ge.length){case 2:r.vertexAttrib2fv(ve.location,Ge);break;case 3:r.vertexAttrib3fv(ve.location,Ge);break;case 4:r.vertexAttrib4fv(ve.location,Ge);break;default:r.vertexAttrib1fv(ve.location,Ge)}}}}D()}function V(){Y();for(const _e in _){const ge=_[_e];for(const $e in ge){const xe=ge[$e];for(const Ie in xe)y(xe[Ie].object),delete xe[Ie];delete ge[$e]}delete _[_e]}}function X(_e){if(_[_e.id]===void 0)return;const ge=_[_e.id];for(const $e in ge){const xe=ge[$e];for(const Ie in xe)y(xe[Ie].object),delete xe[Ie];delete ge[$e]}delete _[_e.id]}function ne(_e){for(const ge in _){const $e=_[ge];if($e[_e.id]===void 0)continue;const xe=$e[_e.id];for(const Ie in xe)y(xe[Ie].object),delete xe[Ie];delete $e[_e.id]}}function Y(){ue(),h!==f&&(h=f,g(h.object))}function ue(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:d,reset:Y,resetDefaultState:ue,dispose:V,releaseStatesOfGeometry:X,releaseStatesOfProgram:ne,initAttributes:C,enableAttribute:R,disableUnusedAttributes:D}}function a3e(r,e,n,o){const a=o.isWebGL2;let l;function u(h){l=h}function _(h,d){r.drawArrays(l,h,d),n.update(d,l,1)}function f(h,d,m){if(m===0)return;let g,y;if(a)g=r,y="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",g===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](l,h,d,m),n.update(d,l,m)}this.setMode=u,this.render=_,this.renderInstances=f}function s3e(r,e,n){let o;function a(){if(o!==void 0)return o;if(e.has("EXT_texture_filter_anisotropic")===!0){const z=e.get("EXT_texture_filter_anisotropic");o=r.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o}function l(z){if(z==="highp"){if(r.getShaderPrecisionFormat(35633,36338).precision>0&&r.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";z="mediump"}return z==="mediump"&&r.getShaderPrecisionFormat(35633,36337).precision>0&&r.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const u=typeof WebGL2RenderingContext!="undefined"&&r instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&r instanceof WebGL2ComputeRenderingContext;let _=n.precision!==void 0?n.precision:"highp";const f=l(_);f!==_&&(console.warn("THREE.WebGLRenderer:",_,"not supported, using",f,"instead."),_=f);const h=u||e.has("WEBGL_draw_buffers"),d=n.logarithmicDepthBuffer===!0,m=r.getParameter(34930),g=r.getParameter(35660),y=r.getParameter(3379),w=r.getParameter(34076),E=r.getParameter(34921),A=r.getParameter(36347),S=r.getParameter(36348),C=r.getParameter(36349),R=g>0,P=u||e.has("OES_texture_float"),D=R&&P,G=u?r.getParameter(36183):0;return{isWebGL2:u,drawBuffers:h,getMaxAnisotropy:a,getMaxPrecision:l,precision:_,logarithmicDepthBuffer:d,maxTextures:m,maxVertexTextures:g,maxTextureSize:y,maxCubemapSize:w,maxAttributes:E,maxVertexUniforms:A,maxVaryings:S,maxFragmentUniforms:C,vertexTextures:R,floatFragmentTextures:P,floatVertexTextures:D,maxSamples:G}}function l3e(r){const e=this;let n=null,o=0,a=!1,l=!1;const u=new dh,_=new fs,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(m,g,y){const w=m.length!==0||g||o!==0||a;return a=g,n=d(m,y,0),o=m.length,w},this.beginShadows=function(){l=!0,d(null)},this.endShadows=function(){l=!1,h()},this.setState=function(m,g,y){const w=m.clippingPlanes,E=m.clipIntersection,A=m.clipShadows,S=r.get(m);if(!a||w===null||w.length===0||l&&!A)l?d(null):h();else{const C=l?0:o,R=C*4;let P=S.clippingState||null;f.value=P,P=d(w,g,R,y);for(let D=0;D!==R;++D)P[D]=n[D];S.clippingState=P,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=C}};function h(){f.value!==n&&(f.value=n,f.needsUpdate=o>0),e.numPlanes=o,e.numIntersection=0}function d(m,g,y,w){const E=m!==null?m.length:0;let A=null;if(E!==0){if(A=f.value,w!==!0||A===null){const S=y+E*4,C=g.matrixWorldInverse;_.getNormalMatrix(C),(A===null||A.length<S)&&(A=new Float32Array(S));for(let R=0,P=y;R!==E;++R,P+=4)u.copy(m[R]).applyMatrix4(C,_),u.normal.toArray(A,P),A[P+3]=u.constant}f.value=A,f.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,A}}function u3e(r){let e=new WeakMap;function n(u,_){return _===uA?u.mapping=H0:_===cA&&(u.mapping=V0),u}function o(u){if(u&&u.isTexture&&u.isRenderTargetTexture===!1){const _=u.mapping;if(_===uA||_===cA)if(e.has(u)){const f=e.get(u).texture;return n(f,u.mapping)}else{const f=u.image;if(f&&f.height>0){const h=r.getRenderTarget(),d=new MF(f.height/2);return d.fromEquirectangularTexture(r,u),e.set(u,d),r.setRenderTarget(h),u.addEventListener("dispose",a),n(d.texture,u.mapping)}else return null}}return u}function a(u){const _=u.target;_.removeEventListener("dispose",a);const f=e.get(_);f!==void 0&&(e.delete(_),f.dispose())}function l(){e=new WeakMap}return{get:o,dispose:l}}class mh extends rk{constructor(e=-1,n=1,o=1,a=-1,l=.1,u=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=o,this.bottom=a,this.near=l,this.far=u,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,o,a,l,u){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=o,this.view.offsetY=a,this.view.width=l,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),o=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let l=o-e,u=o+e,_=a+n,f=a-n;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=h*this.view.offsetX,u=l+h*this.view.width,_-=d*this.view.offsetY,f=_-d*this.view.height}this.projectionMatrix.makeOrthographic(l,u,_,f,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}mh.prototype.isOrthographicCamera=!0;class vx extends om{constructor(e){super(e);this.type="RawShaderMaterial"}}vx.prototype.isRawShaderMaterial=!0;const gx=4,_g=8,vh=Math.pow(2,_g),rae=[.125,.215,.35,.446,.526,.582],iae=_g-gx+1+rae.length,yx=20,ok={[Ns]:0,[hh]:1,[mA]:2,[wG]:3,[xG]:4,[SG]:5,[sF]:6},ZG=new mh,{_lodPlanes:xA,_sizeLods:oae,_sigmas:RF}=_3e(),aae=new Ut;let e8=null;const ak=(1+Math.sqrt(5))/2,kx=1/ak,sae=[new te(1,1,1),new te(-1,1,1),new te(1,1,-1),new te(-1,1,-1),new te(0,ak,kx),new te(0,ak,-kx),new te(kx,0,ak),new te(-kx,0,ak),new te(ak,kx,0),new te(-ak,kx,0)];class t8{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=f3e(yx),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,o=.1,a=100){e8=this._renderer.getRenderTarget();const l=this._allocateTargets();return this._sceneToCubeUV(e,o,a,l),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=cae(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=uae(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<xA.length;e++)xA[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(e8),e.scissorTest=!1,PF(e,0,0,e.width,e.height)}_fromTexture(e){e8=this._renderer.getRenderTarget();const n=this._allocateTargets(e);return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(e){const n={magFilter:ra,minFilter:ra,generateMipmaps:!1,type:Kc,format:cG,encoding:c3e(e)?e.encoding:mA,depthBuffer:!1},o=lae(n);return o.depthBuffer=!e,this._pingPongRenderTarget=lae(n),o}_compileMaterial(e){const n=new Pa(xA[0],e);this._renderer.compile(n,ZG)}_sceneToCubeUV(e,n,o,a){const l=90,u=1,_=new go(l,u,n,o),f=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],d=this._renderer,m=d.autoClear,g=d.outputEncoding,y=d.toneMapping;d.getClearColor(aae),d.toneMapping=Jd,d.outputEncoding=Ns,d.autoClear=!1;const w=new sc({name:"PMREM.Background",side:Ma,depthWrite:!1,depthTest:!1}),E=new Pa(new im,w);let A=!1;const S=e.background;S?S.isColor&&(w.color.copy(S),e.background=null,A=!0):(w.color.copy(aae),A=!0);for(let C=0;C<6;C++){const R=C%3;R==0?(_.up.set(0,f[C],0),_.lookAt(h[C],0,0)):R==1?(_.up.set(0,0,f[C]),_.lookAt(0,h[C],0)):(_.up.set(0,f[C],0),_.lookAt(0,0,h[C])),PF(a,R*vh,C>2?vh:0,vh,vh),d.setRenderTarget(a),A&&d.render(E,_),d.render(e,_)}E.geometry.dispose(),E.material.dispose(),d.toneMapping=y,d.outputEncoding=g,d.autoClear=m,e.background=S}_setEncoding(e,n){e.value=ok[n.encoding]}_textureToCubeUV(e,n){const o=this._renderer,a=e.mapping===H0||e.mapping===V0;a?this._cubemapShader==null&&(this._cubemapShader=cae()):this._equirectShader==null&&(this._equirectShader=uae());const l=a?this._cubemapShader:this._equirectShader,u=new Pa(xA[0],l),_=l.uniforms;_.envMap.value=e,a||_.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(_.inputEncoding,e),this._setEncoding(_.outputEncoding,n.texture),PF(n,0,0,3*vh,2*vh),o.setRenderTarget(n),o.render(u,ZG)}_applyPMREM(e){const n=this._renderer,o=n.autoClear;n.autoClear=!1;for(let a=1;a<iae;a++){const l=Math.sqrt(RF[a]*RF[a]-RF[a-1]*RF[a-1]),u=sae[(a-1)%sae.length];this._blur(e,a-1,a,l,u)}n.autoClear=o}_blur(e,n,o,a,l){const u=this._pingPongRenderTarget;this._halfBlur(e,u,n,o,a,"latitudinal",l),this._halfBlur(u,e,o,o,a,"longitudinal",l)}_halfBlur(e,n,o,a,l,u,_){const f=this._renderer,h=this._blurMaterial;u!=="latitudinal"&&u!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,m=new Pa(xA[a],h),g=h.uniforms,y=oae[o]-1,w=isFinite(l)?Math.PI/(2*y):2*Math.PI/(2*yx-1),E=l/w,A=isFinite(l)?1+Math.floor(d*E):yx;A>yx&&console.warn(`sigmaRadians, ${l}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${yx}`);const S=[];let C=0;for(let G=0;G<yx;++G){const z=G/E,V=Math.exp(-z*z/2);S.push(V),G==0?C+=V:G<A&&(C+=2*V)}for(let G=0;G<S.length;G++)S[G]=S[G]/C;g.envMap.value=e.texture,g.samples.value=A,g.weights.value=S,g.latitudinal.value=u==="latitudinal",_&&(g.poleAxis.value=_),g.dTheta.value=w,g.mipInt.value=_g-o,this._setEncoding(g.inputEncoding,e.texture),this._setEncoding(g.outputEncoding,e.texture);const R=oae[a],P=3*Math.max(0,vh-2*R),D=(a===0?0:2*vh)+2*R*(a>_g-gx?a-_g+gx:0);PF(n,P,D,3*R,2*R),f.setRenderTarget(n),f.render(m,ZG)}}function c3e(r){return r===void 0||r.type!==Kc?!1:r.encoding===Ns||r.encoding===hh||r.encoding===sF}function _3e(){const r=[],e=[],n=[];let o=_g;for(let a=0;a<iae;a++){const l=Math.pow(2,o);e.push(l);let u=1/l;a>_g-gx?u=rae[a-_g+gx-1]:a==0&&(u=0),n.push(u);const _=1/(l-1),f=-_/2,h=1+_/2,d=[f,f,h,f,h,h,f,f,h,h,f,h],m=6,g=6,y=3,w=2,E=1,A=new Float32Array(y*g*m),S=new Float32Array(w*g*m),C=new Float32Array(E*g*m);for(let P=0;P<m;P++){const D=P%3*2/3-1,G=P>2?0:-1,z=[D,G,0,D+2/3,G,0,D+2/3,G+1,0,D,G,0,D+2/3,G+1,0,D,G+1,0];A.set(z,y*g*P),S.set(d,w*g*P);const V=[P,P,P,P,P,P];C.set(V,E*g*P)}const R=new Yn;R.setAttribute("position",new jr(A,y)),R.setAttribute("uv",new jr(S,w)),R.setAttribute("faceIndex",new jr(C,E)),r.push(R),o>gx&&o--}return{_lodPlanes:r,_sizeLods:e,_sigmas:n}}function lae(r){const e=new Yc(3*vh,3*vh,r);return e.texture.mapping=Kw,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function PF(r,e,n,o,a){r.viewport.set(e,n,o,a),r.scissor.set(e,n,o,a)}function f3e(r){const e=new Float32Array(r),n=new te(0,1,0);return new vx({name:"SphericalGaussianBlur",defines:{n:r},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:ok[Ns]},outputEncoding:{value:ok[Ns]}},vertexShader:n8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${r8()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Kd,depthTest:!1,depthWrite:!1})}function uae(){const r=new rt(1,1);return new vx({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:r},inputEncoding:{value:ok[Ns]},outputEncoding:{value:ok[Ns]}},vertexShader:n8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${r8()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Kd,depthTest:!1,depthWrite:!1})}function cae(){return new vx({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:ok[Ns]},outputEncoding:{value:ok[Ns]}},vertexShader:n8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${r8()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Kd,depthTest:!1,depthWrite:!1})}function n8(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function r8(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function p3e(r){let e=new WeakMap,n=null;function o(_){if(_&&_.isTexture&&_.isRenderTargetTexture===!1){const f=_.mapping,h=f===uA||f===cA,d=f===H0||f===V0;if(h||d){if(e.has(_))return e.get(_).texture;{const m=_.image;if(h&&m&&m.height>0||d&&m&&a(m)){const g=r.getRenderTarget();n===null&&(n=new t8(r));const y=h?n.fromEquirectangular(_):n.fromCubemap(_);return e.set(_,y),r.setRenderTarget(g),_.addEventListener("dispose",l),y.texture}else return null}}}return _}function a(_){let f=0;const h=6;for(let d=0;d<h;d++)_[d]!==void 0&&f++;return f===h}function l(_){const f=_.target;f.removeEventListener("dispose",l);const h=e.get(f);h!==void 0&&(e.delete(f),h.dispose())}function u(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:o,dispose:u}}function h3e(r){const e={};function n(o){if(e[o]!==void 0)return e[o];let a;switch(o){case"WEBGL_depth_texture":a=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=r.getExtension(o)}return e[o]=a,a}return{has:function(o){return n(o)!==null},init:function(o){o.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(o){const a=n(o);return a===null&&console.warn("THREE.WebGLRenderer: "+o+" extension not supported."),a}}}function d3e(r,e,n,o){const a={},l=new WeakMap;function u(m){const g=m.target;g.index!==null&&e.remove(g.index);for(const w in g.attributes)e.remove(g.attributes[w]);g.removeEventListener("dispose",u),delete a[g.id];const y=l.get(g);y&&(e.remove(y),l.delete(g)),o.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function _(m,g){return a[g.id]===!0||(g.addEventListener("dispose",u),a[g.id]=!0,n.memory.geometries++),g}function f(m){const g=m.attributes;for(const w in g)e.update(g[w],34962);const y=m.morphAttributes;for(const w in y){const E=y[w];for(let A=0,S=E.length;A<S;A++)e.update(E[A],34962)}}function h(m){const g=[],y=m.index,w=m.attributes.position;let E=0;if(y!==null){const C=y.array;E=y.version;for(let R=0,P=C.length;R<P;R+=3){const D=C[R+0],G=C[R+1],z=C[R+2];g.push(D,G,G,z,z,D)}}else{const C=w.array;E=w.version;for(let R=0,P=C.length/3-1;R<P;R+=3){const D=R+0,G=R+1,z=R+2;g.push(D,G,G,z,z,D)}}const A=new(Roe(g)>65535?$F:kF)(g,1);A.version=E;const S=l.get(m);S&&e.remove(S),l.set(m,A)}function d(m){const g=l.get(m);if(g){const y=m.index;y!==null&&g.version<y.version&&h(m)}else h(m);return l.get(m)}return{get:_,update:f,getWireframeAttribute:d}}function m3e(r,e,n,o){const a=o.isWebGL2;let l;function u(g){l=g}let _,f;function h(g){_=g.type,f=g.bytesPerElement}function d(g,y){r.drawElements(l,y,_,g*f),n.update(y,l,1)}function m(g,y,w){if(w===0)return;let E,A;if(a)E=r,A="drawElementsInstanced";else if(E=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",E===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}E[A](l,y,_,g*f,w),n.update(y,l,w)}this.setMode=u,this.setIndex=h,this.render=d,this.renderInstances=m}function v3e(r){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function o(l,u,_){switch(n.calls++,u){case 4:n.triangles+=_*(l/3);break;case 1:n.lines+=_*(l/2);break;case 3:n.lines+=_*(l-1);break;case 2:n.lines+=_*l;break;case 0:n.points+=_*l;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",u);break}}function a(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:a,update:o}}class BF extends Na{constructor(e=null,n=1,o=1,a=1){super(null);this.image={data:e,width:n,height:o,depth:a},this.magFilter=ra,this.minFilter=ra,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}BF.prototype.isDataTexture2DArray=!0;function g3e(r,e){return r[0]-e[0]}function y3e(r,e){return Math.abs(e[1])-Math.abs(r[1])}function _ae(r,e){let n=1;const o=e.isInterleavedBufferAttribute?e.data.array:e.array;o instanceof Int8Array?n=127:o instanceof Int16Array?n=32767:o instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",o),r.divideScalar(n)}function k3e(r,e,n){const o={},a=new Float32Array(8),l=new WeakMap,u=new te,_=[];for(let h=0;h<8;h++)_[h]=[h,0];function f(h,d,m,g){const y=h.morphTargetInfluences;if(e.isWebGL2===!0){const w=d.morphAttributes.position.length;let E=l.get(d);if(E===void 0||E.count!==w){E!==void 0&&E.texture.dispose();const C=d.morphAttributes.normal!==void 0,R=d.morphAttributes.position,P=d.morphAttributes.normal||[],D=d.attributes.position.count,G=C===!0?2:1;let z=D*G,V=1;z>e.maxTextureSize&&(V=Math.ceil(z/e.maxTextureSize),z=e.maxTextureSize);const X=new Float32Array(z*V*4*w),ne=new BF(X,z,V,w);ne.format=el,ne.type=Jc;const Y=G*4;for(let ue=0;ue<w;ue++){const _e=R[ue],ge=P[ue],$e=z*V*4*ue;for(let xe=0;xe<_e.count;xe++){u.fromBufferAttribute(_e,xe),_e.normalized===!0&&_ae(u,_e);const Ie=xe*Y;X[$e+Ie+0]=u.x,X[$e+Ie+1]=u.y,X[$e+Ie+2]=u.z,X[$e+Ie+3]=0,C===!0&&(u.fromBufferAttribute(ge,xe),ge.normalized===!0&&_ae(u,ge),X[$e+Ie+4]=u.x,X[$e+Ie+5]=u.y,X[$e+Ie+6]=u.z,X[$e+Ie+7]=0)}}E={count:w,texture:ne,size:new rt(z,V)},l.set(d,E)}let A=0;for(let C=0;C<y.length;C++)A+=y[C];const S=d.morphTargetsRelative?1:1-A;g.getUniforms().setValue(r,"morphTargetBaseInfluence",S),g.getUniforms().setValue(r,"morphTargetInfluences",y),g.getUniforms().setValue(r,"morphTargetsTexture",E.texture,n),g.getUniforms().setValue(r,"morphTargetsTextureSize",E.size)}else{const w=y===void 0?0:y.length;let E=o[d.id];if(E===void 0||E.length!==w){E=[];for(let P=0;P<w;P++)E[P]=[P,0];o[d.id]=E}for(let P=0;P<w;P++){const D=E[P];D[0]=P,D[1]=y[P]}E.sort(y3e);for(let P=0;P<8;P++)P<w&&E[P][1]?(_[P][0]=E[P][0],_[P][1]=E[P][1]):(_[P][0]=Number.MAX_SAFE_INTEGER,_[P][1]=0);_.sort(g3e);const A=d.morphAttributes.position,S=d.morphAttributes.normal;let C=0;for(let P=0;P<8;P++){const D=_[P],G=D[0],z=D[1];G!==Number.MAX_SAFE_INTEGER&&z?(A&&d.getAttribute("morphTarget"+P)!==A[G]&&d.setAttribute("morphTarget"+P,A[G]),S&&d.getAttribute("morphNormal"+P)!==S[G]&&d.setAttribute("morphNormal"+P,S[G]),a[P]=z,C+=z):(A&&d.hasAttribute("morphTarget"+P)===!0&&d.deleteAttribute("morphTarget"+P),S&&d.hasAttribute("morphNormal"+P)===!0&&d.deleteAttribute("morphNormal"+P),a[P]=0)}const R=d.morphTargetsRelative?1:1-C;g.getUniforms().setValue(r,"morphTargetBaseInfluence",R),g.getUniforms().setValue(r,"morphTargetInfluences",a)}}return{update:f}}function $3e(r,e,n,o){let a=new WeakMap;function l(f){const h=o.render.frame,d=f.geometry,m=e.get(f,d);return a.get(m)!==h&&(e.update(m),a.set(m,h)),f.isInstancedMesh&&(f.hasEventListener("dispose",_)===!1&&f.addEventListener("dispose",_),n.update(f.instanceMatrix,34962),f.instanceColor!==null&&n.update(f.instanceColor,34962)),m}function u(){a=new WeakMap}function _(f){const h=f.target;h.removeEventListener("dispose",_),n.remove(h.instanceMatrix),h.instanceColor!==null&&n.remove(h.instanceColor)}return{update:l,dispose:u}}class i8 extends Na{constructor(e=null,n=1,o=1,a=1){super(null);this.image={data:e,width:n,height:o,depth:a},this.magFilter=ra,this.minFilter=ra,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}i8.prototype.isDataTexture3D=!0;const fae=new Na,pae=new BF,hae=new i8,dae=new dx,mae=[],vae=[],gae=new Float32Array(16),yae=new Float32Array(9),kae=new Float32Array(4);function $x(r,e,n){const o=r[0];if(o<=0||o>0)return r;const a=e*n;let l=mae[a];if(l===void 0&&(l=new Float32Array(a),mae[a]=l),e!==0){o.toArray(l,0);for(let u=1,_=0;u!==e;++u)_+=n,r[u].toArray(l,_)}return l}function bu(r,e){if(r.length!==e.length)return!1;for(let n=0,o=r.length;n<o;n++)if(r[n]!==e[n])return!1;return!0}function Ml(r,e){for(let n=0,o=e.length;n<o;n++)r[n]=e[n]}function FF(r,e){let n=vae[e];n===void 0&&(n=new Int32Array(e),vae[e]=n);for(let o=0;o!==e;++o)n[o]=r.allocateTextureUnit();return n}function b3e(r,e){const n=this.cache;n[0]!==e&&(r.uniform1f(this.addr,e),n[0]=e)}function w3e(r,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(bu(n,e))return;r.uniform2fv(this.addr,e),Ml(n,e)}}function x3e(r,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(bu(n,e))return;r.uniform3fv(this.addr,e),Ml(n,e)}}function S3e(r,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(bu(n,e))return;r.uniform4fv(this.addr,e),Ml(n,e)}}function E3e(r,e){const n=this.cache,o=e.elements;if(o===void 0){if(bu(n,e))return;r.uniformMatrix2fv(this.addr,!1,e),Ml(n,e)}else{if(bu(n,o))return;kae.set(o),r.uniformMatrix2fv(this.addr,!1,kae),Ml(n,o)}}function C3e(r,e){const n=this.cache,o=e.elements;if(o===void 0){if(bu(n,e))return;r.uniformMatrix3fv(this.addr,!1,e),Ml(n,e)}else{if(bu(n,o))return;yae.set(o),r.uniformMatrix3fv(this.addr,!1,yae),Ml(n,o)}}function A3e(r,e){const n=this.cache,o=e.elements;if(o===void 0){if(bu(n,e))return;r.uniformMatrix4fv(this.addr,!1,e),Ml(n,e)}else{if(bu(n,o))return;gae.set(o),r.uniformMatrix4fv(this.addr,!1,gae),Ml(n,o)}}function T3e(r,e){const n=this.cache;n[0]!==e&&(r.uniform1i(this.addr,e),n[0]=e)}function I3e(r,e){const n=this.cache;bu(n,e)||(r.uniform2iv(this.addr,e),Ml(n,e))}function M3e(r,e){const n=this.cache;bu(n,e)||(r.uniform3iv(this.addr,e),Ml(n,e))}function N3e(r,e){const n=this.cache;bu(n,e)||(r.uniform4iv(this.addr,e),Ml(n,e))}function R3e(r,e){const n=this.cache;n[0]!==e&&(r.uniform1ui(this.addr,e),n[0]=e)}function P3e(r,e){const n=this.cache;bu(n,e)||(r.uniform2uiv(this.addr,e),Ml(n,e))}function B3e(r,e){const n=this.cache;bu(n,e)||(r.uniform3uiv(this.addr,e),Ml(n,e))}function F3e(r,e){const n=this.cache;bu(n,e)||(r.uniform4uiv(this.addr,e),Ml(n,e))}function L3e(r,e,n){const o=this.cache,a=n.allocateTextureUnit();o[0]!==a&&(r.uniform1i(this.addr,a),o[0]=a),n.safeSetTexture2D(e||fae,a)}function D3e(r,e,n){const o=this.cache,a=n.allocateTextureUnit();o[0]!==a&&(r.uniform1i(this.addr,a),o[0]=a),n.setTexture3D(e||hae,a)}function O3e(r,e,n){const o=this.cache,a=n.allocateTextureUnit();o[0]!==a&&(r.uniform1i(this.addr,a),o[0]=a),n.safeSetTextureCube(e||dae,a)}function z3e(r,e,n){const o=this.cache,a=n.allocateTextureUnit();o[0]!==a&&(r.uniform1i(this.addr,a),o[0]=a),n.setTexture2DArray(e||pae,a)}function U3e(r){switch(r){case 5126:return b3e;case 35664:return w3e;case 35665:return x3e;case 35666:return S3e;case 35674:return E3e;case 35675:return C3e;case 35676:return A3e;case 5124:case 35670:return T3e;case 35667:case 35671:return I3e;case 35668:case 35672:return M3e;case 35669:case 35673:return N3e;case 5125:return R3e;case 36294:return P3e;case 36295:return B3e;case 36296:return F3e;case 35678:case 36198:case 36298:case 36306:case 35682:return L3e;case 35679:case 36299:case 36307:return D3e;case 35680:case 36300:case 36308:case 36293:return O3e;case 36289:case 36303:case 36311:case 36292:return z3e}}function j3e(r,e){r.uniform1fv(this.addr,e)}function G3e(r,e){const n=$x(e,this.size,2);r.uniform2fv(this.addr,n)}function W3e(r,e){const n=$x(e,this.size,3);r.uniform3fv(this.addr,n)}function H3e(r,e){const n=$x(e,this.size,4);r.uniform4fv(this.addr,n)}function V3e(r,e){const n=$x(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,n)}function q3e(r,e){const n=$x(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,n)}function K3e(r,e){const n=$x(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,n)}function J3e(r,e){r.uniform1iv(this.addr,e)}function X3e(r,e){r.uniform2iv(this.addr,e)}function Y3e(r,e){r.uniform3iv(this.addr,e)}function Q3e(r,e){r.uniform4iv(this.addr,e)}function Z3e(r,e){r.uniform1uiv(this.addr,e)}function ePe(r,e){r.uniform2uiv(this.addr,e)}function tPe(r,e){r.uniform3uiv(this.addr,e)}function nPe(r,e){r.uniform4uiv(this.addr,e)}function rPe(r,e,n){const o=e.length,a=FF(n,o);r.uniform1iv(this.addr,a);for(let l=0;l!==o;++l)n.safeSetTexture2D(e[l]||fae,a[l])}function iPe(r,e,n){const o=e.length,a=FF(n,o);r.uniform1iv(this.addr,a);for(let l=0;l!==o;++l)n.setTexture3D(e[l]||hae,a[l])}function oPe(r,e,n){const o=e.length,a=FF(n,o);r.uniform1iv(this.addr,a);for(let l=0;l!==o;++l)n.safeSetTextureCube(e[l]||dae,a[l])}function aPe(r,e,n){const o=e.length,a=FF(n,o);r.uniform1iv(this.addr,a);for(let l=0;l!==o;++l)n.setTexture2DArray(e[l]||pae,a[l])}function sPe(r){switch(r){case 5126:return j3e;case 35664:return G3e;case 35665:return W3e;case 35666:return H3e;case 35674:return V3e;case 35675:return q3e;case 35676:return K3e;case 5124:case 35670:return J3e;case 35667:case 35671:return X3e;case 35668:case 35672:return Y3e;case 35669:case 35673:return Q3e;case 5125:return Z3e;case 36294:return ePe;case 36295:return tPe;case 36296:return nPe;case 35678:case 36198:case 36298:case 36306:case 35682:return rPe;case 35679:case 36299:case 36307:return iPe;case 35680:case 36300:case 36308:case 36293:return oPe;case 36289:case 36303:case 36311:case 36292:return aPe}}function lPe(r,e,n){this.id=r,this.addr=n,this.cache=[],this.setValue=U3e(e.type)}function $ae(r,e,n){this.id=r,this.addr=n,this.cache=[],this.size=e.size,this.setValue=sPe(e.type)}$ae.prototype.updateCache=function(r){const e=this.cache;r instanceof Float32Array&&e.length!==r.length&&(this.cache=new Float32Array(r.length)),Ml(e,r)};function bae(r){this.id=r,this.seq=[],this.map={}}bae.prototype.setValue=function(r,e,n){const o=this.seq;for(let a=0,l=o.length;a!==l;++a){const u=o[a];u.setValue(r,e[u.id],n)}};const o8=/(\w+)(\])?(\[|\.)?/g;function wae(r,e){r.seq.push(e),r.map[e.id]=e}function uPe(r,e,n){const o=r.name,a=o.length;for(o8.lastIndex=0;;){const l=o8.exec(o),u=o8.lastIndex;let _=l[1];const f=l[2]==="]",h=l[3];if(f&&(_=_|0),h===void 0||h==="["&&u+2===a){wae(n,h===void 0?new lPe(_,r,e):new $ae(_,r,e));break}else{let m=n.map[_];m===void 0&&(m=new bae(_),wae(n,m)),n=m}}}function fg(r,e){this.seq=[],this.map={};const n=r.getProgramParameter(e,35718);for(let o=0;o<n;++o){const a=r.getActiveUniform(e,o),l=r.getUniformLocation(e,a.name);uPe(a,l,this)}}fg.prototype.setValue=function(r,e,n,o){const a=this.map[e];a!==void 0&&a.setValue(r,n,o)};fg.prototype.setOptional=function(r,e,n){const o=e[n];o!==void 0&&this.setValue(r,n,o)};fg.upload=function(r,e,n,o){for(let a=0,l=e.length;a!==l;++a){const u=e[a],_=n[u.id];_.needsUpdate!==!1&&u.setValue(r,_.value,o)}};fg.seqWithValue=function(r,e){const n=[];for(let o=0,a=r.length;o!==a;++o){const l=r[o];l.id in e&&n.push(l)}return n};function xae(r,e,n){const o=r.createShader(e);return r.shaderSource(o,n),r.compileShader(o),o}let cPe=0;function _Pe(r){const e=r.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function Sae(r){switch(r){case Ns:return["Linear","( value )"];case hh:return["sRGB","( value )"];case mA:return["RGBE","( value )"];case wG:return["RGBM","( value, 7.0 )"];case xG:return["RGBM","( value, 16.0 )"];case SG:return["RGBD","( value, 256.0 )"];case sF:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",r),["Linear","( value )"]}}function Eae(r,e,n){const o=r.getShaderParameter(e,35713),a=r.getShaderInfoLog(e).trim();return o&&a===""?"":n.toUpperCase()+`

`+a+`

`+_Pe(r.getShaderSource(e))}function sk(r,e){const n=Sae(e);return"vec4 "+r+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function fPe(r,e){const n=Sae(e);return"vec4 "+r+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function pPe(r,e){let n;switch(e){case Cie:n="Linear";break;case Aie:n="Reinhard";break;case Tie:n="OptimizedCineon";break;case uG:n="ACESFilmic";break;case Iie:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+r+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function hPe(r){return[r.extensionDerivatives||r.envMapCubeUV||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(SA).join(`
`)}function dPe(r){const e=[];for(const n in r){const o=r[n];o!==!1&&e.push("#define "+n+" "+o)}return e.join(`
`)}function mPe(r,e){const n={},o=r.getProgramParameter(e,35721);for(let a=0;a<o;a++){const l=r.getActiveAttrib(e,a),u=l.name;let _=1;l.type===35674&&(_=2),l.type===35675&&(_=3),l.type===35676&&(_=4),n[u]={type:l.type,location:r.getAttribLocation(e,u),locationSize:_}}return n}function SA(r){return r!==""}function Cae(r,e){return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Aae(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const vPe=/^[ \t]*#include +<([\w\d./]+)>/gm;function a8(r){return r.replace(vPe,gPe)}function gPe(r,e){const n=Gr[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return a8(n)}const yPe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,kPe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Tae(r){return r.replace(kPe,Iae).replace(yPe,$Pe)}function $Pe(r,e,n,o){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Iae(r,e,n,o)}function Iae(r,e,n,o){let a="";for(let l=parseInt(e);l<parseInt(n);l++)a+=o.replace(/\[\s*i\s*\]/g,"[ "+l+" ]").replace(/UNROLLED_LOOP_INDEX/g,l);return a}function Mae(r){let e="precision "+r.precision+` float;
precision `+r.precision+" int;";return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function bPe(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===Z6?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===eG?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===Vw&&(e="SHADOWMAP_TYPE_VSM"),e}function wPe(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case H0:case V0:e="ENVMAP_TYPE_CUBE";break;case Kw:case _A:e="ENVMAP_TYPE_CUBE_UV";break}return e}function xPe(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case V0:case _A:e="ENVMAP_MODE_REFRACTION";break}return e}function SPe(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case lA:e="ENVMAP_BLENDING_MULTIPLY";break;case Sie:e="ENVMAP_BLENDING_MIX";break;case Eie:e="ENVMAP_BLENDING_ADD";break}return e}function EPe(r,e,n,o){const a=r.getContext(),l=n.defines;let u=n.vertexShader,_=n.fragmentShader;const f=bPe(n),h=wPe(n),d=xPe(n),m=SPe(n),g=r.gammaFactor>0?r.gammaFactor:1,y=n.isWebGL2?"":hPe(n),w=dPe(l),E=a.createProgram();let A,S,C=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(A=[w].filter(SA).join(`
`),A.length>0&&(A+=`
`),S=[y,w].filter(SA).join(`
`),S.length>0&&(S+=`
`)):(A=[Mae(n),"#define SHADER_NAME "+n.shaderName,w,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(SA).join(`
`),S=[y,Mae(n),"#define SHADER_NAME "+n.shaderName,w,"#define GAMMA_FACTOR "+g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Jd?"#define TONE_MAPPING":"",n.toneMapping!==Jd?Gr.tonemapping_pars_fragment:"",n.toneMapping!==Jd?pPe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.format===Xf?"#define OPAQUE":"",Gr.encodings_pars_fragment,n.map?sk("mapTexelToLinear",n.mapEncoding):"",n.matcap?sk("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?sk("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?sk("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.specularColorMap?sk("specularColorMapTexelToLinear",n.specularColorMapEncoding):"",n.sheenColorMap?sk("sheenColorMapTexelToLinear",n.sheenColorMapEncoding):"",n.lightMap?sk("lightMapTexelToLinear",n.lightMapEncoding):"",fPe("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(SA).join(`
`)),u=a8(u),u=Cae(u,n),u=Aae(u,n),_=a8(_),_=Cae(_,n),_=Aae(_,n),u=Tae(u),_=Tae(_),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,S=["#define varying in",n.glslVersion===EG?"":"out highp vec4 pc_fragColor;",n.glslVersion===EG?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const R=C+A+u,P=C+S+_,D=xae(a,35633,R),G=xae(a,35632,P);if(a.attachShader(E,D),a.attachShader(E,G),n.index0AttributeName!==void 0?a.bindAttribLocation(E,0,n.index0AttributeName):n.morphTargets===!0&&a.bindAttribLocation(E,0,"position"),a.linkProgram(E),r.debug.checkShaderErrors){const X=a.getProgramInfoLog(E).trim(),ne=a.getShaderInfoLog(D).trim(),Y=a.getShaderInfoLog(G).trim();let ue=!0,_e=!0;if(a.getProgramParameter(E,35714)===!1){ue=!1;const ge=Eae(a,D,"vertex"),$e=Eae(a,G,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(E,35715)+`

Program Info Log: `+X+`
`+ge+`
`+$e)}else X!==""?console.warn("THREE.WebGLProgram: Program Info Log:",X):(ne===""||Y==="")&&(_e=!1);_e&&(this.diagnostics={runnable:ue,programLog:X,vertexShader:{log:ne,prefix:A},fragmentShader:{log:Y,prefix:S}})}a.deleteShader(D),a.deleteShader(G);let z;this.getUniforms=function(){return z===void 0&&(z=new fg(a,E)),z};let V;return this.getAttributes=function(){return V===void 0&&(V=mPe(a,E)),V},this.destroy=function(){o.releaseStatesOfProgram(this),a.deleteProgram(E),this.program=void 0},this.name=n.shaderName,this.id=cPe++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=D,this.fragmentShader=G,this}function CPe(r,e,n,o,a,l,u){const _=[],f=a.isWebGL2,h=a.logarithmicDepthBuffer,d=a.floatVertexTextures,m=a.maxVertexUniforms,g=a.vertexTextures;let y=a.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},E=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function A(z){const X=z.skeleton.bones;if(d)return 1024;{const Y=Math.floor((m-20)/4),ue=Math.min(Y,X.length);return ue<X.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+X.length+" bones. This GPU supports "+ue+"."),0):ue}}function S(z){let V;return z&&z.isTexture?V=z.encoding:z&&z.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),V=z.texture.encoding):V=Ns,V}function C(z,V,X,ne,Y){const ue=ne.fog,_e=z.isMeshStandardMaterial?ne.environment:null,ge=(z.isMeshStandardMaterial?n:e).get(z.envMap||_e),$e=w[z.type],xe=Y.isSkinnedMesh?A(Y):0;z.precision!==null&&(y=a.getMaxPrecision(z.precision),y!==z.precision&&console.warn("THREE.WebGLProgram.getParameters:",z.precision,"not supported, using",y,"instead."));let Ie,tt;if($e){const Ge=ep[$e];Ie=Ge.vertexShader,tt=Ge.fragmentShader}else Ie=z.vertexShader,tt=z.fragmentShader;const gt=r.getRenderTarget(),Je=z.alphaTest>0,ve=z.clearcoat>0;return{isWebGL2:f,shaderID:$e,shaderName:z.type,vertexShader:Ie,fragmentShader:tt,defines:z.defines,isRawShaderMaterial:z.isRawShaderMaterial===!0,glslVersion:z.glslVersion,precision:y,instancing:Y.isInstancedMesh===!0,instancingColor:Y.isInstancedMesh===!0&&Y.instanceColor!==null,supportsVertexTextures:g,outputEncoding:gt!==null?S(gt.texture):r.outputEncoding,map:!!z.map,mapEncoding:S(z.map),matcap:!!z.matcap,matcapEncoding:S(z.matcap),envMap:!!ge,envMapMode:ge&&ge.mapping,envMapEncoding:S(ge),envMapCubeUV:!!ge&&(ge.mapping===Kw||ge.mapping===_A),lightMap:!!z.lightMap,lightMapEncoding:S(z.lightMap),aoMap:!!z.aoMap,emissiveMap:!!z.emissiveMap,emissiveMapEncoding:S(z.emissiveMap),bumpMap:!!z.bumpMap,normalMap:!!z.normalMap,objectSpaceNormalMap:z.normalMapType===Toe,tangentSpaceNormalMap:z.normalMapType===ng,clearcoat:ve,clearcoatMap:ve&&!!z.clearcoatMap,clearcoatRoughnessMap:ve&&!!z.clearcoatRoughnessMap,clearcoatNormalMap:ve&&!!z.clearcoatNormalMap,displacementMap:!!z.displacementMap,roughnessMap:!!z.roughnessMap,metalnessMap:!!z.metalnessMap,specularMap:!!z.specularMap,specularIntensityMap:!!z.specularIntensityMap,specularColorMap:!!z.specularColorMap,specularColorMapEncoding:S(z.specularColorMap),alphaMap:!!z.alphaMap,alphaTest:Je,gradientMap:!!z.gradientMap,sheen:z.sheen>0,sheenColorMap:!!z.sheenColorMap,sheenColorMapEncoding:S(z.sheenColorMap),sheenRoughnessMap:!!z.sheenRoughnessMap,transmission:z.transmission>0,transmissionMap:!!z.transmissionMap,thicknessMap:!!z.thicknessMap,combine:z.combine,vertexTangents:!!z.normalMap&&!!Y.geometry&&!!Y.geometry.attributes.tangent,vertexColors:z.vertexColors,vertexAlphas:z.vertexColors===!0&&!!Y.geometry&&!!Y.geometry.attributes.color&&Y.geometry.attributes.color.itemSize===4,vertexUvs:!!z.map||!!z.bumpMap||!!z.normalMap||!!z.specularMap||!!z.alphaMap||!!z.emissiveMap||!!z.roughnessMap||!!z.metalnessMap||!!z.clearcoatMap||!!z.clearcoatRoughnessMap||!!z.clearcoatNormalMap||!!z.displacementMap||!!z.transmissionMap||!!z.thicknessMap||!!z.specularIntensityMap||!!z.specularColorMap||!!z.sheenColorMap||z.sheenRoughnessMap,uvsVertexOnly:!(!!z.map||!!z.bumpMap||!!z.normalMap||!!z.specularMap||!!z.alphaMap||!!z.emissiveMap||!!z.roughnessMap||!!z.metalnessMap||!!z.clearcoatNormalMap||z.transmission>0||!!z.transmissionMap||!!z.thicknessMap||!!z.specularIntensityMap||!!z.specularColorMap||z.sheen>0||!!z.sheenColorMap||!!z.sheenRoughnessMap)&&!!z.displacementMap,fog:!!ue,useFog:z.fog,fogExp2:ue&&ue.isFogExp2,flatShading:!!z.flatShading,sizeAttenuation:z.sizeAttenuation,logarithmicDepthBuffer:h,skinning:Y.isSkinnedMesh===!0&&xe>0,maxBones:xe,useVertexTexture:d,morphTargets:!!Y.geometry&&!!Y.geometry.morphAttributes.position,morphNormals:!!Y.geometry&&!!Y.geometry.morphAttributes.normal,morphTargetsCount:!!Y.geometry&&!!Y.geometry.morphAttributes.position?Y.geometry.morphAttributes.position.length:0,numDirLights:V.directional.length,numPointLights:V.point.length,numSpotLights:V.spot.length,numRectAreaLights:V.rectArea.length,numHemiLights:V.hemi.length,numDirLightShadows:V.directionalShadowMap.length,numPointLightShadows:V.pointShadowMap.length,numSpotLightShadows:V.spotShadowMap.length,numClippingPlanes:u.numPlanes,numClipIntersection:u.numIntersection,format:z.format,dithering:z.dithering,shadowMapEnabled:r.shadowMap.enabled&&X.length>0,shadowMapType:r.shadowMap.type,toneMapping:z.toneMapped?r.toneMapping:Jd,physicallyCorrectLights:r.physicallyCorrectLights,premultipliedAlpha:z.premultipliedAlpha,doubleSided:z.side===Zv,flipSided:z.side===Ma,depthPacking:z.depthPacking!==void 0?z.depthPacking:!1,index0AttributeName:z.index0AttributeName,extensionDerivatives:z.extensions&&z.extensions.derivatives,extensionFragDepth:z.extensions&&z.extensions.fragDepth,extensionDrawBuffers:z.extensions&&z.extensions.drawBuffers,extensionShaderTextureLOD:z.extensions&&z.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||o.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||o.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||o.has("EXT_shader_texture_lod"),customProgramCacheKey:z.customProgramCacheKey()}}function R(z){const V=[];if(z.shaderID?V.push(z.shaderID):(V.push(Poe(z.fragmentShader)),V.push(Poe(z.vertexShader))),z.defines!==void 0)for(const X in z.defines)V.push(X),V.push(z.defines[X]);if(z.isRawShaderMaterial===!1){for(let X=0;X<E.length;X++)V.push(z[E[X]]);V.push(r.outputEncoding),V.push(r.gammaFactor)}return V.push(z.customProgramCacheKey),V.join()}function P(z){const V=w[z.type];let X;if(V){const ne=ep[V];X=tae.clone(ne.uniforms)}else X=z.uniforms;return X}function D(z,V){let X;for(let ne=0,Y=_.length;ne<Y;ne++){const ue=_[ne];if(ue.cacheKey===V){X=ue,++X.usedTimes;break}}return X===void 0&&(X=new EPe(r,V,z,l),_.push(X)),X}function G(z){if(--z.usedTimes==0){const V=_.indexOf(z);_[V]=_[_.length-1],_.pop(),z.destroy()}}return{getParameters:C,getProgramCacheKey:R,getUniforms:P,acquireProgram:D,releaseProgram:G,programs:_}}function APe(){let r=new WeakMap;function e(l){let u=r.get(l);return u===void 0&&(u={},r.set(l,u)),u}function n(l){r.delete(l)}function o(l,u,_){r.get(l)[u]=_}function a(){r=new WeakMap}return{get:e,remove:n,update:o,dispose:a}}function TPe(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.program!==e.program?r.program.id-e.program.id:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function Nae(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function Rae(r){const e=[];let n=0;const o=[],a=[],l=[],u={id:-1};function _(){n=0,o.length=0,a.length=0,l.length=0}function f(y,w,E,A,S,C){let R=e[n];const P=r.get(E);return R===void 0?(R={id:y.id,object:y,geometry:w,material:E,program:P.program||u,groupOrder:A,renderOrder:y.renderOrder,z:S,group:C},e[n]=R):(R.id=y.id,R.object=y,R.geometry=w,R.material=E,R.program=P.program||u,R.groupOrder=A,R.renderOrder=y.renderOrder,R.z=S,R.group=C),n++,R}function h(y,w,E,A,S,C){const R=f(y,w,E,A,S,C);E.transmission>0?a.push(R):E.transparent===!0?l.push(R):o.push(R)}function d(y,w,E,A,S,C){const R=f(y,w,E,A,S,C);E.transmission>0?a.unshift(R):E.transparent===!0?l.unshift(R):o.unshift(R)}function m(y,w){o.length>1&&o.sort(y||TPe),a.length>1&&a.sort(w||Nae),l.length>1&&l.sort(w||Nae)}function g(){for(let y=n,w=e.length;y<w;y++){const E=e[y];if(E.id===null)break;E.id=null,E.object=null,E.geometry=null,E.material=null,E.program=null,E.group=null}}return{opaque:o,transmissive:a,transparent:l,init:_,push:h,unshift:d,finish:g,sort:m}}function IPe(r){let e=new WeakMap;function n(a,l){let u;return e.has(a)===!1?(u=new Rae(r),e.set(a,[u])):l>=e.get(a).length?(u=new Rae(r),e.get(a).push(u)):u=e.get(a)[l],u}function o(){e=new WeakMap}return{get:n,dispose:o}}function MPe(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new te,color:new Ut};break;case"SpotLight":n={position:new te,direction:new te,color:new Ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new te,color:new Ut,distance:0,decay:0};break;case"HemisphereLight":n={direction:new te,skyColor:new Ut,groundColor:new Ut};break;case"RectAreaLight":n={color:new Ut,position:new te,halfWidth:new te,halfHeight:new te};break}return r[e.id]=n,n}}}function NPe(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=n,n}}}let RPe=0;function PPe(r,e){return(e.castShadow?1:0)-(r.castShadow?1:0)}function BPe(r,e){const n=new MPe,o=NPe(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let d=0;d<9;d++)a.probe.push(new te);const l=new te,u=new Cn,_=new Cn;function f(d,m){let g=0,y=0,w=0;for(let X=0;X<9;X++)a.probe[X].set(0,0,0);let E=0,A=0,S=0,C=0,R=0,P=0,D=0,G=0;d.sort(PPe);const z=m!==!0?Math.PI:1;for(let X=0,ne=d.length;X<ne;X++){const Y=d[X],ue=Y.color,_e=Y.intensity,ge=Y.distance,$e=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)g+=ue.r*_e*z,y+=ue.g*_e*z,w+=ue.b*_e*z;else if(Y.isLightProbe)for(let xe=0;xe<9;xe++)a.probe[xe].addScaledVector(Y.sh.coefficients[xe],_e);else if(Y.isDirectionalLight){const xe=n.get(Y);if(xe.color.copy(Y.color).multiplyScalar(Y.intensity*z),Y.castShadow){const Ie=Y.shadow,tt=o.get(Y);tt.shadowBias=Ie.bias,tt.shadowNormalBias=Ie.normalBias,tt.shadowRadius=Ie.radius,tt.shadowMapSize=Ie.mapSize,a.directionalShadow[E]=tt,a.directionalShadowMap[E]=$e,a.directionalShadowMatrix[E]=Y.shadow.matrix,P++}a.directional[E]=xe,E++}else if(Y.isSpotLight){const xe=n.get(Y);if(xe.position.setFromMatrixPosition(Y.matrixWorld),xe.color.copy(ue).multiplyScalar(_e*z),xe.distance=ge,xe.coneCos=Math.cos(Y.angle),xe.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),xe.decay=Y.decay,Y.castShadow){const Ie=Y.shadow,tt=o.get(Y);tt.shadowBias=Ie.bias,tt.shadowNormalBias=Ie.normalBias,tt.shadowRadius=Ie.radius,tt.shadowMapSize=Ie.mapSize,a.spotShadow[S]=tt,a.spotShadowMap[S]=$e,a.spotShadowMatrix[S]=Y.shadow.matrix,G++}a.spot[S]=xe,S++}else if(Y.isRectAreaLight){const xe=n.get(Y);xe.color.copy(ue).multiplyScalar(_e),xe.halfWidth.set(Y.width*.5,0,0),xe.halfHeight.set(0,Y.height*.5,0),a.rectArea[C]=xe,C++}else if(Y.isPointLight){const xe=n.get(Y);if(xe.color.copy(Y.color).multiplyScalar(Y.intensity*z),xe.distance=Y.distance,xe.decay=Y.decay,Y.castShadow){const Ie=Y.shadow,tt=o.get(Y);tt.shadowBias=Ie.bias,tt.shadowNormalBias=Ie.normalBias,tt.shadowRadius=Ie.radius,tt.shadowMapSize=Ie.mapSize,tt.shadowCameraNear=Ie.camera.near,tt.shadowCameraFar=Ie.camera.far,a.pointShadow[A]=tt,a.pointShadowMap[A]=$e,a.pointShadowMatrix[A]=Y.shadow.matrix,D++}a.point[A]=xe,A++}else if(Y.isHemisphereLight){const xe=n.get(Y);xe.skyColor.copy(Y.color).multiplyScalar(_e*z),xe.groundColor.copy(Y.groundColor).multiplyScalar(_e*z),a.hemi[R]=xe,R++}}C>0&&(e.isWebGL2||r.has("OES_texture_float_linear")===!0?(a.rectAreaLTC1=tn.LTC_FLOAT_1,a.rectAreaLTC2=tn.LTC_FLOAT_2):r.has("OES_texture_half_float_linear")===!0?(a.rectAreaLTC1=tn.LTC_HALF_1,a.rectAreaLTC2=tn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=g,a.ambient[1]=y,a.ambient[2]=w;const V=a.hash;(V.directionalLength!==E||V.pointLength!==A||V.spotLength!==S||V.rectAreaLength!==C||V.hemiLength!==R||V.numDirectionalShadows!==P||V.numPointShadows!==D||V.numSpotShadows!==G)&&(a.directional.length=E,a.spot.length=S,a.rectArea.length=C,a.point.length=A,a.hemi.length=R,a.directionalShadow.length=P,a.directionalShadowMap.length=P,a.pointShadow.length=D,a.pointShadowMap.length=D,a.spotShadow.length=G,a.spotShadowMap.length=G,a.directionalShadowMatrix.length=P,a.pointShadowMatrix.length=D,a.spotShadowMatrix.length=G,V.directionalLength=E,V.pointLength=A,V.spotLength=S,V.rectAreaLength=C,V.hemiLength=R,V.numDirectionalShadows=P,V.numPointShadows=D,V.numSpotShadows=G,a.version=RPe++)}function h(d,m){let g=0,y=0,w=0,E=0,A=0;const S=m.matrixWorldInverse;for(let C=0,R=d.length;C<R;C++){const P=d[C];if(P.isDirectionalLight){const D=a.directional[g];D.direction.setFromMatrixPosition(P.matrixWorld),l.setFromMatrixPosition(P.target.matrixWorld),D.direction.sub(l),D.direction.transformDirection(S),g++}else if(P.isSpotLight){const D=a.spot[w];D.position.setFromMatrixPosition(P.matrixWorld),D.position.applyMatrix4(S),D.direction.setFromMatrixPosition(P.matrixWorld),l.setFromMatrixPosition(P.target.matrixWorld),D.direction.sub(l),D.direction.transformDirection(S),w++}else if(P.isRectAreaLight){const D=a.rectArea[E];D.position.setFromMatrixPosition(P.matrixWorld),D.position.applyMatrix4(S),_.identity(),u.copy(P.matrixWorld),u.premultiply(S),_.extractRotation(u),D.halfWidth.set(P.width*.5,0,0),D.halfHeight.set(0,P.height*.5,0),D.halfWidth.applyMatrix4(_),D.halfHeight.applyMatrix4(_),E++}else if(P.isPointLight){const D=a.point[y];D.position.setFromMatrixPosition(P.matrixWorld),D.position.applyMatrix4(S),y++}else if(P.isHemisphereLight){const D=a.hemi[A];D.direction.setFromMatrixPosition(P.matrixWorld),D.direction.transformDirection(S),D.direction.normalize(),A++}}}return{setup:f,setupView:h,state:a}}function Pae(r,e){const n=new BPe(r,e),o=[],a=[];function l(){o.length=0,a.length=0}function u(m){o.push(m)}function _(m){a.push(m)}function f(m){n.setup(o,m)}function h(m){n.setupView(o,m)}return{init:l,state:{lightsArray:o,shadowsArray:a,lights:n},setupLights:f,setupLightsView:h,pushLight:u,pushShadow:_}}function FPe(r,e){let n=new WeakMap;function o(l,u=0){let _;return n.has(l)===!1?(_=new Pae(r,e),n.set(l,[_])):u>=n.get(l).length?(_=new Pae(r,e),n.get(l).push(_)):_=n.get(l)[u],_}function a(){n=new WeakMap}return{get:o,dispose:a}}class LF extends Ha{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=Coe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}LF.prototype.isMeshDepthMaterial=!0;class DF extends Ha{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new te,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}DF.prototype.isMeshDistanceMaterial=!0;const LPe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,DPe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Bae(r,e,n){let o=new wA;const a=new rt,l=new rt,u=new Ui,_=new LF({depthPacking:Aoe}),f=new DF,h={},d=n.maxTextureSize,m={0:Ma,1:Qv,2:Zv},g=new om({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new rt},radius:{value:4}},vertexShader:LPe,fragmentShader:DPe}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const w=new Yn;w.setAttribute("position",new jr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new Pa(w,g),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Z6,this.render=function(P,D,G){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||P.length===0)return;const z=r.getRenderTarget(),V=r.getActiveCubeFace(),X=r.getActiveMipmapLevel(),ne=r.state;ne.setBlending(Kd),ne.buffers.color.setClear(1,1,1,1),ne.buffers.depth.setTest(!0),ne.setScissorTest(!1);for(let Y=0,ue=P.length;Y<ue;Y++){const _e=P[Y],ge=_e.shadow;if(ge===void 0){console.warn("THREE.WebGLShadowMap:",_e,"has no shadow.");continue}if(ge.autoUpdate===!1&&ge.needsUpdate===!1)continue;a.copy(ge.mapSize);const $e=ge.getFrameExtents();if(a.multiply($e),l.copy(ge.mapSize),(a.x>d||a.y>d)&&(a.x>d&&(l.x=Math.floor(d/$e.x),a.x=l.x*$e.x,ge.mapSize.x=l.x),a.y>d&&(l.y=Math.floor(d/$e.y),a.y=l.y*$e.y,ge.mapSize.y=l.y)),ge.map===null&&!ge.isPointLightShadow&&this.type===Vw){const Ie={minFilter:Ro,magFilter:Ro,format:el};ge.map=new Yc(a.x,a.y,Ie),ge.map.texture.name=_e.name+".shadowMap",ge.mapPass=new Yc(a.x,a.y,Ie),ge.camera.updateProjectionMatrix()}if(ge.map===null){const Ie={minFilter:ra,magFilter:ra,format:el};ge.map=new Yc(a.x,a.y,Ie),ge.map.texture.name=_e.name+".shadowMap",ge.camera.updateProjectionMatrix()}r.setRenderTarget(ge.map),r.clear();const xe=ge.getViewportCount();for(let Ie=0;Ie<xe;Ie++){const tt=ge.getViewport(Ie);u.set(l.x*tt.x,l.y*tt.y,l.x*tt.z,l.y*tt.w),ne.viewport(u),ge.updateMatrices(_e,Ie),o=ge.getFrustum(),R(D,G,ge.camera,_e,this.type)}!ge.isPointLightShadow&&this.type===Vw&&S(ge,G),ge.needsUpdate=!1}A.needsUpdate=!1,r.setRenderTarget(z,V,X)};function S(P,D){const G=e.update(E);g.defines.VSM_SAMPLES!==P.blurSamples&&(g.defines.VSM_SAMPLES=P.blurSamples,y.defines.VSM_SAMPLES=P.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),g.uniforms.shadow_pass.value=P.map.texture,g.uniforms.resolution.value=P.mapSize,g.uniforms.radius.value=P.radius,r.setRenderTarget(P.mapPass),r.clear(),r.renderBufferDirect(D,null,G,g,E,null),y.uniforms.shadow_pass.value=P.mapPass.texture,y.uniforms.resolution.value=P.mapSize,y.uniforms.radius.value=P.radius,r.setRenderTarget(P.map),r.clear(),r.renderBufferDirect(D,null,G,y,E,null)}function C(P,D,G,z,V,X,ne){let Y=null;const ue=z.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(ue!==void 0?Y=ue:Y=z.isPointLight===!0?f:_,r.localClippingEnabled&&G.clipShadows===!0&&G.clippingPlanes.length!==0||G.displacementMap&&G.displacementScale!==0||G.alphaMap&&G.alphaTest>0){const _e=Y.uuid,ge=G.uuid;let $e=h[_e];$e===void 0&&($e={},h[_e]=$e);let xe=$e[ge];xe===void 0&&(xe=Y.clone(),$e[ge]=xe),Y=xe}return Y.visible=G.visible,Y.wireframe=G.wireframe,ne===Vw?Y.side=G.shadowSide!==null?G.shadowSide:G.side:Y.side=G.shadowSide!==null?G.shadowSide:m[G.side],Y.alphaMap=G.alphaMap,Y.alphaTest=G.alphaTest,Y.clipShadows=G.clipShadows,Y.clippingPlanes=G.clippingPlanes,Y.clipIntersection=G.clipIntersection,Y.displacementMap=G.displacementMap,Y.displacementScale=G.displacementScale,Y.displacementBias=G.displacementBias,Y.wireframeLinewidth=G.wireframeLinewidth,Y.linewidth=G.linewidth,z.isPointLight===!0&&Y.isMeshDistanceMaterial===!0&&(Y.referencePosition.setFromMatrixPosition(z.matrixWorld),Y.nearDistance=V,Y.farDistance=X),Y}function R(P,D,G,z,V){if(P.visible===!1)return;if(P.layers.test(D.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&V===Vw)&&(!P.frustumCulled||o.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(G.matrixWorldInverse,P.matrixWorld);const Y=e.update(P),ue=P.material;if(Array.isArray(ue)){const _e=Y.groups;for(let ge=0,$e=_e.length;ge<$e;ge++){const xe=_e[ge],Ie=ue[xe.materialIndex];if(Ie&&Ie.visible){const tt=C(P,Y,Ie,z,G.near,G.far,V);r.renderBufferDirect(G,null,Y,tt,P,xe)}}}else if(ue.visible){const _e=C(P,Y,ue,z,G.near,G.far,V);r.renderBufferDirect(G,null,Y,_e,P,null)}}const ne=P.children;for(let Y=0,ue=ne.length;Y<ue;Y++)R(ne[Y],D,G,z,V)}}function OPe(r,e,n){const o=n.isWebGL2;function a(){let be=!1;const wt=new Ui;let it=null;const Wt=new Ui(0,0,0,0);return{setMask:function(Dt){it!==Dt&&!be&&(r.colorMask(Dt,Dt,Dt,Dt),it=Dt)},setLocked:function(Dt){be=Dt},setClear:function(Dt,me,We,Tt,Ln){Ln===!0&&(Dt*=Tt,me*=Tt,We*=Tt),wt.set(Dt,me,We,Tt),Wt.equals(wt)===!1&&(r.clearColor(Dt,me,We,Tt),Wt.copy(wt))},reset:function(){be=!1,it=null,Wt.set(-1,0,0,0)}}}function l(){let be=!1,wt=null,it=null,Wt=null;return{setTest:function(Dt){Dt?Ge(2929):kt(2929)},setMask:function(Dt){wt!==Dt&&!be&&(r.depthMask(Dt),wt=Dt)},setFunc:function(Dt){if(it!==Dt){if(Dt)switch(Dt){case gie:r.depthFunc(512);break;case yie:r.depthFunc(519);break;case kie:r.depthFunc(513);break;case nF:r.depthFunc(515);break;case $ie:r.depthFunc(514);break;case bie:r.depthFunc(518);break;case wie:r.depthFunc(516);break;case xie:r.depthFunc(517);break;default:r.depthFunc(515)}else r.depthFunc(515);it=Dt}},setLocked:function(Dt){be=Dt},setClear:function(Dt){Wt!==Dt&&(r.clearDepth(Dt),Wt=Dt)},reset:function(){be=!1,wt=null,it=null,Wt=null}}}function u(){let be=!1,wt=null,it=null,Wt=null,Dt=null,me=null,We=null,Tt=null,Ln=null;return{setTest:function(qn){be||(qn?Ge(2960):kt(2960))},setMask:function(qn){wt!==qn&&!be&&(r.stencilMask(qn),wt=qn)},setFunc:function(qn,oo,Jo){(it!==qn||Wt!==oo||Dt!==Jo)&&(r.stencilFunc(qn,oo,Jo),it=qn,Wt=oo,Dt=Jo)},setOp:function(qn,oo,Jo){(me!==qn||We!==oo||Tt!==Jo)&&(r.stencilOp(qn,oo,Jo),me=qn,We=oo,Tt=Jo)},setLocked:function(qn){be=qn},setClear:function(qn){Ln!==qn&&(r.clearStencil(qn),Ln=qn)},reset:function(){be=!1,wt=null,it=null,Wt=null,Dt=null,me=null,We=null,Tt=null,Ln=null}}}const _=new a,f=new l,h=new u;let d={},m={},g=null,y=!1,w=null,E=null,A=null,S=null,C=null,R=null,P=null,D=!1,G=null,z=null,V=null,X=null,ne=null;const Y=r.getParameter(35661);let ue=!1,_e=0;const ge=r.getParameter(7938);ge.indexOf("WebGL")!==-1?(_e=parseFloat(/^WebGL (\d)/.exec(ge)[1]),ue=_e>=1):ge.indexOf("OpenGL ES")!==-1&&(_e=parseFloat(/^OpenGL ES (\d)/.exec(ge)[1]),ue=_e>=2);let $e=null,xe={};const Ie=r.getParameter(3088),tt=r.getParameter(2978),gt=new Ui().fromArray(Ie),Je=new Ui().fromArray(tt);function ve(be,wt,it){const Wt=new Uint8Array(4),Dt=r.createTexture();r.bindTexture(be,Dt),r.texParameteri(be,10241,9728),r.texParameteri(be,10240,9728);for(let me=0;me<it;me++)r.texImage2D(wt+me,0,6408,1,1,0,6408,5121,Wt);return Dt}const He={};He[3553]=ve(3553,3553,1),He[34067]=ve(34067,34069,6),_.setClear(0,0,0,1),f.setClear(1),h.setClear(0),Ge(2929),f.setFunc(nF),Pr(!1),et(Q6),Ge(2884),Gt(Kd);function Ge(be){d[be]!==!0&&(r.enable(be),d[be]=!0)}function kt(be){d[be]!==!1&&(r.disable(be),d[be]=!1)}function an(be,wt){return m[be]!==wt?(r.bindFramebuffer(be,wt),m[be]=wt,o&&(be===36009&&(m[36160]=wt),be===36160&&(m[36009]=wt)),!0):!1}function ot(be){return g!==be?(r.useProgram(be),g=be,!0):!1}const Mn={[W0]:32774,[sie]:32778,[lie]:32779};if(o)Mn[oG]=32775,Mn[aG]=32776;else{const be=e.get("EXT_blend_minmax");be!==null&&(Mn[oG]=be.MIN_EXT,Mn[aG]=be.MAX_EXT)}const mn={[uie]:0,[cie]:1,[_ie]:768,[sG]:770,[vie]:776,[die]:774,[pie]:772,[fie]:769,[lG]:771,[mie]:775,[hie]:773};function Gt(be,wt,it,Wt,Dt,me,We,Tt){if(be===Kd){y===!0&&(kt(3042),y=!1);return}if(y===!1&&(Ge(3042),y=!0),be!==aie){if(be!==w||Tt!==D){if((E!==W0||C!==W0)&&(r.blendEquation(32774),E=W0,C=W0),Tt)switch(be){case qw:r.blendFuncSeparate(1,771,1,771);break;case nG:r.blendFunc(1,1);break;case rG:r.blendFuncSeparate(0,0,769,771);break;case iG:r.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}else switch(be){case qw:r.blendFuncSeparate(770,771,1,771);break;case nG:r.blendFunc(770,1);break;case rG:r.blendFunc(0,769);break;case iG:r.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}A=null,S=null,R=null,P=null,w=be,D=Tt}return}Dt=Dt||wt,me=me||it,We=We||Wt,(wt!==E||Dt!==C)&&(r.blendEquationSeparate(Mn[wt],Mn[Dt]),E=wt,C=Dt),(it!==A||Wt!==S||me!==R||We!==P)&&(r.blendFuncSeparate(mn[it],mn[Wt],mn[me],mn[We]),A=it,S=Wt,R=me,P=We),w=be,D=null}function An(be,wt){be.side===Zv?kt(2884):Ge(2884);let it=be.side===Ma;wt&&(it=!it),Pr(it),be.blending===qw&&be.transparent===!1?Gt(Kd):Gt(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.premultipliedAlpha),f.setFunc(be.depthFunc),f.setTest(be.depthTest),f.setMask(be.depthWrite),_.setMask(be.colorWrite);const Wt=be.stencilWrite;h.setTest(Wt),Wt&&(h.setMask(be.stencilWriteMask),h.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),h.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),yt(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),be.alphaToCoverage===!0?Ge(32926):kt(32926)}function Pr(be){G!==be&&(be?r.frontFace(2304):r.frontFace(2305),G=be)}function et(be){be!==iie?(Ge(2884),be!==z&&(be===Q6?r.cullFace(1029):be===oie?r.cullFace(1028):r.cullFace(1032))):kt(2884),z=be}function mt(be){be!==V&&(ue&&r.lineWidth(be),V=be)}function yt(be,wt,it){be?(Ge(32823),(X!==wt||ne!==it)&&(r.polygonOffset(wt,it),X=wt,ne=it)):kt(32823)}function nn(be){be?Ge(3089):kt(3089)}function Mt(be){be===void 0&&(be=33984+Y-1),$e!==be&&(r.activeTexture(be),$e=be)}function Qn(be,wt){$e===null&&Mt();let it=xe[$e];it===void 0&&(it={type:void 0,texture:void 0},xe[$e]=it),(it.type!==be||it.texture!==wt)&&(r.bindTexture(be,wt||He[be]),it.type=be,it.texture=wt)}function Kn(){const be=xe[$e];be!==void 0&&be.type!==void 0&&(r.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)}function pr(){try{r.compressedTexImage2D.apply(r,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function ci(){try{r.texSubImage2D.apply(r,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function he(){try{r.texStorage2D.apply(r,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function ae(){try{r.texImage2D.apply(r,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function _t(){try{r.texImage3D.apply(r,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function ft(be){gt.equals(be)===!1&&(r.scissor(be.x,be.y,be.z,be.w),gt.copy(be))}function yn(be){Je.equals(be)===!1&&(r.viewport(be.x,be.y,be.z,be.w),Je.copy(be))}function vn(){r.disable(3042),r.disable(2884),r.disable(2929),r.disable(32823),r.disable(3089),r.disable(2960),r.disable(32926),r.blendEquation(32774),r.blendFunc(1,0),r.blendFuncSeparate(1,0,1,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(513),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(519,0,4294967295),r.stencilOp(7680,7680,7680),r.clearStencil(0),r.cullFace(1029),r.frontFace(2305),r.polygonOffset(0,0),r.activeTexture(33984),r.bindFramebuffer(36160,null),o===!0&&(r.bindFramebuffer(36009,null),r.bindFramebuffer(36008,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),d={},$e=null,xe={},m={},g=null,y=!1,w=null,E=null,A=null,S=null,C=null,R=null,P=null,D=!1,G=null,z=null,V=null,X=null,ne=null,gt.set(0,0,r.canvas.width,r.canvas.height),Je.set(0,0,r.canvas.width,r.canvas.height),_.reset(),f.reset(),h.reset()}return{buffers:{color:_,depth:f,stencil:h},enable:Ge,disable:kt,bindFramebuffer:an,useProgram:ot,setBlending:Gt,setMaterial:An,setFlipSided:Pr,setCullFace:et,setLineWidth:mt,setPolygonOffset:yt,setScissorTest:nn,activeTexture:Mt,bindTexture:Qn,unbindTexture:Kn,compressedTexImage2D:pr,texImage2D:ae,texImage3D:_t,texStorage2D:he,texSubImage2D:ci,scissor:ft,viewport:yn,reset:vn}}function zPe(r,e,n,o,a,l,u){const _=a.isWebGL2,f=a.maxTextures,h=a.maxCubemapSize,d=a.maxTextureSize,m=a.maxSamples,y=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,w=new WeakMap;let E,A=!1;try{A=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(he,ae){return A?new OffscreenCanvas(he,ae):cF("canvas")}function C(he,ae,_t,ft){let yn=1;if((he.width>ft||he.height>ft)&&(yn=ft/Math.max(he.width,he.height)),yn<1||ae===!0)if(typeof HTMLImageElement!="undefined"&&he instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&he instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&he instanceof ImageBitmap){const vn=ae?Noe:Math.floor,be=vn(yn*he.width),wt=vn(yn*he.height);E===void 0&&(E=S(be,wt));const it=_t?S(be,wt):E;return it.width=be,it.height=wt,it.getContext("2d").drawImage(he,0,0,be,wt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+he.width+"x"+he.height+") to ("+be+"x"+wt+")."),it}else return"data"in he&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+he.width+"x"+he.height+")."),he;return he}function R(he){return AG(he.width)&&AG(he.height)}function P(he){return _?!1:he.wrapS!==Ms||he.wrapT!==Ms||he.minFilter!==ra&&he.minFilter!==Ro}function D(he,ae){return he.generateMipmaps&&ae&&he.minFilter!==ra&&he.minFilter!==Ro}function G(he){r.generateMipmap(he)}function z(he,ae,_t){if(_===!1)return ae;if(he!==null){if(r[he]!==void 0)return r[he];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+he+"'")}let ft=ae;return ae===6403&&(_t===5126&&(ft=33326),_t===5131&&(ft=33325),_t===5121&&(ft=33321)),ae===6407&&(_t===5126&&(ft=34837),_t===5131&&(ft=34843),_t===5121&&(ft=32849)),ae===6408&&(_t===5126&&(ft=34836),_t===5131&&(ft=34842),_t===5121&&(ft=32856)),(ft===33325||ft===33326||ft===34842||ft===34836)&&e.get("EXT_color_buffer_float"),ft}function V(he,ae,_t){return D(he,_t)===!0?Math.log2(Math.max(ae.width,ae.height))+1:he.mipmaps.length>0?he.mipmaps.length:1}function X(he){return he===ra||he===fA||he===pA?9728:9729}function ne(he){const ae=he.target;ae.removeEventListener("dispose",ne),ue(ae),ae.isVideoTexture&&w.delete(ae),u.memory.textures--}function Y(he){const ae=he.target;ae.removeEventListener("dispose",Y),_e(ae)}function ue(he){const ae=o.get(he);ae.__webglInit!==void 0&&(r.deleteTexture(ae.__webglTexture),o.remove(he))}function _e(he){const ae=he.texture,_t=o.get(he),ft=o.get(ae);if(!!he){if(ft.__webglTexture!==void 0&&(r.deleteTexture(ft.__webglTexture),u.memory.textures--),he.depthTexture&&he.depthTexture.dispose(),he.isWebGLCubeRenderTarget)for(let yn=0;yn<6;yn++)r.deleteFramebuffer(_t.__webglFramebuffer[yn]),_t.__webglDepthbuffer&&r.deleteRenderbuffer(_t.__webglDepthbuffer[yn]);else r.deleteFramebuffer(_t.__webglFramebuffer),_t.__webglDepthbuffer&&r.deleteRenderbuffer(_t.__webglDepthbuffer),_t.__webglMultisampledFramebuffer&&r.deleteFramebuffer(_t.__webglMultisampledFramebuffer),_t.__webglColorRenderbuffer&&r.deleteRenderbuffer(_t.__webglColorRenderbuffer),_t.__webglDepthRenderbuffer&&r.deleteRenderbuffer(_t.__webglDepthRenderbuffer);if(he.isWebGLMultipleRenderTargets)for(let yn=0,vn=ae.length;yn<vn;yn++){const be=o.get(ae[yn]);be.__webglTexture&&(r.deleteTexture(be.__webglTexture),u.memory.textures--),o.remove(ae[yn])}o.remove(ae),o.remove(he)}}let ge=0;function $e(){ge=0}function xe(){const he=ge;return he>=f&&console.warn("THREE.WebGLTextures: Trying to use "+he+" texture units while this GPU supports only "+f),ge+=1,he}function Ie(he,ae){const _t=o.get(he);if(he.isVideoTexture&&Mt(he),he.version>0&&_t.__version!==he.version){const ft=he.image;if(ft===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ft.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{an(_t,he,ae);return}}n.activeTexture(33984+ae),n.bindTexture(3553,_t.__webglTexture)}function tt(he,ae){const _t=o.get(he);if(he.version>0&&_t.__version!==he.version){an(_t,he,ae);return}n.activeTexture(33984+ae),n.bindTexture(35866,_t.__webglTexture)}function gt(he,ae){const _t=o.get(he);if(he.version>0&&_t.__version!==he.version){an(_t,he,ae);return}n.activeTexture(33984+ae),n.bindTexture(32879,_t.__webglTexture)}function Je(he,ae){const _t=o.get(he);if(he.version>0&&_t.__version!==he.version){ot(_t,he,ae);return}n.activeTexture(33984+ae),n.bindTexture(34067,_t.__webglTexture)}const ve={[eg]:10497,[Ms]:33071,[Jw]:33648},He={[ra]:9728,[fA]:9984,[pA]:9986,[Ro]:9729,[iF]:9985,[Xd]:9987};function Ge(he,ae,_t){if(_t?(r.texParameteri(he,10242,ve[ae.wrapS]),r.texParameteri(he,10243,ve[ae.wrapT]),(he===32879||he===35866)&&r.texParameteri(he,32882,ve[ae.wrapR]),r.texParameteri(he,10240,He[ae.magFilter]),r.texParameteri(he,10241,He[ae.minFilter])):(r.texParameteri(he,10242,33071),r.texParameteri(he,10243,33071),(he===32879||he===35866)&&r.texParameteri(he,32882,33071),(ae.wrapS!==Ms||ae.wrapT!==Ms)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(he,10240,X(ae.magFilter)),r.texParameteri(he,10241,X(ae.minFilter)),ae.minFilter!==ra&&ae.minFilter!==Ro&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ft=e.get("EXT_texture_filter_anisotropic");if(ae.type===Jc&&e.has("OES_texture_float_linear")===!1||_===!1&&ae.type===ph&&e.has("OES_texture_half_float_linear")===!1)return;(ae.anisotropy>1||o.get(ae).__currentAnisotropy)&&(r.texParameterf(he,ft.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ae.anisotropy,a.getMaxAnisotropy())),o.get(ae).__currentAnisotropy=ae.anisotropy)}}function kt(he,ae){he.__webglInit===void 0&&(he.__webglInit=!0,ae.addEventListener("dispose",ne),he.__webglTexture=r.createTexture(),u.memory.textures++)}function an(he,ae,_t){let ft=3553;ae.isDataTexture2DArray&&(ft=35866),ae.isDataTexture3D&&(ft=32879),kt(he,ae),n.activeTexture(33984+_t),n.bindTexture(ft,he.__webglTexture),r.pixelStorei(37440,ae.flipY),r.pixelStorei(37441,ae.premultiplyAlpha),r.pixelStorei(3317,ae.unpackAlignment),r.pixelStorei(37443,0);const yn=P(ae)&&R(ae.image)===!1,vn=C(ae.image,yn,!1,d),be=R(vn)||_,wt=l.convert(ae.format);let it=l.convert(ae.type),Wt=z(ae.internalFormat,wt,it,ae.encoding);Ge(ft,ae,be);let Dt;const me=ae.mipmaps;if(ae.isDepthTexture)Wt=6402,_?ae.type===Jc?Wt=36012:ae.type===hA?Wt=33190:ae.type===q0?Wt=35056:Wt=33189:ae.type===Jc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ae.format===tg&&Wt===6402&&ae.type!==Xw&&ae.type!==hA&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ae.type=Xw,it=l.convert(ae.type)),ae.format===K0&&Wt===6402&&(Wt=34041,ae.type!==q0&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ae.type=q0,it=l.convert(ae.type))),n.texImage2D(3553,0,Wt,vn.width,vn.height,0,wt,it,null);else if(ae.isDataTexture)if(me.length>0&&be){for(let We=0,Tt=me.length;We<Tt;We++)Dt=me[We],n.texImage2D(3553,We,Wt,Dt.width,Dt.height,0,wt,it,Dt.data);ae.generateMipmaps=!1}else n.texImage2D(3553,0,Wt,vn.width,vn.height,0,wt,it,vn.data);else if(ae.isCompressedTexture)for(let We=0,Tt=me.length;We<Tt;We++)Dt=me[We],ae.format!==el&&ae.format!==Xf?wt!==null?n.compressedTexImage2D(3553,We,Wt,Dt.width,Dt.height,0,Dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,We,Wt,Dt.width,Dt.height,0,wt,it,Dt.data);else if(ae.isDataTexture2DArray)n.texImage3D(35866,0,Wt,vn.width,vn.height,vn.depth,0,wt,it,vn.data);else if(ae.isDataTexture3D)n.texImage3D(32879,0,Wt,vn.width,vn.height,vn.depth,0,wt,it,vn.data);else{const We=V(ae,vn,be),Tt=_&&ae.isVideoTexture!==!0,Ln=he.__version===void 0;if(me.length>0&&be){Tt&&Ln&&n.texStorage2D(3553,We,Wt,me[0].width,me[0].height);for(let qn=0,oo=me.length;qn<oo;qn++)Dt=me[qn],Tt?n.texSubImage2D(3553,qn,0,0,wt,it,Dt):n.texImage2D(3553,qn,Wt,wt,it,Dt);ae.generateMipmaps=!1}else Tt?(Ln&&n.texStorage2D(3553,We,Wt,vn.width,vn.height),n.texSubImage2D(3553,0,0,0,wt,it,vn)):n.texImage2D(3553,0,Wt,wt,it,vn)}D(ae,be)&&G(ft),he.__version=ae.version,ae.onUpdate&&ae.onUpdate(ae)}function ot(he,ae,_t){if(ae.image.length!==6)return;kt(he,ae),n.activeTexture(33984+_t),n.bindTexture(34067,he.__webglTexture),r.pixelStorei(37440,ae.flipY),r.pixelStorei(37441,ae.premultiplyAlpha),r.pixelStorei(3317,ae.unpackAlignment),r.pixelStorei(37443,0);const ft=ae&&(ae.isCompressedTexture||ae.image[0].isCompressedTexture),yn=ae.image[0]&&ae.image[0].isDataTexture,vn=[];for(let We=0;We<6;We++)!ft&&!yn?vn[We]=C(ae.image[We],!1,!0,h):vn[We]=yn?ae.image[We].image:ae.image[We];const be=vn[0],wt=R(be)||_,it=l.convert(ae.format),Wt=l.convert(ae.type),Dt=z(ae.internalFormat,it,Wt,ae.encoding);Ge(34067,ae,wt);let me;if(ft)for(let We=0;We<6;We++){me=vn[We].mipmaps;for(let Tt=0;Tt<me.length;Tt++){const Ln=me[Tt];ae.format!==el&&ae.format!==Xf?it!==null?n.compressedTexImage2D(34069+We,Tt,Dt,Ln.width,Ln.height,0,Ln.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+We,Tt,Dt,Ln.width,Ln.height,0,it,Wt,Ln.data)}}else{me=ae.mipmaps;for(let We=0;We<6;We++)if(yn){n.texImage2D(34069+We,0,Dt,vn[We].width,vn[We].height,0,it,Wt,vn[We].data);for(let Tt=0;Tt<me.length;Tt++){const qn=me[Tt].image[We].image;n.texImage2D(34069+We,Tt+1,Dt,qn.width,qn.height,0,it,Wt,qn.data)}}else{n.texImage2D(34069+We,0,Dt,it,Wt,vn[We]);for(let Tt=0;Tt<me.length;Tt++){const Ln=me[Tt];n.texImage2D(34069+We,Tt+1,Dt,it,Wt,Ln.image[We])}}}D(ae,wt)&&G(34067),he.__version=ae.version,ae.onUpdate&&ae.onUpdate(ae)}function Mn(he,ae,_t,ft,yn){const vn=l.convert(_t.format),be=l.convert(_t.type),wt=z(_t.internalFormat,vn,be,_t.encoding);o.get(ae).__hasExternalTextures||(yn===32879||yn===35866?n.texImage3D(yn,0,wt,ae.width,ae.height,ae.depth,0,vn,be,null):n.texImage2D(yn,0,wt,ae.width,ae.height,0,vn,be,null)),n.bindFramebuffer(36160,he),ae.useRenderToTexture?y.framebufferTexture2DMultisampleEXT(36160,ft,yn,o.get(_t).__webglTexture,0,nn(ae)):r.framebufferTexture2D(36160,ft,yn,o.get(_t).__webglTexture,0),n.bindFramebuffer(36160,null)}function mn(he,ae,_t){if(r.bindRenderbuffer(36161,he),ae.depthBuffer&&!ae.stencilBuffer){let ft=33189;if(_t||ae.useRenderToTexture){const yn=ae.depthTexture;yn&&yn.isDepthTexture&&(yn.type===Jc?ft=36012:yn.type===hA&&(ft=33190));const vn=nn(ae);ae.useRenderToTexture?y.renderbufferStorageMultisampleEXT(36161,vn,ft,ae.width,ae.height):r.renderbufferStorageMultisample(36161,vn,ft,ae.width,ae.height)}else r.renderbufferStorage(36161,ft,ae.width,ae.height);r.framebufferRenderbuffer(36160,36096,36161,he)}else if(ae.depthBuffer&&ae.stencilBuffer){const ft=nn(ae);_t&&ae.useRenderbuffer?r.renderbufferStorageMultisample(36161,ft,35056,ae.width,ae.height):ae.useRenderToTexture?y.renderbufferStorageMultisampleEXT(36161,ft,35056,ae.width,ae.height):r.renderbufferStorage(36161,34041,ae.width,ae.height),r.framebufferRenderbuffer(36160,33306,36161,he)}else{const ft=ae.isWebGLMultipleRenderTargets===!0?ae.texture[0]:ae.texture,yn=l.convert(ft.format),vn=l.convert(ft.type),be=z(ft.internalFormat,yn,vn,ft.encoding),wt=nn(ae);_t&&ae.useRenderbuffer?r.renderbufferStorageMultisample(36161,wt,be,ae.width,ae.height):ae.useRenderToTexture?y.renderbufferStorageMultisampleEXT(36161,wt,be,ae.width,ae.height):r.renderbufferStorage(36161,be,ae.width,ae.height)}r.bindRenderbuffer(36161,null)}function Gt(he,ae){if(ae&&ae.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,he),!(ae.depthTexture&&ae.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!o.get(ae.depthTexture).__webglTexture||ae.depthTexture.image.width!==ae.width||ae.depthTexture.image.height!==ae.height)&&(ae.depthTexture.image.width=ae.width,ae.depthTexture.image.height=ae.height,ae.depthTexture.needsUpdate=!0),Ie(ae.depthTexture,0);const ft=o.get(ae.depthTexture).__webglTexture,yn=nn(ae);if(ae.depthTexture.format===tg)ae.useRenderToTexture?y.framebufferTexture2DMultisampleEXT(36160,36096,3553,ft,0,yn):r.framebufferTexture2D(36160,36096,3553,ft,0);else if(ae.depthTexture.format===K0)ae.useRenderToTexture?y.framebufferTexture2DMultisampleEXT(36160,33306,3553,ft,0,yn):r.framebufferTexture2D(36160,33306,3553,ft,0);else throw new Error("Unknown depthTexture format")}function An(he){const ae=o.get(he),_t=he.isWebGLCubeRenderTarget===!0;if(he.depthTexture&&!ae.__autoAllocateDepthBuffer){if(_t)throw new Error("target.depthTexture not supported in Cube render targets");Gt(ae.__webglFramebuffer,he)}else if(_t){ae.__webglDepthbuffer=[];for(let ft=0;ft<6;ft++)n.bindFramebuffer(36160,ae.__webglFramebuffer[ft]),ae.__webglDepthbuffer[ft]=r.createRenderbuffer(),mn(ae.__webglDepthbuffer[ft],he,!1)}else n.bindFramebuffer(36160,ae.__webglFramebuffer),ae.__webglDepthbuffer=r.createRenderbuffer(),mn(ae.__webglDepthbuffer,he,!1);n.bindFramebuffer(36160,null)}function Pr(he,ae,_t){const ft=o.get(he);ae!==void 0&&Mn(ft.__webglFramebuffer,he,he.texture,36064,3553),_t!==void 0&&An(he)}function et(he){const ae=he.texture,_t=o.get(he),ft=o.get(ae);he.addEventListener("dispose",Y),he.isWebGLMultipleRenderTargets!==!0&&(ft.__webglTexture===void 0&&(ft.__webglTexture=r.createTexture()),ft.__version=ae.version,u.memory.textures++);const yn=he.isWebGLCubeRenderTarget===!0,vn=he.isWebGLMultipleRenderTargets===!0,be=ae.isDataTexture3D||ae.isDataTexture2DArray,wt=R(he)||_;if(_&&ae.format===Xf&&(ae.type===Jc||ae.type===ph)&&(ae.format=el,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),yn){_t.__webglFramebuffer=[];for(let it=0;it<6;it++)_t.__webglFramebuffer[it]=r.createFramebuffer()}else if(_t.__webglFramebuffer=r.createFramebuffer(),vn)if(a.drawBuffers){const it=he.texture;for(let Wt=0,Dt=it.length;Wt<Dt;Wt++){const me=o.get(it[Wt]);me.__webglTexture===void 0&&(me.__webglTexture=r.createTexture(),u.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(he.useRenderbuffer)if(_){_t.__webglMultisampledFramebuffer=r.createFramebuffer(),_t.__webglColorRenderbuffer=r.createRenderbuffer(),r.bindRenderbuffer(36161,_t.__webglColorRenderbuffer);const it=l.convert(ae.format),Wt=l.convert(ae.type),Dt=z(ae.internalFormat,it,Wt,ae.encoding),me=nn(he);r.renderbufferStorageMultisample(36161,me,Dt,he.width,he.height),n.bindFramebuffer(36160,_t.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064,36161,_t.__webglColorRenderbuffer),r.bindRenderbuffer(36161,null),he.depthBuffer&&(_t.__webglDepthRenderbuffer=r.createRenderbuffer(),mn(_t.__webglDepthRenderbuffer,he,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(yn){n.bindTexture(34067,ft.__webglTexture),Ge(34067,ae,wt);for(let it=0;it<6;it++)Mn(_t.__webglFramebuffer[it],he,ae,36064,34069+it);D(ae,wt)&&G(34067),n.unbindTexture()}else if(vn){const it=he.texture;for(let Wt=0,Dt=it.length;Wt<Dt;Wt++){const me=it[Wt],We=o.get(me);n.bindTexture(3553,We.__webglTexture),Ge(3553,me,wt),Mn(_t.__webglFramebuffer,he,me,36064+Wt,3553),D(me,wt)&&G(3553)}n.unbindTexture()}else{let it=3553;be&&(_?it=ae.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(it,ft.__webglTexture),Ge(it,ae,wt),Mn(_t.__webglFramebuffer,he,ae,36064,it),D(ae,wt)&&G(it),n.unbindTexture()}he.depthBuffer&&An(he)}function mt(he){const ae=R(he)||_,_t=he.isWebGLMultipleRenderTargets===!0?he.texture:[he.texture];for(let ft=0,yn=_t.length;ft<yn;ft++){const vn=_t[ft];if(D(vn,ae)){const be=he.isWebGLCubeRenderTarget?34067:3553,wt=o.get(vn).__webglTexture;n.bindTexture(be,wt),G(be),n.unbindTexture()}}}function yt(he){if(he.useRenderbuffer)if(_){const ae=he.width,_t=he.height;let ft=16384;const yn=[36064],vn=he.stencilBuffer?33306:36096;he.depthBuffer&&yn.push(vn),he.ignoreDepthForMultisampleCopy||(he.depthBuffer&&(ft|=256),he.stencilBuffer&&(ft|=1024));const be=o.get(he);n.bindFramebuffer(36008,be.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,be.__webglFramebuffer),he.ignoreDepthForMultisampleCopy&&(r.invalidateFramebuffer(36008,[vn]),r.invalidateFramebuffer(36009,[vn])),r.blitFramebuffer(0,0,ae,_t,0,0,ae,_t,ft,9728),r.invalidateFramebuffer(36008,yn),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,be.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function nn(he){return _&&(he.useRenderbuffer||he.useRenderToTexture)?Math.min(m,he.samples):0}function Mt(he){const ae=u.render.frame;w.get(he)!==ae&&(w.set(he,ae),he.update())}let Qn=!1,Kn=!1;function pr(he,ae){he&&he.isWebGLRenderTarget&&(Qn===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Qn=!0),he=he.texture),Ie(he,ae)}function ci(he,ae){he&&he.isWebGLCubeRenderTarget&&(Kn===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Kn=!0),he=he.texture),Je(he,ae)}this.allocateTextureUnit=xe,this.resetTextureUnits=$e,this.setTexture2D=Ie,this.setTexture2DArray=tt,this.setTexture3D=gt,this.setTextureCube=Je,this.rebindTextures=Pr,this.setupRenderTarget=et,this.updateRenderTargetMipmap=mt,this.updateMultisampleRenderTarget=yt,this.setupDepthRenderbuffer=An,this.setupFrameBufferTexture=Mn,this.safeSetTexture2D=pr,this.safeSetTextureCube=ci}function Fae(r,e,n){const o=n.isWebGL2;function a(l){let u;if(l===Kc)return 5121;if(l===Pie)return 32819;if(l===Bie)return 32820;if(l===Fie)return 33635;if(l===Mie)return 5120;if(l===Nie)return 5122;if(l===Xw)return 5123;if(l===Rie)return 5124;if(l===hA)return 5125;if(l===Jc)return 5126;if(l===ph)return o?5131:(u=e.get("OES_texture_half_float"),u!==null?u.HALF_FLOAT_OES:null);if(l===Lie)return 6406;if(l===Xf)return 6407;if(l===el)return 6408;if(l===Die)return 6409;if(l===Oie)return 6410;if(l===tg)return 6402;if(l===K0)return 34041;if(l===zie)return 6403;if(l===Uie)return 36244;if(l===jie)return 33319;if(l===Gie)return 33320;if(l===Wie)return 36248;if(l===Hie)return 36249;if(l===_G||l===fG||l===pG||l===hG)if(u=e.get("WEBGL_compressed_texture_s3tc"),u!==null){if(l===_G)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(l===fG)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(l===pG)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(l===hG)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(l===dG||l===mG||l===vG||l===gG)if(u=e.get("WEBGL_compressed_texture_pvrtc"),u!==null){if(l===dG)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(l===mG)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(l===vG)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(l===gG)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(l===Vie)return u=e.get("WEBGL_compressed_texture_etc1"),u!==null?u.COMPRESSED_RGB_ETC1_WEBGL:null;if((l===yG||l===kG)&&(u=e.get("WEBGL_compressed_texture_etc"),u!==null)){if(l===yG)return u.COMPRESSED_RGB8_ETC2;if(l===kG)return u.COMPRESSED_RGBA8_ETC2_EAC}if(l===qie||l===Kie||l===Jie||l===Xie||l===Yie||l===Qie||l===Zie||l===eoe||l===toe||l===noe||l===roe||l===ioe||l===ooe||l===aoe||l===loe||l===uoe||l===coe||l===_oe||l===foe||l===poe||l===hoe||l===doe||l===moe||l===voe||l===goe||l===yoe||l===koe||l===$oe)return u=e.get("WEBGL_compressed_texture_astc"),u!==null?l:null;if(l===soe)return u=e.get("EXT_texture_compression_bptc"),u!==null?l:null;if(l===q0)return o?34042:(u=e.get("WEBGL_depth_texture"),u!==null?u.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:a}}class s8 extends go{constructor(e=[]){super();this.cameras=e}}s8.prototype.isArrayCamera=!0;class gh extends Ur{constructor(){super();this.type="Group"}}gh.prototype.isGroup=!0;const UPe={type:"move"};class l8{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new gh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new gh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new gh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,o){let a=null,l=null,u=null;const _=this._targetRay,f=this._grip,h=this._hand;if(e&&n.session.visibilityState!=="visible-blurred")if(_!==null&&(a=n.getPose(e.targetRaySpace,o),a!==null&&(_.matrix.fromArray(a.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),a.linearVelocity?(_.hasLinearVelocity=!0,_.linearVelocity.copy(a.linearVelocity)):_.hasLinearVelocity=!1,a.angularVelocity?(_.hasAngularVelocity=!0,_.angularVelocity.copy(a.angularVelocity)):_.hasAngularVelocity=!1,this.dispatchEvent(UPe))),h&&e.hand){u=!0;for(const E of e.hand.values()){const A=n.getJointPose(E,o);if(h.joints[E.jointName]===void 0){const C=new gh;C.matrixAutoUpdate=!1,C.visible=!1,h.joints[E.jointName]=C,h.add(C)}const S=h.joints[E.jointName];A!==null&&(S.matrix.fromArray(A.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.jointRadius=A.radius),S.visible=A!==null}const d=h.joints["index-finger-tip"],m=h.joints["thumb-tip"],g=d.position.distanceTo(m.position),y=.02,w=.005;h.inputState.pinching&&g>y+w?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&g<=y-w&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(l=n.getPose(e.gripSpace,o),l!==null&&(f.matrix.fromArray(l.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),l.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(l.linearVelocity)):f.hasLinearVelocity=!1,l.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(l.angularVelocity)):f.hasAngularVelocity=!1));return _!==null&&(_.visible=a!==null),f!==null&&(f.visible=l!==null),h!==null&&(h.visible=u!==null),this}}class OF extends Na{constructor(e,n,o,a,l,u,_,f,h,d){if(d=d!==void 0?d:tg,d!==tg&&d!==K0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");o===void 0&&d===tg&&(o=Xw),o===void 0&&d===K0&&(o=q0);super(null,a,l,u,_,f,d,o,h);this.image={width:e,height:n},this.magFilter=_!==void 0?_:ra,this.minFilter=f!==void 0?f:ra,this.flipY=!1,this.generateMipmaps=!1}}OF.prototype.isDepthTexture=!0;class jPe extends Yd{constructor(e,n){super();const o=this;let a=null,l=1,u=null,_="local-floor";const f=e.extensions.has("WEBGL_multisampled_render_to_texture");let h=null,d=null,m=null,g=null,y=!1,w=null;const E=n.getContextAttributes();let A=null,S=null;const C=[],R=new Map,P=new go;P.layers.enable(1),P.viewport=new Ui;const D=new go;D.layers.enable(2),D.viewport=new Ui;const G=[P,D],z=new s8;z.layers.enable(1),z.layers.enable(2);let V=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Je){let ve=C[Je];return ve===void 0&&(ve=new l8,C[Je]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(Je){let ve=C[Je];return ve===void 0&&(ve=new l8,C[Je]=ve),ve.getGripSpace()},this.getHand=function(Je){let ve=C[Je];return ve===void 0&&(ve=new l8,C[Je]=ve),ve.getHandSpace()};function ne(Je){const ve=R.get(Je.inputSource);ve&&ve.dispatchEvent({type:Je.type,data:Je.inputSource})}function Y(){R.forEach(function(Je,ve){Je.disconnect(ve)}),R.clear(),V=null,X=null,e.setRenderTarget(A),g=null,m=null,d=null,a=null,S=null,gt.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Je){l=Je,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Je){_=Je,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u},this.getBaseLayer=function(){return m!==null?m:g},this.getBinding=function(){return d},this.getFrame=function(){return w},this.getSession=function(){return a},this.setSession=async function(Je){if(a=Je,a!==null){if(A=e.getRenderTarget(),a.addEventListener("select",ne),a.addEventListener("selectstart",ne),a.addEventListener("selectend",ne),a.addEventListener("squeeze",ne),a.addEventListener("squeezestart",ne),a.addEventListener("squeezeend",ne),a.addEventListener("end",Y),a.addEventListener("inputsourceschange",ue),E.xrCompatible!==!0&&await n.makeXRCompatible(),a.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ve={antialias:a.renderState.layers===void 0?E.antialias:!0,alpha:E.alpha,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:l};g=new XRWebGLLayer(a,n,ve),a.updateRenderState({baseLayer:g}),S=new Yc(g.framebufferWidth,g.framebufferHeight)}else{y=E.antialias;let ve=null,He=null,Ge=null;E.depth&&(Ge=E.stencil?35056:33189,ve=E.stencil?K0:tg,He=E.stencil?q0:Xw);const kt={colorFormat:E.alpha||y?32856:32849,depthFormat:Ge,scaleFactor:l};d=new XRWebGLBinding(a,n),m=d.createProjectionLayer(kt),a.updateRenderState({layers:[m]}),y?S=new _F(m.textureWidth,m.textureHeight,{format:el,type:Kc,depthTexture:new OF(m.textureWidth,m.textureHeight,He,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:E.stencil,ignoreDepth:m.ignoreDepthValues,useRenderToTexture:f}):S=new Yc(m.textureWidth,m.textureHeight,{format:E.alpha?el:Xf,type:Kc,depthTexture:new OF(m.textureWidth,m.textureHeight,He,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:E.stencil,ignoreDepth:m.ignoreDepthValues})}this.setFoveation(0),u=await a.requestReferenceSpace(_),gt.setContext(a),gt.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}};function ue(Je){const ve=a.inputSources;for(let He=0;He<C.length;He++)R.set(ve[He],C[He]);for(let He=0;He<Je.removed.length;He++){const Ge=Je.removed[He],kt=R.get(Ge);kt&&(kt.dispatchEvent({type:"disconnected",data:Ge}),R.delete(Ge))}for(let He=0;He<Je.added.length;He++){const Ge=Je.added[He],kt=R.get(Ge);kt&&kt.dispatchEvent({type:"connected",data:Ge})}}const _e=new te,ge=new te;function $e(Je,ve,He){_e.setFromMatrixPosition(ve.matrixWorld),ge.setFromMatrixPosition(He.matrixWorld);const Ge=_e.distanceTo(ge),kt=ve.projectionMatrix.elements,an=He.projectionMatrix.elements,ot=kt[14]/(kt[10]-1),Mn=kt[14]/(kt[10]+1),mn=(kt[9]+1)/kt[5],Gt=(kt[9]-1)/kt[5],An=(kt[8]-1)/kt[0],Pr=(an[8]+1)/an[0],et=ot*An,mt=ot*Pr,yt=Ge/(-An+Pr),nn=yt*-An;ve.matrixWorld.decompose(Je.position,Je.quaternion,Je.scale),Je.translateX(nn),Je.translateZ(yt),Je.matrixWorld.compose(Je.position,Je.quaternion,Je.scale),Je.matrixWorldInverse.copy(Je.matrixWorld).invert();const Mt=ot+yt,Qn=Mn+yt,Kn=et-nn,pr=mt+(Ge-nn),ci=mn*Mn/Qn*Mt,he=Gt*Mn/Qn*Mt;Je.projectionMatrix.makePerspective(Kn,pr,ci,he,Mt,Qn)}function xe(Je,ve){ve===null?Je.matrixWorld.copy(Je.matrix):Je.matrixWorld.multiplyMatrices(ve.matrixWorld,Je.matrix),Je.matrixWorldInverse.copy(Je.matrixWorld).invert()}this.updateCamera=function(Je){if(a===null)return;z.near=D.near=P.near=Je.near,z.far=D.far=P.far=Je.far,(V!==z.near||X!==z.far)&&(a.updateRenderState({depthNear:z.near,depthFar:z.far}),V=z.near,X=z.far);const ve=Je.parent,He=z.cameras;xe(z,ve);for(let kt=0;kt<He.length;kt++)xe(He[kt],ve);z.matrixWorld.decompose(z.position,z.quaternion,z.scale),Je.position.copy(z.position),Je.quaternion.copy(z.quaternion),Je.scale.copy(z.scale),Je.matrix.copy(z.matrix),Je.matrixWorld.copy(z.matrixWorld);const Ge=Je.children;for(let kt=0,an=Ge.length;kt<an;kt++)Ge[kt].updateMatrixWorld(!0);He.length===2?$e(z,P,D):z.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return z},this.getFoveation=function(){if(m!==null)return m.fixedFoveation;if(g!==null)return g.fixedFoveation},this.setFoveation=function(Je){m!==null&&(m.fixedFoveation=Je),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=Je)};let Ie=null;function tt(Je,ve){if(h=ve.getViewerPose(u),w=ve,h!==null){const Ge=h.views;g!==null&&(e.setRenderTargetFramebuffer(S,g.framebuffer),e.setRenderTarget(S));let kt=!1;Ge.length!==z.cameras.length&&(z.cameras.length=0,kt=!0);for(let an=0;an<Ge.length;an++){const ot=Ge[an];let Mn=null;if(g!==null)Mn=g.getViewport(ot);else{const Gt=d.getViewSubImage(m,ot);Mn=Gt.viewport,an===0&&(e.setRenderTargetTextures(S,Gt.colorTexture,m.ignoreDepthValues?void 0:Gt.depthStencilTexture),e.setRenderTarget(S))}const mn=G[an];mn.matrix.fromArray(ot.transform.matrix),mn.projectionMatrix.fromArray(ot.projectionMatrix),mn.viewport.set(Mn.x,Mn.y,Mn.width,Mn.height),an===0&&z.matrix.copy(mn.matrix),kt===!0&&z.cameras.push(mn)}}const He=a.inputSources;for(let Ge=0;Ge<C.length;Ge++){const kt=C[Ge],an=He[Ge];kt.update(an,ve,u)}Ie&&Ie(Je,ve),w=null}const gt=new nae;gt.setAnimationLoop(tt),this.setAnimationLoop=function(Je){Ie=Je},this.dispose=function(){}}}function GPe(r){function e(S,C){S.fogColor.value.copy(C.color),C.isFog?(S.fogNear.value=C.near,S.fogFar.value=C.far):C.isFogExp2&&(S.fogDensity.value=C.density)}function n(S,C,R,P,D){C.isMeshBasicMaterial?o(S,C):C.isMeshLambertMaterial?(o(S,C),f(S,C)):C.isMeshToonMaterial?(o(S,C),d(S,C)):C.isMeshPhongMaterial?(o(S,C),h(S,C)):C.isMeshStandardMaterial?(o(S,C),C.isMeshPhysicalMaterial?g(S,C,D):m(S,C)):C.isMeshMatcapMaterial?(o(S,C),y(S,C)):C.isMeshDepthMaterial?(o(S,C),w(S,C)):C.isMeshDistanceMaterial?(o(S,C),E(S,C)):C.isMeshNormalMaterial?(o(S,C),A(S,C)):C.isLineBasicMaterial?(a(S,C),C.isLineDashedMaterial&&l(S,C)):C.isPointsMaterial?u(S,C,R,P):C.isSpriteMaterial?_(S,C):C.isShadowMaterial?(S.color.value.copy(C.color),S.opacity.value=C.opacity):C.isShaderMaterial&&(C.uniformsNeedUpdate=!1)}function o(S,C){S.opacity.value=C.opacity,C.color&&S.diffuse.value.copy(C.color),C.emissive&&S.emissive.value.copy(C.emissive).multiplyScalar(C.emissiveIntensity),C.map&&(S.map.value=C.map),C.alphaMap&&(S.alphaMap.value=C.alphaMap),C.specularMap&&(S.specularMap.value=C.specularMap),C.alphaTest>0&&(S.alphaTest.value=C.alphaTest);const R=r.get(C).envMap;R&&(S.envMap.value=R,S.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=C.reflectivity,S.ior.value=C.ior,S.refractionRatio.value=C.refractionRatio),C.lightMap&&(S.lightMap.value=C.lightMap,S.lightMapIntensity.value=C.lightMapIntensity),C.aoMap&&(S.aoMap.value=C.aoMap,S.aoMapIntensity.value=C.aoMapIntensity);let P;C.map?P=C.map:C.specularMap?P=C.specularMap:C.displacementMap?P=C.displacementMap:C.normalMap?P=C.normalMap:C.bumpMap?P=C.bumpMap:C.roughnessMap?P=C.roughnessMap:C.metalnessMap?P=C.metalnessMap:C.alphaMap?P=C.alphaMap:C.emissiveMap?P=C.emissiveMap:C.clearcoatMap?P=C.clearcoatMap:C.clearcoatNormalMap?P=C.clearcoatNormalMap:C.clearcoatRoughnessMap?P=C.clearcoatRoughnessMap:C.specularIntensityMap?P=C.specularIntensityMap:C.specularColorMap?P=C.specularColorMap:C.transmissionMap?P=C.transmissionMap:C.thicknessMap?P=C.thicknessMap:C.sheenColorMap?P=C.sheenColorMap:C.sheenRoughnessMap&&(P=C.sheenRoughnessMap),P!==void 0&&(P.isWebGLRenderTarget&&(P=P.texture),P.matrixAutoUpdate===!0&&P.updateMatrix(),S.uvTransform.value.copy(P.matrix));let D;C.aoMap?D=C.aoMap:C.lightMap&&(D=C.lightMap),D!==void 0&&(D.isWebGLRenderTarget&&(D=D.texture),D.matrixAutoUpdate===!0&&D.updateMatrix(),S.uv2Transform.value.copy(D.matrix))}function a(S,C){S.diffuse.value.copy(C.color),S.opacity.value=C.opacity}function l(S,C){S.dashSize.value=C.dashSize,S.totalSize.value=C.dashSize+C.gapSize,S.scale.value=C.scale}function u(S,C,R,P){S.diffuse.value.copy(C.color),S.opacity.value=C.opacity,S.size.value=C.size*R,S.scale.value=P*.5,C.map&&(S.map.value=C.map),C.alphaMap&&(S.alphaMap.value=C.alphaMap),C.alphaTest>0&&(S.alphaTest.value=C.alphaTest);let D;C.map?D=C.map:C.alphaMap&&(D=C.alphaMap),D!==void 0&&(D.matrixAutoUpdate===!0&&D.updateMatrix(),S.uvTransform.value.copy(D.matrix))}function _(S,C){S.diffuse.value.copy(C.color),S.opacity.value=C.opacity,S.rotation.value=C.rotation,C.map&&(S.map.value=C.map),C.alphaMap&&(S.alphaMap.value=C.alphaMap),C.alphaTest>0&&(S.alphaTest.value=C.alphaTest);let R;C.map?R=C.map:C.alphaMap&&(R=C.alphaMap),R!==void 0&&(R.matrixAutoUpdate===!0&&R.updateMatrix(),S.uvTransform.value.copy(R.matrix))}function f(S,C){C.emissiveMap&&(S.emissiveMap.value=C.emissiveMap)}function h(S,C){S.specular.value.copy(C.specular),S.shininess.value=Math.max(C.shininess,1e-4),C.emissiveMap&&(S.emissiveMap.value=C.emissiveMap),C.bumpMap&&(S.bumpMap.value=C.bumpMap,S.bumpScale.value=C.bumpScale,C.side===Ma&&(S.bumpScale.value*=-1)),C.normalMap&&(S.normalMap.value=C.normalMap,S.normalScale.value.copy(C.normalScale),C.side===Ma&&S.normalScale.value.negate()),C.displacementMap&&(S.displacementMap.value=C.displacementMap,S.displacementScale.value=C.displacementScale,S.displacementBias.value=C.displacementBias)}function d(S,C){C.gradientMap&&(S.gradientMap.value=C.gradientMap),C.emissiveMap&&(S.emissiveMap.value=C.emissiveMap),C.bumpMap&&(S.bumpMap.value=C.bumpMap,S.bumpScale.value=C.bumpScale,C.side===Ma&&(S.bumpScale.value*=-1)),C.normalMap&&(S.normalMap.value=C.normalMap,S.normalScale.value.copy(C.normalScale),C.side===Ma&&S.normalScale.value.negate()),C.displacementMap&&(S.displacementMap.value=C.displacementMap,S.displacementScale.value=C.displacementScale,S.displacementBias.value=C.displacementBias)}function m(S,C){S.roughness.value=C.roughness,S.metalness.value=C.metalness,C.roughnessMap&&(S.roughnessMap.value=C.roughnessMap),C.metalnessMap&&(S.metalnessMap.value=C.metalnessMap),C.emissiveMap&&(S.emissiveMap.value=C.emissiveMap),C.bumpMap&&(S.bumpMap.value=C.bumpMap,S.bumpScale.value=C.bumpScale,C.side===Ma&&(S.bumpScale.value*=-1)),C.normalMap&&(S.normalMap.value=C.normalMap,S.normalScale.value.copy(C.normalScale),C.side===Ma&&S.normalScale.value.negate()),C.displacementMap&&(S.displacementMap.value=C.displacementMap,S.displacementScale.value=C.displacementScale,S.displacementBias.value=C.displacementBias),r.get(C).envMap&&(S.envMapIntensity.value=C.envMapIntensity)}function g(S,C,R){m(S,C),S.ior.value=C.ior,C.sheen>0&&(S.sheenColor.value.copy(C.sheenColor).multiplyScalar(C.sheen),S.sheenRoughness.value=C.sheenRoughness,C.sheenColorMap&&(S.sheenColorMap.value=C.sheenColorMap),C.sheenRoughnessMap&&(S.sheenRoughnessMap.value=C.sheenRoughnessMap)),C.clearcoat>0&&(S.clearcoat.value=C.clearcoat,S.clearcoatRoughness.value=C.clearcoatRoughness,C.clearcoatMap&&(S.clearcoatMap.value=C.clearcoatMap),C.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=C.clearcoatRoughnessMap),C.clearcoatNormalMap&&(S.clearcoatNormalScale.value.copy(C.clearcoatNormalScale),S.clearcoatNormalMap.value=C.clearcoatNormalMap,C.side===Ma&&S.clearcoatNormalScale.value.negate())),C.transmission>0&&(S.transmission.value=C.transmission,S.transmissionSamplerMap.value=R.texture,S.transmissionSamplerSize.value.set(R.width,R.height),C.transmissionMap&&(S.transmissionMap.value=C.transmissionMap),S.thickness.value=C.thickness,C.thicknessMap&&(S.thicknessMap.value=C.thicknessMap),S.attenuationDistance.value=C.attenuationDistance,S.attenuationColor.value.copy(C.attenuationColor)),S.specularIntensity.value=C.specularIntensity,S.specularColor.value.copy(C.specularColor),C.specularIntensityMap&&(S.specularIntensityMap.value=C.specularIntensityMap),C.specularColorMap&&(S.specularColorMap.value=C.specularColorMap)}function y(S,C){C.matcap&&(S.matcap.value=C.matcap),C.bumpMap&&(S.bumpMap.value=C.bumpMap,S.bumpScale.value=C.bumpScale,C.side===Ma&&(S.bumpScale.value*=-1)),C.normalMap&&(S.normalMap.value=C.normalMap,S.normalScale.value.copy(C.normalScale),C.side===Ma&&S.normalScale.value.negate()),C.displacementMap&&(S.displacementMap.value=C.displacementMap,S.displacementScale.value=C.displacementScale,S.displacementBias.value=C.displacementBias)}function w(S,C){C.displacementMap&&(S.displacementMap.value=C.displacementMap,S.displacementScale.value=C.displacementScale,S.displacementBias.value=C.displacementBias)}function E(S,C){C.displacementMap&&(S.displacementMap.value=C.displacementMap,S.displacementScale.value=C.displacementScale,S.displacementBias.value=C.displacementBias),S.referencePosition.value.copy(C.referencePosition),S.nearDistance.value=C.nearDistance,S.farDistance.value=C.farDistance}function A(S,C){C.bumpMap&&(S.bumpMap.value=C.bumpMap,S.bumpScale.value=C.bumpScale,C.side===Ma&&(S.bumpScale.value*=-1)),C.normalMap&&(S.normalMap.value=C.normalMap,S.normalScale.value.copy(C.normalScale),C.side===Ma&&S.normalScale.value.negate()),C.displacementMap&&(S.displacementMap.value=C.displacementMap,S.displacementScale.value=C.displacementScale,S.displacementBias.value=C.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:n}}function WPe(){const r=cF("canvas");return r.style.display="block",r}function Pi(r={}){const e=r.canvas!==void 0?r.canvas:WPe(),n=r.context!==void 0?r.context:null,o=r.alpha!==void 0?r.alpha:!1,a=r.depth!==void 0?r.depth:!0,l=r.stencil!==void 0?r.stencil:!0,u=r.antialias!==void 0?r.antialias:!1,_=r.premultipliedAlpha!==void 0?r.premultipliedAlpha:!0,f=r.preserveDrawingBuffer!==void 0?r.preserveDrawingBuffer:!1,h=r.powerPreference!==void 0?r.powerPreference:"default",d=r.failIfMajorPerformanceCaveat!==void 0?r.failIfMajorPerformanceCaveat:!1;let m=null,g=null;const y=[],w=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Ns,this.physicallyCorrectLights=!1,this.toneMapping=Jd,this.toneMappingExposure=1;const E=this;let A=!1,S=0,C=0,R=null,P=-1,D=null;const G=new Ui,z=new Ui;let V=null,X=e.width,ne=e.height,Y=1,ue=null,_e=null;const ge=new Ui(0,0,X,ne),$e=new Ui(0,0,X,ne);let xe=!1;const Ie=[],tt=new wA;let gt=!1,Je=!1,ve=null;const He=new Cn,Ge=new te,kt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function an(){return R===null?Y:1}let ot=n;function Mn(oe,Oe){for(let Xe=0;Xe<oe.length;Xe++){const je=oe[Xe],st=e.getContext(je,Oe);if(st!==null)return st}return null}try{const oe={alpha:o,depth:a,stencil:l,antialias:u,premultipliedAlpha:_,preserveDrawingBuffer:f,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${tF}`),e.addEventListener("webglcontextlost",We,!1),e.addEventListener("webglcontextrestored",Tt,!1),ot===null){const Oe=["webgl2","webgl","experimental-webgl"];if(E.isWebGL1Renderer===!0&&Oe.shift(),ot=Mn(Oe,oe),ot===null)throw Mn(Oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ot.getShaderPrecisionFormat===void 0&&(ot.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let mn,Gt,An,Pr,et,mt,yt,nn,Mt,Qn,Kn,pr,ci,he,ae,_t,ft,yn,vn,be,wt,it,Wt;function Dt(){mn=new h3e(ot),Gt=new s3e(ot,mn,r),mn.init(Gt),it=new Fae(ot,mn,Gt),An=new OPe(ot,mn,Gt),Ie[0]=1029,Pr=new v3e(ot),et=new APe,mt=new zPe(ot,mn,An,et,Gt,it,Pr),yt=new u3e(E),nn=new p3e(E),Mt=new MMe(ot,Gt),Wt=new o3e(ot,mn,Mt,Gt),Qn=new d3e(ot,Mt,Pr,Wt),Kn=new $3e(ot,Qn,Mt,Pr),vn=new k3e(ot,Gt,mt),_t=new l3e(et),pr=new CPe(E,yt,nn,mn,Gt,Wt,_t),ci=new GPe(et),he=new IPe(et),ae=new FPe(mn,Gt),yn=new i3e(E,yt,An,Kn,_),ft=new Bae(E,Kn,Gt),be=new a3e(ot,mn,Pr,Gt),wt=new m3e(ot,mn,Pr,Gt),Pr.programs=pr.programs,E.capabilities=Gt,E.extensions=mn,E.properties=et,E.renderLists=he,E.shadowMap=ft,E.state=An,E.info=Pr}Dt();const me=new jPe(E,ot);this.xr=me,this.getContext=function(){return ot},this.getContextAttributes=function(){return ot.getContextAttributes()},this.forceContextLoss=function(){const oe=mn.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=mn.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(oe){oe!==void 0&&(Y=oe,this.setSize(X,ne,!1))},this.getSize=function(oe){return oe.set(X,ne)},this.setSize=function(oe,Oe,Xe){if(me.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=oe,ne=Oe,e.width=Math.floor(oe*Y),e.height=Math.floor(Oe*Y),Xe!==!1&&(e.style.width=oe+"px",e.style.height=Oe+"px"),this.setViewport(0,0,oe,Oe)},this.getDrawingBufferSize=function(oe){return oe.set(X*Y,ne*Y).floor()},this.setDrawingBufferSize=function(oe,Oe,Xe){X=oe,ne=Oe,Y=Xe,e.width=Math.floor(oe*Xe),e.height=Math.floor(Oe*Xe),this.setViewport(0,0,oe,Oe)},this.getCurrentViewport=function(oe){return oe.copy(G)},this.getViewport=function(oe){return oe.copy(ge)},this.setViewport=function(oe,Oe,Xe,je){oe.isVector4?ge.set(oe.x,oe.y,oe.z,oe.w):ge.set(oe,Oe,Xe,je),An.viewport(G.copy(ge).multiplyScalar(Y).floor())},this.getScissor=function(oe){return oe.copy($e)},this.setScissor=function(oe,Oe,Xe,je){oe.isVector4?$e.set(oe.x,oe.y,oe.z,oe.w):$e.set(oe,Oe,Xe,je),An.scissor(z.copy($e).multiplyScalar(Y).floor())},this.getScissorTest=function(){return xe},this.setScissorTest=function(oe){An.setScissorTest(xe=oe)},this.setOpaqueSort=function(oe){ue=oe},this.setTransparentSort=function(oe){_e=oe},this.getClearColor=function(oe){return oe.copy(yn.getClearColor())},this.setClearColor=function(){yn.setClearColor.apply(yn,arguments)},this.getClearAlpha=function(){return yn.getClearAlpha()},this.setClearAlpha=function(){yn.setClearAlpha.apply(yn,arguments)},this.clear=function(oe,Oe,Xe){let je=0;(oe===void 0||oe)&&(je|=16384),(Oe===void 0||Oe)&&(je|=256),(Xe===void 0||Xe)&&(je|=1024),ot.clear(je)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",We,!1),e.removeEventListener("webglcontextrestored",Tt,!1),he.dispose(),ae.dispose(),et.dispose(),yt.dispose(),nn.dispose(),Kn.dispose(),Wt.dispose(),me.dispose(),me.removeEventListener("sessionstart",Ls),me.removeEventListener("sessionend",sl),ve&&(ve.dispose(),ve=null),ef.stop()};function We(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Tt(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const oe=Pr.autoReset,Oe=ft.enabled,Xe=ft.autoUpdate,je=ft.needsUpdate,st=ft.type;Dt(),Pr.autoReset=oe,ft.enabled=Oe,ft.autoUpdate=Xe,ft.needsUpdate=je,ft.type=st}function Ln(oe){const Oe=oe.target;Oe.removeEventListener("dispose",Ln),qn(Oe)}function qn(oe){oo(oe),et.remove(oe)}function oo(oe){const Oe=et.get(oe).programs;Oe!==void 0&&Oe.forEach(function(Xe){pr.releaseProgram(Xe)})}this.renderBufferDirect=function(oe,Oe,Xe,je,st,er){Oe===null&&(Oe=kt);const Wn=st.isMesh&&st.matrixWorld.determinant()<0,kr=Og(oe,Oe,Xe,je,st);An.setMaterial(je,Wn);let Hn=Xe.index;const wr=Xe.attributes.position;if(Hn===null){if(wr===void 0||wr.count===0)return}else if(Hn.count===0)return;let ir=1;je.wireframe===!0&&(Hn=Qn.getWireframeAttribute(Xe),ir=2),Wt.setup(st,je,kr,Xe,Hn);let xr,gr=be;Hn!==null&&(xr=Mt.get(Hn),gr=wt,gr.setIndex(xr));const $o=Hn!==null?Hn.count:wr.count,Ar=Xe.drawRange.start*ir,Eu=Xe.drawRange.count*ir,Qr=er!==null?er.start*ir:0,qa=er!==null?er.count*ir:1/0,Br=Math.max(Ar,Qr),ii=Math.min($o,Ar+Eu,Qr+qa)-1,oa=Math.max(0,ii-Br+1);if(oa!==0){if(st.isMesh)je.wireframe===!0?(An.setLineWidth(je.wireframeLinewidth*an()),gr.setMode(1)):gr.setMode(4);else if(st.isLine){let or=je.linewidth;or===void 0&&(or=1),An.setLineWidth(or*an()),st.isLineSegments?gr.setMode(1):st.isLineLoop?gr.setMode(2):gr.setMode(3)}else st.isPoints?gr.setMode(0):st.isSprite&&gr.setMode(4);if(st.isInstancedMesh)gr.renderInstances(Br,oa,st.count);else if(Xe.isInstancedBufferGeometry){const or=Math.min(Xe.instanceCount,Xe._maxInstanceCount);gr.renderInstances(Br,oa,or)}else gr.render(Br,oa)}},this.compile=function(oe,Oe){g=ae.get(oe),g.init(),w.push(g),oe.traverseVisible(function(Xe){Xe.isLight&&Xe.layers.test(Oe.layers)&&(g.pushLight(Xe),Xe.castShadow&&g.pushShadow(Xe))}),g.setupLights(E.physicallyCorrectLights),oe.traverse(function(Xe){const je=Xe.material;if(je)if(Array.isArray(je))for(let st=0;st<je.length;st++){const er=je[st];xm(er,oe,Xe)}else xm(je,oe,Xe)}),w.pop(),g=null};let Jo=null;function wm(oe){Jo&&Jo(oe)}function Ls(){ef.stop()}function sl(){ef.start()}const ef=new nae;ef.setAnimationLoop(wm),typeof window!="undefined"&&ef.setContext(window),this.setAnimationLoop=function(oe){Jo=oe,me.setAnimationLoop(oe),oe===null?ef.stop():ef.start()},me.addEventListener("sessionstart",Ls),me.addEventListener("sessionend",sl),this.render=function(oe,Oe){if(Oe!==void 0&&Oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;oe.autoUpdate===!0&&oe.updateMatrixWorld(),Oe.parent===null&&Oe.updateMatrixWorld(),me.enabled===!0&&me.isPresenting===!0&&(me.cameraAutoUpdate===!0&&me.updateCamera(Oe),Oe=me.getCamera()),oe.isScene===!0&&oe.onBeforeRender(E,oe,Oe,R),g=ae.get(oe,w.length),g.init(),w.push(g),He.multiplyMatrices(Oe.projectionMatrix,Oe.matrixWorldInverse),tt.setFromProjectionMatrix(He),Je=this.localClippingEnabled,gt=_t.init(this.clippingPlanes,Je,Oe),m=he.get(oe,y.length),m.init(),y.push(m),Zk(oe,Oe,0,E.sortObjects),m.finish(),E.sortObjects===!0&&m.sort(ue,_e),gt===!0&&_t.beginShadows();const Xe=g.state.shadowsArray;if(ft.render(Xe,oe,Oe),gt===!0&&_t.endShadows(),this.info.autoReset===!0&&this.info.reset(),yn.render(m,oe),g.setupLights(E.physicallyCorrectLights),Oe.isArrayCamera){const je=Oe.cameras;for(let st=0,er=je.length;st<er;st++){const Wn=je[st];e$(m,oe,Wn,Wn.viewport)}}else e$(m,oe,Oe);R!==null&&(mt.updateMultisampleRenderTarget(R),mt.updateRenderTargetMipmap(R)),oe.isScene===!0&&oe.onAfterRender(E,oe,Oe),An.buffers.depth.setTest(!0),An.buffers.depth.setMask(!0),An.buffers.color.setMask(!0),An.setPolygonOffset(!1),Wt.resetDefaultState(),P=-1,D=null,w.pop(),w.length>0?g=w[w.length-1]:g=null,y.pop(),y.length>0?m=y[y.length-1]:m=null};function Zk(oe,Oe,Xe,je){if(oe.visible===!1)return;if(oe.layers.test(Oe.layers)){if(oe.isGroup)Xe=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(Oe);else if(oe.isLight)g.pushLight(oe),oe.castShadow&&g.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||tt.intersectsSprite(oe)){je&&Ge.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(He);const Wn=Kn.update(oe),kr=oe.material;kr.visible&&m.push(oe,Wn,kr,Xe,Ge.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(oe.isSkinnedMesh&&oe.skeleton.frame!==Pr.render.frame&&(oe.skeleton.update(),oe.skeleton.frame=Pr.render.frame),!oe.frustumCulled||tt.intersectsObject(oe))){je&&Ge.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(He);const Wn=Kn.update(oe),kr=oe.material;if(Array.isArray(kr)){const Hn=Wn.groups;for(let wr=0,ir=Hn.length;wr<ir;wr++){const xr=Hn[wr],gr=kr[xr.materialIndex];gr&&gr.visible&&m.push(oe,Wn,gr,Xe,Ge.z,xr)}}else kr.visible&&m.push(oe,Wn,kr,Xe,Ge.z,null)}}const er=oe.children;for(let Wn=0,kr=er.length;Wn<kr;Wn++)Zk(er[Wn],Oe,Xe,je)}function e$(oe,Oe,Xe,je){const st=oe.opaque,er=oe.transmissive,Wn=oe.transparent;g.setupLightsView(Xe),er.length>0&&up(st,Oe,Xe),je&&An.viewport(G.copy(je)),st.length>0&&ao(st,Oe,Xe),er.length>0&&ao(er,Oe,Xe),Wn.length>0&&ao(Wn,Oe,Xe)}function up(oe,Oe,Xe){if(ve===null){const Wn=u===!0&&Gt.isWebGL2===!0?_F:Yc;ve=new Wn(1024,1024,{generateMipmaps:!0,type:it.convert(ph)!==null?ph:Kc,minFilter:Xd,magFilter:ra,wrapS:Ms,wrapT:Ms,useRenderToTexture:mn.has("WEBGL_multisampled_render_to_texture")})}const je=E.getRenderTarget();E.setRenderTarget(ve),E.clear();const st=E.toneMapping;E.toneMapping=Jd,ao(oe,Oe,Xe),E.toneMapping=st,mt.updateMultisampleRenderTarget(ve),mt.updateRenderTargetMipmap(ve),E.setRenderTarget(je)}function ao(oe,Oe,Xe){const je=Oe.isScene===!0?Oe.overrideMaterial:null;for(let st=0,er=oe.length;st<er;st++){const Wn=oe[st],kr=Wn.object,Hn=Wn.geometry,wr=je===null?Wn.material:je,ir=Wn.group;kr.layers.test(Xe.layers)&&t$(kr,Oe,Xe,Hn,wr,ir)}}function t$(oe,Oe,Xe,je,st,er){oe.onBeforeRender(E,Oe,Xe,je,st,er),oe.modelViewMatrix.multiplyMatrices(Xe.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),st.onBeforeRender(E,Oe,Xe,je,oe,er),st.transparent===!0&&st.side===Zv?(st.side=Ma,st.needsUpdate=!0,E.renderBufferDirect(Xe,Oe,je,st,oe,er),st.side=Qv,st.needsUpdate=!0,E.renderBufferDirect(Xe,Oe,je,st,oe,er),st.side=Zv):E.renderBufferDirect(Xe,Oe,je,st,oe,er),oe.onAfterRender(E,Oe,Xe,je,st,er)}function xm(oe,Oe,Xe){Oe.isScene!==!0&&(Oe=kt);const je=et.get(oe),st=g.state.lights,er=g.state.shadowsArray,Wn=st.state.version,kr=pr.getParameters(oe,st.state,er,Oe,Xe),Hn=pr.getProgramCacheKey(kr);let wr=je.programs;je.environment=oe.isMeshStandardMaterial?Oe.environment:null,je.fog=Oe.fog,je.envMap=(oe.isMeshStandardMaterial?nn:yt).get(oe.envMap||je.environment),wr===void 0&&(oe.addEventListener("dispose",Ln),wr=new Map,je.programs=wr);let ir=wr.get(Hn);if(ir!==void 0){if(je.currentProgram===ir&&je.lightsStateVersion===Wn)return s_(oe,kr),ir}else kr.uniforms=pr.getUniforms(oe),oe.onBuild(Xe,kr,E),oe.onBeforeCompile(kr,E),ir=pr.acquireProgram(kr,Hn),wr.set(Hn,ir),je.uniforms=kr.uniforms;const xr=je.uniforms;(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(xr.clippingPlanes=_t.uniform),s_(oe,kr),je.needsLights=Ug(oe),je.lightsStateVersion=Wn,je.needsLights&&(xr.ambientLightColor.value=st.state.ambient,xr.lightProbe.value=st.state.probe,xr.directionalLights.value=st.state.directional,xr.directionalLightShadows.value=st.state.directionalShadow,xr.spotLights.value=st.state.spot,xr.spotLightShadows.value=st.state.spotShadow,xr.rectAreaLights.value=st.state.rectArea,xr.ltc_1.value=st.state.rectAreaLTC1,xr.ltc_2.value=st.state.rectAreaLTC2,xr.pointLights.value=st.state.point,xr.pointLightShadows.value=st.state.pointShadow,xr.hemisphereLights.value=st.state.hemi,xr.directionalShadowMap.value=st.state.directionalShadowMap,xr.directionalShadowMatrix.value=st.state.directionalShadowMatrix,xr.spotShadowMap.value=st.state.spotShadowMap,xr.spotShadowMatrix.value=st.state.spotShadowMatrix,xr.pointShadowMap.value=st.state.pointShadowMap,xr.pointShadowMatrix.value=st.state.pointShadowMatrix);const gr=ir.getUniforms(),$o=fg.seqWithValue(gr.seq,xr);return je.currentProgram=ir,je.uniformsList=$o,ir}function s_(oe,Oe){const Xe=et.get(oe);Xe.outputEncoding=Oe.outputEncoding,Xe.instancing=Oe.instancing,Xe.skinning=Oe.skinning,Xe.morphTargets=Oe.morphTargets,Xe.morphNormals=Oe.morphNormals,Xe.morphTargetsCount=Oe.morphTargetsCount,Xe.numClippingPlanes=Oe.numClippingPlanes,Xe.numIntersection=Oe.numClipIntersection,Xe.vertexAlphas=Oe.vertexAlphas,Xe.vertexTangents=Oe.vertexTangents}function Og(oe,Oe,Xe,je,st){Oe.isScene!==!0&&(Oe=kt),mt.resetTextureUnits();const er=Oe.fog,Wn=je.isMeshStandardMaterial?Oe.environment:null,kr=R===null?E.outputEncoding:R.texture.encoding,Hn=(je.isMeshStandardMaterial?nn:yt).get(je.envMap||Wn),wr=je.vertexColors===!0&&!!Xe.attributes.color&&Xe.attributes.color.itemSize===4,ir=!!je.normalMap&&!!Xe.attributes.tangent,xr=!!Xe.morphAttributes.position,gr=!!Xe.morphAttributes.normal,$o=Xe.morphAttributes.position?Xe.morphAttributes.position.length:0,Ar=et.get(je),Eu=g.state.lights;if(gt===!0&&(Je===!0||oe!==D)){const Bi=oe===D&&je.id===P;_t.setState(je,oe,Bi)}let Qr=!1;je.version===Ar.__version?(Ar.needsLights&&Ar.lightsStateVersion!==Eu.state.version||Ar.outputEncoding!==kr||st.isInstancedMesh&&Ar.instancing===!1||!st.isInstancedMesh&&Ar.instancing===!0||st.isSkinnedMesh&&Ar.skinning===!1||!st.isSkinnedMesh&&Ar.skinning===!0||Ar.envMap!==Hn||je.fog&&Ar.fog!==er||Ar.numClippingPlanes!==void 0&&(Ar.numClippingPlanes!==_t.numPlanes||Ar.numIntersection!==_t.numIntersection)||Ar.vertexAlphas!==wr||Ar.vertexTangents!==ir||Ar.morphTargets!==xr||Ar.morphNormals!==gr||Gt.isWebGL2===!0&&Ar.morphTargetsCount!==$o)&&(Qr=!0):(Qr=!0,Ar.__version=je.version);let qa=Ar.currentProgram;Qr===!0&&(qa=xm(je,Oe,st));let Br=!1,ii=!1,oa=!1;const or=qa.getUniforms(),bo=Ar.uniforms;if(An.useProgram(qa.program)&&(Br=!0,ii=!0,oa=!0),je.id!==P&&(P=je.id,ii=!0),Br||D!==oe){if(or.setValue(ot,"projectionMatrix",oe.projectionMatrix),Gt.logarithmicDepthBuffer&&or.setValue(ot,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),D!==oe&&(D=oe,ii=!0,oa=!0),je.isShaderMaterial||je.isMeshPhongMaterial||je.isMeshToonMaterial||je.isMeshStandardMaterial||je.envMap){const Bi=or.map.cameraPosition;Bi!==void 0&&Bi.setValue(ot,Ge.setFromMatrixPosition(oe.matrixWorld))}(je.isMeshPhongMaterial||je.isMeshToonMaterial||je.isMeshLambertMaterial||je.isMeshBasicMaterial||je.isMeshStandardMaterial||je.isShaderMaterial)&&or.setValue(ot,"isOrthographic",oe.isOrthographicCamera===!0),(je.isMeshPhongMaterial||je.isMeshToonMaterial||je.isMeshLambertMaterial||je.isMeshBasicMaterial||je.isMeshStandardMaterial||je.isShaderMaterial||je.isShadowMaterial||st.isSkinnedMesh)&&or.setValue(ot,"viewMatrix",oe.matrixWorldInverse)}if(st.isSkinnedMesh){or.setOptional(ot,st,"bindMatrix"),or.setOptional(ot,st,"bindMatrixInverse");const Bi=st.skeleton;Bi&&(Gt.floatVertexTextures?(Bi.boneTexture===null&&Bi.computeBoneTexture(),or.setValue(ot,"boneTexture",Bi.boneTexture,mt),or.setValue(ot,"boneTextureSize",Bi.boneTextureSize)):or.setOptional(ot,Bi,"boneMatrices"))}return!!Xe&&(Xe.morphAttributes.position!==void 0||Xe.morphAttributes.normal!==void 0)&&vn.update(st,Xe,je,qa),(ii||Ar.receiveShadow!==st.receiveShadow)&&(Ar.receiveShadow=st.receiveShadow,or.setValue(ot,"receiveShadow",st.receiveShadow)),ii&&(or.setValue(ot,"toneMappingExposure",E.toneMappingExposure),Ar.needsLights&&zg(bo,oa),er&&je.fog&&ci.refreshFogUniforms(bo,er),ci.refreshMaterialUniforms(bo,je,Y,ne,ve),fg.upload(ot,Ar.uniformsList,bo,mt)),je.isShaderMaterial&&je.uniformsNeedUpdate===!0&&(fg.upload(ot,Ar.uniformsList,bo,mt),je.uniformsNeedUpdate=!1),je.isSpriteMaterial&&or.setValue(ot,"center",st.center),or.setValue(ot,"modelViewMatrix",st.modelViewMatrix),or.setValue(ot,"normalMatrix",st.normalMatrix),or.setValue(ot,"modelMatrix",st.matrixWorld),qa}function zg(oe,Oe){oe.ambientLightColor.needsUpdate=Oe,oe.lightProbe.needsUpdate=Oe,oe.directionalLights.needsUpdate=Oe,oe.directionalLightShadows.needsUpdate=Oe,oe.pointLights.needsUpdate=Oe,oe.pointLightShadows.needsUpdate=Oe,oe.spotLights.needsUpdate=Oe,oe.spotLightShadows.needsUpdate=Oe,oe.rectAreaLights.needsUpdate=Oe,oe.hemisphereLights.needsUpdate=Oe}function Ug(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(oe,Oe,Xe){et.get(oe.texture).__webglTexture=Oe,et.get(oe.depthTexture).__webglTexture=Xe;const je=et.get(oe);je.__hasExternalTextures=!0,je.__hasExternalTextures&&(je.__autoAllocateDepthBuffer=Xe===void 0,je.__autoAllocateDepthBuffer||oe.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),oe.useRenderToTexture=!1,oe.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(oe,Oe){const Xe=et.get(oe);Xe.__webglFramebuffer=Oe,Xe.__useDefaultFramebuffer=Oe===void 0},this.setRenderTarget=function(oe,Oe=0,Xe=0){R=oe,S=Oe,C=Xe;let je=!0;if(oe){const Hn=et.get(oe);Hn.__useDefaultFramebuffer!==void 0?(An.bindFramebuffer(36160,null),je=!1):Hn.__webglFramebuffer===void 0?mt.setupRenderTarget(oe):Hn.__hasExternalTextures&&mt.rebindTextures(oe,et.get(oe.texture).__webglTexture,et.get(oe.depthTexture).__webglTexture)}let st=null,er=!1,Wn=!1;if(oe){const Hn=oe.texture;(Hn.isDataTexture3D||Hn.isDataTexture2DArray)&&(Wn=!0);const wr=et.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(st=wr[Oe],er=!0):oe.useRenderbuffer?st=et.get(oe).__webglMultisampledFramebuffer:st=wr,G.copy(oe.viewport),z.copy(oe.scissor),V=oe.scissorTest}else G.copy(ge).multiplyScalar(Y).floor(),z.copy($e).multiplyScalar(Y).floor(),V=xe;if(An.bindFramebuffer(36160,st)&&Gt.drawBuffers&&je){let Hn=!1;if(oe)if(oe.isWebGLMultipleRenderTargets){const wr=oe.texture;if(Ie.length!==wr.length||Ie[0]!==36064){for(let ir=0,xr=wr.length;ir<xr;ir++)Ie[ir]=36064+ir;Ie.length=wr.length,Hn=!0}}else(Ie.length!==1||Ie[0]!==36064)&&(Ie[0]=36064,Ie.length=1,Hn=!0);else(Ie.length!==1||Ie[0]!==1029)&&(Ie[0]=1029,Ie.length=1,Hn=!0);Hn&&(Gt.isWebGL2?ot.drawBuffers(Ie):mn.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ie))}if(An.viewport(G),An.scissor(z),An.setScissorTest(V),er){const Hn=et.get(oe.texture);ot.framebufferTexture2D(36160,36064,34069+Oe,Hn.__webglTexture,Xe)}else if(Wn){const Hn=et.get(oe.texture),wr=Oe||0;ot.framebufferTextureLayer(36160,36064,Hn.__webglTexture,Xe||0,wr)}P=-1},this.readRenderTargetPixels=function(oe,Oe,Xe,je,st,er,Wn){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let kr=et.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Wn!==void 0&&(kr=kr[Wn]),kr){An.bindFramebuffer(36160,kr);try{const Hn=oe.texture,wr=Hn.format,ir=Hn.type;if(wr!==el&&it.convert(wr)!==ot.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const xr=ir===ph&&(mn.has("EXT_color_buffer_half_float")||Gt.isWebGL2&&mn.has("EXT_color_buffer_float"));if(ir!==Kc&&it.convert(ir)!==ot.getParameter(35738)&&!(ir===Jc&&(Gt.isWebGL2||mn.has("OES_texture_float")||mn.has("WEBGL_color_buffer_float")))&&!xr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ot.checkFramebufferStatus(36160)===36053?Oe>=0&&Oe<=oe.width-je&&Xe>=0&&Xe<=oe.height-st&&ot.readPixels(Oe,Xe,je,st,it.convert(wr),it.convert(ir),er):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Hn=R!==null?et.get(R).__webglFramebuffer:null;An.bindFramebuffer(36160,Hn)}}},this.copyFramebufferToTexture=function(oe,Oe,Xe=0){const je=Math.pow(2,-Xe),st=Math.floor(Oe.image.width*je),er=Math.floor(Oe.image.height*je);let Wn=it.convert(Oe.format);Gt.isWebGL2&&(Wn===6407&&(Wn=32849),Wn===6408&&(Wn=32856)),mt.setTexture2D(Oe,0),ot.copyTexImage2D(3553,Xe,Wn,oe.x,oe.y,st,er,0),An.unbindTexture()},this.copyTextureToTexture=function(oe,Oe,Xe,je=0){const st=Oe.image.width,er=Oe.image.height,Wn=it.convert(Xe.format),kr=it.convert(Xe.type);mt.setTexture2D(Xe,0),ot.pixelStorei(37440,Xe.flipY),ot.pixelStorei(37441,Xe.premultiplyAlpha),ot.pixelStorei(3317,Xe.unpackAlignment),Oe.isDataTexture?ot.texSubImage2D(3553,je,oe.x,oe.y,st,er,Wn,kr,Oe.image.data):Oe.isCompressedTexture?ot.compressedTexSubImage2D(3553,je,oe.x,oe.y,Oe.mipmaps[0].width,Oe.mipmaps[0].height,Wn,Oe.mipmaps[0].data):ot.texSubImage2D(3553,je,oe.x,oe.y,Wn,kr,Oe.image),je===0&&Xe.generateMipmaps&&ot.generateMipmap(3553),An.unbindTexture()},this.copyTextureToTexture3D=function(oe,Oe,Xe,je,st=0){if(E.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const er=oe.max.x-oe.min.x+1,Wn=oe.max.y-oe.min.y+1,kr=oe.max.z-oe.min.z+1,Hn=it.convert(je.format),wr=it.convert(je.type);let ir;if(je.isDataTexture3D)mt.setTexture3D(je,0),ir=32879;else if(je.isDataTexture2DArray)mt.setTexture2DArray(je,0),ir=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ot.pixelStorei(37440,je.flipY),ot.pixelStorei(37441,je.premultiplyAlpha),ot.pixelStorei(3317,je.unpackAlignment);const xr=ot.getParameter(3314),gr=ot.getParameter(32878),$o=ot.getParameter(3316),Ar=ot.getParameter(3315),Eu=ot.getParameter(32877),Qr=Xe.isCompressedTexture?Xe.mipmaps[0]:Xe.image;ot.pixelStorei(3314,Qr.width),ot.pixelStorei(32878,Qr.height),ot.pixelStorei(3316,oe.min.x),ot.pixelStorei(3315,oe.min.y),ot.pixelStorei(32877,oe.min.z),Xe.isDataTexture||Xe.isDataTexture3D?ot.texSubImage3D(ir,st,Oe.x,Oe.y,Oe.z,er,Wn,kr,Hn,wr,Qr.data):Xe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ot.compressedTexSubImage3D(ir,st,Oe.x,Oe.y,Oe.z,er,Wn,kr,Hn,Qr.data)):ot.texSubImage3D(ir,st,Oe.x,Oe.y,Oe.z,er,Wn,kr,Hn,wr,Qr),ot.pixelStorei(3314,xr),ot.pixelStorei(32878,gr),ot.pixelStorei(3316,$o),ot.pixelStorei(3315,Ar),ot.pixelStorei(32877,Eu),st===0&&je.generateMipmaps&&ot.generateMipmap(ir),An.unbindTexture()},this.initTexture=function(oe){mt.setTexture2D(oe,0),An.unbindTexture()},this.resetState=function(){S=0,C=0,R=null,An.reset(),Wt.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Pi.prototype.isWebGLRenderer=!0;class Lae extends Pi{}Lae.prototype.isWebGL1Renderer=!0;class EA{constructor(e,n=25e-5){this.name="",this.color=new Ut(e),this.density=n}clone(){return new EA(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}EA.prototype.isFogExp2=!0;class CA{constructor(e,n=1,o=1e3){this.name="",this.color=new Ut(e),this.near=n,this.far=o}clone(){return new CA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}CA.prototype.isFog=!0;class AA extends Ur{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}AA.prototype.isScene=!0;class pg{constructor(e,n){this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Qw,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Xc()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,o){e*=this.stride,o*=n.stride;for(let a=0,l=this.stride;a<l;a++)this.array[e+a]=n.array[o+a];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),o=new this.constructor(n,this.stride);return o.setUsage(this.usage),o}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}pg.prototype.isInterleavedBuffer=!0;const Ba=new te;class am{constructor(e,n,o,a=!1){this.name="",this.data=e,this.itemSize=n,this.offset=o,this.normalized=a===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,o=this.data.count;n<o;n++)Ba.x=this.getX(n),Ba.y=this.getY(n),Ba.z=this.getZ(n),Ba.applyMatrix4(e),this.setXYZ(n,Ba.x,Ba.y,Ba.z);return this}applyNormalMatrix(e){for(let n=0,o=this.count;n<o;n++)Ba.x=this.getX(n),Ba.y=this.getY(n),Ba.z=this.getZ(n),Ba.applyNormalMatrix(e),this.setXYZ(n,Ba.x,Ba.y,Ba.z);return this}transformDirection(e){for(let n=0,o=this.count;n<o;n++)Ba.x=this.getX(n),Ba.y=this.getY(n),Ba.z=this.getZ(n),Ba.transformDirection(e),this.setXYZ(n,Ba.x,Ba.y,Ba.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=o,this}setXYZ(e,n,o,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=o,this.data.array[e+2]=a,this}setXYZW(e,n,o,a,l){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=o,this.data.array[e+2]=a,this.data.array[e+3]=l,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let o=0;o<this.count;o++){const a=o*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)n.push(this.data.array[a+l])}return new jr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new am(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let o=0;o<this.count;o++){const a=o*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)n.push(this.data.array[a+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}am.prototype.isInterleavedBufferAttribute=!0;class zF extends Ha{constructor(e){super();this.type="SpriteMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}zF.prototype.isSpriteMaterial=!0;let bx;const TA=new te,wx=new te,xx=new te,Sx=new rt,IA=new rt,Dae=new Cn,UF=new te,MA=new te,jF=new te,Oae=new rt,u8=new rt,zae=new rt;class GF extends Ur{constructor(e){super();if(this.type="Sprite",bx===void 0){bx=new Yn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new pg(n,5);bx.setIndex([0,1,2,0,2,3]),bx.setAttribute("position",new am(o,3,0,!1)),bx.setAttribute("uv",new am(o,2,3,!1))}this.geometry=bx,this.material=e!==void 0?e:new zF,this.center=new rt(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wx.setFromMatrixScale(this.matrixWorld),Dae.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xx.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wx.multiplyScalar(-xx.z);const o=this.material.rotation;let a,l;o!==0&&(l=Math.cos(o),a=Math.sin(o));const u=this.center;WF(UF.set(-.5,-.5,0),xx,u,wx,a,l),WF(MA.set(.5,-.5,0),xx,u,wx,a,l),WF(jF.set(.5,.5,0),xx,u,wx,a,l),Oae.set(0,0),u8.set(1,0),zae.set(1,1);let _=e.ray.intersectTriangle(UF,MA,jF,!1,TA);if(_===null&&(WF(MA.set(-.5,.5,0),xx,u,wx,a,l),u8.set(0,1),_=e.ray.intersectTriangle(UF,jF,MA,!1,TA),_===null))return;const f=e.ray.origin.distanceTo(TA);f<e.near||f>e.far||n.push({distance:f,point:TA.clone(),uv:Ra.getUV(TA,UF,MA,jF,Oae,u8,zae,new rt),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}GF.prototype.isSprite=!0;function WF(r,e,n,o,a,l){Sx.subVectors(r,n).addScalar(.5).multiply(o),a!==void 0?(IA.x=l*Sx.x-a*Sx.y,IA.y=a*Sx.x+l*Sx.y):IA.copy(Sx),r.copy(e),r.x+=IA.x,r.y+=IA.y,r.applyMatrix4(Dae)}const HF=new te,Uae=new te;class jae extends Ur{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let o=0,a=n.length;o<a;o++){const l=n[o];this.addLevel(l.object.clone(),l.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0){n=Math.abs(n);const o=this.levels;let a;for(a=0;a<o.length&&!(n<o[a].distance);a++);return o.splice(a,0,{distance:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let o,a;for(o=1,a=n.length;o<a&&!(e<n[o].distance);o++);return n[o-1].object}return null}raycast(e,n){if(this.levels.length>0){HF.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(HF);this.getObjectForDistance(a).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){HF.setFromMatrixPosition(e.matrixWorld),Uae.setFromMatrixPosition(this.matrixWorld);const o=HF.distanceTo(Uae)/e.zoom;n[0].object.visible=!0;let a,l;for(a=1,l=n.length;a<l&&o>=n[a].distance;a++)n[a-1].object.visible=!1,n[a].object.visible=!0;for(this._currentLevel=a-1;a<l;a++)n[a].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const o=this.levels;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.object.levels.push({object:u.object.uuid,distance:u.distance})}return n}}const Gae=new te,Wae=new Ui,Hae=new Ui,HPe=new te,Vae=new Cn;class NA extends Pa{constructor(e,n){super(e,n);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Cn,this.bindMatrixInverse=new Cn}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ui,n=this.geometry.attributes.skinWeight;for(let o=0,a=n.count;o<a;o++){e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),e.w=n.getW(o);const l=1/e.manhattanLength();l!==1/0?e.multiplyScalar(l):e.set(1,0,0,0),n.setXYZW(o,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const o=this.skeleton,a=this.geometry;Wae.fromBufferAttribute(a.attributes.skinIndex,e),Hae.fromBufferAttribute(a.attributes.skinWeight,e),Gae.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let l=0;l<4;l++){const u=Hae.getComponent(l);if(u!==0){const _=Wae.getComponent(l);Vae.multiplyMatrices(o.bones[_].matrixWorld,o.boneInverses[_]),n.addScaledVector(HPe.copy(Gae).applyMatrix4(Vae),u)}}return n.applyMatrix4(this.bindMatrixInverse)}}NA.prototype.isSkinnedMesh=!0;class RA extends Ur{constructor(){super();this.type="Bone"}}RA.prototype.isBone=!0;class lk extends Na{constructor(e=null,n=1,o=1,a,l,u,_,f,h=ra,d=ra,m,g){super(null,u,_,f,h,d,a,l,m,g);this.image={data:e,width:n,height:o},this.magFilter=h,this.minFilter=d,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}lk.prototype.isDataTexture=!0;const qae=new Cn,VPe=new Cn;class PA{constructor(e=[],n=[]){this.uuid=Xc(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let o=0,a=this.bones.length;o<a;o++)this.boneInverses.push(new Cn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const o=new Cn;this.bones[e]&&o.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(o)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const o=this.bones[e];o&&o.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const o=this.bones[e];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}}update(){const e=this.bones,n=this.boneInverses,o=this.boneMatrices,a=this.boneTexture;for(let l=0,u=e.length;l<u;l++){const _=e[l]?e[l].matrixWorld:VPe;qae.multiplyMatrices(_,n[l]),qae.toArray(o,l*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new PA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Moe(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const o=new lk(n,e,e,el,Jc);return this.boneMatrices=n,this.boneTexture=o,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,o=this.bones.length;n<o;n++){const a=this.bones[n];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let o=0,a=e.bones.length;o<a;o++){const l=e.bones[o];let u=n[l];u===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",l),u=new RA),this.bones.push(u),this.boneInverses.push(new Cn().fromArray(e.boneInverses[o]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,o=this.boneInverses;for(let a=0,l=n.length;a<l;a++){const u=n[a];e.bones.push(u.uuid);const _=o[a];e.boneInverses.push(_.toArray())}return e}}class uk extends jr{constructor(e,n,o,a=1){typeof o=="number"&&(a=o,o=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,n,o);this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}uk.prototype.isInstancedBufferAttribute=!0;const Kae=new Cn,Jae=new Cn,VF=[],BA=new Pa;class c8 extends Pa{constructor(e,n,o){super(e,n);this.instanceMatrix=new uk(new Float32Array(o*16),16),this.instanceColor=null,this.count=o,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const o=this.matrixWorld,a=this.count;if(BA.geometry=this.geometry,BA.material=this.material,BA.material!==void 0)for(let l=0;l<a;l++){this.getMatrixAt(l,Kae),Jae.multiplyMatrices(o,Kae),BA.matrixWorld=Jae,BA.raycast(e,VF);for(let u=0,_=VF.length;u<_;u++){const f=VF[u];f.instanceId=l,f.object=this,n.push(f)}VF.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new uk(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}c8.prototype.isInstancedMesh=!0;class hs extends Ha{constructor(e){super();this.type="LineBasicMaterial",this.color=new Ut(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}hs.prototype.isLineBasicMaterial=!0;const Xae=new te,Yae=new te,Qae=new Cn,_8=new ag,qF=new Zd;class yh extends Ur{constructor(e=new Yn,n=new hs){super();this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,o=[0];for(let a=1,l=n.count;a<l;a++)Xae.fromBufferAttribute(n,a-1),Yae.fromBufferAttribute(n,a),o[a]=o[a-1],o[a]+=Xae.distanceTo(Yae);e.setAttribute("lineDistance",new In(o,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,n){const o=this.geometry,a=this.matrixWorld,l=e.params.Line.threshold,u=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),qF.copy(o.boundingSphere),qF.applyMatrix4(a),qF.radius+=l,e.ray.intersectsSphere(qF)===!1)return;Qae.copy(a).invert(),_8.copy(e.ray).applyMatrix4(Qae);const _=l/((this.scale.x+this.scale.y+this.scale.z)/3),f=_*_,h=new te,d=new te,m=new te,g=new te,y=this.isLineSegments?2:1;if(o.isBufferGeometry){const w=o.index,A=o.attributes.position;if(w!==null){const S=Math.max(0,u.start),C=Math.min(w.count,u.start+u.count);for(let R=S,P=C-1;R<P;R+=y){const D=w.getX(R),G=w.getX(R+1);if(h.fromBufferAttribute(A,D),d.fromBufferAttribute(A,G),_8.distanceSqToSegment(h,d,g,m)>f)continue;g.applyMatrix4(this.matrixWorld);const V=e.ray.origin.distanceTo(g);V<e.near||V>e.far||n.push({distance:V,point:m.clone().applyMatrix4(this.matrixWorld),index:R,face:null,faceIndex:null,object:this})}}else{const S=Math.max(0,u.start),C=Math.min(A.count,u.start+u.count);for(let R=S,P=C-1;R<P;R+=y){if(h.fromBufferAttribute(A,R),d.fromBufferAttribute(A,R+1),_8.distanceSqToSegment(h,d,g,m)>f)continue;g.applyMatrix4(this.matrixWorld);const G=e.ray.origin.distanceTo(g);G<e.near||G>e.far||n.push({distance:G,point:m.clone().applyMatrix4(this.matrixWorld),index:R,face:null,faceIndex:null,object:this})}}}else o.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,o=Object.keys(n);if(o.length>0){const a=n[o[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,u=a.length;l<u;l++){const _=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[_]=l}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}yh.prototype.isLine=!0;const Zae=new te,ese=new te;class wu extends yh{constructor(e,n){super(e,n);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,o=[];for(let a=0,l=n.count;a<l;a+=2)Zae.fromBufferAttribute(n,a),ese.fromBufferAttribute(n,a+1),o[a]=a===0?0:o[a-1],o[a+1]=o[a]+Zae.distanceTo(ese);e.setAttribute("lineDistance",new In(o,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}wu.prototype.isLineSegments=!0;class KF extends yh{constructor(e,n){super(e,n);this.type="LineLoop"}}KF.prototype.isLineLoop=!0;class hg extends Ha{constructor(e){super();this.type="PointsMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}hg.prototype.isPointsMaterial=!0;const tse=new Cn,f8=new ag,JF=new Zd,XF=new te;class Ex extends Ur{constructor(e=new Yn,n=new hg){super();this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const o=this.geometry,a=this.matrixWorld,l=e.params.Points.threshold,u=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),JF.copy(o.boundingSphere),JF.applyMatrix4(a),JF.radius+=l,e.ray.intersectsSphere(JF)===!1)return;tse.copy(a).invert(),f8.copy(e.ray).applyMatrix4(tse);const _=l/((this.scale.x+this.scale.y+this.scale.z)/3),f=_*_;if(o.isBufferGeometry){const h=o.index,m=o.attributes.position;if(h!==null){const g=Math.max(0,u.start),y=Math.min(h.count,u.start+u.count);for(let w=g,E=y;w<E;w++){const A=h.getX(w);XF.fromBufferAttribute(m,A),nse(XF,A,f,a,e,n,this)}}else{const g=Math.max(0,u.start),y=Math.min(m.count,u.start+u.count);for(let w=g,E=y;w<E;w++)XF.fromBufferAttribute(m,w),nse(XF,w,f,a,e,n,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,o=Object.keys(n);if(o.length>0){const a=n[o[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,u=a.length;l<u;l++){const _=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[_]=l}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Ex.prototype.isPoints=!0;function nse(r,e,n,o,a,l,u){const _=f8.distanceSqToPoint(r);if(_<n){const f=new te;f8.closestPointToPoint(r,f),f.applyMatrix4(o);const h=a.ray.origin.distanceTo(f);if(h<a.near||h>a.far)return;l.push({distance:h,distanceToRay:Math.sqrt(_),point:f,index:e,face:null,object:u})}}class rse extends Na{constructor(e,n,o,a,l,u,_,f,h){super(e,n,o,a,l,u,_,f,h);this.format=_!==void 0?_:Xf,this.minFilter=u!==void 0?u:Ro,this.magFilter=l!==void 0?l:Ro,this.generateMipmaps=!1;const d=this;function m(){d.needsUpdate=!0,e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(m)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}rse.prototype.isVideoTexture=!0;class p8 extends Na{constructor(e,n,o,a,l,u,_,f,h,d,m,g){super(null,u,_,f,h,d,a,l,m,g);this.image={width:n,height:o},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}p8.prototype.isCompressedTexture=!0;class ise extends Na{constructor(e,n,o,a,l,u,_,f,h){super(e,n,o,a,l,u,_,f,h);this.needsUpdate=!0}}ise.prototype.isCanvasTexture=!0;class Cx extends Yn{constructor(e=1,n=8,o=0,a=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:o,thetaLength:a},n=Math.max(3,n);const l=[],u=[],_=[],f=[],h=new te,d=new rt;u.push(0,0,0),_.push(0,0,1),f.push(.5,.5);for(let m=0,g=3;m<=n;m++,g+=3){const y=o+m/n*a;h.x=e*Math.cos(y),h.y=e*Math.sin(y),u.push(h.x,h.y,h.z),_.push(0,0,1),d.x=(u[g]/e+1)/2,d.y=(u[g+1]/e+1)/2,f.push(d.x,d.y)}for(let m=1;m<=n;m++)l.push(m,m+1,0);this.setIndex(l),this.setAttribute("position",new In(u,3)),this.setAttribute("normal",new In(_,3)),this.setAttribute("uv",new In(f,2))}static fromJSON(e){return new Cx(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class dg extends Yn{constructor(e=1,n=1,o=1,a=8,l=1,u=!1,_=0,f=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:o,radialSegments:a,heightSegments:l,openEnded:u,thetaStart:_,thetaLength:f};const h=this;a=Math.floor(a),l=Math.floor(l);const d=[],m=[],g=[],y=[];let w=0;const E=[],A=o/2;let S=0;C(),u===!1&&(e>0&&R(!0),n>0&&R(!1)),this.setIndex(d),this.setAttribute("position",new In(m,3)),this.setAttribute("normal",new In(g,3)),this.setAttribute("uv",new In(y,2));function C(){const P=new te,D=new te;let G=0;const z=(n-e)/o;for(let V=0;V<=l;V++){const X=[],ne=V/l,Y=ne*(n-e)+e;for(let ue=0;ue<=a;ue++){const _e=ue/a,ge=_e*f+_,$e=Math.sin(ge),xe=Math.cos(ge);D.x=Y*$e,D.y=-ne*o+A,D.z=Y*xe,m.push(D.x,D.y,D.z),P.set($e,z,xe).normalize(),g.push(P.x,P.y,P.z),y.push(_e,1-ne),X.push(w++)}E.push(X)}for(let V=0;V<a;V++)for(let X=0;X<l;X++){const ne=E[X][V],Y=E[X+1][V],ue=E[X+1][V+1],_e=E[X][V+1];d.push(ne,Y,_e),d.push(Y,ue,_e),G+=6}h.addGroup(S,G,0),S+=G}function R(P){const D=w,G=new rt,z=new te;let V=0;const X=P===!0?e:n,ne=P===!0?1:-1;for(let ue=1;ue<=a;ue++)m.push(0,A*ne,0),g.push(0,ne,0),y.push(.5,.5),w++;const Y=w;for(let ue=0;ue<=a;ue++){const ge=ue/a*f+_,$e=Math.cos(ge),xe=Math.sin(ge);z.x=X*xe,z.y=A*ne,z.z=X*$e,m.push(z.x,z.y,z.z),g.push(0,ne,0),G.x=$e*.5+.5,G.y=xe*.5*ne+.5,y.push(G.x,G.y),w++}for(let ue=0;ue<a;ue++){const _e=D+ue,ge=Y+ue;P===!0?d.push(ge,ge+1,_e):d.push(ge+1,ge,_e),V+=3}h.addGroup(S,V,P===!0?1:2),S+=V}}static fromJSON(e){return new dg(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ax extends dg{constructor(e=1,n=1,o=8,a=1,l=!1,u=0,_=Math.PI*2){super(0,e,n,o,a,l,u,_);this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:o,heightSegments:a,openEnded:l,thetaStart:u,thetaLength:_}}static fromJSON(e){return new Ax(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kh extends Yn{constructor(e=[],n=[],o=1,a=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:o,detail:a};const l=[],u=[];_(a),h(o),d(),this.setAttribute("position",new In(l,3)),this.setAttribute("normal",new In(l.slice(),3)),this.setAttribute("uv",new In(u,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function _(C){const R=new te,P=new te,D=new te;for(let G=0;G<n.length;G+=3)y(n[G+0],R),y(n[G+1],P),y(n[G+2],D),f(R,P,D,C)}function f(C,R,P,D){const G=D+1,z=[];for(let V=0;V<=G;V++){z[V]=[];const X=C.clone().lerp(P,V/G),ne=R.clone().lerp(P,V/G),Y=G-V;for(let ue=0;ue<=Y;ue++)ue===0&&V===G?z[V][ue]=X:z[V][ue]=X.clone().lerp(ne,ue/Y)}for(let V=0;V<G;V++)for(let X=0;X<2*(G-V)-1;X++){const ne=Math.floor(X/2);X%2==0?(g(z[V][ne+1]),g(z[V+1][ne]),g(z[V][ne])):(g(z[V][ne+1]),g(z[V+1][ne+1]),g(z[V+1][ne]))}}function h(C){const R=new te;for(let P=0;P<l.length;P+=3)R.x=l[P+0],R.y=l[P+1],R.z=l[P+2],R.normalize().multiplyScalar(C),l[P+0]=R.x,l[P+1]=R.y,l[P+2]=R.z}function d(){const C=new te;for(let R=0;R<l.length;R+=3){C.x=l[R+0],C.y=l[R+1],C.z=l[R+2];const P=A(C)/2/Math.PI+.5,D=S(C)/Math.PI+.5;u.push(P,1-D)}w(),m()}function m(){for(let C=0;C<u.length;C+=6){const R=u[C+0],P=u[C+2],D=u[C+4],G=Math.max(R,P,D),z=Math.min(R,P,D);G>.9&&z<.1&&(R<.2&&(u[C+0]+=1),P<.2&&(u[C+2]+=1),D<.2&&(u[C+4]+=1))}}function g(C){l.push(C.x,C.y,C.z)}function y(C,R){const P=C*3;R.x=e[P+0],R.y=e[P+1],R.z=e[P+2]}function w(){const C=new te,R=new te,P=new te,D=new te,G=new rt,z=new rt,V=new rt;for(let X=0,ne=0;X<l.length;X+=9,ne+=6){C.set(l[X+0],l[X+1],l[X+2]),R.set(l[X+3],l[X+4],l[X+5]),P.set(l[X+6],l[X+7],l[X+8]),G.set(u[ne+0],u[ne+1]),z.set(u[ne+2],u[ne+3]),V.set(u[ne+4],u[ne+5]),D.copy(C).add(R).add(P).divideScalar(3);const Y=A(D);E(G,ne+0,C,Y),E(z,ne+2,R,Y),E(V,ne+4,P,Y)}}function E(C,R,P,D){D<0&&C.x===1&&(u[R]=C.x-1),P.x===0&&P.z===0&&(u[R]=D/2/Math.PI+.5)}function A(C){return Math.atan2(C.z,-C.x)}function S(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}static fromJSON(e){return new kh(e.vertices,e.indices,e.radius,e.details)}}class Tx extends kh{constructor(e=1,n=0){const o=(1+Math.sqrt(5))/2,a=1/o,l=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-o,0,-a,o,0,a,-o,0,a,o,-a,-o,0,-a,o,0,a,-o,0,a,o,0,-o,0,-a,o,0,-a,-o,0,a,o,0,a],u=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(l,u,e,n);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Tx(e.radius,e.detail)}}const YF=new te,QF=new te,h8=new te,ZF=new Ra;class d8 extends Yn{constructor(e=null,n=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const a=Math.pow(10,4),l=Math.cos(Q0*n),u=e.getIndex(),_=e.getAttribute("position"),f=u?u.count:_.count,h=[0,0,0],d=["a","b","c"],m=new Array(3),g={},y=[];for(let w=0;w<f;w+=3){u?(h[0]=u.getX(w),h[1]=u.getX(w+1),h[2]=u.getX(w+2)):(h[0]=w,h[1]=w+1,h[2]=w+2);const{a:E,b:A,c:S}=ZF;if(E.fromBufferAttribute(_,h[0]),A.fromBufferAttribute(_,h[1]),S.fromBufferAttribute(_,h[2]),ZF.getNormal(h8),m[0]=`${Math.round(E.x*a)},${Math.round(E.y*a)},${Math.round(E.z*a)}`,m[1]=`${Math.round(A.x*a)},${Math.round(A.y*a)},${Math.round(A.z*a)}`,m[2]=`${Math.round(S.x*a)},${Math.round(S.y*a)},${Math.round(S.z*a)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let C=0;C<3;C++){const R=(C+1)%3,P=m[C],D=m[R],G=ZF[d[C]],z=ZF[d[R]],V=`${P}_${D}`,X=`${D}_${P}`;X in g&&g[X]?(h8.dot(g[X].normal)<=l&&(y.push(G.x,G.y,G.z),y.push(z.x,z.y,z.z)),g[X]=null):V in g||(g[V]={index0:h[C],index1:h[R],normal:h8.clone()})}}for(const w in g)if(g[w]){const{index0:E,index1:A}=g[w];YF.fromBufferAttribute(_,E),QF.fromBufferAttribute(_,A),y.push(YF.x,YF.y,YF.z),y.push(QF.x,QF.y,QF.z)}this.setAttribute("position",new In(y,3))}}}class e_{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const o=this.getUtoTmapping(e);return this.getPoint(o,n)}getPoints(e=5){const n=[];for(let o=0;o<=e;o++)n.push(this.getPoint(o/e));return n}getSpacedPoints(e=5){const n=[];for(let o=0;o<=e;o++)n.push(this.getPointAt(o/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let o,a=this.getPoint(0),l=0;n.push(0);for(let u=1;u<=e;u++)o=this.getPoint(u/e),l+=o.distanceTo(a),n.push(l),a=o;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const o=this.getLengths();let a=0;const l=o.length;let u;n?u=n:u=e*o[l-1];let _=0,f=l-1,h;for(;_<=f;)if(a=Math.floor(_+(f-_)/2),h=o[a]-u,h<0)_=a+1;else if(h>0)f=a-1;else{f=a;break}if(a=f,o[a]===u)return a/(l-1);const d=o[a],g=o[a+1]-d,y=(u-d)/g;return(a+y)/(l-1)}getTangent(e,n){const o=1e-4;let a=e-o,l=e+o;a<0&&(a=0),l>1&&(l=1);const u=this.getPoint(a),_=this.getPoint(l),f=n||(u.isVector2?new rt:new te);return f.copy(_).sub(u).normalize(),f}getTangentAt(e,n){const o=this.getUtoTmapping(e);return this.getTangent(o,n)}computeFrenetFrames(e,n){const o=new te,a=[],l=[],u=[],_=new te,f=new Cn;for(let y=0;y<=e;y++){const w=y/e;a[y]=this.getTangentAt(w,new te)}l[0]=new te,u[0]=new te;let h=Number.MAX_VALUE;const d=Math.abs(a[0].x),m=Math.abs(a[0].y),g=Math.abs(a[0].z);d<=h&&(h=d,o.set(1,0,0)),m<=h&&(h=m,o.set(0,1,0)),g<=h&&o.set(0,0,1),_.crossVectors(a[0],o).normalize(),l[0].crossVectors(a[0],_),u[0].crossVectors(a[0],l[0]);for(let y=1;y<=e;y++){if(l[y]=l[y-1].clone(),u[y]=u[y-1].clone(),_.crossVectors(a[y-1],a[y]),_.length()>Number.EPSILON){_.normalize();const w=Math.acos(nl(a[y-1].dot(a[y]),-1,1));l[y].applyMatrix4(f.makeRotationAxis(_,w))}u[y].crossVectors(a[y],l[y])}if(n===!0){let y=Math.acos(nl(l[0].dot(l[e]),-1,1));y/=e,a[0].dot(_.crossVectors(l[0],l[e]))>0&&(y=-y);for(let w=1;w<=e;w++)l[w].applyMatrix4(f.makeRotationAxis(a[w],y*w)),u[w].crossVectors(a[w],l[w])}return{tangents:a,normals:l,binormals:u}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class FA extends e_{constructor(e=0,n=0,o=1,a=1,l=0,u=Math.PI*2,_=!1,f=0){super();this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=o,this.yRadius=a,this.aStartAngle=l,this.aEndAngle=u,this.aClockwise=_,this.aRotation=f}getPoint(e,n){const o=n||new rt,a=Math.PI*2;let l=this.aEndAngle-this.aStartAngle;const u=Math.abs(l)<Number.EPSILON;for(;l<0;)l+=a;for(;l>a;)l-=a;l<Number.EPSILON&&(u?l=0:l=a),this.aClockwise===!0&&!u&&(l===a?l=-a:l=l-a);const _=this.aStartAngle+e*l;let f=this.aX+this.xRadius*Math.cos(_),h=this.aY+this.yRadius*Math.sin(_);if(this.aRotation!==0){const d=Math.cos(this.aRotation),m=Math.sin(this.aRotation),g=f-this.aX,y=h-this.aY;f=g*d-y*m+this.aX,h=g*m+y*d+this.aY}return o.set(f,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}FA.prototype.isEllipseCurve=!0;class m8 extends FA{constructor(e,n,o,a,l,u){super(e,n,o,o,a,l,u);this.type="ArcCurve"}}m8.prototype.isArcCurve=!0;function v8(){let r=0,e=0,n=0,o=0;function a(l,u,_,f){r=l,e=_,n=-3*l+3*u-2*_-f,o=2*l-2*u+_+f}return{initCatmullRom:function(l,u,_,f,h){a(u,_,h*(_-l),h*(f-u))},initNonuniformCatmullRom:function(l,u,_,f,h,d,m){let g=(u-l)/h-(_-l)/(h+d)+(_-u)/d,y=(_-u)/d-(f-u)/(d+m)+(f-_)/m;g*=d,y*=d,a(u,_,g,y)},calc:function(l){const u=l*l,_=u*l;return r+e*l+n*u+o*_}}}const eL=new te,g8=new v8,y8=new v8,k8=new v8;class $8 extends e_{constructor(e=[],n=!1,o="centripetal",a=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=o,this.tension=a}getPoint(e,n=new te){const o=n,a=this.points,l=a.length,u=(l-(this.closed?0:1))*e;let _=Math.floor(u),f=u-_;this.closed?_+=_>0?0:(Math.floor(Math.abs(_)/l)+1)*l:f===0&&_===l-1&&(_=l-2,f=1);let h,d;this.closed||_>0?h=a[(_-1)%l]:(eL.subVectors(a[0],a[1]).add(a[0]),h=eL);const m=a[_%l],g=a[(_+1)%l];if(this.closed||_+2<l?d=a[(_+2)%l]:(eL.subVectors(a[l-1],a[l-2]).add(a[l-1]),d=eL),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let w=Math.pow(h.distanceToSquared(m),y),E=Math.pow(m.distanceToSquared(g),y),A=Math.pow(g.distanceToSquared(d),y);E<1e-4&&(E=1),w<1e-4&&(w=E),A<1e-4&&(A=E),g8.initNonuniformCatmullRom(h.x,m.x,g.x,d.x,w,E,A),y8.initNonuniformCatmullRom(h.y,m.y,g.y,d.y,w,E,A),k8.initNonuniformCatmullRom(h.z,m.z,g.z,d.z,w,E,A)}else this.curveType==="catmullrom"&&(g8.initCatmullRom(h.x,m.x,g.x,d.x,this.tension),y8.initCatmullRom(h.y,m.y,g.y,d.y,this.tension),k8.initCatmullRom(h.z,m.z,g.z,d.z,this.tension));return o.set(g8.calc(f),y8.calc(f),k8.calc(f)),o}copy(e){super.copy(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const a=e.points[n];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,o=this.points.length;n<o;n++){const a=this.points[n];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const a=e.points[n];this.points.push(new te().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}$8.prototype.isCatmullRomCurve3=!0;function ose(r,e,n,o,a){const l=(o-e)*.5,u=(a-n)*.5,_=r*r,f=r*_;return(2*n-2*o+l+u)*f+(-3*n+3*o-2*l-u)*_+l*r+n}function qPe(r,e){const n=1-r;return n*n*e}function KPe(r,e){return 2*(1-r)*r*e}function JPe(r,e){return r*r*e}function LA(r,e,n,o){return qPe(r,e)+KPe(r,n)+JPe(r,o)}function XPe(r,e){const n=1-r;return n*n*n*e}function YPe(r,e){const n=1-r;return 3*n*n*r*e}function QPe(r,e){return 3*(1-r)*r*r*e}function ZPe(r,e){return r*r*r*e}function DA(r,e,n,o,a){return XPe(r,e)+YPe(r,n)+QPe(r,o)+ZPe(r,a)}class tL extends e_{constructor(e=new rt,n=new rt,o=new rt,a=new rt){super();this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=o,this.v3=a}getPoint(e,n=new rt){const o=n,a=this.v0,l=this.v1,u=this.v2,_=this.v3;return o.set(DA(e,a.x,l.x,u.x,_.x),DA(e,a.y,l.y,u.y,_.y)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}tL.prototype.isCubicBezierCurve=!0;class b8 extends e_{constructor(e=new te,n=new te,o=new te,a=new te){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=o,this.v3=a}getPoint(e,n=new te){const o=n,a=this.v0,l=this.v1,u=this.v2,_=this.v3;return o.set(DA(e,a.x,l.x,u.x,_.x),DA(e,a.y,l.y,u.y,_.y),DA(e,a.z,l.z,u.z,_.z)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}b8.prototype.isCubicBezierCurve3=!0;class OA extends e_{constructor(e=new rt,n=new rt){super();this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new rt){const o=n;return e===1?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(e).add(this.v1)),o}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const o=n||new rt;return o.copy(this.v2).sub(this.v1).normalize(),o}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}OA.prototype.isLineCurve=!0;class ase extends e_{constructor(e=new te,n=new te){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=n}getPoint(e,n=new te){const o=n;return e===1?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(e).add(this.v1)),o}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nL extends e_{constructor(e=new rt,n=new rt,o=new rt){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=o}getPoint(e,n=new rt){const o=n,a=this.v0,l=this.v1,u=this.v2;return o.set(LA(e,a.x,l.x,u.x),LA(e,a.y,l.y,u.y)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}nL.prototype.isQuadraticBezierCurve=!0;class rL extends e_{constructor(e=new te,n=new te,o=new te){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=o}getPoint(e,n=new te){const o=n,a=this.v0,l=this.v1,u=this.v2;return o.set(LA(e,a.x,l.x,u.x),LA(e,a.y,l.y,u.y),LA(e,a.z,l.z,u.z)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}rL.prototype.isQuadraticBezierCurve3=!0;class iL extends e_{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,n=new rt){const o=n,a=this.points,l=(a.length-1)*e,u=Math.floor(l),_=l-u,f=a[u===0?u:u-1],h=a[u],d=a[u>a.length-2?a.length-1:u+1],m=a[u>a.length-3?a.length-1:u+2];return o.set(ose(_,f.x,h.x,d.x,m.x),ose(_,f.y,h.y,d.y,m.y)),o}copy(e){super.copy(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const a=e.points[n];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,o=this.points.length;n<o;n++){const a=this.points[n];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const a=e.points[n];this.points.push(new rt().fromArray(a))}return this}}iL.prototype.isSplineCurve=!0;var w8=Object.freeze({__proto__:null,ArcCurve:m8,CatmullRomCurve3:$8,CubicBezierCurve:tL,CubicBezierCurve3:b8,EllipseCurve:FA,LineCurve:OA,LineCurve3:ase,QuadraticBezierCurve:nL,QuadraticBezierCurve3:rL,SplineCurve:iL});class sse extends e_{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new OA(n,e))}getPoint(e,n){const o=e*this.getLength(),a=this.getCurveLengths();let l=0;for(;l<a.length;){if(a[l]>=o){const u=a[l]-o,_=this.curves[l],f=_.getLength(),h=f===0?0:1-u/f;return _.getPointAt(h,n)}l++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let o=0,a=this.curves.length;o<a;o++)n+=this.curves[o].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let o=0;o<=e;o++)n.push(this.getPoint(o/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let o;for(let a=0,l=this.curves;a<l.length;a++){const u=l[a],_=u&&u.isEllipseCurve?e*2:u&&(u.isLineCurve||u.isLineCurve3)?1:u&&u.isSplineCurve?e*u.points.length:e,f=u.getPoints(_);for(let h=0;h<f.length;h++){const d=f[h];o&&o.equals(d)||(n.push(d),o=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,o=e.curves.length;n<o;n++){const a=e.curves[n];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,o=this.curves.length;n<o;n++){const a=this.curves[n];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,o=e.curves.length;n<o;n++){const a=e.curves[n];this.curves.push(new w8[a.type]().fromJSON(a))}return this}}class zA extends sse{constructor(e){super();this.type="Path",this.currentPoint=new rt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,o=e.length;n<o;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const o=new OA(this.currentPoint.clone(),new rt(e,n));return this.curves.push(o),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,o,a){const l=new nL(this.currentPoint.clone(),new rt(e,n),new rt(o,a));return this.curves.push(l),this.currentPoint.set(o,a),this}bezierCurveTo(e,n,o,a,l,u){const _=new tL(this.currentPoint.clone(),new rt(e,n),new rt(o,a),new rt(l,u));return this.curves.push(_),this.currentPoint.set(l,u),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),o=new iL(n);return this.curves.push(o),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,o,a,l,u){const _=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+_,n+f,o,a,l,u),this}absarc(e,n,o,a,l,u){return this.absellipse(e,n,o,o,a,l,u),this}ellipse(e,n,o,a,l,u,_,f){const h=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+h,n+d,o,a,l,u,_,f),this}absellipse(e,n,o,a,l,u,_,f){const h=new FA(e,n,o,a,l,u,_,f);if(this.curves.length>0){const m=h.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(h);const d=h.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class $h extends zA{constructor(e){super(e);this.uuid=Xc(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let o=0,a=this.holes.length;o<a;o++)n[o]=this.holes[o].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,o=e.holes.length;n<o;n++){const a=e.holes[n];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,o=this.holes.length;n<o;n++){const a=this.holes[n];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,o=e.holes.length;n<o;n++){const a=e.holes[n];this.holes.push(new zA().fromJSON(a))}return this}}const eBe={triangulate:function(r,e,n=2){const o=e&&e.length,a=o?e[0]*n:r.length;let l=lse(r,0,a,n,!0);const u=[];if(!l||l.next===l.prev)return u;let _,f,h,d,m,g,y;if(o&&(l=oBe(r,e,l,n)),r.length>80*n){_=h=r[0],f=d=r[1];for(let w=n;w<a;w+=n)m=r[w],g=r[w+1],m<_&&(_=m),g<f&&(f=g),m>h&&(h=m),g>d&&(d=g);y=Math.max(h-_,d-f),y=y!==0?1/y:0}return UA(l,u,n,_,f,y),u}};function lse(r,e,n,o,a){let l,u;if(a===mBe(r,e,n,o)>0)for(l=e;l<n;l+=o)u=_se(l,r[l],r[l+1],u);else for(l=n-o;l>=e;l-=o)u=_se(l,r[l],r[l+1],u);return u&&oL(u,u.next)&&(GA(u),u=u.next),u}function mg(r,e){if(!r)return r;e||(e=r);let n=r,o;do if(o=!1,!n.steiner&&(oL(n,n.next)||ia(n.prev,n,n.next)===0)){if(GA(n),n=e=n.prev,n===n.next)break;o=!0}else n=n.next;while(o||n!==e);return e}function UA(r,e,n,o,a,l,u){if(!r)return;!u&&l&&cBe(r,o,a,l);let _=r,f,h;for(;r.prev!==r.next;){if(f=r.prev,h=r.next,l?nBe(r,o,a,l):tBe(r)){e.push(f.i/n),e.push(r.i/n),e.push(h.i/n),GA(r),r=h.next,_=h.next;continue}if(r=h,r===_){u?u===1?(r=rBe(mg(r),e,n),UA(r,e,n,o,a,l,2)):u===2&&iBe(r,e,n,o,a,l):UA(mg(r),e,n,o,a,l,1);break}}}function tBe(r){const e=r.prev,n=r,o=r.next;if(ia(e,n,o)>=0)return!1;let a=r.next.next;for(;a!==r.prev;){if(Ix(e.x,e.y,n.x,n.y,o.x,o.y,a.x,a.y)&&ia(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function nBe(r,e,n,o){const a=r.prev,l=r,u=r.next;if(ia(a,l,u)>=0)return!1;const _=a.x<l.x?a.x<u.x?a.x:u.x:l.x<u.x?l.x:u.x,f=a.y<l.y?a.y<u.y?a.y:u.y:l.y<u.y?l.y:u.y,h=a.x>l.x?a.x>u.x?a.x:u.x:l.x>u.x?l.x:u.x,d=a.y>l.y?a.y>u.y?a.y:u.y:l.y>u.y?l.y:u.y,m=x8(_,f,e,n,o),g=x8(h,d,e,n,o);let y=r.prevZ,w=r.nextZ;for(;y&&y.z>=m&&w&&w.z<=g;){if(y!==r.prev&&y!==r.next&&Ix(a.x,a.y,l.x,l.y,u.x,u.y,y.x,y.y)&&ia(y.prev,y,y.next)>=0||(y=y.prevZ,w!==r.prev&&w!==r.next&&Ix(a.x,a.y,l.x,l.y,u.x,u.y,w.x,w.y)&&ia(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;y&&y.z>=m;){if(y!==r.prev&&y!==r.next&&Ix(a.x,a.y,l.x,l.y,u.x,u.y,y.x,y.y)&&ia(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;w&&w.z<=g;){if(w!==r.prev&&w!==r.next&&Ix(a.x,a.y,l.x,l.y,u.x,u.y,w.x,w.y)&&ia(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function rBe(r,e,n){let o=r;do{const a=o.prev,l=o.next.next;!oL(a,l)&&use(a,o,o.next,l)&&jA(a,l)&&jA(l,a)&&(e.push(a.i/n),e.push(o.i/n),e.push(l.i/n),GA(o),GA(o.next),o=r=l),o=o.next}while(o!==r);return mg(o)}function iBe(r,e,n,o,a,l){let u=r;do{let _=u.next.next;for(;_!==u.prev;){if(u.i!==_.i&&pBe(u,_)){let f=cse(u,_);u=mg(u,u.next),f=mg(f,f.next),UA(u,e,n,o,a,l),UA(f,e,n,o,a,l);return}_=_.next}u=u.next}while(u!==r)}function oBe(r,e,n,o){const a=[];let l,u,_,f,h;for(l=0,u=e.length;l<u;l++)_=e[l]*o,f=l<u-1?e[l+1]*o:r.length,h=lse(r,_,f,o,!1),h===h.next&&(h.steiner=!0),a.push(fBe(h));for(a.sort(aBe),l=0;l<a.length;l++)sBe(a[l],n),n=mg(n,n.next);return n}function aBe(r,e){return r.x-e.x}function sBe(r,e){if(e=lBe(r,e),e){const n=cse(e,r);mg(e,e.next),mg(n,n.next)}}function lBe(r,e){let n=e;const o=r.x,a=r.y;let l=-1/0,u;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const g=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=o&&g>l){if(l=g,g===o){if(a===n.y)return n;if(a===n.next.y)return n.next}u=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!u)return null;if(o===l)return u;const _=u,f=u.x,h=u.y;let d=1/0,m;n=u;do o>=n.x&&n.x>=f&&o!==n.x&&Ix(a<h?o:l,a,f,h,a<h?l:o,a,n.x,n.y)&&(m=Math.abs(a-n.y)/(o-n.x),jA(n,r)&&(m<d||m===d&&(n.x>u.x||n.x===u.x&&uBe(u,n)))&&(u=n,d=m)),n=n.next;while(n!==_);return u}function uBe(r,e){return ia(r.prev,r,e.prev)<0&&ia(e.next,r,r.next)<0}function cBe(r,e,n,o){let a=r;do a.z===null&&(a.z=x8(a.x,a.y,e,n,o)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==r);a.prevZ.nextZ=null,a.prevZ=null,_Be(a)}function _Be(r){let e,n,o,a,l,u,_,f,h=1;do{for(n=r,r=null,l=null,u=0;n;){for(u++,o=n,_=0,e=0;e<h&&(_++,o=o.nextZ,!!o);e++);for(f=h;_>0||f>0&&o;)_!==0&&(f===0||!o||n.z<=o.z)?(a=n,n=n.nextZ,_--):(a=o,o=o.nextZ,f--),l?l.nextZ=a:r=a,a.prevZ=l,l=a;n=o}l.nextZ=null,h*=2}while(u>1);return r}function x8(r,e,n,o,a){return r=32767*(r-n)*a,e=32767*(e-o)*a,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function fBe(r){let e=r,n=r;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==r);return n}function Ix(r,e,n,o,a,l,u,_){return(a-u)*(e-_)-(r-u)*(l-_)>=0&&(r-u)*(o-_)-(n-u)*(e-_)>=0&&(n-u)*(l-_)-(a-u)*(o-_)>=0}function pBe(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!hBe(r,e)&&(jA(r,e)&&jA(e,r)&&dBe(r,e)&&(ia(r.prev,r,e.prev)||ia(r,e.prev,e))||oL(r,e)&&ia(r.prev,r,r.next)>0&&ia(e.prev,e,e.next)>0)}function ia(r,e,n){return(e.y-r.y)*(n.x-e.x)-(e.x-r.x)*(n.y-e.y)}function oL(r,e){return r.x===e.x&&r.y===e.y}function use(r,e,n,o){const a=sL(ia(r,e,n)),l=sL(ia(r,e,o)),u=sL(ia(n,o,r)),_=sL(ia(n,o,e));return!!(a!==l&&u!==_||a===0&&aL(r,n,e)||l===0&&aL(r,o,e)||u===0&&aL(n,r,o)||_===0&&aL(n,e,o))}function aL(r,e,n){return e.x<=Math.max(r.x,n.x)&&e.x>=Math.min(r.x,n.x)&&e.y<=Math.max(r.y,n.y)&&e.y>=Math.min(r.y,n.y)}function sL(r){return r>0?1:r<0?-1:0}function hBe(r,e){let n=r;do{if(n.i!==r.i&&n.next.i!==r.i&&n.i!==e.i&&n.next.i!==e.i&&use(n,n.next,r,e))return!0;n=n.next}while(n!==r);return!1}function jA(r,e){return ia(r.prev,r,r.next)<0?ia(r,e,r.next)>=0&&ia(r,r.prev,e)>=0:ia(r,e,r.prev)<0||ia(r,r.next,e)<0}function dBe(r,e){let n=r,o=!1;const a=(r.x+e.x)/2,l=(r.y+e.y)/2;do n.y>l!=n.next.y>l&&n.next.y!==n.y&&a<(n.next.x-n.x)*(l-n.y)/(n.next.y-n.y)+n.x&&(o=!o),n=n.next;while(n!==r);return o}function cse(r,e){const n=new S8(r.i,r.x,r.y),o=new S8(e.i,e.x,e.y),a=r.next,l=e.prev;return r.next=e,e.prev=r,n.next=a,a.prev=n,o.next=n,n.prev=o,l.next=o,o.prev=l,o}function _se(r,e,n,o){const a=new S8(r,e,n);return o?(a.next=o.next,a.prev=o,o.next.prev=a,o.next=a):(a.prev=a,a.next=a),a}function GA(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function S8(r,e,n){this.i=r,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mBe(r,e,n,o){let a=0;for(let l=e,u=n-o;l<n;l+=o)a+=(r[u]-r[l])*(r[l+1]+r[u+1]),u=l;return a}class bh{static area(e){const n=e.length;let o=0;for(let a=n-1,l=0;l<n;a=l++)o+=e[a].x*e[l].y-e[l].x*e[a].y;return o*.5}static isClockWise(e){return bh.area(e)<0}static triangulateShape(e,n){const o=[],a=[],l=[];fse(e),pse(o,e);let u=e.length;n.forEach(fse);for(let f=0;f<n.length;f++)a.push(u),u+=n[f].length,pse(o,n[f]);const _=eBe.triangulate(o,a);for(let f=0;f<_.length;f+=3)l.push(_.slice(f,f+3));return l}}function fse(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function pse(r,e){for(let n=0;n<e.length;n++)r.push(e[n].x),r.push(e[n].y)}class wh extends Yn{constructor(e=new $h([new rt(.5,.5),new rt(-.5,.5),new rt(-.5,-.5),new rt(.5,-.5)]),n={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const o=this,a=[],l=[];for(let _=0,f=e.length;_<f;_++){const h=e[_];u(h)}this.setAttribute("position",new In(a,3)),this.setAttribute("uv",new In(l,2)),this.computeVertexNormals();function u(_){const f=[],h=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1;let m=n.depth!==void 0?n.depth:1,g=n.bevelEnabled!==void 0?n.bevelEnabled:!0,y=n.bevelThickness!==void 0?n.bevelThickness:.2,w=n.bevelSize!==void 0?n.bevelSize:y-.1,E=n.bevelOffset!==void 0?n.bevelOffset:0,A=n.bevelSegments!==void 0?n.bevelSegments:3;const S=n.extrudePath,C=n.UVGenerator!==void 0?n.UVGenerator:vBe;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),m=n.amount);let R,P=!1,D,G,z,V;S&&(R=S.getSpacedPoints(d),P=!0,g=!1,D=S.computeFrenetFrames(d,!1),G=new te,z=new te,V=new te),g||(A=0,y=0,w=0,E=0);const X=_.extractPoints(h);let ne=X.shape;const Y=X.holes;if(!bh.isClockWise(ne)){ne=ne.reverse();for(let et=0,mt=Y.length;et<mt;et++){const yt=Y[et];bh.isClockWise(yt)&&(Y[et]=yt.reverse())}}const _e=bh.triangulateShape(ne,Y),ge=ne;for(let et=0,mt=Y.length;et<mt;et++){const yt=Y[et];ne=ne.concat(yt)}function $e(et,mt,yt){return mt||console.error("THREE.ExtrudeGeometry: vec does not exist"),mt.clone().multiplyScalar(yt).add(et)}const xe=ne.length,Ie=_e.length;function tt(et,mt,yt){let nn,Mt,Qn;const Kn=et.x-mt.x,pr=et.y-mt.y,ci=yt.x-et.x,he=yt.y-et.y,ae=Kn*Kn+pr*pr,_t=Kn*he-pr*ci;if(Math.abs(_t)>Number.EPSILON){const ft=Math.sqrt(ae),yn=Math.sqrt(ci*ci+he*he),vn=mt.x-pr/ft,be=mt.y+Kn/ft,wt=yt.x-he/yn,it=yt.y+ci/yn,Wt=((wt-vn)*he-(it-be)*ci)/(Kn*he-pr*ci);nn=vn+Kn*Wt-et.x,Mt=be+pr*Wt-et.y;const Dt=nn*nn+Mt*Mt;if(Dt<=2)return new rt(nn,Mt);Qn=Math.sqrt(Dt/2)}else{let ft=!1;Kn>Number.EPSILON?ci>Number.EPSILON&&(ft=!0):Kn<-Number.EPSILON?ci<-Number.EPSILON&&(ft=!0):Math.sign(pr)===Math.sign(he)&&(ft=!0),ft?(nn=-pr,Mt=Kn,Qn=Math.sqrt(ae)):(nn=Kn,Mt=pr,Qn=Math.sqrt(ae/2))}return new rt(nn/Qn,Mt/Qn)}const gt=[];for(let et=0,mt=ge.length,yt=mt-1,nn=et+1;et<mt;et++,yt++,nn++)yt===mt&&(yt=0),nn===mt&&(nn=0),gt[et]=tt(ge[et],ge[yt],ge[nn]);const Je=[];let ve,He=gt.concat();for(let et=0,mt=Y.length;et<mt;et++){const yt=Y[et];ve=[];for(let nn=0,Mt=yt.length,Qn=Mt-1,Kn=nn+1;nn<Mt;nn++,Qn++,Kn++)Qn===Mt&&(Qn=0),Kn===Mt&&(Kn=0),ve[nn]=tt(yt[nn],yt[Qn],yt[Kn]);Je.push(ve),He=He.concat(ve)}for(let et=0;et<A;et++){const mt=et/A,yt=y*Math.cos(mt*Math.PI/2),nn=w*Math.sin(mt*Math.PI/2)+E;for(let Mt=0,Qn=ge.length;Mt<Qn;Mt++){const Kn=$e(ge[Mt],gt[Mt],nn);Mn(Kn.x,Kn.y,-yt)}for(let Mt=0,Qn=Y.length;Mt<Qn;Mt++){const Kn=Y[Mt];ve=Je[Mt];for(let pr=0,ci=Kn.length;pr<ci;pr++){const he=$e(Kn[pr],ve[pr],nn);Mn(he.x,he.y,-yt)}}}const Ge=w+E;for(let et=0;et<xe;et++){const mt=g?$e(ne[et],He[et],Ge):ne[et];P?(z.copy(D.normals[0]).multiplyScalar(mt.x),G.copy(D.binormals[0]).multiplyScalar(mt.y),V.copy(R[0]).add(z).add(G),Mn(V.x,V.y,V.z)):Mn(mt.x,mt.y,0)}for(let et=1;et<=d;et++)for(let mt=0;mt<xe;mt++){const yt=g?$e(ne[mt],He[mt],Ge):ne[mt];P?(z.copy(D.normals[et]).multiplyScalar(yt.x),G.copy(D.binormals[et]).multiplyScalar(yt.y),V.copy(R[et]).add(z).add(G),Mn(V.x,V.y,V.z)):Mn(yt.x,yt.y,m/d*et)}for(let et=A-1;et>=0;et--){const mt=et/A,yt=y*Math.cos(mt*Math.PI/2),nn=w*Math.sin(mt*Math.PI/2)+E;for(let Mt=0,Qn=ge.length;Mt<Qn;Mt++){const Kn=$e(ge[Mt],gt[Mt],nn);Mn(Kn.x,Kn.y,m+yt)}for(let Mt=0,Qn=Y.length;Mt<Qn;Mt++){const Kn=Y[Mt];ve=Je[Mt];for(let pr=0,ci=Kn.length;pr<ci;pr++){const he=$e(Kn[pr],ve[pr],nn);P?Mn(he.x,he.y+R[d-1].y,R[d-1].x+yt):Mn(he.x,he.y,m+yt)}}}kt(),an();function kt(){const et=a.length/3;if(g){let mt=0,yt=xe*mt;for(let nn=0;nn<Ie;nn++){const Mt=_e[nn];mn(Mt[2]+yt,Mt[1]+yt,Mt[0]+yt)}mt=d+A*2,yt=xe*mt;for(let nn=0;nn<Ie;nn++){const Mt=_e[nn];mn(Mt[0]+yt,Mt[1]+yt,Mt[2]+yt)}}else{for(let mt=0;mt<Ie;mt++){const yt=_e[mt];mn(yt[2],yt[1],yt[0])}for(let mt=0;mt<Ie;mt++){const yt=_e[mt];mn(yt[0]+xe*d,yt[1]+xe*d,yt[2]+xe*d)}}o.addGroup(et,a.length/3-et,0)}function an(){const et=a.length/3;let mt=0;ot(ge,mt),mt+=ge.length;for(let yt=0,nn=Y.length;yt<nn;yt++){const Mt=Y[yt];ot(Mt,mt),mt+=Mt.length}o.addGroup(et,a.length/3-et,1)}function ot(et,mt){let yt=et.length;for(;--yt>=0;){const nn=yt;let Mt=yt-1;Mt<0&&(Mt=et.length-1);for(let Qn=0,Kn=d+A*2;Qn<Kn;Qn++){const pr=xe*Qn,ci=xe*(Qn+1),he=mt+nn+pr,ae=mt+Mt+pr,_t=mt+Mt+ci,ft=mt+nn+ci;Gt(he,ae,_t,ft)}}}function Mn(et,mt,yt){f.push(et),f.push(mt),f.push(yt)}function mn(et,mt,yt){An(et),An(mt),An(yt);const nn=a.length/3,Mt=C.generateTopUV(o,a,nn-3,nn-2,nn-1);Pr(Mt[0]),Pr(Mt[1]),Pr(Mt[2])}function Gt(et,mt,yt,nn){An(et),An(mt),An(nn),An(mt),An(yt),An(nn);const Mt=a.length/3,Qn=C.generateSideWallUV(o,a,Mt-6,Mt-3,Mt-2,Mt-1);Pr(Qn[0]),Pr(Qn[1]),Pr(Qn[3]),Pr(Qn[1]),Pr(Qn[2]),Pr(Qn[3])}function An(et){a.push(f[et*3+0]),a.push(f[et*3+1]),a.push(f[et*3+2])}function Pr(et){l.push(et.x),l.push(et.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,o=this.parameters.options;return gBe(n,o,e)}static fromJSON(e,n){const o=[];for(let l=0,u=e.shapes.length;l<u;l++){const _=n[e.shapes[l]];o.push(_)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new w8[a.type]().fromJSON(a)),new wh(o,e.options)}}const vBe={generateTopUV:function(r,e,n,o,a){const l=e[n*3],u=e[n*3+1],_=e[o*3],f=e[o*3+1],h=e[a*3],d=e[a*3+1];return[new rt(l,u),new rt(_,f),new rt(h,d)]},generateSideWallUV:function(r,e,n,o,a,l){const u=e[n*3],_=e[n*3+1],f=e[n*3+2],h=e[o*3],d=e[o*3+1],m=e[o*3+2],g=e[a*3],y=e[a*3+1],w=e[a*3+2],E=e[l*3],A=e[l*3+1],S=e[l*3+2];return Math.abs(_-d)<Math.abs(u-h)?[new rt(u,1-f),new rt(h,1-m),new rt(g,1-w),new rt(E,1-S)]:[new rt(_,1-f),new rt(d,1-m),new rt(y,1-w),new rt(A,1-S)]}};function gBe(r,e,n){if(n.shapes=[],Array.isArray(r))for(let o=0,a=r.length;o<a;o++){const l=r[o];n.shapes.push(l.uuid)}else n.shapes.push(r.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Mx extends kh{constructor(e=1,n=0){const o=(1+Math.sqrt(5))/2,a=[-1,o,0,1,o,0,-1,-o,0,1,-o,0,0,-1,o,0,1,o,0,-1,-o,0,1,-o,o,0,-1,o,0,1,-o,0,-1,-o,0,1],l=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,l,e,n);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Mx(e.radius,e.detail)}}class Nx extends Yn{constructor(e=[new rt(0,.5),new rt(.5,0),new rt(0,-.5)],n=12,o=0,a=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:o,phiLength:a},n=Math.floor(n),a=nl(a,0,Math.PI*2);const l=[],u=[],_=[],f=1/n,h=new te,d=new rt;for(let m=0;m<=n;m++){const g=o+m*f*a,y=Math.sin(g),w=Math.cos(g);for(let E=0;E<=e.length-1;E++)h.x=e[E].x*y,h.y=e[E].y,h.z=e[E].x*w,u.push(h.x,h.y,h.z),d.x=m/n,d.y=E/(e.length-1),_.push(d.x,d.y)}for(let m=0;m<n;m++)for(let g=0;g<e.length-1;g++){const y=g+m*e.length,w=y,E=y+e.length,A=y+e.length+1,S=y+1;l.push(w,E,S),l.push(E,A,S)}if(this.setIndex(l),this.setAttribute("position",new In(u,3)),this.setAttribute("uv",new In(_,2)),this.computeVertexNormals(),a===Math.PI*2){const m=this.attributes.normal.array,g=new te,y=new te,w=new te,E=n*e.length*3;for(let A=0,S=0;A<e.length;A++,S+=3)g.x=m[S+0],g.y=m[S+1],g.z=m[S+2],y.x=m[E+S+0],y.y=m[E+S+1],y.z=m[E+S+2],w.addVectors(g,y).normalize(),m[S+0]=m[E+S+0]=w.x,m[S+1]=m[E+S+1]=w.y,m[S+2]=m[E+S+2]=w.z}}static fromJSON(e){return new Nx(e.points,e.segments,e.phiStart,e.phiLength)}}class ck extends kh{constructor(e=1,n=0){const o=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(o,a,e,n);this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ck(e.radius,e.detail)}}class Rx extends Yn{constructor(e=.5,n=1,o=8,a=1,l=0,u=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:o,phiSegments:a,thetaStart:l,thetaLength:u},o=Math.max(3,o),a=Math.max(1,a);const _=[],f=[],h=[],d=[];let m=e;const g=(n-e)/a,y=new te,w=new rt;for(let E=0;E<=a;E++){for(let A=0;A<=o;A++){const S=l+A/o*u;y.x=m*Math.cos(S),y.y=m*Math.sin(S),f.push(y.x,y.y,y.z),h.push(0,0,1),w.x=(y.x/n+1)/2,w.y=(y.y/n+1)/2,d.push(w.x,w.y)}m+=g}for(let E=0;E<a;E++){const A=E*(o+1);for(let S=0;S<o;S++){const C=S+A,R=C,P=C+o+1,D=C+o+2,G=C+1;_.push(R,P,G),_.push(P,D,G)}}this.setIndex(_),this.setAttribute("position",new In(f,3)),this.setAttribute("normal",new In(h,3)),this.setAttribute("uv",new In(d,2))}static fromJSON(e){return new Rx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class _k extends Yn{constructor(e=new $h([new rt(0,.5),new rt(-.5,-.5),new rt(.5,-.5)]),n=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const o=[],a=[],l=[],u=[];let _=0,f=0;if(Array.isArray(e)===!1)h(e);else for(let d=0;d<e.length;d++)h(e[d]),this.addGroup(_,f,d),_+=f,f=0;this.setIndex(o),this.setAttribute("position",new In(a,3)),this.setAttribute("normal",new In(l,3)),this.setAttribute("uv",new In(u,2));function h(d){const m=a.length/3,g=d.extractPoints(n);let y=g.shape;const w=g.holes;bh.isClockWise(y)===!1&&(y=y.reverse());for(let A=0,S=w.length;A<S;A++){const C=w[A];bh.isClockWise(C)===!0&&(w[A]=C.reverse())}const E=bh.triangulateShape(y,w);for(let A=0,S=w.length;A<S;A++){const C=w[A];y=y.concat(C)}for(let A=0,S=y.length;A<S;A++){const C=y[A];a.push(C.x,C.y,0),l.push(0,0,1),u.push(C.x,C.y)}for(let A=0,S=E.length;A<S;A++){const C=E[A],R=C[0]+m,P=C[1]+m,D=C[2]+m;o.push(R,P,D),f+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return yBe(n,e)}static fromJSON(e,n){const o=[];for(let a=0,l=e.shapes.length;a<l;a++){const u=n[e.shapes[a]];o.push(u)}return new _k(o,e.curveSegments)}}function yBe(r,e){if(e.shapes=[],Array.isArray(r))for(let n=0,o=r.length;n<o;n++){const a=r[n];e.shapes.push(a.uuid)}else e.shapes.push(r.uuid);return e}class fk extends Yn{constructor(e=1,n=32,o=16,a=0,l=Math.PI*2,u=0,_=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:o,phiStart:a,phiLength:l,thetaStart:u,thetaLength:_},n=Math.max(3,Math.floor(n)),o=Math.max(2,Math.floor(o));const f=Math.min(u+_,Math.PI);let h=0;const d=[],m=new te,g=new te,y=[],w=[],E=[],A=[];for(let S=0;S<=o;S++){const C=[],R=S/o;let P=0;S==0&&u==0?P=.5/n:S==o&&f==Math.PI&&(P=-.5/n);for(let D=0;D<=n;D++){const G=D/n;m.x=-e*Math.cos(a+G*l)*Math.sin(u+R*_),m.y=e*Math.cos(u+R*_),m.z=e*Math.sin(a+G*l)*Math.sin(u+R*_),w.push(m.x,m.y,m.z),g.copy(m).normalize(),E.push(g.x,g.y,g.z),A.push(G+P,1-R),C.push(h++)}d.push(C)}for(let S=0;S<o;S++)for(let C=0;C<n;C++){const R=d[S][C+1],P=d[S][C],D=d[S+1][C],G=d[S+1][C+1];(S!==0||u>0)&&y.push(R,P,G),(S!==o-1||f<Math.PI)&&y.push(P,D,G)}this.setIndex(y),this.setAttribute("position",new In(w,3)),this.setAttribute("normal",new In(E,3)),this.setAttribute("uv",new In(A,2))}static fromJSON(e){return new fk(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Px extends kh{constructor(e=1,n=0){const o=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(o,a,e,n);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Px(e.radius,e.detail)}}class Bx extends Yn{constructor(e=1,n=.4,o=8,a=6,l=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:o,tubularSegments:a,arc:l},o=Math.floor(o),a=Math.floor(a);const u=[],_=[],f=[],h=[],d=new te,m=new te,g=new te;for(let y=0;y<=o;y++)for(let w=0;w<=a;w++){const E=w/a*l,A=y/o*Math.PI*2;m.x=(e+n*Math.cos(A))*Math.cos(E),m.y=(e+n*Math.cos(A))*Math.sin(E),m.z=n*Math.sin(A),_.push(m.x,m.y,m.z),d.x=e*Math.cos(E),d.y=e*Math.sin(E),g.subVectors(m,d).normalize(),f.push(g.x,g.y,g.z),h.push(w/a),h.push(y/o)}for(let y=1;y<=o;y++)for(let w=1;w<=a;w++){const E=(a+1)*y+w-1,A=(a+1)*(y-1)+w-1,S=(a+1)*(y-1)+w,C=(a+1)*y+w;u.push(E,A,C),u.push(A,S,C)}this.setIndex(u),this.setAttribute("position",new In(_,3)),this.setAttribute("normal",new In(f,3)),this.setAttribute("uv",new In(h,2))}static fromJSON(e){return new Bx(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Fx extends Yn{constructor(e=1,n=.4,o=64,a=8,l=2,u=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:o,radialSegments:a,p:l,q:u},o=Math.floor(o),a=Math.floor(a);const _=[],f=[],h=[],d=[],m=new te,g=new te,y=new te,w=new te,E=new te,A=new te,S=new te;for(let R=0;R<=o;++R){const P=R/o*l*Math.PI*2;C(P,l,u,e,y),C(P+.01,l,u,e,w),A.subVectors(w,y),S.addVectors(w,y),E.crossVectors(A,S),S.crossVectors(E,A),E.normalize(),S.normalize();for(let D=0;D<=a;++D){const G=D/a*Math.PI*2,z=-n*Math.cos(G),V=n*Math.sin(G);m.x=y.x+(z*S.x+V*E.x),m.y=y.y+(z*S.y+V*E.y),m.z=y.z+(z*S.z+V*E.z),f.push(m.x,m.y,m.z),g.subVectors(m,y).normalize(),h.push(g.x,g.y,g.z),d.push(R/o),d.push(D/a)}}for(let R=1;R<=o;R++)for(let P=1;P<=a;P++){const D=(a+1)*(R-1)+(P-1),G=(a+1)*R+(P-1),z=(a+1)*R+P,V=(a+1)*(R-1)+P;_.push(D,G,V),_.push(G,z,V)}this.setIndex(_),this.setAttribute("position",new In(f,3)),this.setAttribute("normal",new In(h,3)),this.setAttribute("uv",new In(d,2));function C(R,P,D,G,z){const V=Math.cos(R),X=Math.sin(R),ne=D/P*R,Y=Math.cos(ne);z.x=G*(2+Y)*.5*V,z.y=G*(2+Y)*X*.5,z.z=G*Math.sin(ne)*.5}}static fromJSON(e){return new Fx(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Lx extends Yn{constructor(e=new rL(new te(-1,-1,0),new te(-1,1,0),new te(1,1,0)),n=64,o=1,a=8,l=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:o,radialSegments:a,closed:l};const u=e.computeFrenetFrames(n,l);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;const _=new te,f=new te,h=new rt;let d=new te;const m=[],g=[],y=[],w=[];E(),this.setIndex(w),this.setAttribute("position",new In(m,3)),this.setAttribute("normal",new In(g,3)),this.setAttribute("uv",new In(y,2));function E(){for(let R=0;R<n;R++)A(R);A(l===!1?n:0),C(),S()}function A(R){d=e.getPointAt(R/n,d);const P=u.normals[R],D=u.binormals[R];for(let G=0;G<=a;G++){const z=G/a*Math.PI*2,V=Math.sin(z),X=-Math.cos(z);f.x=X*P.x+V*D.x,f.y=X*P.y+V*D.y,f.z=X*P.z+V*D.z,f.normalize(),g.push(f.x,f.y,f.z),_.x=d.x+o*f.x,_.y=d.y+o*f.y,_.z=d.z+o*f.z,m.push(_.x,_.y,_.z)}}function S(){for(let R=1;R<=n;R++)for(let P=1;P<=a;P++){const D=(a+1)*(R-1)+(P-1),G=(a+1)*R+(P-1),z=(a+1)*R+P,V=(a+1)*(R-1)+P;w.push(D,G,V),w.push(G,z,V)}}function C(){for(let R=0;R<=n;R++)for(let P=0;P<=a;P++)h.x=R/n,h.y=P/a,y.push(h.x,h.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Lx(new w8[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class E8 extends Yn{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],o=new Set,a=new te,l=new te;if(e.index!==null){const u=e.attributes.position,_=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:_.count,materialIndex:0}]);for(let h=0,d=f.length;h<d;++h){const m=f[h],g=m.start,y=m.count;for(let w=g,E=g+y;w<E;w+=3)for(let A=0;A<3;A++){const S=_.getX(w+A),C=_.getX(w+(A+1)%3);a.fromBufferAttribute(u,S),l.fromBufferAttribute(u,C),hse(a,l,o)===!0&&(n.push(a.x,a.y,a.z),n.push(l.x,l.y,l.z))}}}else{const u=e.attributes.position;for(let _=0,f=u.count/3;_<f;_++)for(let h=0;h<3;h++){const d=3*_+h,m=3*_+(h+1)%3;a.fromBufferAttribute(u,d),l.fromBufferAttribute(u,m),hse(a,l,o)===!0&&(n.push(a.x,a.y,a.z),n.push(l.x,l.y,l.z))}}this.setAttribute("position",new In(n,3))}}}function hse(r,e,n){const o=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return n.has(o)===!0||n.has(a)===!0?!1:(n.add(o,a),!0)}var dse=Object.freeze({__proto__:null,BoxGeometry:im,BoxBufferGeometry:im,CircleGeometry:Cx,CircleBufferGeometry:Cx,ConeGeometry:Ax,ConeBufferGeometry:Ax,CylinderGeometry:dg,CylinderBufferGeometry:dg,DodecahedronGeometry:Tx,DodecahedronBufferGeometry:Tx,EdgesGeometry:d8,ExtrudeGeometry:wh,ExtrudeBufferGeometry:wh,IcosahedronGeometry:Mx,IcosahedronBufferGeometry:Mx,LatheGeometry:Nx,LatheBufferGeometry:Nx,OctahedronGeometry:ck,OctahedronBufferGeometry:ck,PlaneGeometry:ik,PlaneBufferGeometry:ik,PolyhedronGeometry:kh,PolyhedronBufferGeometry:kh,RingGeometry:Rx,RingBufferGeometry:Rx,ShapeGeometry:_k,ShapeBufferGeometry:_k,SphereGeometry:fk,SphereBufferGeometry:fk,TetrahedronGeometry:Px,TetrahedronBufferGeometry:Px,TorusGeometry:Bx,TorusBufferGeometry:Bx,TorusKnotGeometry:Fx,TorusKnotBufferGeometry:Fx,TubeGeometry:Lx,TubeBufferGeometry:Lx,WireframeGeometry:E8});class C8 extends Ha{constructor(e){super();this.type="ShadowMaterial",this.color=new Ut(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}C8.prototype.isShadowMaterial=!0;class pk extends Ha{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ng,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}pk.prototype.isMeshStandardMaterial=!0;class vg extends pk{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new rt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return nl(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.sheenColor=new Ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ut(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}vg.prototype.isMeshPhysicalMaterial=!0;class A8 extends Ha{constructor(e){super();this.type="MeshPhongMaterial",this.color=new Ut(16777215),this.specular=new Ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ng,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}A8.prototype.isMeshPhongMaterial=!0;class T8 extends Ha{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ng,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}T8.prototype.isMeshToonMaterial=!0;class I8 extends Ha{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ng,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}I8.prototype.isMeshNormalMaterial=!0;class M8 extends Ha{constructor(e){super();this.type="MeshLambertMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}M8.prototype.isMeshLambertMaterial=!0;class N8 extends Ha{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ng,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}N8.prototype.isMeshMatcapMaterial=!0;class R8 extends hs{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}R8.prototype.isLineDashedMaterial=!0;var kBe=Object.freeze({__proto__:null,ShadowMaterial:C8,SpriteMaterial:zF,RawShaderMaterial:vx,ShaderMaterial:om,PointsMaterial:hg,MeshPhysicalMaterial:vg,MeshStandardMaterial:pk,MeshPhongMaterial:A8,MeshToonMaterial:T8,MeshNormalMaterial:I8,MeshLambertMaterial:M8,MeshDepthMaterial:LF,MeshDistanceMaterial:DF,MeshBasicMaterial:sc,MeshMatcapMaterial:N8,LineDashedMaterial:R8,LineBasicMaterial:hs,Material:Ha});const Po={arraySlice:function(r,e,n){return Po.isTypedArray(r)?new r.constructor(r.subarray(e,n!==void 0?n:r.length)):r.slice(e,n)},convertArray:function(r,e,n){return!r||!n&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)},isTypedArray:function(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)},getKeyframeOrder:function(r){function e(a,l){return r[a]-r[l]}const n=r.length,o=new Array(n);for(let a=0;a!==n;++a)o[a]=a;return o.sort(e),o},sortedArray:function(r,e,n){const o=r.length,a=new r.constructor(o);for(let l=0,u=0;u!==o;++l){const _=n[l]*e;for(let f=0;f!==e;++f)a[u++]=r[_+f]}return a},flattenJSON:function(r,e,n,o){let a=1,l=r[0];for(;l!==void 0&&l[o]===void 0;)l=r[a++];if(l===void 0)return;let u=l[o];if(u!==void 0)if(Array.isArray(u))do u=l[o],u!==void 0&&(e.push(l.time),n.push.apply(n,u)),l=r[a++];while(l!==void 0);else if(u.toArray!==void 0)do u=l[o],u!==void 0&&(e.push(l.time),u.toArray(n,n.length)),l=r[a++];while(l!==void 0);else do u=l[o],u!==void 0&&(e.push(l.time),n.push(u)),l=r[a++];while(l!==void 0)},subclip:function(r,e,n,o,a=30){const l=r.clone();l.name=e;const u=[];for(let f=0;f<l.tracks.length;++f){const h=l.tracks[f],d=h.getValueSize(),m=[],g=[];for(let y=0;y<h.times.length;++y){const w=h.times[y]*a;if(!(w<n||w>=o)){m.push(h.times[y]);for(let E=0;E<d;++E)g.push(h.values[y*d+E])}}m.length!==0&&(h.times=Po.convertArray(m,h.times.constructor),h.values=Po.convertArray(g,h.values.constructor),u.push(h))}l.tracks=u;let _=1/0;for(let f=0;f<l.tracks.length;++f)_>l.tracks[f].times[0]&&(_=l.tracks[f].times[0]);for(let f=0;f<l.tracks.length;++f)l.tracks[f].shift(-1*_);return l.resetDuration(),l},makeClipAdditive:function(r,e=0,n=r,o=30){o<=0&&(o=30);const a=n.tracks.length,l=e/o;for(let u=0;u<a;++u){const _=n.tracks[u],f=_.ValueTypeName;if(f==="bool"||f==="string")continue;const h=r.tracks.find(function(S){return S.name===_.name&&S.ValueTypeName===f});if(h===void 0)continue;let d=0;const m=_.getValueSize();_.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);let g=0;const y=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const w=_.times.length-1;let E;if(l<=_.times[0]){const S=d,C=m-d;E=Po.arraySlice(_.values,S,C)}else if(l>=_.times[w]){const S=w*m+d,C=S+m-d;E=Po.arraySlice(_.values,S,C)}else{const S=_.createInterpolant(),C=d,R=m-d;S.evaluate(l),E=Po.arraySlice(S.resultBuffer,C,R)}f==="quaternion"&&new ps().fromArray(E).normalize().conjugate().toArray(E);const A=h.times.length;for(let S=0;S<A;++S){const C=S*y+g;if(f==="quaternion")ps.multiplyQuaternionsFlat(h.values,C,E,0,h.values,C);else{const R=y-g*2;for(let P=0;P<R;++P)h.values[C+P]-=E[P]}}}return r.blendMode=$G,r}};class xh{constructor(e,n,o,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new n.constructor(o),this.sampleValues=n,this.valueSize=o,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let o=this._cachedIndex,a=n[o],l=n[o-1];e:{t:{let u;n:{r:if(!(e<a)){for(let _=o+2;;){if(a===void 0){if(e<l)break r;return o=n.length,this._cachedIndex=o,this.afterEnd_(o-1,e,l)}if(o===_)break;if(l=a,a=n[++o],e<a)break t}u=n.length;break n}if(!(e>=l)){const _=n[1];e<_&&(o=2,l=_);for(let f=o-2;;){if(l===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,a);if(o===f)break;if(a=l,l=n[--o-1],e>=l)break t}u=o,o=0;break n}break e}for(;o<u;){const _=o+u>>>1;e<n[_]?u=_:o=_+1}if(a=n[o],l=n[o-1],l===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,a);if(a===void 0)return o=n.length,this._cachedIndex=o,this.afterEnd_(o-1,l,e)}this._cachedIndex=o,this.intervalChanged_(o,l,a)}return this.interpolate_(o,l,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a;for(let u=0;u!==a;++u)n[u]=o[l+u];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}xh.prototype.beforeStart_=xh.prototype.copySampleValue_;xh.prototype.afterEnd_=xh.prototype.copySampleValue_;class mse extends xh{constructor(e,n,o,a){super(e,n,o,a);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:X0,endingEnd:X0}}intervalChanged_(e,n,o){const a=this.parameterPositions;let l=e-2,u=e+1,_=a[l],f=a[u];if(_===void 0)switch(this.getSettings_().endingStart){case Y0:l=e,_=2*n-o;break;case dA:l=a.length-2,_=n+a[l]-a[l+1];break;default:l=e,_=o}if(f===void 0)switch(this.getSettings_().endingEnd){case Y0:u=e,f=2*o-n;break;case dA:u=1,f=o+a[1]-a[0];break;default:u=e-1,f=n}const h=(o-n)*.5,d=this.valueSize;this._weightPrev=h/(n-_),this._weightNext=h/(f-o),this._offsetPrev=l*d,this._offsetNext=u*d}interpolate_(e,n,o,a){const l=this.resultBuffer,u=this.sampleValues,_=this.valueSize,f=e*_,h=f-_,d=this._offsetPrev,m=this._offsetNext,g=this._weightPrev,y=this._weightNext,w=(o-n)/(a-n),E=w*w,A=E*w,S=-g*A+2*g*E-g*w,C=(1+g)*A+(-1.5-2*g)*E+(-.5+g)*w+1,R=(-1-y)*A+(1.5+y)*E+.5*w,P=y*A-y*E;for(let D=0;D!==_;++D)l[D]=S*u[d+D]+C*u[h+D]+R*u[f+D]+P*u[m+D];return l}}class P8 extends xh{constructor(e,n,o,a){super(e,n,o,a)}interpolate_(e,n,o,a){const l=this.resultBuffer,u=this.sampleValues,_=this.valueSize,f=e*_,h=f-_,d=(o-n)/(a-n),m=1-d;for(let g=0;g!==_;++g)l[g]=u[h+g]*m+u[f+g]*d;return l}}class vse extends xh{constructor(e,n,o,a){super(e,n,o,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class tp{constructor(e,n,o,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Po.convertArray(n,this.TimeBufferType),this.values=Po.convertArray(o,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let o;if(n.toJSON!==this.toJSON)o=n.toJSON(e);else{o={name:e.name,times:Po.convertArray(e.times,Array),values:Po.convertArray(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(o.interpolation=a)}return o.type=e.ValueTypeName,o}InterpolantFactoryMethodDiscrete(e){return new vse(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new P8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mse(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Yw:n=this.InterpolantFactoryMethodDiscrete;break;case J0:n=this.InterpolantFactoryMethodLinear;break;case oF:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const o="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(o);return console.warn("THREE.KeyframeTrack:",o),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Yw;case this.InterpolantFactoryMethodLinear:return J0;case this.InterpolantFactoryMethodSmooth:return oF}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let o=0,a=n.length;o!==a;++o)n[o]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let o=0,a=n.length;o!==a;++o)n[o]*=e}return this}trim(e,n){const o=this.times,a=o.length;let l=0,u=a-1;for(;l!==a&&o[l]<e;)++l;for(;u!==-1&&o[u]>n;)--u;if(++u,l!==0||u!==a){l>=u&&(u=Math.max(u,1),l=u-1);const _=this.getValueSize();this.times=Po.arraySlice(o,l,u),this.values=Po.arraySlice(this.values,l*_,u*_)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const o=this.times,a=this.values,l=o.length;l===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let u=null;for(let _=0;_!==l;_++){const f=o[_];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,_,f),e=!1;break}if(u!==null&&u>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,_,f,u),e=!1;break}u=f}if(a!==void 0&&Po.isTypedArray(a))for(let _=0,f=a.length;_!==f;++_){const h=a[_];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,_,h),e=!1;break}}return e}optimize(){const e=Po.arraySlice(this.times),n=Po.arraySlice(this.values),o=this.getValueSize(),a=this.getInterpolation()===oF,l=e.length-1;let u=1;for(let _=1;_<l;++_){let f=!1;const h=e[_],d=e[_+1];if(h!==d&&(_!==1||h!==e[0]))if(a)f=!0;else{const m=_*o,g=m-o,y=m+o;for(let w=0;w!==o;++w){const E=n[m+w];if(E!==n[g+w]||E!==n[y+w]){f=!0;break}}}if(f){if(_!==u){e[u]=e[_];const m=_*o,g=u*o;for(let y=0;y!==o;++y)n[g+y]=n[m+y]}++u}}if(l>0){e[u]=e[l];for(let _=l*o,f=u*o,h=0;h!==o;++h)n[f+h]=n[_+h];++u}return u!==e.length?(this.times=Po.arraySlice(e,0,u),this.values=Po.arraySlice(n,0,u*o)):(this.times=e,this.values=n),this}clone(){const e=Po.arraySlice(this.times,0),n=Po.arraySlice(this.values,0),o=this.constructor,a=new o(this.name,e,n);return a.createInterpolant=this.createInterpolant,a}}tp.prototype.TimeBufferType=Float32Array;tp.prototype.ValueBufferType=Float32Array;tp.prototype.DefaultInterpolation=J0;class hk extends tp{}hk.prototype.ValueTypeName="bool";hk.prototype.ValueBufferType=Array;hk.prototype.DefaultInterpolation=Yw;hk.prototype.InterpolantFactoryMethodLinear=void 0;hk.prototype.InterpolantFactoryMethodSmooth=void 0;class B8 extends tp{}B8.prototype.ValueTypeName="color";class Dx extends tp{}Dx.prototype.ValueTypeName="number";class gse extends xh{constructor(e,n,o,a){super(e,n,o,a)}interpolate_(e,n,o,a){const l=this.resultBuffer,u=this.sampleValues,_=this.valueSize,f=(o-n)/(a-n);let h=e*_;for(let d=h+_;h!==d;h+=4)ps.slerpFlat(l,0,u,h-_,u,h,f);return l}}class dk extends tp{InterpolantFactoryMethodLinear(e){return new gse(this.times,this.values,this.getValueSize(),e)}}dk.prototype.ValueTypeName="quaternion";dk.prototype.DefaultInterpolation=J0;dk.prototype.InterpolantFactoryMethodSmooth=void 0;class mk extends tp{}mk.prototype.ValueTypeName="string";mk.prototype.ValueBufferType=Array;mk.prototype.DefaultInterpolation=Yw;mk.prototype.InterpolantFactoryMethodLinear=void 0;mk.prototype.InterpolantFactoryMethodSmooth=void 0;class Ox extends tp{}Ox.prototype.ValueTypeName="vector";class zx{constructor(e,n=-1,o,a=aF){this.name=e,this.tracks=o,this.duration=n,this.blendMode=a,this.uuid=Xc(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],o=e.tracks,a=1/(e.fps||1);for(let u=0,_=o.length;u!==_;++u)n.push(bBe(o[u]).scale(a));const l=new this(e.name,e.duration,n,e.blendMode);return l.uuid=e.uuid,l}static toJSON(e){const n=[],o=e.tracks,a={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let l=0,u=o.length;l!==u;++l)n.push(tp.toJSON(o[l]));return a}static CreateFromMorphTargetSequence(e,n,o,a){const l=n.length,u=[];for(let _=0;_<l;_++){let f=[],h=[];f.push((_+l-1)%l,_,(_+1)%l),h.push(0,1,0);const d=Po.getKeyframeOrder(f);f=Po.sortedArray(f,1,d),h=Po.sortedArray(h,1,d),!a&&f[0]===0&&(f.push(l),h.push(h[0])),u.push(new Dx(".morphTargetInfluences["+n[_].name+"]",f,h).scale(1/o))}return new this(e,-1,u)}static findByName(e,n){let o=e;if(!Array.isArray(e)){const a=e;o=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<o.length;a++)if(o[a].name===n)return o[a];return null}static CreateClipsFromMorphTargetSequences(e,n,o){const a={},l=/^([\w-]*?)([\d]+)$/;for(let _=0,f=e.length;_<f;_++){const h=e[_],d=h.name.match(l);if(d&&d.length>1){const m=d[1];let g=a[m];g||(a[m]=g=[]),g.push(h)}}const u=[];for(const _ in a)u.push(this.CreateFromMorphTargetSequence(_,a[_],n,o));return u}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const o=function(m,g,y,w,E){if(y.length!==0){const A=[],S=[];Po.flattenJSON(y,A,S,w),A.length!==0&&E.push(new m(g,A,S))}},a=[],l=e.name||"default",u=e.fps||30,_=e.blendMode;let f=e.length||-1;const h=e.hierarchy||[];for(let m=0;m<h.length;m++){const g=h[m].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const y={};let w;for(w=0;w<g.length;w++)if(g[w].morphTargets)for(let E=0;E<g[w].morphTargets.length;E++)y[g[w].morphTargets[E]]=-1;for(const E in y){const A=[],S=[];for(let C=0;C!==g[w].morphTargets.length;++C){const R=g[w];A.push(R.time),S.push(R.morphTarget===E?1:0)}a.push(new Dx(".morphTargetInfluence["+E+"]",A,S))}f=y.length*(u||1)}else{const y=".bones["+n[m].name+"]";o(Ox,y+".position",g,"pos",a),o(dk,y+".quaternion",g,"rot",a),o(Ox,y+".scale",g,"scl",a)}}return a.length===0?null:new this(l,f,a,_)}resetDuration(){const e=this.tracks;let n=0;for(let o=0,a=e.length;o!==a;++o){const l=this.tracks[o];n=Math.max(n,l.times[l.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function $Be(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Dx;case"vector":case"vector2":case"vector3":case"vector4":return Ox;case"color":return B8;case"quaternion":return dk;case"bool":case"boolean":return hk;case"string":return mk}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function bBe(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=$Be(r.type);if(r.times===void 0){const n=[],o=[];Po.flattenJSON(r.keys,n,o,"value"),r.times=n,r.values=o}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const vk={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class F8{constructor(e,n,o){const a=this;let l=!1,u=0,_=0,f;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=o,this.itemStart=function(d){_++,l===!1&&a.onStart!==void 0&&a.onStart(d,u,_),l=!0},this.itemEnd=function(d){u++,a.onProgress!==void 0&&a.onProgress(d,u,_),u===_&&(l=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(d){a.onError!==void 0&&a.onError(d)},this.resolveURL=function(d){return f?f(d):d},this.setURLModifier=function(d){return f=d,this},this.addHandler=function(d,m){return h.push(d,m),this},this.removeHandler=function(d){const m=h.indexOf(d);return m!==-1&&h.splice(m,2),this},this.getHandler=function(d){for(let m=0,g=h.length;m<g;m+=2){const y=h[m],w=h[m+1];if(y.global&&(y.lastIndex=0),y.test(d))return w}return null}}}const yse=new F8;class rl{constructor(e){this.manager=e!==void 0?e:yse,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const o=this;return new Promise(function(a,l){o.load(e,a,n,l)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const sm={};class lc extends rl{constructor(e){super(e)}load(e,n,o,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=vk.get(e);if(l!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(l),this.manager.itemEnd(e)},0),l;if(sm[e]!==void 0){sm[e].push({onLoad:n,onProgress:o,onError:a});return}sm[e]=[],sm[e].push({onLoad:n,onProgress:o,onError:a});const u=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(u).then(_=>{if(_.status===200||_.status===0){_.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const f=sm[e],h=_.body.getReader(),d=_.headers.get("Content-Length"),m=d?parseInt(d):0,g=m!==0;let y=0;return new ReadableStream({start(w){E();function E(){h.read().then(({done:A,value:S})=>{if(A)w.close();else{y+=S.byteLength;const C=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:m});for(let R=0,P=f.length;R<P;R++){const D=f[R];D.onProgress&&D.onProgress(C)}w.enqueue(S),E()}})}}})}else throw Error(`fetch for "${_.url}" responded with ${_.status}: ${_.statusText}`)}).then(_=>{const f=new Response(_);switch(this.responseType){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(h=>new DOMParser().parseFromString(h,this.mimeType));case"json":return f.json();default:return f.text()}}).then(_=>{vk.add(e,_);const f=sm[e];delete sm[e];for(let h=0,d=f.length;h<d;h++){const m=f[h];m.onLoad&&m.onLoad(_)}this.manager.itemEnd(e)}).catch(_=>{const f=sm[e];delete sm[e];for(let h=0,d=f.length;h<d;h++){const m=f[h];m.onError&&m.onError(_)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class wBe extends rl{constructor(e){super(e)}load(e,n,o,a){const l=this,u=new lc(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(_){try{n(l.parse(JSON.parse(_)))}catch(f){a?a(f):console.error(f),l.manager.itemError(e)}},o,a)}parse(e){const n=[];for(let o=0;o<e.length;o++){const a=zx.parse(e[o]);n.push(a)}return n}}class xBe extends rl{constructor(e){super(e)}load(e,n,o,a){const l=this,u=[],_=new p8,f=new lc(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(l.withCredentials);let h=0;function d(m){f.load(e[m],function(g){const y=l.parse(g,!0);u[m]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},h+=1,h===6&&(y.mipmapCount===1&&(_.minFilter=Ro),_.image=u,_.format=y.format,_.needsUpdate=!0,n&&n(_))},o,a)}if(Array.isArray(e))for(let m=0,g=e.length;m<g;++m)d(m);else f.load(e,function(m){const g=l.parse(m,!0);if(g.isCubemap){const y=g.mipmaps.length/g.mipmapCount;for(let w=0;w<y;w++){u[w]={mipmaps:[]};for(let E=0;E<g.mipmapCount;E++)u[w].mipmaps.push(g.mipmaps[w*g.mipmapCount+E]),u[w].format=g.format,u[w].width=g.width,u[w].height=g.height}_.image=u}else _.image.width=g.width,_.image.height=g.height,_.mipmaps=g.mipmaps;g.mipmapCount===1&&(_.minFilter=Ro),_.format=g.format,_.needsUpdate=!0,n&&n(_)},o,a);return _}}class WA extends rl{constructor(e){super(e)}load(e,n,o,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,u=vk.get(e);if(u!==void 0)return l.manager.itemStart(e),setTimeout(function(){n&&n(u),l.manager.itemEnd(e)},0),u;const _=cF("img");function f(){d(),vk.add(e,this),n&&n(this),l.manager.itemEnd(e)}function h(m){d(),a&&a(m),l.manager.itemError(e),l.manager.itemEnd(e)}function d(){_.removeEventListener("load",f,!1),_.removeEventListener("error",h,!1)}return _.addEventListener("load",f,!1),_.addEventListener("error",h,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(_.crossOrigin=this.crossOrigin),l.manager.itemStart(e),_.src=e,_}}class L8 extends rl{constructor(e){super(e)}load(e,n,o,a){const l=new dx,u=new WA(this.manager);u.setCrossOrigin(this.crossOrigin),u.setPath(this.path);let _=0;function f(h){u.load(e[h],function(d){l.images[h]=d,_++,_===6&&(l.needsUpdate=!0,n&&n(l))},void 0,a)}for(let h=0;h<e.length;++h)f(h);return l}}class D8 extends rl{constructor(e){super(e)}load(e,n,o,a){const l=this,u=new lk,_=new lc(this.manager);return _.setResponseType("arraybuffer"),_.setRequestHeader(this.requestHeader),_.setPath(this.path),_.setWithCredentials(l.withCredentials),_.load(e,function(f){const h=l.parse(f);!h||(h.image!==void 0?u.image=h.image:h.data!==void 0&&(u.image.width=h.width,u.image.height=h.height,u.image.data=h.data),u.wrapS=h.wrapS!==void 0?h.wrapS:Ms,u.wrapT=h.wrapT!==void 0?h.wrapT:Ms,u.magFilter=h.magFilter!==void 0?h.magFilter:Ro,u.minFilter=h.minFilter!==void 0?h.minFilter:Ro,u.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.encoding!==void 0&&(u.encoding=h.encoding),h.flipY!==void 0&&(u.flipY=h.flipY),h.format!==void 0&&(u.format=h.format),h.type!==void 0&&(u.type=h.type),h.mipmaps!==void 0&&(u.mipmaps=h.mipmaps,u.minFilter=Xd),h.mipmapCount===1&&(u.minFilter=Ro),h.generateMipmaps!==void 0&&(u.generateMipmaps=h.generateMipmaps),u.needsUpdate=!0,n&&n(u,h))},o,a),u}}class O8 extends rl{constructor(e){super(e)}load(e,n,o,a){const l=new Na,u=new WA(this.manager);return u.setCrossOrigin(this.crossOrigin),u.setPath(this.path),u.load(e,function(_){l.image=_,l.needsUpdate=!0,n!==void 0&&n(l)},o,a),l}}class np extends Ur{constructor(e,n=1){super();this.type="Light",this.color=new Ut(e),this.intensity=n}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}np.prototype.isLight=!0;class z8 extends np{constructor(e,n,o){super(e,o);this.type="HemisphereLight",this.position.copy(Ur.DefaultUp),this.updateMatrix(),this.groundColor=new Ut(n)}copy(e){return np.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}z8.prototype.isHemisphereLight=!0;const kse=new Cn,$se=new te,bse=new te;class U8{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new rt(512,512),this.map=null,this.mapPass=null,this.matrix=new Cn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wA,this._frameExtents=new rt(1,1),this._viewportCount=1,this._viewports=[new Ui(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,o=this.matrix;$se.setFromMatrixPosition(e.matrixWorld),n.position.copy($se),bse.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(bse),n.updateMatrixWorld(),kse.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kse),o.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),o.multiply(n.projectionMatrix),o.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class wse extends U8{constructor(){super(new go(50,1,.5,500));this.focus=1}updateMatrices(e){const n=this.camera,o=vA*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,l=e.distance||n.far;(o!==n.fov||a!==n.aspect||l!==n.far)&&(n.fov=o,n.aspect=a,n.far=l,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}wse.prototype.isSpotLightShadow=!0;class lL extends np{constructor(e,n,o=0,a=Math.PI/3,l=0,u=1){super(e,n);this.type="SpotLight",this.position.copy(Ur.DefaultUp),this.updateMatrix(),this.target=new Ur,this.distance=o,this.angle=a,this.penumbra=l,this.decay=u,this.shadow=new wse}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}lL.prototype.isSpotLight=!0;const xse=new Cn,HA=new te,j8=new te;class Sse extends U8{constructor(){super(new go(90,1,.5,500));this._frameExtents=new rt(4,2),this._viewportCount=6,this._viewports=[new Ui(2,1,1,1),new Ui(0,1,1,1),new Ui(3,1,1,1),new Ui(1,1,1,1),new Ui(3,0,1,1),new Ui(1,0,1,1)],this._cubeDirections=[new te(1,0,0),new te(-1,0,0),new te(0,0,1),new te(0,0,-1),new te(0,1,0),new te(0,-1,0)],this._cubeUps=[new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,0,1),new te(0,0,-1)]}updateMatrices(e,n=0){const o=this.camera,a=this.matrix,l=e.distance||o.far;l!==o.far&&(o.far=l,o.updateProjectionMatrix()),HA.setFromMatrixPosition(e.matrixWorld),o.position.copy(HA),j8.copy(o.position),j8.add(this._cubeDirections[n]),o.up.copy(this._cubeUps[n]),o.lookAt(j8),o.updateMatrixWorld(),a.makeTranslation(-HA.x,-HA.y,-HA.z),xse.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xse)}}Sse.prototype.isPointLightShadow=!0;class uL extends np{constructor(e,n,o=0,a=1){super(e,n);this.type="PointLight",this.distance=o,this.decay=a,this.shadow=new Sse}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}uL.prototype.isPointLight=!0;class Ese extends U8{constructor(){super(new mh(-5,5,5,-5,.5,500))}}Ese.prototype.isDirectionalLightShadow=!0;class cL extends np{constructor(e,n){super(e,n);this.type="DirectionalLight",this.position.copy(Ur.DefaultUp),this.updateMatrix(),this.target=new Ur,this.shadow=new Ese}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}cL.prototype.isDirectionalLight=!0;class G8 extends np{constructor(e,n){super(e,n);this.type="AmbientLight"}}G8.prototype.isAmbientLight=!0;class W8 extends np{constructor(e,n,o=10,a=10){super(e,n);this.type="RectAreaLight",this.width=o,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}W8.prototype.isRectAreaLight=!0;class H8{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new te)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const o=e.x,a=e.y,l=e.z,u=this.coefficients;return n.copy(u[0]).multiplyScalar(.282095),n.addScaledVector(u[1],.488603*a),n.addScaledVector(u[2],.488603*l),n.addScaledVector(u[3],.488603*o),n.addScaledVector(u[4],1.092548*(o*a)),n.addScaledVector(u[5],1.092548*(a*l)),n.addScaledVector(u[6],.315392*(3*l*l-1)),n.addScaledVector(u[7],1.092548*(o*l)),n.addScaledVector(u[8],.546274*(o*o-a*a)),n}getIrradianceAt(e,n){const o=e.x,a=e.y,l=e.z,u=this.coefficients;return n.copy(u[0]).multiplyScalar(.886227),n.addScaledVector(u[1],2*.511664*a),n.addScaledVector(u[2],2*.511664*l),n.addScaledVector(u[3],2*.511664*o),n.addScaledVector(u[4],2*.429043*o*a),n.addScaledVector(u[5],2*.429043*a*l),n.addScaledVector(u[6],.743125*l*l-.247708),n.addScaledVector(u[7],2*.429043*o*l),n.addScaledVector(u[8],.429043*(o*o-a*a)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let o=0;o<9;o++)this.coefficients[o].addScaledVector(e.coefficients[o],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let o=0;o<9;o++)this.coefficients[o].lerp(e.coefficients[o],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const o=this.coefficients;for(let a=0;a<9;a++)o[a].fromArray(e,n+a*3);return this}toArray(e=[],n=0){const o=this.coefficients;for(let a=0;a<9;a++)o[a].toArray(e,n+a*3);return e}static getBasisAt(e,n){const o=e.x,a=e.y,l=e.z;n[0]=.282095,n[1]=.488603*a,n[2]=.488603*l,n[3]=.488603*o,n[4]=1.092548*o*a,n[5]=1.092548*a*l,n[6]=.315392*(3*l*l-1),n[7]=1.092548*o*l,n[8]=.546274*(o*o-a*a)}}H8.prototype.isSphericalHarmonics3=!0;class VA extends np{constructor(e=new H8,n=1){super(void 0,n);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}VA.prototype.isLightProbe=!0;class Cse extends rl{constructor(e){super(e);this.textures={}}load(e,n,o,a){const l=this,u=new lc(l.manager);u.setPath(l.path),u.setRequestHeader(l.requestHeader),u.setWithCredentials(l.withCredentials),u.load(e,function(_){try{n(l.parse(JSON.parse(_)))}catch(f){a?a(f):console.error(f),l.manager.itemError(e)}},o,a)}parse(e){const n=this.textures;function o(l){return n[l]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",l),n[l]}const a=new kBe[e.type];if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new Ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.format!==void 0&&(a.format=e.format),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==1&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const l in e.uniforms){const u=e.uniforms[l];switch(a.uniforms[l]={},u.type){case"t":a.uniforms[l].value=o(u.value);break;case"c":a.uniforms[l].value=new Ut().setHex(u.value);break;case"v2":a.uniforms[l].value=new rt().fromArray(u.value);break;case"v3":a.uniforms[l].value=new te().fromArray(u.value);break;case"v4":a.uniforms[l].value=new Ui().fromArray(u.value);break;case"m3":a.uniforms[l].value=new fs().fromArray(u.value);break;case"m4":a.uniforms[l].value=new Cn().fromArray(u.value);break;default:a.uniforms[l].value=u.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const l in e.extensions)a.extensions[l]=e.extensions[l];if(e.shading!==void 0&&(a.flatShading=e.shading===1),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=o(e.map)),e.matcap!==void 0&&(a.matcap=o(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=o(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=o(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=o(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let l=e.normalScale;Array.isArray(l)===!1&&(l=[l,l]),a.normalScale=new rt().fromArray(l)}return e.displacementMap!==void 0&&(a.displacementMap=o(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=o(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=o(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=o(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=o(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=o(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=o(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=o(e.envMap)),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=o(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=o(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=o(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=o(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=o(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=o(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new rt().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(a.transmissionMap=o(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=o(e.thicknessMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=o(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=o(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}}class lm{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let n="";for(let o=0,a=e.length;o<a;o++)n+=String.fromCharCode(e[o]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.substr(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class V8 extends Yn{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}V8.prototype.isInstancedBufferGeometry=!0;class Ase extends rl{constructor(e){super(e)}load(e,n,o,a){const l=this,u=new lc(l.manager);u.setPath(l.path),u.setRequestHeader(l.requestHeader),u.setWithCredentials(l.withCredentials),u.load(e,function(_){try{n(l.parse(JSON.parse(_)))}catch(f){a?a(f):console.error(f),l.manager.itemError(e)}},o,a)}parse(e){const n={},o={};function a(y,w){if(n[w]!==void 0)return n[w];const A=y.interleavedBuffers[w],S=l(y,A.buffer),C=ex(A.type,S),R=new pg(C,A.stride);return R.uuid=A.uuid,n[w]=R,R}function l(y,w){if(o[w]!==void 0)return o[w];const A=y.arrayBuffers[w],S=new Uint32Array(A).buffer;return o[w]=S,S}const u=e.isInstancedBufferGeometry?new V8:new Yn,_=e.data.index;if(_!==void 0){const y=ex(_.type,_.array);u.setIndex(new jr(y,1))}const f=e.data.attributes;for(const y in f){const w=f[y];let E;if(w.isInterleavedBufferAttribute){const A=a(e.data,w.data);E=new am(A,w.itemSize,w.offset,w.normalized)}else{const A=ex(w.type,w.array),S=w.isInstancedBufferAttribute?uk:jr;E=new S(A,w.itemSize,w.normalized)}w.name!==void 0&&(E.name=w.name),w.usage!==void 0&&E.setUsage(w.usage),w.updateRange!==void 0&&(E.updateRange.offset=w.updateRange.offset,E.updateRange.count=w.updateRange.count),u.setAttribute(y,E)}const h=e.data.morphAttributes;if(h)for(const y in h){const w=h[y],E=[];for(let A=0,S=w.length;A<S;A++){const C=w[A];let R;if(C.isInterleavedBufferAttribute){const P=a(e.data,C.data);R=new am(P,C.itemSize,C.offset,C.normalized)}else{const P=ex(C.type,C.array);R=new jr(P,C.itemSize,C.normalized)}C.name!==void 0&&(R.name=C.name),E.push(R)}u.morphAttributes[y]=E}e.data.morphTargetsRelative&&(u.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let y=0,w=m.length;y!==w;++y){const E=m[y];u.addGroup(E.start,E.count,E.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const y=new te;g.center!==void 0&&y.fromArray(g.center),u.boundingSphere=new Zd(y,g.radius)}return e.name&&(u.name=e.name),e.userData&&(u.userData=e.userData),u}}class SBe extends rl{constructor(e){super(e)}load(e,n,o,a){const l=this,u=this.path===""?lm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||u;const _=new lc(this.manager);_.setPath(this.path),_.setRequestHeader(this.requestHeader),_.setWithCredentials(this.withCredentials),_.load(e,function(f){let h=null;try{h=JSON.parse(f)}catch(m){a!==void 0&&a(m),console.error("THREE:ObjectLoader: Can't parse "+e+".",m.message);return}const d=h.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}l.parse(h,n)},o,a)}async loadAsync(e,n){const o=this,a=this.path===""?lm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new lc(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials);const u=await l.loadAsync(e,n),_=JSON.parse(u),f=_.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await o.parseAsync(_)}parse(e,n){const o=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),l=this.parseGeometries(e.geometries,a),u=this.parseImages(e.images,function(){n!==void 0&&n(h)}),_=this.parseTextures(e.textures,u),f=this.parseMaterials(e.materials,_),h=this.parseObject(e.object,l,f,_,o),d=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,d),n!==void 0){let m=!1;for(const g in u)if(u[g]instanceof HTMLImageElement){m=!0;break}m===!1&&n(h)}return h}async parseAsync(e){const n=this.parseAnimations(e.animations),o=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,o),l=await this.parseImagesAsync(e.images),u=this.parseTextures(e.textures,l),_=this.parseMaterials(e.materials,u),f=this.parseObject(e.object,a,_,u,n),h=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,h),f}parseShapes(e){const n={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const l=new $h().fromJSON(e[o]);n[l.uuid]=l}return n}parseSkeletons(e,n){const o={},a={};if(n.traverse(function(l){l.isBone&&(a[l.uuid]=l)}),e!==void 0)for(let l=0,u=e.length;l<u;l++){const _=new PA().fromJSON(e[l],a);o[_.uuid]=_}return o}parseGeometries(e,n){const o={};if(e!==void 0){const a=new Ase;for(let l=0,u=e.length;l<u;l++){let _;const f=e[l];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":_=a.parse(f);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:f.type in dse?_=dse[f.type].fromJSON(f,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}_.uuid=f.uuid,f.name!==void 0&&(_.name=f.name),_.isBufferGeometry===!0&&f.userData!==void 0&&(_.userData=f.userData),o[f.uuid]=_}}return o}parseMaterials(e,n){const o={},a={};if(e!==void 0){const l=new Cse;l.setTextures(n);for(let u=0,_=e.length;u<_;u++){const f=e[u];if(f.type==="MultiMaterial"){const h=[];for(let d=0;d<f.materials.length;d++){const m=f.materials[d];o[m.uuid]===void 0&&(o[m.uuid]=l.parse(m)),h.push(o[m.uuid])}a[f.uuid]=h}else o[f.uuid]===void 0&&(o[f.uuid]=l.parse(f)),a[f.uuid]=o[f.uuid]}}return a}parseAnimations(e){const n={};if(e!==void 0)for(let o=0;o<e.length;o++){const a=e[o],l=zx.parse(a);n[l.uuid]=l}return n}parseImages(e,n){const o=this,a={};let l;function u(f){return o.manager.itemStart(f),l.load(f,function(){o.manager.itemEnd(f)},void 0,function(){o.manager.itemError(f),o.manager.itemEnd(f)})}function _(f){if(typeof f=="string"){const h=f,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:o.resourcePath+h;return u(d)}else return f.data?{data:ex(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new F8(n);l=new WA(f),l.setCrossOrigin(this.crossOrigin);for(let h=0,d=e.length;h<d;h++){const m=e[h],g=m.url;if(Array.isArray(g)){a[m.uuid]=[];for(let y=0,w=g.length;y<w;y++){const E=g[y],A=_(E);A!==null&&(A instanceof HTMLImageElement?a[m.uuid].push(A):a[m.uuid].push(new lk(A.data,A.width,A.height)))}}else{const y=_(m.url);y!==null&&(a[m.uuid]=y)}}}return a}async parseImagesAsync(e){const n=this,o={};let a;async function l(u){if(typeof u=="string"){const _=u,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(_)?_:n.resourcePath+_;return await a.loadAsync(f)}else return u.data?{data:ex(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){a=new WA(this.manager),a.setCrossOrigin(this.crossOrigin);for(let u=0,_=e.length;u<_;u++){const f=e[u],h=f.url;if(Array.isArray(h)){o[f.uuid]=[];for(let d=0,m=h.length;d<m;d++){const g=h[d],y=await l(g);y!==null&&(y instanceof HTMLImageElement?o[f.uuid].push(y):o[f.uuid].push(new lk(y.data,y.width,y.height)))}}else{const d=await l(f.url);d!==null&&(o[f.uuid]=d)}}}return o}parseTextures(e,n){function o(l,u){return typeof l=="number"?l:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",l),u[l])}const a={};if(e!==void 0)for(let l=0,u=e.length;l<u;l++){const _=e[l];_.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',_.uuid),n[_.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",_.image);let f;const h=n[_.image];Array.isArray(h)?(f=new dx(h),h.length===6&&(f.needsUpdate=!0)):(h&&h.data?f=new lk(h.data,h.width,h.height):f=new Na(h),h&&(f.needsUpdate=!0)),f.uuid=_.uuid,_.name!==void 0&&(f.name=_.name),_.mapping!==void 0&&(f.mapping=o(_.mapping,EBe)),_.offset!==void 0&&f.offset.fromArray(_.offset),_.repeat!==void 0&&f.repeat.fromArray(_.repeat),_.center!==void 0&&f.center.fromArray(_.center),_.rotation!==void 0&&(f.rotation=_.rotation),_.wrap!==void 0&&(f.wrapS=o(_.wrap[0],Tse),f.wrapT=o(_.wrap[1],Tse)),_.format!==void 0&&(f.format=_.format),_.type!==void 0&&(f.type=_.type),_.encoding!==void 0&&(f.encoding=_.encoding),_.minFilter!==void 0&&(f.minFilter=o(_.minFilter,Ise)),_.magFilter!==void 0&&(f.magFilter=o(_.magFilter,Ise)),_.anisotropy!==void 0&&(f.anisotropy=_.anisotropy),_.flipY!==void 0&&(f.flipY=_.flipY),_.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=_.premultiplyAlpha),_.unpackAlignment!==void 0&&(f.unpackAlignment=_.unpackAlignment),_.userData!==void 0&&(f.userData=_.userData),a[_.uuid]=f}return a}parseObject(e,n,o,a,l){let u;function _(g){return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),n[g]}function f(g){if(g!==void 0){if(Array.isArray(g)){const y=[];for(let w=0,E=g.length;w<E;w++){const A=g[w];o[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),y.push(o[A])}return y}return o[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),o[g]}}function h(g){return a[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),a[g]}let d,m;switch(e.type){case"Scene":u=new AA,e.background!==void 0&&(Number.isInteger(e.background)?u.background=new Ut(e.background):u.background=h(e.background)),e.environment!==void 0&&(u.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?u.fog=new CA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(u.fog=new EA(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":u=new go(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(u.focus=e.focus),e.zoom!==void 0&&(u.zoom=e.zoom),e.filmGauge!==void 0&&(u.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(u.filmOffset=e.filmOffset),e.view!==void 0&&(u.view=Object.assign({},e.view));break;case"OrthographicCamera":u=new mh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(u.zoom=e.zoom),e.view!==void 0&&(u.view=Object.assign({},e.view));break;case"AmbientLight":u=new G8(e.color,e.intensity);break;case"DirectionalLight":u=new cL(e.color,e.intensity);break;case"PointLight":u=new uL(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":u=new W8(e.color,e.intensity,e.width,e.height);break;case"SpotLight":u=new lL(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":u=new z8(e.color,e.groundColor,e.intensity);break;case"LightProbe":u=new VA().fromJSON(e);break;case"SkinnedMesh":d=_(e.geometry),m=f(e.material),u=new NA(d,m),e.bindMode!==void 0&&(u.bindMode=e.bindMode),e.bindMatrix!==void 0&&u.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(u.skeleton=e.skeleton);break;case"Mesh":d=_(e.geometry),m=f(e.material),u=new Pa(d,m);break;case"InstancedMesh":d=_(e.geometry),m=f(e.material);const g=e.count,y=e.instanceMatrix,w=e.instanceColor;u=new c8(d,m,g),u.instanceMatrix=new uk(new Float32Array(y.array),16),w!==void 0&&(u.instanceColor=new uk(new Float32Array(w.array),w.itemSize));break;case"LOD":u=new jae;break;case"Line":u=new yh(_(e.geometry),f(e.material));break;case"LineLoop":u=new KF(_(e.geometry),f(e.material));break;case"LineSegments":u=new wu(_(e.geometry),f(e.material));break;case"PointCloud":case"Points":u=new Ex(_(e.geometry),f(e.material));break;case"Sprite":u=new GF(f(e.material));break;case"Group":u=new gh;break;case"Bone":u=new RA;break;default:u=new Ur}if(u.uuid=e.uuid,e.name!==void 0&&(u.name=e.name),e.matrix!==void 0?(u.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(u.matrixAutoUpdate=e.matrixAutoUpdate),u.matrixAutoUpdate&&u.matrix.decompose(u.position,u.quaternion,u.scale)):(e.position!==void 0&&u.position.fromArray(e.position),e.rotation!==void 0&&u.rotation.fromArray(e.rotation),e.quaternion!==void 0&&u.quaternion.fromArray(e.quaternion),e.scale!==void 0&&u.scale.fromArray(e.scale)),e.castShadow!==void 0&&(u.castShadow=e.castShadow),e.receiveShadow!==void 0&&(u.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(u.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(u.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(u.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&u.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(u.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(u.visible=e.visible),e.frustumCulled!==void 0&&(u.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(u.renderOrder=e.renderOrder),e.userData!==void 0&&(u.userData=e.userData),e.layers!==void 0&&(u.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let y=0;y<g.length;y++)u.add(this.parseObject(g[y],n,o,a,l))}if(e.animations!==void 0){const g=e.animations;for(let y=0;y<g.length;y++){const w=g[y];u.animations.push(l[w])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(u.autoUpdate=e.autoUpdate);const g=e.levels;for(let y=0;y<g.length;y++){const w=g[y],E=u.getObjectByProperty("uuid",w.object);E!==void 0&&u.addLevel(E,w.distance)}}return u}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(o){if(o.isSkinnedMesh===!0&&o.skeleton!==void 0){const a=n[o.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",o.skeleton):o.bind(a,o.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const EBe={UVMapping:rF,CubeReflectionMapping:H0,CubeRefractionMapping:V0,EquirectangularReflectionMapping:uA,EquirectangularRefractionMapping:cA,CubeUVReflectionMapping:Kw,CubeUVRefractionMapping:_A},Tse={RepeatWrapping:eg,ClampToEdgeWrapping:Ms,MirroredRepeatWrapping:Jw},Ise={NearestFilter:ra,NearestMipmapNearestFilter:fA,NearestMipmapLinearFilter:pA,LinearFilter:Ro,LinearMipmapNearestFilter:iF,LinearMipmapLinearFilter:Xd};class q8 extends rl{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,o,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,u=vk.get(e);if(u!==void 0)return l.manager.itemStart(e),setTimeout(function(){n&&n(u),l.manager.itemEnd(e)},0),u;const _={};_.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",_.headers=this.requestHeader,fetch(e,_).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(l.options,{colorSpaceConversion:"none"}))}).then(function(f){vk.add(e,f),n&&n(f),l.manager.itemEnd(e)}).catch(function(f){a&&a(f),l.manager.itemError(e),l.manager.itemEnd(e)}),l.manager.itemStart(e)}}q8.prototype.isImageBitmapLoader=!0;let _L;const K8={getContext:function(){return _L===void 0&&(_L=new(window.AudioContext||window.webkitAudioContext)),_L},setContext:function(r){_L=r}};class Mse extends rl{constructor(e){super(e)}load(e,n,o,a){const l=this,u=new lc(this.manager);u.setResponseType("arraybuffer"),u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(_){try{const f=_.slice(0);K8.getContext().decodeAudioData(f,function(d){n(d)})}catch(f){a?a(f):console.error(f),l.manager.itemError(e)}},o,a)}}class Nse extends VA{constructor(e,n,o=1){super(void 0,o);const a=new Ut().set(e),l=new Ut().set(n),u=new te(a.r,a.g,a.b),_=new te(l.r,l.g,l.b),f=Math.sqrt(Math.PI),h=f*Math.sqrt(.75);this.sh.coefficients[0].copy(u).add(_).multiplyScalar(f),this.sh.coefficients[1].copy(u).sub(_).multiplyScalar(h)}}Nse.prototype.isHemisphereLightProbe=!0;class Rse extends VA{constructor(e,n=1){super(void 0,n);const o=new Ut().set(e);this.sh.coefficients[0].set(o.r,o.g,o.b).multiplyScalar(2*Math.sqrt(Math.PI))}}Rse.prototype.isAmbientLightProbe=!0;const Pse=new Cn,Bse=new Cn,gk=new Cn;class CBe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new go,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new go,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,gk.copy(e.projectionMatrix);const a=n.eyeSep/2,l=a*n.near/n.focus,u=n.near*Math.tan(Q0*n.fov*.5)/n.zoom;let _,f;Bse.elements[12]=-a,Pse.elements[12]=a,_=-u*n.aspect+l,f=u*n.aspect+l,gk.elements[0]=2*n.near/(f-_),gk.elements[8]=(f+_)/(f-_),this.cameraL.projectionMatrix.copy(gk),_=-u*n.aspect-l,f=u*n.aspect-l,gk.elements[0]=2*n.near/(f-_),gk.elements[8]=(f+_)/(f-_),this.cameraR.projectionMatrix.copy(gk)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Bse),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Pse)}}class J8{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Fse(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=Fse();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function Fse(){return(typeof performance=="undefined"?Date:performance).now()}const yk=new te,Lse=new ps,ABe=new te,kk=new te;class TBe extends Ur{constructor(){super();this.type="AudioListener",this.context=K8.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new J8}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,o=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(yk,Lse,ABe),kk.set(0,0,-1).applyQuaternion(Lse),n.positionX){const a=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(yk.x,a),n.positionY.linearRampToValueAtTime(yk.y,a),n.positionZ.linearRampToValueAtTime(yk.z,a),n.forwardX.linearRampToValueAtTime(kk.x,a),n.forwardY.linearRampToValueAtTime(kk.y,a),n.forwardZ.linearRampToValueAtTime(kk.z,a),n.upX.linearRampToValueAtTime(o.x,a),n.upY.linearRampToValueAtTime(o.y,a),n.upZ.linearRampToValueAtTime(o.z,a)}else n.setPosition(yk.x,yk.y,yk.z),n.setOrientation(kk.x,kk.y,kk.z,o.x,o.y,o.z)}}class X8 extends Ur{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const $k=new te,Dse=new ps,IBe=new te,bk=new te;class MBe extends X8{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,o){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=o,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose($k,Dse,IBe),bk.set(0,0,1).applyQuaternion(Dse);const n=this.panner;if(n.positionX){const o=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime($k.x,o),n.positionY.linearRampToValueAtTime($k.y,o),n.positionZ.linearRampToValueAtTime($k.z,o),n.orientationX.linearRampToValueAtTime(bk.x,o),n.orientationY.linearRampToValueAtTime(bk.y,o),n.orientationZ.linearRampToValueAtTime(bk.z,o)}else n.setPosition($k.x,$k.y,$k.z),n.setOrientation(bk.x,bk.y,bk.z)}}class Ose{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let o=0;o<n.length;o++)e+=n[o];return e/n.length}}class zse{constructor(e,n,o){this.binding=e,this.valueSize=o;let a,l,u;switch(n){case"quaternion":a=this._slerp,l=this._slerpAdditive,u=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(o*6),this._workIndex=5;break;case"string":case"bool":a=this._select,l=this._select,u=this._setAdditiveIdentityOther,this.buffer=new Array(o*5);break;default:a=this._lerp,l=this._lerpAdditive,u=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(o*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=l,this._setIdentity=u,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const o=this.buffer,a=this.valueSize,l=e*a+a;let u=this.cumulativeWeight;if(u===0){for(let _=0;_!==a;++_)o[l+_]=o[_];u=n}else{u+=n;const _=n/u;this._mixBufferRegion(o,l,0,_,a)}this.cumulativeWeight=u}accumulateAdditive(e){const n=this.buffer,o=this.valueSize,a=o*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,a,0,e,o),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,o=this.buffer,a=e*n+n,l=this.cumulativeWeight,u=this.cumulativeWeightAdditive,_=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,l<1){const f=n*this._origIndex;this._mixBufferRegion(o,a,f,1-l,n)}u>0&&this._mixBufferRegionAdditive(o,a,this._addIndex*n,1,n);for(let f=n,h=n+n;f!==h;++f)if(o[f]!==o[f+n]){_.setValue(o,a);break}}saveOriginalState(){const e=this.binding,n=this.buffer,o=this.valueSize,a=o*this._origIndex;e.getValue(n,a);for(let l=o,u=a;l!==u;++l)n[l]=n[a+l%o];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let o=e;o<n;o++)this.buffer[o]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let o=0;o<this.valueSize;o++)this.buffer[n+o]=this.buffer[e+o]}_select(e,n,o,a,l){if(a>=.5)for(let u=0;u!==l;++u)e[n+u]=e[o+u]}_slerp(e,n,o,a){ps.slerpFlat(e,n,e,n,e,o,a)}_slerpAdditive(e,n,o,a,l){const u=this._workIndex*l;ps.multiplyQuaternionsFlat(e,u,e,n,e,o),ps.slerpFlat(e,n,e,n,e,u,a)}_lerp(e,n,o,a,l){const u=1-a;for(let _=0;_!==l;++_){const f=n+_;e[f]=e[f]*u+e[o+_]*a}}_lerpAdditive(e,n,o,a,l){for(let u=0;u!==l;++u){const _=n+u;e[_]=e[_]+e[o+u]*a}}}const Y8="\\[\\]\\.:\\/",NBe=new RegExp("["+Y8+"]","g"),Q8="[^"+Y8+"]",RBe="[^"+Y8.replace("\\.","")+"]",PBe=/((?:WC+[\/:])*)/.source.replace("WC",Q8),BBe=/(WCOD+)?/.source.replace("WCOD",RBe),FBe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Q8),LBe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Q8),DBe=new RegExp("^"+PBe+BBe+FBe+LBe+"$"),OBe=["material","materials","bones"];class zBe{constructor(e,n,o){const a=o||si.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,a)}getValue(e,n){this.bind();const o=this._targetGroup.nCachedObjects_,a=this._bindings[o];a!==void 0&&a.getValue(e,n)}setValue(e,n){const o=this._bindings;for(let a=this._targetGroup.nCachedObjects_,l=o.length;a!==l;++a)o[a].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,o=e.length;n!==o;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,o=e.length;n!==o;++n)e[n].unbind()}}class si{constructor(e,n,o){this.path=n,this.parsedPath=o||si.parseTrackName(n),this.node=si.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,o){return e&&e.isAnimationObjectGroup?new si.Composite(e,n,o):new si(e,n,o)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(NBe,"")}static parseTrackName(e){const n=DBe.exec(e);if(!n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const o={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},a=o.nodeName&&o.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const l=o.nodeName.substring(a+1);OBe.indexOf(l)!==-1&&(o.nodeName=o.nodeName.substring(0,a),o.objectName=l)}if(o.propertyName===null||o.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return o}static findNode(e,n){if(!n||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const o=e.skeleton.getBoneByName(n);if(o!==void 0)return o}if(e.children){const o=function(l){for(let u=0;u<l.length;u++){const _=l[u];if(_.name===n||_.uuid===n)return _;const f=o(_.children);if(f)return f}return null},a=o(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const o=this.resolvedProperty;for(let a=0,l=o.length;a!==l;++a)e[n++]=o[a]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const o=this.resolvedProperty;for(let a=0,l=o.length;a!==l;++a)o[a]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const o=this.resolvedProperty;for(let a=0,l=o.length;a!==l;++a)o[a]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const o=this.resolvedProperty;for(let a=0,l=o.length;a!==l;++a)o[a]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,o=n.objectName,a=n.propertyName;let l=n.propertyIndex;if(e||(e=si.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(o){let h=n.objectIndex;switch(o){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===h){h=d;break}break;default:if(e[o]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[o]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const u=e[a];if(u===void 0){const h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+a+" but it wasn't found.",e);return}let _=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?_=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(_=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(l!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[l]!==void 0&&(l=e.morphTargetDictionary[l])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}f=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=l}else u.fromArray!==void 0&&u.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(f=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=a;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][_]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}si.Composite=zBe;si.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};si.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};si.prototype.GetterByBindingType=[si.prototype._getValue_direct,si.prototype._getValue_array,si.prototype._getValue_arrayElement,si.prototype._getValue_toArray];si.prototype.SetterByBindingTypeAndVersioning=[[si.prototype._setValue_direct,si.prototype._setValue_direct_setNeedsUpdate,si.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[si.prototype._setValue_array,si.prototype._setValue_array_setNeedsUpdate,si.prototype._setValue_array_setMatrixWorldNeedsUpdate],[si.prototype._setValue_arrayElement,si.prototype._setValue_arrayElement_setNeedsUpdate,si.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[si.prototype._setValue_fromArray,si.prototype._setValue_fromArray_setNeedsUpdate,si.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Use{constructor(){this.uuid=Xc(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let o=0,a=arguments.length;o!==a;++o)e[arguments[o].uuid]=o;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,o=this._paths,a=this._parsedPaths,l=this._bindings,u=l.length;let _,f=e.length,h=this.nCachedObjects_;for(let d=0,m=arguments.length;d!==m;++d){const g=arguments[d],y=g.uuid;let w=n[y];if(w===void 0){w=f++,n[y]=w,e.push(g);for(let E=0,A=u;E!==A;++E)l[E].push(new si(g,o[E],a[E]))}else if(w<h){_=e[w];const E=--h,A=e[E];n[A.uuid]=w,e[w]=A,n[y]=E,e[E]=g;for(let S=0,C=u;S!==C;++S){const R=l[S],P=R[E];let D=R[w];R[w]=P,D===void 0&&(D=new si(g,o[S],a[S])),R[E]=D}}else e[w]!==_&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,n=this._indicesByUUID,o=this._bindings,a=o.length;let l=this.nCachedObjects_;for(let u=0,_=arguments.length;u!==_;++u){const f=arguments[u],h=f.uuid,d=n[h];if(d!==void 0&&d>=l){const m=l++,g=e[m];n[g.uuid]=d,e[d]=g,n[h]=m,e[m]=f;for(let y=0,w=a;y!==w;++y){const E=o[y],A=E[m],S=E[d];E[d]=A,E[m]=S}}}this.nCachedObjects_=l}uncache(){const e=this._objects,n=this._indicesByUUID,o=this._bindings,a=o.length;let l=this.nCachedObjects_,u=e.length;for(let _=0,f=arguments.length;_!==f;++_){const h=arguments[_],d=h.uuid,m=n[d];if(m!==void 0)if(delete n[d],m<l){const g=--l,y=e[g],w=--u,E=e[w];n[y.uuid]=m,e[m]=y,n[E.uuid]=g,e[g]=E,e.pop();for(let A=0,S=a;A!==S;++A){const C=o[A],R=C[g],P=C[w];C[m]=R,C[g]=P,C.pop()}}else{const g=--u,y=e[g];g>0&&(n[y.uuid]=m),e[m]=y,e.pop();for(let w=0,E=a;w!==E;++w){const A=o[w];A[m]=A[g],A.pop()}}}this.nCachedObjects_=l}subscribe_(e,n){const o=this._bindingsIndicesByPath;let a=o[e];const l=this._bindings;if(a!==void 0)return l[a];const u=this._paths,_=this._parsedPaths,f=this._objects,h=f.length,d=this.nCachedObjects_,m=new Array(h);a=l.length,o[e]=a,u.push(e),_.push(n),l.push(m);for(let g=d,y=f.length;g!==y;++g){const w=f[g];m[g]=new si(w,e,n)}return m}unsubscribe_(e){const n=this._bindingsIndicesByPath,o=n[e];if(o!==void 0){const a=this._paths,l=this._parsedPaths,u=this._bindings,_=u.length-1,f=u[_],h=e[_];n[h]=o,u[o]=f,u.pop(),l[o]=l[_],l.pop(),a[o]=a[_],a.pop()}}}Use.prototype.isAnimationObjectGroup=!0;class UBe{constructor(e,n,o=null,a=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=o,this.blendMode=a;const l=n.tracks,u=l.length,_=new Array(u),f={endingStart:X0,endingEnd:X0};for(let h=0;h!==u;++h){const d=l[h].createInterpolant(null);_[h]=d,d.settings=f}this._interpolantSettings=f,this._interpolants=_,this._propertyBindings=new Array(u),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=woe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,o){if(e.fadeOut(n),this.fadeIn(n),o){const a=this._clip.duration,l=e._clip.duration,u=l/a,_=a/l;e.warp(1,u,n),this.warp(_,1,n)}return this}crossFadeTo(e,n,o){return e.crossFadeFrom(this,n,o)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,o){const a=this._mixer,l=a.time,u=this.timeScale;let _=this._timeScaleInterpolant;_===null&&(_=a._lendControlInterpolant(),this._timeScaleInterpolant=_);const f=_.parameterPositions,h=_.sampleValues;return f[0]=l,f[1]=l+o,h[0]=e/u,h[1]=n/u,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,o,a){if(!this.enabled){this._updateWeight(e);return}const l=this._startTime;if(l!==null){const f=(e-l)*o;if(f<0||o===0)return;this._startTime=null,n=o*f}n*=this._updateTimeScale(e);const u=this._updateTime(n),_=this._updateWeight(e);if(_>0){const f=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case $G:for(let d=0,m=f.length;d!==m;++d)f[d].evaluate(u),h[d].accumulateAdditive(_);break;case aF:default:for(let d=0,m=f.length;d!==m;++d)f[d].evaluate(u),h[d].accumulate(a,_)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const o=this._weightInterpolant;if(o!==null){const a=o.evaluate(e)[0];n*=a,e>o.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const o=this._timeScaleInterpolant;o!==null&&(n*=o.evaluate(e)[0],e>o.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,o=this.loop;let a=this.time+e,l=this._loopCount;const u=o===xoe;if(e===0)return l===-1?a:u&&(l&1)==1?n-a:a;if(o===boe){l===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=n)a=n;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(l===-1&&(e>=0?(l=0,this._setEndings(!0,this.repetitions===0,u)):this._setEndings(this.repetitions===0,!0,u)),a>=n||a<0){const _=Math.floor(a/n);a-=n*_,l+=Math.abs(_);const f=this.repetitions-l;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?n:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const h=e<0;this._setEndings(h,!h,u)}else this._setEndings(!1,!1,u);this._loopCount=l,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:_})}}else this.time=a;if(u&&(l&1)==1)return n-a}return a}_setEndings(e,n,o){const a=this._interpolantSettings;o?(a.endingStart=Y0,a.endingEnd=Y0):(e?a.endingStart=this.zeroSlopeAtStart?Y0:X0:a.endingStart=dA,n?a.endingEnd=this.zeroSlopeAtEnd?Y0:X0:a.endingEnd=dA)}_scheduleFading(e,n,o){const a=this._mixer,l=a.time;let u=this._weightInterpolant;u===null&&(u=a._lendControlInterpolant(),this._weightInterpolant=u);const _=u.parameterPositions,f=u.sampleValues;return _[0]=l,f[0]=n,_[1]=l+e,f[1]=o,this}}class jse extends Yd{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const o=e._localRoot||this._root,a=e._clip.tracks,l=a.length,u=e._propertyBindings,_=e._interpolants,f=o.uuid,h=this._bindingsByRootAndName;let d=h[f];d===void 0&&(d={},h[f]=d);for(let m=0;m!==l;++m){const g=a[m],y=g.name;let w=d[y];if(w!==void 0)u[m]=w;else{if(w=u[m],w!==void 0){w._cacheIndex===null&&(++w.referenceCount,this._addInactiveBinding(w,f,y));continue}const E=n&&n._propertyBindings[m].binding.parsedPath;w=new zse(si.create(o,y,E),g.ValueTypeName,g.getValueSize()),++w.referenceCount,this._addInactiveBinding(w,f,y),u[m]=w}_[m].resultBuffer=w.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const o=(e._localRoot||this._root).uuid,a=e._clip.uuid,l=this._actionsByClip[a];this._bindAction(e,l&&l.knownActions[0]),this._addInactiveAction(e,a,o)}const n=e._propertyBindings;for(let o=0,a=n.length;o!==a;++o){const l=n[o];l.useCount++==0&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let o=0,a=n.length;o!==a;++o){const l=n[o];--l.useCount==0&&(l.restoreOriginalState(),this._takeBackBinding(l))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,o){const a=this._actions,l=this._actionsByClip;let u=l[n];if(u===void 0)u={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,l[n]=u;else{const _=u.knownActions;e._byClipCacheIndex=_.length,_.push(e)}e._cacheIndex=a.length,a.push(e),u.actionByRoot[o]=e}_removeInactiveAction(e){const n=this._actions,o=n[n.length-1],a=e._cacheIndex;o._cacheIndex=a,n[a]=o,n.pop(),e._cacheIndex=null;const l=e._clip.uuid,u=this._actionsByClip,_=u[l],f=_.knownActions,h=f[f.length-1],d=e._byClipCacheIndex;h._byClipCacheIndex=d,f[d]=h,f.pop(),e._byClipCacheIndex=null;const m=_.actionByRoot,g=(e._localRoot||this._root).uuid;delete m[g],f.length===0&&delete u[l],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let o=0,a=n.length;o!==a;++o){const l=n[o];--l.referenceCount==0&&this._removeInactiveBinding(l)}}_lendAction(e){const n=this._actions,o=e._cacheIndex,a=this._nActiveActions++,l=n[a];e._cacheIndex=a,n[a]=e,l._cacheIndex=o,n[o]=l}_takeBackAction(e){const n=this._actions,o=e._cacheIndex,a=--this._nActiveActions,l=n[a];e._cacheIndex=a,n[a]=e,l._cacheIndex=o,n[o]=l}_addInactiveBinding(e,n,o){const a=this._bindingsByRootAndName,l=this._bindings;let u=a[n];u===void 0&&(u={},a[n]=u),u[o]=e,e._cacheIndex=l.length,l.push(e)}_removeInactiveBinding(e){const n=this._bindings,o=e.binding,a=o.rootNode.uuid,l=o.path,u=this._bindingsByRootAndName,_=u[a],f=n[n.length-1],h=e._cacheIndex;f._cacheIndex=h,n[h]=f,n.pop(),delete _[l],Object.keys(_).length===0&&delete u[a]}_lendBinding(e){const n=this._bindings,o=e._cacheIndex,a=this._nActiveBindings++,l=n[a];e._cacheIndex=a,n[a]=e,l._cacheIndex=o,n[o]=l}_takeBackBinding(e){const n=this._bindings,o=e._cacheIndex,a=--this._nActiveBindings,l=n[a];e._cacheIndex=a,n[a]=e,l._cacheIndex=o,n[o]=l}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let o=e[n];return o===void 0&&(o=new P8(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),o.__cacheIndex=n,e[n]=o),o}_takeBackControlInterpolant(e){const n=this._controlInterpolants,o=e.__cacheIndex,a=--this._nActiveControlInterpolants,l=n[a];e.__cacheIndex=a,n[a]=e,l.__cacheIndex=o,n[o]=l}clipAction(e,n,o){const a=n||this._root,l=a.uuid;let u=typeof e=="string"?zx.findByName(a,e):e;const _=u!==null?u.uuid:e,f=this._actionsByClip[_];let h=null;if(o===void 0&&(u!==null?o=u.blendMode:o=aF),f!==void 0){const m=f.actionByRoot[l];if(m!==void 0&&m.blendMode===o)return m;h=f.knownActions[0],u===null&&(u=h._clip)}if(u===null)return null;const d=new UBe(this,u,n,o);return this._bindAction(d,h),this._addInactiveAction(d,_,l),d}existingAction(e,n){const o=n||this._root,a=o.uuid,l=typeof e=="string"?zx.findByName(o,e):e,u=l?l.uuid:e,_=this._actionsByClip[u];return _!==void 0&&_.actionByRoot[a]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let o=n-1;o>=0;--o)e[o].stop();return this}update(e){e*=this.timeScale;const n=this._actions,o=this._nActiveActions,a=this.time+=e,l=Math.sign(e),u=this._accuIndex^=1;for(let h=0;h!==o;++h)n[h]._update(a,e,l,u);const _=this._bindings,f=this._nActiveBindings;for(let h=0;h!==f;++h)_[h].apply(u);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,o=e.uuid,a=this._actionsByClip,l=a[o];if(l!==void 0){const u=l.knownActions;for(let _=0,f=u.length;_!==f;++_){const h=u[_];this._deactivateAction(h);const d=h._cacheIndex,m=n[n.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,m._cacheIndex=d,n[d]=m,n.pop(),this._removeInactiveBindingsForAction(h)}delete a[o]}}uncacheRoot(e){const n=e.uuid,o=this._actionsByClip;for(const u in o){const _=o[u].actionByRoot,f=_[n];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const a=this._bindingsByRootAndName,l=a[n];if(l!==void 0)for(const u in l){const _=l[u];_.restoreOriginalState(),this._removeInactiveBinding(_)}}uncacheAction(e,n){const o=this.existingAction(e,n);o!==null&&(this._deactivateAction(o),this._removeInactiveAction(o))}}jse.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class fL{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new fL(this.value.clone===void 0?this.value:this.value.clone())}}class Gse extends pg{constructor(e,n,o=1){super(e,n);this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}Gse.prototype.isInstancedInterleavedBuffer=!0;class Wse{constructor(e,n,o,a,l){this.buffer=e,this.type=n,this.itemSize=o,this.elementSize=a,this.count=l,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}Wse.prototype.isGLBufferAttribute=!0;class Hse{constructor(e,n,o=0,a=1/0){this.ray=new ag(e,n),this.near=o,this.far=a,this.camera=null,this.layers=new ax,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n&&n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n&&n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,o=[]){return Z8(e,this,o,n),o.sort(Vse),o}intersectObjects(e,n=!0,o=[]){for(let a=0,l=e.length;a<l;a++)Z8(e[a],this,o,n);return o.sort(Vse),o}}function Vse(r,e){return r.distance-e.distance}function Z8(r,e,n,o){if(r.layers.test(e.layers)&&r.raycast(e,n),o===!0){const a=r.children;for(let l=0,u=a.length;l<u;l++)Z8(a[l],e,n,!0)}}class eW{constructor(e=1,n=0,o=0){return this.radius=e,this.phi=n,this.theta=o,this}set(e,n,o){return this.radius=e,this.phi=n,this.theta=o,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,o){return this.radius=Math.sqrt(e*e+n*n+o*o),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,o),this.phi=Math.acos(nl(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class jBe{constructor(e=1,n=0,o=0){return this.radius=e,this.theta=n,this.y=o,this}set(e,n,o){return this.radius=e,this.theta=n,this.y=o,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,o){return this.radius=Math.sqrt(e*e+o*o),this.theta=Math.atan2(e,o),this.y=n,this}clone(){return new this.constructor().copy(this)}}const qse=new rt;class Ux{constructor(e=new rt(1/0,1/0),n=new rt(-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const o=qse.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return qse.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Ux.prototype.isBox2=!0;const Kse=new te,pL=new te;class Jse{constructor(e=new te,n=new te){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Kse.subVectors(e,this.start),pL.subVectors(this.end,this.start);const o=pL.dot(pL);let l=pL.dot(Kse)/o;return n&&(l=nl(l,0,1)),l}closestPointToPoint(e,n,o){const a=this.closestPointToPointParameter(e,n);return this.delta(o).multiplyScalar(a).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Xse=new te;class GBe extends Ur{constructor(e,n){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const o=new Yn,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let u=0,_=1,f=32;u<f;u++,_++){const h=u/f*Math.PI*2,d=_/f*Math.PI*2;a.push(Math.cos(h),Math.sin(h),1,Math.cos(d),Math.sin(d),1)}o.setAttribute("position",new In(a,3));const l=new hs({fog:!1,toneMapped:!1});this.cone=new wu(o,l),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Xse.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Xse),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const gg=new te,hL=new Cn,tW=new Cn;class Yse extends wu{constructor(e){const n=Qse(e),o=new Yn,a=[],l=[],u=new Ut(0,0,1),_=new Ut(0,1,0);for(let h=0;h<n.length;h++){const d=n[h];d.parent&&d.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),l.push(u.r,u.g,u.b),l.push(_.r,_.g,_.b))}o.setAttribute("position",new In(a,3)),o.setAttribute("color",new In(l,3));const f=new hs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(o,f);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,o=this.geometry,a=o.getAttribute("position");tW.copy(this.root.matrixWorld).invert();for(let l=0,u=0;l<n.length;l++){const _=n[l];_.parent&&_.parent.isBone&&(hL.multiplyMatrices(tW,_.matrixWorld),gg.setFromMatrixPosition(hL),a.setXYZ(u,gg.x,gg.y,gg.z),hL.multiplyMatrices(tW,_.parent.matrixWorld),gg.setFromMatrixPosition(hL),a.setXYZ(u+1,gg.x,gg.y,gg.z),u+=2)}o.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function Qse(r){const e=[];r&&r.isBone&&e.push(r);for(let n=0;n<r.children.length;n++)e.push.apply(e,Qse(r.children[n]));return e}class WBe extends Pa{constructor(e,n,o){const a=new fk(n,4,2),l=new sc({wireframe:!0,fog:!1,toneMapped:!1});super(a,l);this.light=e,this.light.updateMatrixWorld(),this.color=o,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const HBe=new te,Zse=new Ut,ele=new Ut;class VBe extends Ur{constructor(e,n,o){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o;const a=new ck(n);a.rotateY(Math.PI*.5),this.material=new sc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const l=a.getAttribute("position"),u=new Float32Array(l.count*3);a.setAttribute("color",new jr(u,3)),this.add(new Pa(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Zse.copy(this.light.color),ele.copy(this.light.groundColor);for(let o=0,a=n.count;o<a;o++){const l=o<a/2?Zse:ele;n.setXYZ(o,l.r,l.g,l.b)}n.needsUpdate=!0}e.lookAt(HBe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class tle extends wu{constructor(e=10,n=10,o=4473924,a=8947848){o=new Ut(o),a=new Ut(a);const l=n/2,u=e/n,_=e/2,f=[],h=[];for(let g=0,y=0,w=-_;g<=n;g++,w+=u){f.push(-_,0,w,_,0,w),f.push(w,0,-_,w,0,_);const E=g===l?o:a;E.toArray(h,y),y+=3,E.toArray(h,y),y+=3,E.toArray(h,y),y+=3,E.toArray(h,y),y+=3}const d=new Yn;d.setAttribute("position",new In(f,3)),d.setAttribute("color",new In(h,3));const m=new hs({vertexColors:!0,toneMapped:!1});super(d,m);this.type="GridHelper"}}class qBe extends wu{constructor(e=10,n=16,o=8,a=64,l=4473924,u=8947848){l=new Ut(l),u=new Ut(u);const _=[],f=[];for(let m=0;m<=n;m++){const g=m/n*(Math.PI*2),y=Math.sin(g)*e,w=Math.cos(g)*e;_.push(0,0,0),_.push(y,0,w);const E=m&1?l:u;f.push(E.r,E.g,E.b),f.push(E.r,E.g,E.b)}for(let m=0;m<=o;m++){const g=m&1?l:u,y=e-e/o*m;for(let w=0;w<a;w++){let E=w/a*(Math.PI*2),A=Math.sin(E)*y,S=Math.cos(E)*y;_.push(A,0,S),f.push(g.r,g.g,g.b),E=(w+1)/a*(Math.PI*2),A=Math.sin(E)*y,S=Math.cos(E)*y,_.push(A,0,S),f.push(g.r,g.g,g.b)}}const h=new Yn;h.setAttribute("position",new In(_,3)),h.setAttribute("color",new In(f,3));const d=new hs({vertexColors:!0,toneMapped:!1});super(h,d);this.type="PolarGridHelper"}}const nle=new te,dL=new te,rle=new te;class KBe extends Ur{constructor(e,n,o){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,n===void 0&&(n=1);let a=new Yn;a.setAttribute("position",new In([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const l=new hs({fog:!1,toneMapped:!1});this.lightPlane=new yh(a,l),this.add(this.lightPlane),a=new Yn,a.setAttribute("position",new In([0,0,0,0,0,1],3)),this.targetLine=new yh(a,l),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){nle.setFromMatrixPosition(this.light.matrixWorld),dL.setFromMatrixPosition(this.light.target.matrixWorld),rle.subVectors(dL,nle),this.lightPlane.lookAt(dL),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(dL),this.targetLine.scale.z=rle.length()}}const mL=new te,ga=new rk;class JBe extends wu{constructor(e){const n=new Yn,o=new hs({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],l=[],u={},_=new Ut(16755200),f=new Ut(16711680),h=new Ut(43775),d=new Ut(16777215),m=new Ut(3355443);g("n1","n2",_),g("n2","n4",_),g("n4","n3",_),g("n3","n1",_),g("f1","f2",_),g("f2","f4",_),g("f4","f3",_),g("f3","f1",_),g("n1","f1",_),g("n2","f2",_),g("n3","f3",_),g("n4","f4",_),g("p","n1",f),g("p","n2",f),g("p","n3",f),g("p","n4",f),g("u1","u2",h),g("u2","u3",h),g("u3","u1",h),g("c","t",d),g("p","c",m),g("cn1","cn2",m),g("cn3","cn4",m),g("cf1","cf2",m),g("cf3","cf4",m);function g(w,E,A){y(w,A),y(E,A)}function y(w,E){a.push(0,0,0),l.push(E.r,E.g,E.b),u[w]===void 0&&(u[w]=[]),u[w].push(a.length/3-1)}n.setAttribute("position",new In(a,3)),n.setAttribute("color",new In(l,3));super(n,o);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=u,this.update()}update(){const e=this.geometry,n=this.pointMap,o=1,a=1;ga.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Fa("c",n,e,ga,0,0,-1),Fa("t",n,e,ga,0,0,1),Fa("n1",n,e,ga,-o,-a,-1),Fa("n2",n,e,ga,o,-a,-1),Fa("n3",n,e,ga,-o,a,-1),Fa("n4",n,e,ga,o,a,-1),Fa("f1",n,e,ga,-o,-a,1),Fa("f2",n,e,ga,o,-a,1),Fa("f3",n,e,ga,-o,a,1),Fa("f4",n,e,ga,o,a,1),Fa("u1",n,e,ga,o*.7,a*1.1,-1),Fa("u2",n,e,ga,-o*.7,a*1.1,-1),Fa("u3",n,e,ga,0,a*2,-1),Fa("cf1",n,e,ga,-o,0,1),Fa("cf2",n,e,ga,o,0,1),Fa("cf3",n,e,ga,0,-a,1),Fa("cf4",n,e,ga,0,a,1),Fa("cn1",n,e,ga,-o,0,-1),Fa("cn2",n,e,ga,o,0,-1),Fa("cn3",n,e,ga,0,-a,-1),Fa("cn4",n,e,ga,0,a,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fa(r,e,n,o,a,l,u){mL.set(a,l,u).unproject(o);const _=e[r];if(_!==void 0){const f=n.getAttribute("position");for(let h=0,d=_.length;h<d;h++)f.setXYZ(_[h],mL.x,mL.y,mL.z)}}const vL=new ac;class ile extends wu{constructor(e,n=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(8*3),l=new Yn;l.setIndex(new jr(o,1)),l.setAttribute("position",new jr(a,3));super(l,new hs({color:n,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&vL.setFromObject(this.object),vL.isEmpty())return;const n=vL.min,o=vL.max,a=this.geometry.attributes.position,l=a.array;l[0]=o.x,l[1]=o.y,l[2]=o.z,l[3]=n.x,l[4]=o.y,l[5]=o.z,l[6]=n.x,l[7]=n.y,l[8]=o.z,l[9]=o.x,l[10]=n.y,l[11]=o.z,l[12]=o.x,l[13]=o.y,l[14]=n.z,l[15]=n.x,l[16]=o.y,l[17]=n.z,l[18]=n.x,l[19]=n.y,l[20]=n.z,l[21]=o.x,l[22]=n.y,l[23]=n.z,a.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return wu.prototype.copy.call(this,e),this.object=e.object,this}}class XBe extends wu{constructor(e,n=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],l=new Yn;l.setIndex(new jr(o,1)),l.setAttribute("position",new In(a,3));super(l,new hs({color:n,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class YBe extends yh{constructor(e,n=1,o=16776960){const a=o,l=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],u=new Yn;u.setAttribute("position",new In(l,3)),u.computeBoundingSphere();super(u,new hs({color:a,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=n;const _=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],f=new Yn;f.setAttribute("position",new In(_,3)),f.computeBoundingSphere(),this.add(new Pa(f,new sc({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?Ma:Qv,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const ole=new te;let gL,nW;class QBe extends Ur{constructor(e=new te(0,0,1),n=new te(0,0,0),o=1,a=16776960,l=o*.2,u=l*.2){super();this.type="ArrowHelper",gL===void 0&&(gL=new Yn,gL.setAttribute("position",new In([0,0,0,0,1,0],3)),nW=new dg(0,.5,1,5,1),nW.translate(0,-.5,0)),this.position.copy(n),this.line=new yh(gL,new hs({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pa(nW,new sc({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(o,l,u)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ole.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(ole,n)}}setLength(e,n=e*.2,o=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(o,n,o),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class ale extends wu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],o=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new Yn;a.setAttribute("position",new In(n,3)),a.setAttribute("color",new In(o,3));const l=new hs({vertexColors:!0,toneMapped:!1});super(a,l);this.type="AxesHelper"}setColors(e,n,o){const a=new Ut,l=this.geometry.attributes.color.array;return a.set(e),a.toArray(l,0),a.toArray(l,3),a.set(n),a.toArray(l,6),a.toArray(l,9),a.set(o),a.toArray(l,12),a.toArray(l,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ZBe{constructor(){this.type="ShapePath",this.color=new Ut,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new zA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,o,a){return this.currentPath.quadraticCurveTo(e,n,o,a),this}bezierCurveTo(e,n,o,a,l,u){return this.currentPath.bezierCurveTo(e,n,o,a,l,u),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,n){function o(C){const R=[];for(let P=0,D=C.length;P<D;P++){const G=C[P],z=new $h;z.curves=G.curves,R.push(z)}return R}function a(C,R){const P=R.length;let D=!1;for(let G=P-1,z=0;z<P;G=z++){let V=R[G],X=R[z],ne=X.x-V.x,Y=X.y-V.y;if(Math.abs(Y)>Number.EPSILON){if(Y<0&&(V=R[z],ne=-ne,X=R[G],Y=-Y),C.y<V.y||C.y>X.y)continue;if(C.y===V.y){if(C.x===V.x)return!0}else{const ue=Y*(C.x-V.x)-ne*(C.y-V.y);if(ue===0)return!0;if(ue<0)continue;D=!D}}else{if(C.y!==V.y)continue;if(X.x<=C.x&&C.x<=V.x||V.x<=C.x&&C.x<=X.x)return!0}}return D}const l=bh.isClockWise,u=this.subPaths;if(u.length===0)return[];if(n===!0)return o(u);let _,f,h;const d=[];if(u.length===1)return f=u[0],h=new $h,h.curves=f.curves,d.push(h),d;let m=!l(u[0].getPoints());m=e?!m:m;const g=[],y=[];let w=[],E=0,A;y[E]=void 0,w[E]=[];for(let C=0,R=u.length;C<R;C++)f=u[C],A=f.getPoints(),_=l(A),_=e?!_:_,_?(!m&&y[E]&&E++,y[E]={s:new $h,p:A},y[E].s.curves=f.curves,m&&E++,w[E]=[]):w[E].push({h:f,p:A[0]});if(!y[0])return o(u);if(y.length>1){let C=!1;const R=[];for(let P=0,D=y.length;P<D;P++)g[P]=[];for(let P=0,D=y.length;P<D;P++){const G=w[P];for(let z=0;z<G.length;z++){const V=G[z];let X=!0;for(let ne=0;ne<y.length;ne++)a(V.p,y[ne].p)&&(P!==ne&&R.push({froms:P,tos:ne,hole:z}),X?(X=!1,g[ne].push(V)):C=!0);X&&g[P].push(V)}}R.length>0&&(C||(w=g))}let S;for(let C=0,R=y.length;C<R;C++){h=y[C].s,d.push(h),S=w[C];for(let P=0,D=S.length;P<D;P++)h.holes.push(S[P].h)}return d}}const sle=new Float32Array(1),eFe=new Int32Array(sle.buffer);class yL{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),sle[0]=e;const n=eFe[0];let o=n>>16&32768,a=n>>12&2047;const l=n>>23&255;return l<103?o:l>142?(o|=31744,o|=(l==255?0:1)&&n&8388607,o):l<113?(a|=2048,o|=(a>>114-l)+(a>>113-l&1),o):(o|=l-112<<10|a>>1,o+=a&1,o)}}const tFe=0,nFe=1,rFe=0,iFe=1,oFe=2;function aFe(r){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),r}function sFe(r=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),r.isMultiMaterial=!0,r.materials=r,r.clone=function(){return r.slice()},r}function lFe(r,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ex(r,e)}function uFe(r){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new GF(r)}function cFe(r,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ex(r,e)}function _Fe(r){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new hg(r)}function fFe(r){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new hg(r)}function pFe(r){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new hg(r)}function hFe(r,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new te(r,e,n)}function dFe(r,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new jr(r,e).setUsage(Zw)}function mFe(r,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new qoe(r,e)}function vFe(r,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Koe(r,e)}function gFe(r,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Joe(r,e)}function yFe(r,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Xoe(r,e)}function kFe(r,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new kF(r,e)}function $Fe(r,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Yoe(r,e)}function bFe(r,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new $F(r,e)}function wFe(r,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new In(r,e)}function xFe(r,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Zoe(r,e)}e_.create=function(r,e){return console.log("THREE.Curve.create() has been deprecated"),r.prototype=Object.create(e_.prototype),r.prototype.constructor=r,r.prototype.getPoint=e,r};zA.prototype.fromPoints=function(r){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(r)};function SFe(r){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new ale(r)}function EFe(r,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new ile(r,e)}function CFe(r,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new wu(new d8(r.geometry),new hs({color:e!==void 0?e:16777215}))}tle.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Yse.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function AFe(r,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new wu(new E8(r.geometry),new hs({color:e!==void 0?e:16777215}))}rl.prototype.extractUrlBase=function(r){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),lm.extractUrlBase(r)};rl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function TFe(r){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new lc(r)}function IFe(r){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new D8(r)}Ux.prototype.center=function(r){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(r)};Ux.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Ux.prototype.isIntersectionBox=function(r){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)};Ux.prototype.size=function(r){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(r)};ac.prototype.center=function(r){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(r)};ac.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};ac.prototype.isIntersectionBox=function(r){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)};ac.prototype.isIntersectionSphere=function(r){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(r)};ac.prototype.size=function(r){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(r)};Zd.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};wA.prototype.setFromMatrix=function(r){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(r)};Jse.prototype.center=function(r){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(r)};fs.prototype.flattenToArrayOffset=function(r,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(r,e)};fs.prototype.multiplyVector3=function(r){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),r.applyMatrix3(this)};fs.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};fs.prototype.applyToBufferAttribute=function(r){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),r.applyMatrix3(this)};fs.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};fs.prototype.getInverse=function(r){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(r).invert()};Cn.prototype.extractPosition=function(r){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(r)};Cn.prototype.flattenToArrayOffset=function(r,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(r,e)};Cn.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new te().setFromMatrixColumn(this,3)};Cn.prototype.setRotationFromQuaternion=function(r){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(r)};Cn.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Cn.prototype.multiplyVector3=function(r){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Cn.prototype.multiplyVector4=function(r){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Cn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Cn.prototype.rotateAxis=function(r){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),r.transformDirection(this)};Cn.prototype.crossVector=function(r){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Cn.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Cn.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Cn.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Cn.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Cn.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Cn.prototype.applyToBufferAttribute=function(r){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)};Cn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Cn.prototype.makeFrustum=function(r,e,n,o,a,l){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(r,e,o,n,a,l)};Cn.prototype.getInverse=function(r){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(r).invert()};dh.prototype.isIntersectionLine=function(r){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(r)};ps.prototype.multiplyVector3=function(r){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),r.applyQuaternion(this)};ps.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};ag.prototype.isIntersectionBox=function(r){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)};ag.prototype.isIntersectionPlane=function(r){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(r)};ag.prototype.isIntersectionSphere=function(r){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(r)};Ra.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Ra.prototype.barycoordFromPoint=function(r,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(r,e)};Ra.prototype.midpoint=function(r){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(r)};Ra.prototypenormal=function(r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(r)};Ra.prototype.plane=function(r){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(r)};Ra.barycoordFromPoint=function(r,e,n,o,a){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ra.getBarycoord(r,e,n,o,a)};Ra.normal=function(r,e,n,o){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ra.getNormal(r,e,n,o)};$h.prototype.extractAllPoints=function(r){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(r)};$h.prototype.extrude=function(r){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new wh(this,r)};$h.prototype.makeGeometry=function(r){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new _k(this,r)};rt.prototype.fromAttribute=function(r,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,e,n)};rt.prototype.distanceToManhattan=function(r){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(r)};rt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};te.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};te.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};te.prototype.getPositionFromMatrix=function(r){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(r)};te.prototype.getScaleFromMatrix=function(r){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(r)};te.prototype.getColumnFromMatrix=function(r,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,r)};te.prototype.applyProjection=function(r){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(r)};te.prototype.fromAttribute=function(r,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,e,n)};te.prototype.distanceToManhattan=function(r){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(r)};te.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Ui.prototype.fromAttribute=function(r,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,e,n)};Ui.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Ur.prototype.getChildByName=function(r){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(r)};Ur.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Ur.prototype.translate=function(r,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,r)};Ur.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Ur.prototype.applyMatrix=function(r){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(r)};Object.defineProperties(Ur.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(r){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=r}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Pa.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Pa.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Soe},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});NA.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};go.prototype.setLens=function(r,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(r)};Object.defineProperties(np.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(r){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=r}},shadowCameraLeft:{set:function(r){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=r}},shadowCameraRight:{set:function(r){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=r}},shadowCameraTop:{set:function(r){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=r}},shadowCameraBottom:{set:function(r){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=r}},shadowCameraNear:{set:function(r){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=r}},shadowCameraFar:{set:function(r){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=r}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(r){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=r}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(r){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=r}},shadowMapHeight:{set:function(r){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=r}}});Object.defineProperties(jr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Zw},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Zw)}}});jr.prototype.setDynamic=function(r){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(r===!0?Zw:Qw),this};jr.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},jr.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Yn.prototype.addIndex=function(r){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(r)};Yn.prototype.addAttribute=function(r,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(r,new jr(arguments[1],arguments[2]))):r==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(r,e)};Yn.prototype.addDrawCall=function(r,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(r,e)};Yn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Yn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Yn.prototype.removeAttribute=function(r){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(r)};Yn.prototype.applyMatrix=function(r){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(r)};Object.defineProperties(Yn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});pg.prototype.setDynamic=function(r){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(r===!0?Zw:Qw),this};pg.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};wh.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};wh.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};wh.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};AA.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};fL.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Ha.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ut}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(r){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===tG}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(r){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=r}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(om.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(r){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=r}}});Pi.prototype.clearTarget=function(r,e,n,o){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(r),this.clear(e,n,o)};Pi.prototype.animate=function(r){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(r)};Pi.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Pi.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Pi.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Pi.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Pi.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Pi.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Pi.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Pi.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Pi.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Pi.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Pi.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Pi.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Pi.prototype.enableScissorTest=function(r){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(r)};Pi.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Pi.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Pi.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Pi.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Pi.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Pi.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Pi.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Pi.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Pi.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Pi.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Pi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(r){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=r}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(r){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=r}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(r){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=r===!0?hh:Ns}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(Bae.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function MFe(r,e,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new MF(r,n)}Object.defineProperties(Yc.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(r){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=r}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(r){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=r}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(r){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=r}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(r){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=r}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(r){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=r}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(r){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=r}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(r){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=r}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(r){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=r}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(r){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=r}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(r){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=r}}});X8.prototype.load=function(r){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new Mse().load(r,function(o){e.setBuffer(o)}),this};Ose.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};IF.prototype.updateCubeMap=function(r,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(r,e)};IF.prototype.clear=function(r,e,n,o){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(r,e,n,o)};Z0.crossOrigin=void 0;Z0.loadTexture=function(r,e,n,o){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const a=new O8;a.setCrossOrigin(this.crossOrigin);const l=a.load(r,n,void 0,o);return e&&(l.mapping=e),l};Z0.loadTextureCube=function(r,e,n,o){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const a=new L8;a.setCrossOrigin(this.crossOrigin);const l=a.load(r,n,void 0,o);return e&&(l.mapping=e),l};Z0.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Z0.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function NFe(){console.error("THREE.CanvasRenderer has been removed")}function RFe(){console.error("THREE.JSONLoader has been removed.")}const PFe={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function BFe(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function FFe(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new Yn}function LFe(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new Yn}function DFe(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function OFe(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function zFe(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:tF}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=tF);var UFe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ACESFilmicToneMapping:uG,AddEquation:W0,AddOperation:Eie,AdditiveAnimationBlendMode:$G,AdditiveBlending:nG,AlphaFormat:Lie,AlwaysDepth:yie,AlwaysStencilFunc:Ioe,AmbientLight:G8,AmbientLightProbe:Rse,AnimationClip:zx,AnimationLoader:wBe,AnimationMixer:jse,AnimationObjectGroup:Use,AnimationUtils:Po,ArcCurve:m8,ArrayCamera:s8,ArrowHelper:QBe,Audio:X8,AudioAnalyser:Ose,AudioContext:K8,AudioListener:TBe,AudioLoader:Mse,AxesHelper:ale,AxisHelper:SFe,BackSide:Ma,BasicDepthPacking:Coe,BasicShadowMap:AIe,BinaryTextureLoader:IFe,Bone:RA,BooleanKeyframeTrack:hk,BoundingBoxHelper:EFe,Box2:Ux,Box3:ac,Box3Helper:XBe,BoxBufferGeometry:im,BoxGeometry:im,BoxHelper:ile,BufferAttribute:jr,BufferGeometry:Yn,BufferGeometryLoader:Ase,ByteType:Mie,Cache:vk,Camera:rk,CameraHelper:JBe,CanvasRenderer:NFe,CanvasTexture:ise,CatmullRomCurve3:$8,CineonToneMapping:Tie,CircleBufferGeometry:Cx,CircleGeometry:Cx,ClampToEdgeWrapping:Ms,Clock:J8,Color:Ut,ColorKeyframeTrack:B8,CompressedTexture:p8,CompressedTextureLoader:xBe,ConeBufferGeometry:Ax,ConeGeometry:Ax,CubeCamera:IF,CubeReflectionMapping:H0,CubeRefractionMapping:V0,CubeTexture:dx,CubeTextureLoader:L8,CubeUVReflectionMapping:Kw,CubeUVRefractionMapping:_A,CubicBezierCurve:tL,CubicBezierCurve3:b8,CubicInterpolant:mse,CullFaceBack:Q6,CullFaceFront:oie,CullFaceFrontBack:CIe,CullFaceNone:iie,Curve:e_,CurvePath:sse,CustomBlending:aie,CustomToneMapping:Iie,CylinderBufferGeometry:dg,CylinderGeometry:dg,Cylindrical:jBe,DataTexture:lk,DataTexture2DArray:BF,DataTexture3D:i8,DataTextureLoader:D8,DataUtils:yL,DecrementStencilOp:LIe,DecrementWrapStencilOp:OIe,DefaultLoadingManager:yse,DepthFormat:tg,DepthStencilFormat:K0,DepthTexture:OF,DirectionalLight:cL,DirectionalLightHelper:KBe,DiscreteInterpolant:vse,DodecahedronBufferGeometry:Tx,DodecahedronGeometry:Tx,DoubleSide:Zv,DstAlphaFactor:pie,DstColorFactor:die,DynamicBufferAttribute:dFe,DynamicCopyUsage:ZIe,DynamicDrawUsage:Zw,DynamicReadUsage:XIe,EdgesGeometry:d8,EdgesHelper:CFe,EllipseCurve:FA,EqualDepth:$ie,EqualStencilFunc:GIe,EquirectangularReflectionMapping:uA,EquirectangularRefractionMapping:cA,Euler:nk,EventDispatcher:Yd,ExtrudeBufferGeometry:wh,ExtrudeGeometry:wh,FaceColors:iFe,FileLoader:lc,FlatShading:tG,Float16BufferAttribute:Qoe,Float32Attribute:wFe,Float32BufferAttribute:In,Float64Attribute:xFe,Float64BufferAttribute:Zoe,FloatType:Jc,Fog:CA,FogExp2:EA,Font:OFe,FontLoader:DFe,FrontSide:Qv,Frustum:wA,GLBufferAttribute:Wse,GLSL1:tMe,GLSL3:EG,GammaEncoding:sF,GreaterDepth:wie,GreaterEqualDepth:bie,GreaterEqualStencilFunc:qIe,GreaterStencilFunc:HIe,GridHelper:tle,Group:gh,HalfFloatType:ph,HemisphereLight:z8,HemisphereLightHelper:VBe,HemisphereLightProbe:Nse,IcosahedronBufferGeometry:Mx,IcosahedronGeometry:Mx,ImageBitmapLoader:q8,ImageLoader:WA,ImageUtils:Z0,ImmediateRenderObject:zFe,IncrementStencilOp:FIe,IncrementWrapStencilOp:DIe,InstancedBufferAttribute:uk,InstancedBufferGeometry:V8,InstancedInterleavedBuffer:Gse,InstancedMesh:c8,Int16Attribute:yFe,Int16BufferAttribute:Xoe,Int32Attribute:$Fe,Int32BufferAttribute:Yoe,Int8Attribute:mFe,Int8BufferAttribute:qoe,IntType:Rie,InterleavedBuffer:pg,InterleavedBufferAttribute:am,Interpolant:xh,InterpolateDiscrete:Yw,InterpolateLinear:J0,InterpolateSmooth:oF,InvertStencilOp:zIe,JSONLoader:RFe,KeepStencilOp:lF,KeyframeTrack:tp,LOD:jae,LatheBufferGeometry:Nx,LatheGeometry:Nx,Layers:ax,LensFlare:BFe,LessDepth:kie,LessEqualDepth:nF,LessEqualStencilFunc:WIe,LessStencilFunc:jIe,Light:np,LightProbe:VA,Line:yh,Line3:Jse,LineBasicMaterial:hs,LineCurve:OA,LineCurve3:ase,LineDashedMaterial:R8,LineLoop:KF,LinePieces:nFe,LineSegments:wu,LineStrip:tFe,LinearEncoding:Ns,LinearFilter:Ro,LinearInterpolant:P8,LinearMipMapLinearFilter:RIe,LinearMipMapNearestFilter:NIe,LinearMipmapLinearFilter:Xd,LinearMipmapNearestFilter:iF,LinearToneMapping:Cie,Loader:rl,LoaderUtils:lm,LoadingManager:F8,LoopOnce:boe,LoopPingPong:xoe,LoopRepeat:woe,LuminanceAlphaFormat:Oie,LuminanceFormat:Die,MOUSE:j0,Material:Ha,MaterialLoader:Cse,Math:TG,MathUtils:TG,Matrix3:fs,Matrix4:Cn,MaxEquation:aG,Mesh:Pa,MeshBasicMaterial:sc,MeshDepthMaterial:LF,MeshDistanceMaterial:DF,MeshFaceMaterial:aFe,MeshLambertMaterial:M8,MeshMatcapMaterial:N8,MeshNormalMaterial:I8,MeshPhongMaterial:A8,MeshPhysicalMaterial:vg,MeshStandardMaterial:pk,MeshToonMaterial:T8,MinEquation:oG,MirroredRepeatWrapping:Jw,MixOperation:Sie,MultiMaterial:sFe,MultiplyBlending:iG,MultiplyOperation:lA,NearestFilter:ra,NearestMipMapLinearFilter:MIe,NearestMipMapNearestFilter:IIe,NearestMipmapLinearFilter:pA,NearestMipmapNearestFilter:fA,NeverDepth:gie,NeverStencilFunc:UIe,NoBlending:Kd,NoColors:rFe,NoToneMapping:Jd,NormalAnimationBlendMode:aF,NormalBlending:qw,NotEqualDepth:xie,NotEqualStencilFunc:VIe,NumberKeyframeTrack:Dx,Object3D:Ur,ObjectLoader:SBe,ObjectSpaceNormalMap:Toe,OctahedronBufferGeometry:ck,OctahedronGeometry:ck,OneFactor:cie,OneMinusDstAlphaFactor:hie,OneMinusDstColorFactor:mie,OneMinusSrcAlphaFactor:lG,OneMinusSrcColorFactor:fie,OrthographicCamera:mh,PCFShadowMap:Z6,PCFSoftShadowMap:eG,PMREMGenerator:t8,ParametricGeometry:FFe,Particle:uFe,ParticleBasicMaterial:fFe,ParticleSystem:cFe,ParticleSystemMaterial:pFe,Path:zA,PerspectiveCamera:go,Plane:dh,PlaneBufferGeometry:ik,PlaneGeometry:ik,PlaneHelper:YBe,PointCloud:lFe,PointCloudMaterial:_Fe,PointLight:uL,PointLightHelper:WBe,Points:Ex,PointsMaterial:hg,PolarGridHelper:qBe,PolyhedronBufferGeometry:kh,PolyhedronGeometry:kh,PositionalAudio:MBe,PropertyBinding:si,PropertyMixer:zse,QuadraticBezierCurve:nL,QuadraticBezierCurve3:rL,Quaternion:ps,QuaternionKeyframeTrack:dk,QuaternionLinearInterpolant:gse,REVISION:tF,RGBADepthPacking:Aoe,RGBAFormat:el,RGBAIntegerFormat:Hie,RGBA_ASTC_10x10_Format:ioe,RGBA_ASTC_10x5_Format:toe,RGBA_ASTC_10x6_Format:noe,RGBA_ASTC_10x8_Format:roe,RGBA_ASTC_12x10_Format:ooe,RGBA_ASTC_12x12_Format:aoe,RGBA_ASTC_4x4_Format:qie,RGBA_ASTC_5x4_Format:Kie,RGBA_ASTC_5x5_Format:Jie,RGBA_ASTC_6x5_Format:Xie,RGBA_ASTC_6x6_Format:Yie,RGBA_ASTC_8x5_Format:Qie,RGBA_ASTC_8x6_Format:Zie,RGBA_ASTC_8x8_Format:eoe,RGBA_BPTC_Format:soe,RGBA_ETC2_EAC_Format:kG,RGBA_PVRTC_2BPPV1_Format:gG,RGBA_PVRTC_4BPPV1_Format:vG,RGBA_S3TC_DXT1_Format:fG,RGBA_S3TC_DXT3_Format:pG,RGBA_S3TC_DXT5_Format:hG,RGBDEncoding:SG,RGBEEncoding:mA,RGBEFormat:cG,RGBFormat:Xf,RGBIntegerFormat:Wie,RGBM16Encoding:xG,RGBM7Encoding:wG,RGB_ETC1_Format:Vie,RGB_ETC2_Format:yG,RGB_PVRTC_2BPPV1_Format:mG,RGB_PVRTC_4BPPV1_Format:dG,RGB_S3TC_DXT1_Format:_G,RGFormat:jie,RGIntegerFormat:Gie,RawShaderMaterial:vx,Ray:ag,Raycaster:Hse,RectAreaLight:W8,RedFormat:zie,RedIntegerFormat:Uie,ReinhardToneMapping:Aie,RepeatWrapping:eg,ReplaceStencilOp:BIe,ReverseSubtractEquation:lie,RingBufferGeometry:Rx,RingGeometry:Rx,SRGB8_ALPHA8_ASTC_10x10_Format:yoe,SRGB8_ALPHA8_ASTC_10x5_Format:moe,SRGB8_ALPHA8_ASTC_10x6_Format:voe,SRGB8_ALPHA8_ASTC_10x8_Format:goe,SRGB8_ALPHA8_ASTC_12x10_Format:koe,SRGB8_ALPHA8_ASTC_12x12_Format:$oe,SRGB8_ALPHA8_ASTC_4x4_Format:loe,SRGB8_ALPHA8_ASTC_5x4_Format:uoe,SRGB8_ALPHA8_ASTC_5x5_Format:coe,SRGB8_ALPHA8_ASTC_6x5_Format:_oe,SRGB8_ALPHA8_ASTC_6x6_Format:foe,SRGB8_ALPHA8_ASTC_8x5_Format:poe,SRGB8_ALPHA8_ASTC_8x6_Format:hoe,SRGB8_ALPHA8_ASTC_8x8_Format:doe,Scene:AA,SceneUtils:PFe,ShaderChunk:Gr,ShaderLib:ep,ShaderMaterial:om,ShadowMaterial:C8,Shape:$h,ShapeBufferGeometry:_k,ShapeGeometry:_k,ShapePath:ZBe,ShapeUtils:bh,ShortType:Nie,Skeleton:PA,SkeletonHelper:Yse,SkinnedMesh:NA,SmoothShading:TIe,Sphere:Zd,SphereBufferGeometry:fk,SphereGeometry:fk,Spherical:eW,SphericalHarmonics3:H8,SplineCurve:iL,SpotLight:lL,SpotLightHelper:GBe,Sprite:GF,SpriteMaterial:zF,SrcAlphaFactor:sG,SrcAlphaSaturateFactor:vie,SrcColorFactor:_ie,StaticCopyUsage:QIe,StaticDrawUsage:Qw,StaticReadUsage:JIe,StereoCamera:CBe,StreamCopyUsage:eMe,StreamDrawUsage:KIe,StreamReadUsage:YIe,StringKeyframeTrack:mk,SubtractEquation:sie,SubtractiveBlending:rG,TOUCH:G0,TangentSpaceNormalMap:ng,TetrahedronBufferGeometry:Px,TetrahedronGeometry:Px,TextGeometry:LFe,Texture:Na,TextureLoader:O8,TorusBufferGeometry:Bx,TorusGeometry:Bx,TorusKnotBufferGeometry:Fx,TorusKnotGeometry:Fx,Triangle:Ra,TriangleFanDrawMode:bG,TriangleStripDrawMode:Eoe,TrianglesDrawMode:Soe,TubeBufferGeometry:Lx,TubeGeometry:Lx,UVMapping:rF,Uint16Attribute:kFe,Uint16BufferAttribute:kF,Uint32Attribute:bFe,Uint32BufferAttribute:$F,Uint8Attribute:vFe,Uint8BufferAttribute:Koe,Uint8ClampedAttribute:gFe,Uint8ClampedBufferAttribute:Joe,Uniform:fL,UniformsLib:tn,UniformsUtils:tae,UnsignedByteType:Kc,UnsignedInt248Type:q0,UnsignedIntType:hA,UnsignedShort4444Type:Pie,UnsignedShort5551Type:Bie,UnsignedShort565Type:Fie,UnsignedShortType:Xw,VSMShadowMap:Vw,Vector2:rt,Vector3:te,Vector4:Ui,VectorKeyframeTrack:Ox,Vertex:hFe,VertexColors:oFe,VideoTexture:rse,WebGL1Renderer:Lae,WebGLCubeRenderTarget:MF,WebGLMultipleRenderTargets:Boe,WebGLMultisampleRenderTarget:_F,WebGLRenderTarget:Yc,WebGLRenderTargetCube:MFe,WebGLRenderer:Pi,WebGLUtils:Fae,WireframeGeometry:E8,WireframeHelper:AFe,WrapAroundEnding:dA,XHRLoader:TFe,ZeroCurvatureEnding:X0,ZeroFactor:uie,ZeroSlopeEnding:Y0,ZeroStencilOp:PIe,sRGBEncoding:hh});function jFe(r){let e;const n=new Set,o=(h,d)=>{const m=typeof h=="function"?h(e):h;if(m!==e){const g=e;e=d?m:Object.assign({},e,m),n.forEach(y=>y(e,g))}},a=()=>e,l=(h,d=a,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=d(e);function y(){const w=d(e);if(!m(g,w)){const E=g;h(g=w,E)}}return n.add(y),()=>n.delete(y)},f={setState:o,getState:a,subscribe:(h,d,m)=>d||m?l(h,d,m):(n.add(h),()=>n.delete(h)),destroy:()=>n.clear()};return e=r(o,a,f),f}const GFe=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),lle=GFe?Xn.exports.useEffect:Xn.exports.useLayoutEffect;function WFe(r){const e=typeof r=="function"?jFe(r):r,n=(o=e.getState,a=Object.is)=>{const[,l]=Xn.exports.useReducer(A=>A+1,0),u=e.getState(),_=Xn.exports.useRef(u),f=Xn.exports.useRef(o),h=Xn.exports.useRef(a),d=Xn.exports.useRef(!1),m=Xn.exports.useRef();m.current===void 0&&(m.current=o(u));let g,y=!1;(_.current!==u||f.current!==o||h.current!==a||d.current)&&(g=o(u),y=!a(m.current,g)),lle(()=>{y&&(m.current=g),_.current=u,f.current=o,h.current=a,d.current=!1});const w=Xn.exports.useRef(u);lle(()=>{const A=()=>{try{const C=e.getState(),R=f.current(C);h.current(m.current,R)||(_.current=C,m.current=R,l())}catch{d.current=!0,l()}},S=e.subscribe(A);return e.getState()!==w.current&&A(),S},[]);const E=y?g:m.current;return Xn.exports.useDebugValue(E),E};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const o=[n,e];return{next(){const a=o.length<=0;return{value:o.shift(),done:a}}}},n}var ule={exports:{}},cle={exports:{}};/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){r.exports=function(n){var o={},a=W5,l=Xn.exports,u=vw.exports;function _($){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+$,I=1;I<arguments.length;I++)b+="&args[]="+encodeURIComponent(arguments[I]);return"Minified React error #"+$+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=60103,d=60106,m=60107,g=60108,y=60114,w=60109,E=60110,A=60112,S=60113,C=60120,R=60115,P=60116,D=60121,G=60129,z=60130,V=60131;if(typeof Symbol=="function"&&Symbol.for){var X=Symbol.for;h=X("react.element"),d=X("react.portal"),m=X("react.fragment"),g=X("react.strict_mode"),y=X("react.profiler"),w=X("react.provider"),E=X("react.context"),A=X("react.forward_ref"),S=X("react.suspense"),C=X("react.suspense_list"),R=X("react.memo"),P=X("react.lazy"),D=X("react.block"),X("react.scope"),G=X("react.debug_trace_mode"),z=X("react.offscreen"),V=X("react.legacy_hidden")}var ne=typeof Symbol=="function"&&Symbol.iterator;function Y($){return $===null||typeof $!="object"?null:($=ne&&$[ne]||$["@@iterator"],typeof $=="function"?$:null)}function ue($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case m:return"Fragment";case d:return"Portal";case y:return"Profiler";case g:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case E:return($.displayName||"Context")+".Consumer";case w:return($._context.displayName||"Context")+".Provider";case A:var b=$.render;return b=b.displayName||b.name||"",$.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case R:return ue($.type);case D:return ue($._render);case P:b=$._payload,$=$._init;try{return ue($(b))}catch{}}return null}function _e($){var b=$,I=$;if($.alternate)for(;b.return;)b=b.return;else{$=b;do b=$,(b.flags&1026)!=0&&(I=b.return),$=b.return;while($)}return b.tag===3?I:null}function ge($){if(_e($)!==$)throw Error(_(188))}function $e($){var b=$.alternate;if(!b){if(b=_e($),b===null)throw Error(_(188));return b!==$?null:$}for(var I=$,U=b;;){var j=I.return;if(j===null)break;var J=j.alternate;if(J===null){if(U=j.return,U!==null){I=U;continue}break}if(j.child===J.child){for(J=j.child;J;){if(J===I)return ge(j),$;if(J===U)return ge(j),b;J=J.sibling}throw Error(_(188))}if(I.return!==U.return)I=j,U=J;else{for(var se=!1,we=j.child;we;){if(we===I){se=!0,I=j,U=J;break}if(we===U){se=!0,U=j,I=J;break}we=we.sibling}if(!se){for(we=J.child;we;){if(we===I){se=!0,I=J,U=j;break}if(we===U){se=!0,U=J,I=j;break}we=we.sibling}if(!se)throw Error(_(189))}}if(I.alternate!==U)throw Error(_(190))}if(I.tag!==3)throw Error(_(188));return I.stateNode.current===I?$:b}function xe($){if($=$e($),!$)return null;for(var b=$;;){if(b.tag===5||b.tag===6)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===$)break;for(;!b.sibling;){if(!b.return||b.return===$)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}function Ie($){if($=$e($),!$)return null;for(var b=$;;){if(b.tag===5||b.tag===6)return b;if(b.child&&b.tag!==4)b.child.return=b,b=b.child;else{if(b===$)break;for(;!b.sibling;){if(!b.return||b.return===$)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}function tt($,b){for(var I=$.alternate;b!==null;){if(b===$||b===I)return!0;b=b.return}return!1}var gt=n.getPublicInstance,Je=n.getRootHostContext,ve=n.getChildHostContext,He=n.prepareForCommit,Ge=n.resetAfterCommit,kt=n.createInstance,an=n.appendInitialChild,ot=n.finalizeInitialChildren,Mn=n.prepareUpdate,mn=n.shouldSetTextContent,Gt=n.createTextInstance,An=n.scheduleTimeout,Pr=n.cancelTimeout,et=n.noTimeout,mt=n.isPrimaryRenderer,yt=n.supportsMutation,nn=n.supportsPersistence,Mt=n.supportsHydration,Qn=n.getInstanceFromNode,Kn=n.makeOpaqueHydratingObject,pr=n.makeClientId,ci=n.beforeActiveInstanceBlur,he=n.afterActiveInstanceBlur,ae=n.preparePortalMount,_t=n.supportsTestSelectors,ft=n.findFiberRoot,yn=n.getBoundingRect,vn=n.getTextContent,be=n.isHiddenSubtree,wt=n.matchAccessibilityRole,it=n.setFocusIfFocusable,Wt=n.setupIntersectionObserver,Dt=n.appendChild,me=n.appendChildToContainer,We=n.commitTextUpdate,Tt=n.commitMount,Ln=n.commitUpdate,qn=n.insertBefore,oo=n.insertInContainerBefore,Jo=n.removeChild,wm=n.removeChildFromContainer,Ls=n.resetTextContent,sl=n.hideInstance,ef=n.hideTextInstance,Zk=n.unhideInstance,e$=n.unhideTextInstance,up=n.clearContainer,ao=n.cloneInstance,t$=n.createContainerChildSet,xm=n.appendChildToContainerChildSet,s_=n.finalizeContainerChildren,Og=n.replaceContainerChildren,zg=n.cloneHiddenInstance,Ug=n.cloneHiddenTextInstance,oe=n.canHydrateInstance,Oe=n.canHydrateTextInstance,Xe=n.isSuspenseInstancePending,je=n.isSuspenseInstanceFallback,st=n.getNextHydratableSibling,er=n.getFirstHydratableChild,Wn=n.hydrateInstance,kr=n.hydrateTextInstance,Hn=n.getNextHydratableInstanceAfterSuspenseInstance,wr=n.commitHydratedContainer,ir=n.commitHydratedSuspenseInstance,xr;function gr($){if(xr===void 0)try{throw Error()}catch(I){var b=I.stack.trim().match(/\n( *(at )?)/);xr=b&&b[1]||""}return`
`+xr+$}var $o=!1;function Ar($,b){if(!$||$o)return"";$o=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(De){var U=De}Reflect.construct($,[],b)}else{try{b.call()}catch(De){U=De}$.call(b.prototype)}else{try{throw Error()}catch(De){U=De}$()}}catch(De){if(De&&U&&typeof De.stack=="string"){for(var j=De.stack.split(`
`),J=U.stack.split(`
`),se=j.length-1,we=J.length-1;1<=se&&0<=we&&j[se]!==J[we];)we--;for(;1<=se&&0<=we;se--,we--)if(j[se]!==J[we]){if(se!==1||we!==1)do if(se--,we--,0>we||j[se]!==J[we])return`
`+j[se].replace(" at new "," at ");while(1<=se&&0<=we);break}}}finally{$o=!1,Error.prepareStackTrace=I}return($=$?$.displayName||$.name:"")?gr($):""}var Eu=[],Qr=-1;function qa($){return{current:$}}function Br($){0>Qr||($.current=Eu[Qr],Eu[Qr]=null,Qr--)}function ii($,b){Qr++,Eu[Qr]=$.current,$.current=b}var oa={},or=qa(oa),bo=qa(!1),Bi=oa;function ji($,b){var I=$.type.contextTypes;if(!I)return oa;var U=$.stateNode;if(U&&U.__reactInternalMemoizedUnmaskedChildContext===b)return U.__reactInternalMemoizedMaskedChildContext;var j={},J;for(J in I)j[J]=b[J];return U&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=b,$.__reactInternalMemoizedMaskedChildContext=j),j}function ll($){return $=$.childContextTypes,$!=null}function Fh(){Br(bo),Br(or)}function n$($,b,I){if(or.current!==oa)throw Error(_(168));ii(or,b),ii(bo,I)}function Sm($,b,I){var U=$.stateNode;if($=b.childContextTypes,typeof U.getChildContext!="function")return I;U=U.getChildContext();for(var j in U)if(!(j in $))throw Error(_(108,ue(b)||"Unknown",j));return a({},I,U)}function aa($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||oa,Bi=or.current,ii(or,$),ii(bo,bo.current),!0}function Da($,b,I){var U=$.stateNode;if(!U)throw Error(_(169));I?($=Sm($,b,Bi),U.__reactInternalMemoizedMergedChildContext=$,Br(bo),Br(or),ii(or,$)):Br(bo),ii(bo,I)}var Ji=null,Lh=null,cp=u.unstable_now;cp();var jg=0,Tr=8;function tf($){if((1&$)!=0)return Tr=15,1;if((2&$)!=0)return Tr=14,2;if((4&$)!=0)return Tr=13,4;var b=24&$;return b!==0?(Tr=12,b):($&32)!=0?(Tr=11,32):(b=192&$,b!==0?(Tr=10,b):($&256)!=0?(Tr=9,256):(b=3584&$,b!==0?(Tr=8,b):($&4096)!=0?(Tr=7,4096):(b=4186112&$,b!==0?(Tr=6,b):(b=62914560&$,b!==0?(Tr=5,b):$&67108864?(Tr=4,67108864):($&134217728)!=0?(Tr=3,134217728):(b=805306368&$,b!==0?(Tr=2,b):(1073741824&$)!=0?(Tr=1,1073741824):(Tr=8,$))))))}function U2($){switch($){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function r$($){switch($){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(_(358,$))}}function Dh($,b){var I=$.pendingLanes;if(I===0)return Tr=0;var U=0,j=0,J=$.expiredLanes,se=$.suspendedLanes,we=$.pingedLanes;if(J!==0)U=J,j=Tr=15;else if(J=I&134217727,J!==0){var De=J&~se;De!==0?(U=tf(De),j=Tr):(we&=J,we!==0&&(U=tf(we),j=Tr))}else J=I&~se,J!==0?(U=tf(J),j=Tr):we!==0&&(U=tf(we),j=Tr);if(U===0)return 0;if(U=31-ul(U),U=I&((0>U?0:1<<U)<<1)-1,b!==0&&b!==U&&(b&se)==0){if(tf(b),j<=Tr)return b;Tr=j}if(b=$.entangledLanes,b!==0)for($=$.entanglements,b&=U;0<b;)I=31-ul(b),j=1<<I,U|=$[I],b&=~j;return U}function i$($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function o$($,b){switch($){case 15:return 1;case 14:return 2;case 12:return $=Em(24&~b),$===0?o$(10,b):$;case 10:return $=Em(192&~b),$===0?o$(8,b):$;case 8:return $=Em(3584&~b),$===0&&($=Em(4186112&~b),$===0&&($=512)),$;case 2:return b=Em(805306368&~b),b===0&&(b=268435456),b}throw Error(_(358,$))}function Em($){return $&-$}function S1($){for(var b=[],I=0;31>I;I++)b.push($);return b}function Dl($,b,I){$.pendingLanes|=b;var U=b-1;$.suspendedLanes&=U,$.pingedLanes&=U,$=$.eventTimes,b=31-ul(b),$[b]=I}var ul=Math.clz32?Math.clz32:LD,so=Math.log,E1=Math.LN2;function LD($){return $===0?32:31-(so($)/E1|0)|0}var a$=u.unstable_runWithPriority,C1=u.unstable_scheduleCallback,s$=u.unstable_cancelCallback,l_=u.unstable_shouldYield,Ds=u.unstable_requestPaint,Cm=u.unstable_now,DD=u.unstable_getCurrentPriorityLevel,Am=u.unstable_ImmediatePriority,j2=u.unstable_UserBlockingPriority,Os=u.unstable_NormalPriority,l$=u.unstable_LowPriority,G2=u.unstable_IdlePriority,u$={},OD=Ds!==void 0?Ds:function(){},u_=null,c$=null,A1=!1,Gg=Cm(),Ka=1e4>Gg?Cm:function(){return Cm()-Gg};function Cu(){switch(DD()){case Am:return 99;case j2:return 98;case Os:return 97;case l$:return 96;case G2:return 95;default:throw Error(_(332))}}function W2($){switch($){case 99:return Am;case 98:return j2;case 97:return Os;case 96:return l$;case 95:return G2;default:throw Error(_(332))}}function nf($,b){return $=W2($),a$($,b)}function Tm($,b,I){return $=W2($),C1($,b,I)}function cl(){if(c$!==null){var $=c$;c$=null,s$($)}_$()}function _$(){if(!A1&&u_!==null){A1=!0;var $=0;try{var b=u_;nf(99,function(){for(;$<b.length;$++){var I=b[$];do I=I(!0);while(I!==null)}}),u_=null}catch(I){throw u_!==null&&(u_=u_.slice($+1)),C1(Am,cl),I}finally{A1=!1}}}var zD=f.ReactCurrentBatchConfig;function UD($,b){return $===b&&($!==0||1/$==1/b)||$!==$&&b!==b}var Ol=typeof Object.is=="function"?Object.is:UD,vc=Object.prototype.hasOwnProperty;function Oh($,b){if(Ol($,b))return!0;if(typeof $!="object"||$===null||typeof b!="object"||b===null)return!1;var I=Object.keys($),U=Object.keys(b);if(I.length!==U.length)return!1;for(U=0;U<I.length;U++)if(!vc.call(b,I[U])||!Ol($[I[U]],b[I[U]]))return!1;return!0}function T1($){switch($.tag){case 5:return gr($.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 2:case 15:return $=Ar($.type,!1),$;case 11:return $=Ar($.type.render,!1),$;case 22:return $=Ar($.type._render,!1),$;case 1:return $=Ar($.type,!0),$;default:return""}}function Kr($,b){if($&&$.defaultProps){b=a({},b),$=$.defaultProps;for(var I in $)b[I]===void 0&&(b[I]=$[I]);return b}return b}var c_=qa(null),f$=null,Ja=null,Im=null;function Wg(){Im=Ja=f$=null}function H2($,b){$=$.type._context,mt?(ii(c_,$._currentValue),$._currentValue=b):(ii(c_,$._currentValue2),$._currentValue2=b)}function I1($){var b=c_.current;Br(c_),$=$.type._context,mt?$._currentValue=b:$._currentValue2=b}function V2($,b){for(;$!==null;){var I=$.alternate;if(($.childLanes&b)===b){if(I===null||(I.childLanes&b)===b)break;I.childLanes|=b}else $.childLanes|=b,I!==null&&(I.childLanes|=b);$=$.return}}function Mm($,b){f$=$,Im=Ja=null,$=$.dependencies,$!==null&&$.firstContext!==null&&(($.lanes&b)!=0&&(Gl=!0),$.firstContext=null)}function Au($,b){if(Im!==$&&b!==!1&&b!==0)if((typeof b!="number"||b===1073741823)&&(Im=$,b=1073741823),b={context:$,observedBits:b,next:null},Ja===null){if(f$===null)throw Error(_(308));Ja=b,f$.dependencies={lanes:0,firstContext:b,responders:null}}else Ja=Ja.next=b;return mt?$._currentValue:$._currentValue2}var zl=!1;function ka($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function __($,b){$=$.updateQueue,b.updateQueue===$&&(b.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function _p($,b){return{eventTime:$,lane:b,tag:0,payload:null,callback:null,next:null}}function fp($,b){if($=$.updateQueue,$!==null){$=$.shared;var I=$.pending;I===null?b.next=b:(b.next=I.next,I.next=b),$.pending=b}}function rf($,b){var I=$.updateQueue,U=$.alternate;if(U!==null&&(U=U.updateQueue,I===U)){var j=null,J=null;if(I=I.firstBaseUpdate,I!==null){do{var se={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};J===null?j=J=se:J=J.next=se,I=I.next}while(I!==null);J===null?j=J=b:J=J.next=b}else j=J=b;I={baseState:U.baseState,firstBaseUpdate:j,lastBaseUpdate:J,shared:U.shared,effects:U.effects},$.updateQueue=I;return}$=I.lastBaseUpdate,$===null?I.firstBaseUpdate=b:$.next=b,I.lastBaseUpdate=b}function Nm($,b,I,U){var j=$.updateQueue;zl=!1;var J=j.firstBaseUpdate,se=j.lastBaseUpdate,we=j.shared.pending;if(we!==null){j.shared.pending=null;var De=we,jt=De.next;De.next=null,se===null?J=jt:se.next=jt,se=De;var Rn=$.alternate;if(Rn!==null){Rn=Rn.updateQueue;var ar=Rn.lastBaseUpdate;ar!==se&&(ar===null?Rn.firstBaseUpdate=jt:ar.next=jt,Rn.lastBaseUpdate=De)}}if(J!==null){ar=j.baseState,se=0,Rn=jt=De=null;do{we=J.lane;var Zt=J.eventTime;if((U&we)===we){Rn!==null&&(Rn=Rn.next={eventTime:Zt,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var pi=$,Zr=J;switch(we=b,Zt=I,Zr.tag){case 1:if(pi=Zr.payload,typeof pi=="function"){ar=pi.call(Zt,ar,we);break e}ar=pi;break e;case 3:pi.flags=pi.flags&-4097|64;case 0:if(pi=Zr.payload,we=typeof pi=="function"?pi.call(Zt,ar,we):pi,we==null)break e;ar=a({},ar,we);break e;case 2:zl=!0}}J.callback!==null&&($.flags|=32,we=j.effects,we===null?j.effects=[J]:we.push(J))}else Zt={eventTime:Zt,lane:we,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Rn===null?(jt=Rn=Zt,De=ar):Rn=Rn.next=Zt,se|=we;if(J=J.next,J===null){if(we=j.shared.pending,we===null)break;J=we.next,we.next=null,j.lastBaseUpdate=we,j.shared.pending=null}}while(1);Rn===null&&(De=ar),j.baseState=De,j.firstBaseUpdate=jt,j.lastBaseUpdate=Rn,qm|=se,$.lanes=se,$.memoizedState=ar}}function p$($,b,I){if($=b.effects,b.effects=null,$!==null)for(b=0;b<$.length;b++){var U=$[b],j=U.callback;if(j!==null){if(U.callback=null,U=I,typeof j!="function")throw Error(_(191,j));j.call(U)}}}var q2=new l.Component().refs;function Hg($,b,I,U){b=$.memoizedState,I=I(U,b),I=I==null?b:a({},b,I),$.memoizedState=I,$.lanes===0&&($.updateQueue.baseState=I)}var Vg={isMounted:function($){return($=$._reactInternals)?_e($)===$:!1},enqueueSetState:function($,b,I){$=$._reactInternals;var U=pl(),j=wa($),J=_p(U,j);J.payload=b,I!=null&&(J.callback=I),fp($,J),cf($,j,U)},enqueueReplaceState:function($,b,I){$=$._reactInternals;var U=pl(),j=wa($),J=_p(U,j);J.tag=1,J.payload=b,I!=null&&(J.callback=I),fp($,J),cf($,j,U)},enqueueForceUpdate:function($,b){$=$._reactInternals;var I=pl(),U=wa($),j=_p(I,U);j.tag=2,b!=null&&(j.callback=b),fp($,j),cf($,U,I)}};function Rm($,b,I,U,j,J,se){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(U,J,se):b.prototype&&b.prototype.isPureReactComponent?!Oh(I,U)||!Oh(j,J):!0}function h$($,b,I){var U=!1,j=oa,J=b.contextType;return typeof J=="object"&&J!==null?J=Au(J):(j=ll(b)?Bi:or.current,U=b.contextTypes,J=(U=U!=null)?ji($,j):oa),b=new b(I,J),$.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Vg,$.stateNode=b,b._reactInternals=$,U&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=j,$.__reactInternalMemoizedMaskedChildContext=J),b}function M1($,b,I,U){$=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(I,U),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(I,U),b.state!==$&&Vg.enqueueReplaceState(b,b.state,null)}function _l($,b,I,U){var j=$.stateNode;j.props=I,j.state=$.memoizedState,j.refs=q2,ka($);var J=b.contextType;typeof J=="object"&&J!==null?j.context=Au(J):(J=ll(b)?Bi:or.current,j.context=ji($,J)),Nm($,I,j,U),j.state=$.memoizedState,J=b.getDerivedStateFromProps,typeof J=="function"&&(Hg($,b,J,I),j.state=$.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(b=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),b!==j.state&&Vg.enqueueReplaceState(j,j.state,null),Nm($,I,j,U),j.state=$.memoizedState),typeof j.componentDidMount=="function"&&($.flags|=4)}var qg=Array.isArray;function Pm($,b,I){if($=I.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(I._owner){if(I=I._owner,I){if(I.tag!==1)throw Error(_(309));var U=I.stateNode}if(!U)throw Error(_(147,$));var j=""+$;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===j?b.ref:(b=function(J){var se=U.refs;se===q2&&(se=U.refs={}),J===null?delete se[j]:se[j]=J},b._stringRef=j,b)}if(typeof $!="string")throw Error(_(284));if(!I._owner)throw Error(_(290,$))}return $}function d$($,b){if($.type!=="textarea")throw Error(_(31,Object.prototype.toString.call(b)==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":b))}function pp($){function b(Fe,Ae){if($){var Ve=Fe.lastEffect;Ve!==null?(Ve.nextEffect=Ae,Fe.lastEffect=Ae):Fe.firstEffect=Fe.lastEffect=Ae,Ae.nextEffect=null,Ae.flags=8}}function I(Fe,Ae){if(!$)return null;for(;Ae!==null;)b(Fe,Ae),Ae=Ae.sibling;return null}function U(Fe,Ae){for(Fe=new Map;Ae!==null;)Ae.key!==null?Fe.set(Ae.key,Ae):Fe.set(Ae.index,Ae),Ae=Ae.sibling;return Fe}function j(Fe,Ae){return Fe=mp(Fe,Ae),Fe.index=0,Fe.sibling=null,Fe}function J(Fe,Ae,Ve){return Fe.index=Ve,$?(Ve=Fe.alternate,Ve!==null?(Ve=Ve.index,Ve<Ae?(Fe.flags=2,Ae):Ve):(Fe.flags=2,Ae)):Ae}function se(Fe){return $&&Fe.alternate===null&&(Fe.flags=2),Fe}function we(Fe,Ae,Ve,Ht){return Ae===null||Ae.tag!==6?(Ae=F(Ve,Fe.mode,Ht),Ae.return=Fe,Ae):(Ae=j(Ae,Ve),Ae.return=Fe,Ae)}function De(Fe,Ae,Ve,Ht){return Ae!==null&&Ae.elementType===Ve.type?(Ht=j(Ae,Ve.props),Ht.ref=Pm(Fe,Ae,Ve),Ht.return=Fe,Ht):(Ht=hl(Ve.type,Ve.key,Ve.props,null,Fe.mode,Ht),Ht.ref=Pm(Fe,Ae,Ve),Ht.return=Fe,Ht)}function jt(Fe,Ae,Ve,Ht){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Ve.containerInfo||Ae.stateNode.implementation!==Ve.implementation?(Ae=O$(Ve,Fe.mode,Ht),Ae.return=Fe,Ae):(Ae=j(Ae,Ve.children||[]),Ae.return=Fe,Ae)}function Rn(Fe,Ae,Ve,Ht,jn){return Ae===null||Ae.tag!==7?(Ae=xc(Ve,Fe.mode,Ht,jn),Ae.return=Fe,Ae):(Ae=j(Ae,Ve),Ae.return=Fe,Ae)}function ar(Fe,Ae,Ve){if(typeof Ae=="string"||typeof Ae=="number")return Ae=F(""+Ae,Fe.mode,Ve),Ae.return=Fe,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case h:return Ve=hl(Ae.type,Ae.key,Ae.props,null,Fe.mode,Ve),Ve.ref=Pm(Fe,null,Ae),Ve.return=Fe,Ve;case d:return Ae=O$(Ae,Fe.mode,Ve),Ae.return=Fe,Ae}if(qg(Ae)||Y(Ae))return Ae=xc(Ae,Fe.mode,Ve,null),Ae.return=Fe,Ae;d$(Fe,Ae)}return null}function Zt(Fe,Ae,Ve,Ht){var jn=Ae!==null?Ae.key:null;if(typeof Ve=="string"||typeof Ve=="number")return jn!==null?null:we(Fe,Ae,""+Ve,Ht);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case h:return Ve.key===jn?Ve.type===m?Rn(Fe,Ae,Ve.props.children,Ht,jn):De(Fe,Ae,Ve,Ht):null;case d:return Ve.key===jn?jt(Fe,Ae,Ve,Ht):null}if(qg(Ve)||Y(Ve))return jn!==null?null:Rn(Fe,Ae,Ve,Ht,null);d$(Fe,Ve)}return null}function pi(Fe,Ae,Ve,Ht,jn){if(typeof Ht=="string"||typeof Ht=="number")return Fe=Fe.get(Ve)||null,we(Ae,Fe,""+Ht,jn);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case h:return Fe=Fe.get(Ht.key===null?Ve:Ht.key)||null,Ht.type===m?Rn(Ae,Fe,Ht.props.children,jn,Ht.key):De(Ae,Fe,Ht,jn);case d:return Fe=Fe.get(Ht.key===null?Ve:Ht.key)||null,jt(Ae,Fe,Ht,jn)}if(qg(Ht)||Y(Ht))return Fe=Fe.get(Ve)||null,Rn(Ae,Fe,Ht,jn,null);d$(Ae,Ht)}return null}function Zr(Fe,Ae,Ve,Ht){for(var jn=null,Li=null,Pn=Ae,Xr=Ae=0,Yr=null;Pn!==null&&Xr<Ve.length;Xr++){Pn.index>Xr?(Yr=Pn,Pn=null):Yr=Pn.sibling;var Ir=Zt(Fe,Pn,Ve[Xr],Ht);if(Ir===null){Pn===null&&(Pn=Yr);break}$&&Pn&&Ir.alternate===null&&b(Fe,Pn),Ae=J(Ir,Ae,Xr),Li===null?jn=Ir:Li.sibling=Ir,Li=Ir,Pn=Yr}if(Xr===Ve.length)return I(Fe,Pn),jn;if(Pn===null){for(;Xr<Ve.length;Xr++)Pn=ar(Fe,Ve[Xr],Ht),Pn!==null&&(Ae=J(Pn,Ae,Xr),Li===null?jn=Pn:Li.sibling=Pn,Li=Pn);return jn}for(Pn=U(Fe,Pn);Xr<Ve.length;Xr++)Yr=pi(Pn,Fe,Xr,Ve[Xr],Ht),Yr!==null&&($&&Yr.alternate!==null&&Pn.delete(Yr.key===null?Xr:Yr.key),Ae=J(Yr,Ae,Xr),Li===null?jn=Yr:Li.sibling=Yr,Li=Yr);return $&&Pn.forEach(function(Ru){return b(Fe,Ru)}),jn}function xi(Fe,Ae,Ve,Ht){var jn=Y(Ve);if(typeof jn!="function")throw Error(_(150));if(Ve=jn.call(Ve),Ve==null)throw Error(_(151));for(var Li=jn=null,Pn=Ae,Xr=Ae=0,Yr=null,Ir=Ve.next();Pn!==null&&!Ir.done;Xr++,Ir=Ve.next()){Pn.index>Xr?(Yr=Pn,Pn=null):Yr=Pn.sibling;var Ru=Zt(Fe,Pn,Ir.value,Ht);if(Ru===null){Pn===null&&(Pn=Yr);break}$&&Pn&&Ru.alternate===null&&b(Fe,Pn),Ae=J(Ru,Ae,Xr),Li===null?jn=Ru:Li.sibling=Ru,Li=Ru,Pn=Yr}if(Ir.done)return I(Fe,Pn),jn;if(Pn===null){for(;!Ir.done;Xr++,Ir=Ve.next())Ir=ar(Fe,Ir.value,Ht),Ir!==null&&(Ae=J(Ir,Ae,Xr),Li===null?jn=Ir:Li.sibling=Ir,Li=Ir);return jn}for(Pn=U(Fe,Pn);!Ir.done;Xr++,Ir=Ve.next())Ir=pi(Pn,Fe,Xr,Ir.value,Ht),Ir!==null&&($&&Ir.alternate!==null&&Pn.delete(Ir.key===null?Xr:Ir.key),Ae=J(Ir,Ae,Xr),Li===null?jn=Ir:Li.sibling=Ir,Li=Ir);return $&&Pn.forEach(function(ml){return b(Fe,ml)}),jn}return function(Fe,Ae,Ve,Ht){var jn=typeof Ve=="object"&&Ve!==null&&Ve.type===m&&Ve.key===null;jn&&(Ve=Ve.props.children);var Li=typeof Ve=="object"&&Ve!==null;if(Li)switch(Ve.$$typeof){case h:e:{for(Li=Ve.key,jn=Ae;jn!==null;){if(jn.key===Li){switch(jn.tag){case 7:if(Ve.type===m){I(Fe,jn.sibling),Ae=j(jn,Ve.props.children),Ae.return=Fe,Fe=Ae;break e}break;default:if(jn.elementType===Ve.type){I(Fe,jn.sibling),Ae=j(jn,Ve.props),Ae.ref=Pm(Fe,jn,Ve),Ae.return=Fe,Fe=Ae;break e}}I(Fe,jn);break}else b(Fe,jn);jn=jn.sibling}Ve.type===m?(Ae=xc(Ve.props.children,Fe.mode,Ht,Ve.key),Ae.return=Fe,Fe=Ae):(Ht=hl(Ve.type,Ve.key,Ve.props,null,Fe.mode,Ht),Ht.ref=Pm(Fe,Ae,Ve),Ht.return=Fe,Fe=Ht)}return se(Fe);case d:e:{for(jn=Ve.key;Ae!==null;){if(Ae.key===jn)if(Ae.tag===4&&Ae.stateNode.containerInfo===Ve.containerInfo&&Ae.stateNode.implementation===Ve.implementation){I(Fe,Ae.sibling),Ae=j(Ae,Ve.children||[]),Ae.return=Fe,Fe=Ae;break e}else{I(Fe,Ae);break}else b(Fe,Ae);Ae=Ae.sibling}Ae=O$(Ve,Fe.mode,Ht),Ae.return=Fe,Fe=Ae}return se(Fe)}if(typeof Ve=="string"||typeof Ve=="number")return Ve=""+Ve,Ae!==null&&Ae.tag===6?(I(Fe,Ae.sibling),Ae=j(Ae,Ve),Ae.return=Fe,Fe=Ae):(I(Fe,Ae),Ae=F(Ve,Fe.mode,Ht),Ae.return=Fe,Fe=Ae),se(Fe);if(qg(Ve))return Zr(Fe,Ae,Ve,Ht);if(Y(Ve))return xi(Fe,Ae,Ve,Ht);if(Li&&d$(Fe,Ve),typeof Ve=="undefined"&&!jn)switch(Fe.tag){case 1:case 22:case 0:case 11:case 15:throw Error(_(152,ue(Fe.type)||"Component"))}return I(Fe,Ae)}}var m$=pp(!0),gc=pp(!1),zh={},Ul=qa(zh),jl=qa(zh),Bm=qa(zh);function f_($){if($===zh)throw Error(_(174));return $}function N1($,b){ii(Bm,b),ii(jl,$),ii(Ul,zh),$=Je(b),Br(Ul),ii(Ul,$)}function Fm(){Br(Ul),Br(jl),Br(Bm)}function R1($){var b=f_(Bm.current),I=f_(Ul.current);b=ve(I,$.type,b),I!==b&&(ii(jl,$),ii(Ul,b))}function Kg($){jl.current===$&&(Br(Ul),Br(jl))}var Fo=qa(0);function yc($){for(var b=$;b!==null;){if(b.tag===13){var I=b.memoizedState;if(I!==null&&(I=I.dehydrated,I===null||Xe(I)||je(I)))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&64)!=0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===$)break;for(;b.sibling===null;){if(b.return===null||b.return===$)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var of=null,hp=null,kc=!1;function Jg($,b){var I=wi(5,null,null,0);I.elementType="DELETED",I.type="DELETED",I.stateNode=b,I.return=$,I.flags=8,$.lastEffect!==null?($.lastEffect.nextEffect=I,$.lastEffect=I):$.firstEffect=$.lastEffect=I}function K2($,b){switch($.tag){case 5:return b=oe(b,$.type,$.pendingProps),b!==null?($.stateNode=b,!0):!1;case 6:return b=Oe(b,$.pendingProps),b!==null?($.stateNode=b,!0):!1;case 13:return!1;default:return!1}}function P1($){if(kc){var b=hp;if(b){var I=b;if(!K2($,b)){if(b=st(I),!b||!K2($,b)){$.flags=$.flags&-1025|2,kc=!1,of=$;return}Jg(of,I)}of=$,hp=er(b)}else $.flags=$.flags&-1025|2,kc=!1,of=$}}function J2($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;of=$}function v$($){if(!Mt||$!==of)return!1;if(!kc)return J2($),kc=!0,!1;var b=$.type;if($.tag!==5||b!=="head"&&b!=="body"&&!mn(b,$.memoizedProps))for(b=hp;b;)Jg($,b),b=st(b);if(J2($),$.tag===13){if(!Mt)throw Error(_(316));if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(_(317));hp=Hn($)}else hp=of?st($.stateNode):null;return!0}function B1(){Mt&&(hp=of=null,kc=!1)}var af=[];function Lm(){for(var $=0;$<af.length;$++){var b=af[$];mt?b._workInProgressVersionPrimary=null:b._workInProgressVersionSecondary=null}af.length=0}var Xg=f.ReactCurrentDispatcher,Tu=f.ReactCurrentBatchConfig,Uh=0,lo=null,Oa=null,Xa=null,g$=!1,Yg=!1;function sa(){throw Error(_(321))}function F1($,b){if(b===null)return!1;for(var I=0;I<b.length&&I<$.length;I++)if(!Ol($[I],b[I]))return!1;return!0}function L1($,b,I,U,j,J){if(Uh=J,lo=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,Xg.current=$===null||$.memoizedState===null?GD:WD,$=I(U,j),Yg){J=0;do{if(Yg=!1,!(25>J))throw Error(_(301));J+=1,Xa=Oa=null,b.updateQueue=null,Xg.current=tT,$=I(U,j)}while(Yg)}if(Xg.current=Ya,b=Oa!==null&&Oa.next!==null,Uh=0,Xa=Oa=lo=null,g$=!1,b)throw Error(_(300));return $}function jh(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xa===null?lo.memoizedState=Xa=$:Xa=Xa.next=$,Xa}function dp(){if(Oa===null){var $=lo.alternate;$=$!==null?$.memoizedState:null}else $=Oa.next;var b=Xa===null?lo.memoizedState:Xa.next;if(b!==null)Xa=b,Oa=$;else{if($===null)throw Error(_(310));Oa=$,$={memoizedState:Oa.memoizedState,baseState:Oa.baseState,baseQueue:Oa.baseQueue,queue:Oa.queue,next:null},Xa===null?lo.memoizedState=Xa=$:Xa=Xa.next=$}return Xa}function p_($,b){return typeof b=="function"?b($):b}function Dm($){var b=dp(),I=b.queue;if(I===null)throw Error(_(311));I.lastRenderedReducer=$;var U=Oa,j=U.baseQueue,J=I.pending;if(J!==null){if(j!==null){var se=j.next;j.next=J.next,J.next=se}U.baseQueue=j=J,I.pending=null}if(j!==null){j=j.next,U=U.baseState;var we=se=J=null,De=j;do{var jt=De.lane;if((Uh&jt)===jt)we!==null&&(we=we.next={lane:0,action:De.action,eagerReducer:De.eagerReducer,eagerState:De.eagerState,next:null}),U=De.eagerReducer===$?De.eagerState:$(U,De.action);else{var Rn={lane:jt,action:De.action,eagerReducer:De.eagerReducer,eagerState:De.eagerState,next:null};we===null?(se=we=Rn,J=U):we=we.next=Rn,lo.lanes|=jt,qm|=jt}De=De.next}while(De!==null&&De!==j);we===null?J=U:we.next=se,Ol(U,b.memoizedState)||(Gl=!0),b.memoizedState=U,b.baseState=J,b.baseQueue=we,I.lastRenderedState=U}return[b.memoizedState,I.dispatch]}function Om($){var b=dp(),I=b.queue;if(I===null)throw Error(_(311));I.lastRenderedReducer=$;var U=I.dispatch,j=I.pending,J=b.memoizedState;if(j!==null){I.pending=null;var se=j=j.next;do J=$(J,se.action),se=se.next;while(se!==j);Ol(J,b.memoizedState)||(Gl=!0),b.memoizedState=J,b.baseQueue===null&&(b.baseState=J),I.lastRenderedState=J}return[J,U]}function D1($,b,I){var U=b._getVersion;U=U(b._source);var j=mt?b._workInProgressVersionPrimary:b._workInProgressVersionSecondary;if(j!==null?$=j===U:($=$.mutableReadLanes,($=(Uh&$)===$)&&(mt?b._workInProgressVersionPrimary=U:b._workInProgressVersionSecondary=U,af.push(b))),$)return I(b._source);throw af.push(b),Error(_(350))}function O1($,b,I,U){var j=zs;if(j===null)throw Error(_(349));var J=b._getVersion,se=J(b._source),we=Xg.current,De=we.useState(function(){return D1(j,b,I)}),jt=De[1],Rn=De[0];De=Xa;var ar=$.memoizedState,Zt=ar.refs,pi=Zt.getSnapshot,Zr=ar.source;ar=ar.subscribe;var xi=lo;return $.memoizedState={refs:Zt,source:b,subscribe:U},we.useEffect(function(){Zt.getSnapshot=I,Zt.setSnapshot=jt;var Fe=J(b._source);if(!Ol(se,Fe)){Fe=I(b._source),Ol(Rn,Fe)||(jt(Fe),Fe=wa(xi),j.mutableReadLanes|=Fe&j.pendingLanes),Fe=j.mutableReadLanes,j.entangledLanes|=Fe;for(var Ae=j.entanglements,Ve=Fe;0<Ve;){var Ht=31-ul(Ve),jn=1<<Ht;Ae[Ht]|=Fe,Ve&=~jn}}},[I,b,U]),we.useEffect(function(){return U(b._source,function(){var Fe=Zt.getSnapshot,Ae=Zt.setSnapshot;try{Ae(Fe(b._source));var Ve=wa(xi);j.mutableReadLanes|=Ve&j.pendingLanes}catch(Ht){Ae(function(){throw Ht})}})},[b,U]),Ol(pi,I)&&Ol(Zr,b)&&Ol(ar,U)||($={pending:null,dispatch:null,lastRenderedReducer:p_,lastRenderedState:Rn},$.dispatch=jt=H1.bind(null,lo,$),De.queue=$,De.baseQueue=null,Rn=D1(j,b,I),De.memoizedState=De.baseState=Rn),Rn}function X2($,b,I){var U=dp();return O1(U,$,b,I)}function zm($){var b=jh();return typeof $=="function"&&($=$()),b.memoizedState=b.baseState=$,$=b.queue={pending:null,dispatch:null,lastRenderedReducer:p_,lastRenderedState:$},$=$.dispatch=H1.bind(null,lo,$),[b.memoizedState,$]}function Qg($,b,I,U){return $={tag:$,create:b,destroy:I,deps:U,next:null},b=lo.updateQueue,b===null?(b={lastEffect:null},lo.updateQueue=b,b.lastEffect=$.next=$):(I=b.lastEffect,I===null?b.lastEffect=$.next=$:(U=I.next,I.next=$,$.next=U,b.lastEffect=$)),$}function Y2($){var b=jh();return $={current:$},b.memoizedState=$}function Zg(){return dp().memoizedState}function z1($,b,I,U){var j=jh();lo.flags|=$,j.memoizedState=Qg(1|b,I,void 0,U===void 0?null:U)}function U1($,b,I,U){var j=dp();U=U===void 0?null:U;var J=void 0;if(Oa!==null){var se=Oa.memoizedState;if(J=se.destroy,U!==null&&F1(U,se.deps)){Qg(b,I,J,U);return}}lo.flags|=$,j.memoizedState=Qg(1|b,I,J,U)}function Q2($,b){return z1(516,4,$,b)}function y$($,b){return U1(516,4,$,b)}function j1($,b){return U1(4,2,$,b)}function Z2($,b){if(typeof b=="function")return $=$(),b($),function(){b(null)};if(b!=null)return $=$(),b.current=$,function(){b.current=null}}function G1($,b,I){return I=I!=null?I.concat([$]):null,U1(4,2,Z2.bind(null,b,$),I)}function ey(){}function eT($,b){var I=dp();b=b===void 0?null:b;var U=I.memoizedState;return U!==null&&b!==null&&F1(b,U[1])?U[0]:(I.memoizedState=[$,b],$)}function W1($,b){var I=dp();b=b===void 0?null:b;var U=I.memoizedState;return U!==null&&b!==null&&F1(b,U[1])?U[0]:($=$(),I.memoizedState=[$,b],$)}function jD($,b){var I=Cu();nf(98>I?98:I,function(){$(!0)}),nf(97<I?97:I,function(){var U=Tu.transition;Tu.transition=1;try{$(!1),b()}finally{Tu.transition=U}})}function H1($,b,I){var U=pl(),j=wa($),J={lane:j,action:I,eagerReducer:null,eagerState:null,next:null},se=b.pending;if(se===null?J.next=J:(J.next=se.next,se.next=J),b.pending=J,se=$.alternate,$===lo||se!==null&&se===lo)Yg=g$=!0;else{if($.lanes===0&&(se===null||se.lanes===0)&&(se=b.lastRenderedReducer,se!==null))try{var we=b.lastRenderedState,De=se(we,I);if(J.eagerReducer=se,J.eagerState=De,Ol(De,we))return}catch{}finally{}cf($,j,U)}}var Ya={readContext:Au,useCallback:sa,useContext:sa,useEffect:sa,useImperativeHandle:sa,useLayoutEffect:sa,useMemo:sa,useReducer:sa,useRef:sa,useState:sa,useDebugValue:sa,useDeferredValue:sa,useTransition:sa,useMutableSource:sa,useOpaqueIdentifier:sa,unstable_isNewReconciler:!1},GD={readContext:Au,useCallback:function($,b){return jh().memoizedState=[$,b===void 0?null:b],$},useContext:Au,useEffect:Q2,useImperativeHandle:function($,b,I){return I=I!=null?I.concat([$]):null,z1(4,2,Z2.bind(null,b,$),I)},useLayoutEffect:function($,b){return z1(4,2,$,b)},useMemo:function($,b){var I=jh();return b=b===void 0?null:b,$=$(),I.memoizedState=[$,b],$},useReducer:function($,b,I){var U=jh();return b=I!==void 0?I(b):b,U.memoizedState=U.baseState=b,$=U.queue={pending:null,dispatch:null,lastRenderedReducer:$,lastRenderedState:b},$=$.dispatch=H1.bind(null,lo,$),[U.memoizedState,$]},useRef:Y2,useState:zm,useDebugValue:ey,useDeferredValue:function($){var b=zm($),I=b[0],U=b[1];return Q2(function(){var j=Tu.transition;Tu.transition=1;try{U($)}finally{Tu.transition=j}},[$]),I},useTransition:function(){var $=zm(!1),b=$[0];return $=jD.bind(null,$[1]),Y2($),[$,b]},useMutableSource:function($,b,I){var U=jh();return U.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:$,subscribe:I},O1(U,$,b,I)},useOpaqueIdentifier:function(){if(kc){var $=!1,b=Kn(function(){throw $||($=!0,I(pr())),Error(_(355))}),I=zm(b)[1];return(lo.mode&2)==0&&(lo.flags|=516,Qg(5,function(){I(pr())},void 0,null)),b}return b=pr(),zm(b),b},unstable_isNewReconciler:!1},WD={readContext:Au,useCallback:eT,useContext:Au,useEffect:y$,useImperativeHandle:G1,useLayoutEffect:j1,useMemo:W1,useReducer:Dm,useRef:Zg,useState:function(){return Dm(p_)},useDebugValue:ey,useDeferredValue:function($){var b=Dm(p_),I=b[0],U=b[1];return y$(function(){var j=Tu.transition;Tu.transition=1;try{U($)}finally{Tu.transition=j}},[$]),I},useTransition:function(){var $=Dm(p_)[0];return[Zg().current,$]},useMutableSource:X2,useOpaqueIdentifier:function(){return Dm(p_)[0]},unstable_isNewReconciler:!1},tT={readContext:Au,useCallback:eT,useContext:Au,useEffect:y$,useImperativeHandle:G1,useLayoutEffect:j1,useMemo:W1,useReducer:Om,useRef:Zg,useState:function(){return Om(p_)},useDebugValue:ey,useDeferredValue:function($){var b=Om(p_),I=b[0],U=b[1];return y$(function(){var j=Tu.transition;Tu.transition=1;try{U($)}finally{Tu.transition=j}},[$]),I},useTransition:function(){var $=Om(p_)[0];return[Zg().current,$]},useMutableSource:X2,useOpaqueIdentifier:function(){return Om(p_)[0]},unstable_isNewReconciler:!1},nT=f.ReactCurrentOwner,Gl=!1;function ms($,b,I,U){b.child=$===null?gc(b,null,I,U):m$(b,$.child,I,U)}function V1($,b,I,U,j){I=I.render;var J=b.ref;return Mm(b,j),U=L1($,b,I,U,J,j),$!==null&&!Gl?(b.updateQueue=$.updateQueue,b.flags&=-517,$.lanes&=~j,sf($,b,j)):(b.flags|=1,ms($,b,U,j),b.child)}function q1($,b,I,U,j,J){if($===null){var se=I.type;return typeof se=="function"&&!D$(se)&&se.defaultProps===void 0&&I.compare===null&&I.defaultProps===void 0?(b.tag=15,b.type=se,ty($,b,se,U,j,J)):($=hl(I.type,null,U,b,b.mode,J),$.ref=b.ref,$.return=b,b.child=$)}return se=$.child,(j&J)==0&&(j=se.memoizedProps,I=I.compare,I=I!==null?I:Oh,I(j,U)&&$.ref===b.ref)?sf($,b,J):(b.flags|=1,$=mp(se,U),$.ref=b.ref,$.return=b,b.child=$)}function ty($,b,I,U,j,J){if($!==null&&Oh($.memoizedProps,U)&&$.ref===b.ref)if(Gl=!1,(J&j)!=0)($.flags&16384)!=0&&(Gl=!0);else return b.lanes=$.lanes,sf($,b,J);return jm($,b,I,U,J)}function Um($,b,I){var U=b.pendingProps,j=U.children,J=$!==null?$.memoizedState:null;if(U.mode==="hidden"||U.mode==="unstable-defer-without-hiding")if((b.mode&4)==0)b.memoizedState={baseLanes:0},P$(b,I);else if((I&1073741824)!=0)b.memoizedState={baseLanes:0},P$(b,J!==null?J.baseLanes:I);else return $=J!==null?J.baseLanes|I:I,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:$},P$(b,$),null;else J!==null?(U=J.baseLanes|I,b.memoizedState=null):U=I,P$(b,U);return ms($,b,j,I),b.child}function rT($,b){var I=b.ref;($===null&&I!==null||$!==null&&$.ref!==I)&&(b.flags|=128)}function jm($,b,I,U,j){var J=ll(I)?Bi:or.current;return J=ji(b,J),Mm(b,j),I=L1($,b,I,U,J,j),$!==null&&!Gl?(b.updateQueue=$.updateQueue,b.flags&=-517,$.lanes&=~j,sf($,b,j)):(b.flags|=1,ms($,b,I,j),b.child)}function iT($,b,I,U,j){if(ll(I)){var J=!0;aa(b)}else J=!1;if(Mm(b,j),b.stateNode===null)$!==null&&($.alternate=null,b.alternate=null,b.flags|=2),h$(b,I,U),_l(b,I,U,j),U=!0;else if($===null){var se=b.stateNode,we=b.memoizedProps;se.props=we;var De=se.context,jt=I.contextType;typeof jt=="object"&&jt!==null?jt=Au(jt):(jt=ll(I)?Bi:or.current,jt=ji(b,jt));var Rn=I.getDerivedStateFromProps,ar=typeof Rn=="function"||typeof se.getSnapshotBeforeUpdate=="function";ar||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(we!==U||De!==jt)&&M1(b,se,U,jt),zl=!1;var Zt=b.memoizedState;se.state=Zt,Nm(b,U,se,j),De=b.memoizedState,we!==U||Zt!==De||bo.current||zl?(typeof Rn=="function"&&(Hg(b,I,Rn,U),De=b.memoizedState),(we=zl||Rm(b,I,we,U,Zt,De,jt))?(ar||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(b.flags|=4)):(typeof se.componentDidMount=="function"&&(b.flags|=4),b.memoizedProps=U,b.memoizedState=De),se.props=U,se.state=De,se.context=jt,U=we):(typeof se.componentDidMount=="function"&&(b.flags|=4),U=!1)}else{se=b.stateNode,__($,b),we=b.memoizedProps,jt=b.type===b.elementType?we:Kr(b.type,we),se.props=jt,ar=b.pendingProps,Zt=se.context,De=I.contextType,typeof De=="object"&&De!==null?De=Au(De):(De=ll(I)?Bi:or.current,De=ji(b,De));var pi=I.getDerivedStateFromProps;(Rn=typeof pi=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(we!==ar||Zt!==De)&&M1(b,se,U,De),zl=!1,Zt=b.memoizedState,se.state=Zt,Nm(b,U,se,j);var Zr=b.memoizedState;we!==ar||Zt!==Zr||bo.current||zl?(typeof pi=="function"&&(Hg(b,I,pi,U),Zr=b.memoizedState),(jt=zl||Rm(b,I,jt,U,Zt,Zr,De))?(Rn||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(U,Zr,De),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(U,Zr,De)),typeof se.componentDidUpdate=="function"&&(b.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(b.flags|=256)):(typeof se.componentDidUpdate!="function"||we===$.memoizedProps&&Zt===$.memoizedState||(b.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||we===$.memoizedProps&&Zt===$.memoizedState||(b.flags|=256),b.memoizedProps=U,b.memoizedState=Zr),se.props=U,se.state=Zr,se.context=De,U=jt):(typeof se.componentDidUpdate!="function"||we===$.memoizedProps&&Zt===$.memoizedState||(b.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||we===$.memoizedProps&&Zt===$.memoizedState||(b.flags|=256),U=!1)}return K1($,b,I,U,J,j)}function K1($,b,I,U,j,J){rT($,b);var se=(b.flags&64)!=0;if(!U&&!se)return j&&Da(b,I,!1),sf($,b,J);U=b.stateNode,nT.current=b;var we=se&&typeof I.getDerivedStateFromError!="function"?null:U.render();return b.flags|=1,$!==null&&se?(b.child=m$(b,$.child,null,J),b.child=m$(b,null,we,J)):ms($,b,we,J),b.memoizedState=U.state,j&&Da(b,I,!0),b.child}function J1($){var b=$.stateNode;b.pendingContext?n$($,b.pendingContext,b.pendingContext!==b.context):b.context&&n$($,b.context,!1),N1($,b.containerInfo)}var k$={dehydrated:null,retryLane:0};function oT($,b,I){var U=b.pendingProps,j=Fo.current,J=!1,se;return(se=(b.flags&64)!=0)||(se=$!==null&&$.memoizedState===null?!1:(j&2)!=0),se?(J=!0,b.flags&=-65):$!==null&&$.memoizedState===null||U.fallback===void 0||U.unstable_avoidThisFallback===!0||(j|=1),ii(Fo,j&1),$===null?(U.fallback!==void 0&&P1(b),$=U.children,j=U.fallback,J?($=X1(b,$,j,I),b.child.memoizedState={baseLanes:I},b.memoizedState=k$,$):typeof U.unstable_expectedLoadTime=="number"?($=X1(b,$,j,I),b.child.memoizedState={baseLanes:I},b.memoizedState=k$,b.lanes=33554432,$):(I=vy({mode:"visible",children:$},b.mode,I,null),I.return=b,b.child=I)):$.memoizedState!==null?J?(U=ry($,b,U.children,U.fallback,I),J=b.child,j=$.child.memoizedState,J.memoizedState=j===null?{baseLanes:I}:{baseLanes:j.baseLanes|I},J.childLanes=$.childLanes&~I,b.memoizedState=k$,U):(I=ny($,b,U.children,I),b.memoizedState=null,I):J?(U=ry($,b,U.children,U.fallback,I),J=b.child,j=$.child.memoizedState,J.memoizedState=j===null?{baseLanes:I}:{baseLanes:j.baseLanes|I},J.childLanes=$.childLanes&~I,b.memoizedState=k$,U):(I=ny($,b,U.children,I),b.memoizedState=null,I)}function X1($,b,I,U){var j=$.mode,J=$.child;return b={mode:"hidden",children:b},(j&2)==0&&J!==null?(J.childLanes=0,J.pendingProps=b):J=vy(b,j,0,null),I=xc(I,j,U,null),J.return=$,I.return=$,J.sibling=I,$.child=J,I}function ny($,b,I,U){var j=$.child;return $=j.sibling,I=mp(j,{mode:"visible",children:I}),(b.mode&2)==0&&(I.lanes=U),I.return=b,I.sibling=null,$!==null&&($.nextEffect=null,$.flags=8,b.firstEffect=b.lastEffect=$),b.child=I}function ry($,b,I,U,j){var J=b.mode,se=$.child;$=se.sibling;var we={mode:"hidden",children:I};return(J&2)==0&&b.child!==se?(I=b.child,I.childLanes=0,I.pendingProps=we,se=I.lastEffect,se!==null?(b.firstEffect=I.firstEffect,b.lastEffect=se,se.nextEffect=null):b.firstEffect=b.lastEffect=null):I=mp(se,we),$!==null?U=mp($,U):(U=xc(U,J,j,null),U.flags|=2),U.return=b,I.return=b,I.sibling=U,b.child=I,U}function iy($,b){$.lanes|=b;var I=$.alternate;I!==null&&(I.lanes|=b),V2($.return,b)}function Y1($,b,I,U,j,J){var se=$.memoizedState;se===null?$.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:U,tail:I,tailMode:j,lastEffect:J}:(se.isBackwards=b,se.rendering=null,se.renderingStartTime=0,se.last=U,se.tail=I,se.tailMode=j,se.lastEffect=J)}function aT($,b,I){var U=b.pendingProps,j=U.revealOrder,J=U.tail;if(ms($,b,U.children,I),U=Fo.current,(U&2)!=0)U=U&1|2,b.flags|=64;else{if($!==null&&($.flags&64)!=0)e:for($=b.child;$!==null;){if($.tag===13)$.memoizedState!==null&&iy($,I);else if($.tag===19)iy($,I);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===b)break e;for(;$.sibling===null;){if($.return===null||$.return===b)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}U&=1}if(ii(Fo,U),(b.mode&2)==0)b.memoizedState=null;else switch(j){case"forwards":for(I=b.child,j=null;I!==null;)$=I.alternate,$!==null&&yc($)===null&&(j=I),I=I.sibling;I=j,I===null?(j=b.child,b.child=null):(j=I.sibling,I.sibling=null),Y1(b,!1,j,I,J,b.lastEffect);break;case"backwards":for(I=null,j=b.child,b.child=null;j!==null;){if($=j.alternate,$!==null&&yc($)===null){b.child=j;break}$=j.sibling,j.sibling=I,I=j,j=$}Y1(b,!0,I,null,J,b.lastEffect);break;case"together":Y1(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}function sf($,b,I){if($!==null&&(b.dependencies=$.dependencies),qm|=b.lanes,(I&b.childLanes)!=0){if($!==null&&b.child!==$.child)throw Error(_(153));if(b.child!==null){for($=b.child,I=mp($,$.pendingProps),b.child=I,I.return=b;$.sibling!==null;)$=$.sibling,I=I.sibling=mp($,$.pendingProps),I.return=b;I.sibling=null}return b.child}return null}function Wl($){$.flags|=4}var Gh,oy,ay,Hl;if(yt)Gh=function($,b){for(var I=b.child;I!==null;){if(I.tag===5||I.tag===6)an($,I.stateNode);else if(I.tag!==4&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===b)break;for(;I.sibling===null;){if(I.return===null||I.return===b)return;I=I.return}I.sibling.return=I.return,I=I.sibling}},oy=function(){},ay=function($,b,I,U,j){if($=$.memoizedProps,$!==U){var J=b.stateNode,se=f_(Ul.current);I=Mn(J,I,$,U,j,se),(b.updateQueue=I)&&Wl(b)}},Hl=function($,b,I,U){I!==U&&Wl(b)};else if(nn){Gh=function($,b,I,U){for(var j=b.child;j!==null;){if(j.tag===5){var J=j.stateNode;I&&U&&(J=zg(J,j.type,j.memoizedProps,j)),an($,J)}else if(j.tag===6)J=j.stateNode,I&&U&&(J=Ug(J,j.memoizedProps,j)),an($,J);else if(j.tag!==4){if(j.tag===13&&(j.flags&4)!=0&&(J=j.memoizedState!==null)){var se=j.child;if(se!==null&&(se.child!==null&&(se.child.return=se,Gh($,se,!0,J)),J=se.sibling,J!==null)){J.return=j,j=J;continue}}if(j.child!==null){j.child.return=j,j=j.child;continue}}if(j===b)break;for(;j.sibling===null;){if(j.return===null||j.return===b)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};var sT=function($,b,I,U){for(var j=b.child;j!==null;){if(j.tag===5){var J=j.stateNode;I&&U&&(J=zg(J,j.type,j.memoizedProps,j)),xm($,J)}else if(j.tag===6)J=j.stateNode,I&&U&&(J=Ug(J,j.memoizedProps,j)),xm($,J);else if(j.tag!==4){if(j.tag===13&&(j.flags&4)!=0&&(J=j.memoizedState!==null)){var se=j.child;if(se!==null&&(se.child!==null&&(se.child.return=se,sT($,se,!0,J)),J=se.sibling,J!==null)){J.return=j,j=J;continue}}if(j.child!==null){j.child.return=j,j=j.child;continue}}if(j===b)break;for(;j.sibling===null;){if(j.return===null||j.return===b)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};oy=function($){var b=$.stateNode;if($.firstEffect!==null){var I=b.containerInfo,U=t$(I);sT(U,$,!1,!1),b.pendingChildren=U,Wl($),s_(I,U)}},ay=function($,b,I,U,j){var J=$.stateNode,se=$.memoizedProps;if(($=b.firstEffect===null)&&se===U)b.stateNode=J;else{var we=b.stateNode,De=f_(Ul.current),jt=null;se!==U&&(jt=Mn(we,I,se,U,j,De)),$&&jt===null?b.stateNode=J:(J=ao(J,jt,I,se,U,b,$,we),ot(J,I,U,j,De)&&Wl(b),b.stateNode=J,$?Wl(b):Gh(J,b,!1,!1))}},Hl=function($,b,I,U){I!==U?($=f_(Bm.current),I=f_(Ul.current),b.stateNode=Gt(U,$,I,b),Wl(b)):b.stateNode=$.stateNode}}else oy=function(){},ay=function(){},Hl=function(){};function Wh($,b){if(!kc)switch($.tailMode){case"hidden":b=$.tail;for(var I=null;b!==null;)b.alternate!==null&&(I=b),b=b.sibling;I===null?$.tail=null:I.sibling=null;break;case"collapsed":I=$.tail;for(var U=null;I!==null;)I.alternate!==null&&(U=I),I=I.sibling;U===null?b||$.tail===null?$.tail=null:$.tail.sibling=null:U.sibling=null}}function lT($,b,I){var U=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ll(b.type)&&Fh(),null;case 3:return Fm(),Br(bo),Br(or),Lm(),U=b.stateNode,U.pendingContext&&(U.context=U.pendingContext,U.pendingContext=null),($===null||$.child===null)&&(v$(b)?Wl(b):U.hydrate||(b.flags|=256)),oy(b),null;case 5:Kg(b);var j=f_(Bm.current);if(I=b.type,$!==null&&b.stateNode!=null)ay($,b,I,U,j),$.ref!==b.ref&&(b.flags|=128);else{if(!U){if(b.stateNode===null)throw Error(_(166));return null}if($=f_(Ul.current),v$(b)){if(!Mt)throw Error(_(175));$=Wn(b.stateNode,b.type,b.memoizedProps,j,$,b),b.updateQueue=$,$!==null&&Wl(b)}else{var J=kt(I,U,j,$,b);Gh(J,b,!1,!1),b.stateNode=J,ot(J,I,U,j,$)&&Wl(b)}b.ref!==null&&(b.flags|=128)}return null;case 6:if($&&b.stateNode!=null)Hl($,b,$.memoizedProps,U);else{if(typeof U!="string"&&b.stateNode===null)throw Error(_(166));if($=f_(Bm.current),j=f_(Ul.current),v$(b)){if(!Mt)throw Error(_(176));kr(b.stateNode,b.memoizedProps,b)&&Wl(b)}else b.stateNode=Gt(U,$,j,b)}return null;case 13:return Br(Fo),U=b.memoizedState,(b.flags&64)!=0?(b.lanes=I,b):(U=U!==null,j=!1,$===null?b.memoizedProps.fallback!==void 0&&v$(b):j=$.memoizedState!==null,U&&!j&&(b.mode&2)!=0&&($===null&&b.memoizedProps.unstable_avoidThisFallback!==!0||(Fo.current&1)!=0?_i===0&&(_i=3):((_i===0||_i===3)&&(_i=4),zs===null||(qm&134217727)==0&&(Km&134217727)==0||Ym(zs,vs))),nn&&U&&(b.flags|=4),yt&&(U||j)&&(b.flags|=4),null);case 4:return Fm(),oy(b),$===null&&ae(b.stateNode.containerInfo),null;case 10:return I1(b),null;case 17:return ll(b.type)&&Fh(),null;case 19:if(Br(Fo),U=b.memoizedState,U===null)return null;if(j=(b.flags&64)!=0,J=U.rendering,J===null)if(j)Wh(U,!1);else{if(_i!==0||$!==null&&($.flags&64)!=0)for($=b.child;$!==null;){if(J=yc($),J!==null){for(b.flags|=64,Wh(U,!1),$=J.updateQueue,$!==null&&(b.updateQueue=$,b.flags|=4),U.lastEffect===null&&(b.firstEffect=null),b.lastEffect=U.lastEffect,$=I,U=b.child;U!==null;)j=U,I=$,j.flags&=2,j.nextEffect=null,j.firstEffect=null,j.lastEffect=null,J=j.alternate,J===null?(j.childLanes=0,j.lanes=I,j.child=null,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=J.childLanes,j.lanes=J.lanes,j.child=J.child,j.memoizedProps=J.memoizedProps,j.memoizedState=J.memoizedState,j.updateQueue=J.updateQueue,j.type=J.type,I=J.dependencies,j.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),U=U.sibling;return ii(Fo,Fo.current&1|2),b.child}$=$.sibling}U.tail!==null&&Ka()>dt&&(b.flags|=64,j=!0,Wh(U,!1),b.lanes=33554432)}else{if(!j)if($=yc(J),$!==null){if(b.flags|=64,j=!0,$=$.updateQueue,$!==null&&(b.updateQueue=$,b.flags|=4),Wh(U,!0),U.tail===null&&U.tailMode==="hidden"&&!J.alternate&&!kc)return b=b.lastEffect=U.lastEffect,b!==null&&(b.nextEffect=null),null}else 2*Ka()-U.renderingStartTime>dt&&I!==1073741824&&(b.flags|=64,j=!0,Wh(U,!1),b.lanes=33554432);U.isBackwards?(J.sibling=b.child,b.child=J):($=U.last,$!==null?$.sibling=J:b.child=J,U.last=J)}return U.tail!==null?($=U.tail,U.rendering=$,U.tail=$.sibling,U.lastEffect=b.lastEffect,U.renderingStartTime=Ka(),$.sibling=null,b=Fo.current,ii(Fo,j?b&1|2:b&1),$):null;case 23:case 24:return fy(),$!==null&&$.memoizedState!==null!=(b.memoizedState!==null)&&U.mode!=="unstable-defer-without-hiding"&&(b.flags|=4),null}throw Error(_(156,b.tag))}function uT($){switch($.tag){case 1:ll($.type)&&Fh();var b=$.flags;return b&4096?($.flags=b&-4097|64,$):null;case 3:if(Fm(),Br(bo),Br(or),Lm(),b=$.flags,(b&64)!=0)throw Error(_(285));return $.flags=b&-4097|64,$;case 5:return Kg($),null;case 13:return Br(Fo),b=$.flags,b&4096?($.flags=b&-4097|64,$):null;case 19:return Br(Fo),null;case 4:return Fm(),null;case 10:return I1($),null;case 23:case 24:return fy(),null;default:return null}}function Q1($,b){try{var I="",U=b;do I+=T1(U),U=U.return;while(U);var j=I}catch(J){j=`
Error generating stack: `+J.message+`
`+J.stack}return{value:$,source:b,stack:j}}function lf($,b){try{console.error(b.value)}catch(I){setTimeout(function(){throw I})}}var Gm=typeof WeakMap=="function"?WeakMap:Map;function Z1($,b,I){I=_p(-1,I),I.tag=3,I.payload={element:null};var U=b.value;return I.callback=function(){Dn||(Dn=!0,T$=U),lf($,b)},I}function $$($,b,I){I=_p(-1,I),I.tag=3;var U=$.type.getDerivedStateFromError;if(typeof U=="function"){var j=b.value;I.payload=function(){return lf($,b),U(j)}}var J=$.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(I.callback=function(){typeof U!="function"&&(Mu===null?Mu=new Set([this]):Mu.add(this),lf($,b));var se=b.stack;this.componentDidCatch(b.value,{componentStack:se!==null?se:""})}),I}var eS=typeof WeakSet=="function"?WeakSet:Set;function Wm($){var b=$.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(I){Nu($,I)}else b.current=null}function Hm($,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&$!==null){var I=$.memoizedProps,U=$.memoizedState;$=b.stateNode,b=$.getSnapshotBeforeUpdate(b.elementType===b.type?I:Kr(b.type,I),U),$.__reactInternalSnapshotBeforeUpdate=b}return;case 3:yt&&b.flags&256&&up(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(_(163))}function Iu($,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var I=b=b.next;do{if((I.tag&$)===$){var U=I.destroy;I.destroy=void 0,U!==void 0&&U()}I=I.next}while(I!==b)}}function HD($,b,I){switch(I.tag){case 0:case 11:case 15:case 22:if(b=I.updateQueue,b=b!==null?b.lastEffect:null,b!==null){$=b=b.next;do{if(($.tag&3)==3){var U=$.create;$.destroy=U()}$=$.next}while($!==b)}if(b=I.updateQueue,b=b!==null?b.lastEffect:null,b!==null){$=b=b.next;do{var j=$;U=j.next,j=j.tag,(j&4)!=0&&(j&1)!=0&&(Kh(I,$),hy(I,$)),$=U}while($!==b)}return;case 1:$=I.stateNode,I.flags&4&&(b===null?$.componentDidMount():(U=I.elementType===I.type?b.memoizedProps:Kr(I.type,b.memoizedProps),$.componentDidUpdate(U,b.memoizedState,$.__reactInternalSnapshotBeforeUpdate))),b=I.updateQueue,b!==null&&p$(I,b,$);return;case 3:if(b=I.updateQueue,b!==null){if($=null,I.child!==null)switch(I.child.tag){case 5:$=gt(I.child.stateNode);break;case 1:$=I.child.stateNode}p$(I,b,$)}return;case 5:$=I.stateNode,b===null&&I.flags&4&&Tt($,I.type,I.memoizedProps,I);return;case 6:return;case 4:return;case 12:return;case 13:Mt&&I.memoizedState===null&&(I=I.alternate,I!==null&&(I=I.memoizedState,I!==null&&(I=I.dehydrated,I!==null&&ir(I))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(_(163))}function cT($,b){if(yt)for(var I=$;;){if(I.tag===5){var U=I.stateNode;b?sl(U):Zk(I.stateNode,I.memoizedProps)}else if(I.tag===6)U=I.stateNode,b?ef(U):e$(U,I.memoizedProps);else if((I.tag!==23&&I.tag!==24||I.memoizedState===null||I===$)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===$)break;for(;I.sibling===null;){if(I.return===null||I.return===$)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function _T($,b){if(Lh&&typeof Lh.onCommitFiberUnmount=="function")try{Lh.onCommitFiberUnmount(Ji,b)}catch{}switch(b.tag){case 0:case 11:case 14:case 15:case 22:if($=b.updateQueue,$!==null&&($=$.lastEffect,$!==null)){var I=$=$.next;do{var U=I,j=U.destroy;if(U=U.tag,j!==void 0)if((U&4)!=0)Kh(b,I);else{U=b;try{j()}catch(J){Nu(U,J)}}I=I.next}while(I!==$)}break;case 1:if(Wm(b),$=b.stateNode,typeof $.componentWillUnmount=="function")try{$.props=b.memoizedProps,$.state=b.memoizedState,$.componentWillUnmount()}catch(J){Nu(b,J)}break;case 5:Wm(b);break;case 4:yt?Vl($,b):nn&&nn&&(b=b.stateNode.containerInfo,$=t$(b),Og(b,$))}}function $c($,b){for(var I=b;;)if(_T($,I),I.child===null||yt&&I.tag===4){if(I===b)break;for(;I.sibling===null;){if(I.return===null||I.return===b)return;I=I.return}I.sibling.return=I.return,I=I.sibling}else I.child.return=I,I=I.child}function fT($){$.alternate=null,$.child=null,$.dependencies=null,$.firstEffect=null,$.lastEffect=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.return=null,$.updateQueue=null}function pT($){return $.tag===5||$.tag===3||$.tag===4}function bc($){if(yt){e:{for(var b=$.return;b!==null;){if(pT(b))break e;b=b.return}throw Error(_(160))}var I=b;switch(b=I.stateNode,I.tag){case 5:var U=!1;break;case 3:b=b.containerInfo,U=!0;break;case 4:b=b.containerInfo,U=!0;break;default:throw Error(_(161))}I.flags&16&&(Ls(b),I.flags&=-17);e:t:for(I=$;;){for(;I.sibling===null;){if(I.return===null||pT(I.return)){I=null;break e}I=I.return}for(I.sibling.return=I.return,I=I.sibling;I.tag!==5&&I.tag!==6&&I.tag!==18;){if(I.flags&2||I.child===null||I.tag===4)continue t;I.child.return=I,I=I.child}if(!(I.flags&2)){I=I.stateNode;break e}}U?b$($,I,b):w$($,I,b)}}function b$($,b,I){var U=$.tag,j=U===5||U===6;if(j)$=j?$.stateNode:$.stateNode.instance,b?oo(I,$,b):me(I,$);else if(U!==4&&($=$.child,$!==null))for(b$($,b,I),$=$.sibling;$!==null;)b$($,b,I),$=$.sibling}function w$($,b,I){var U=$.tag,j=U===5||U===6;if(j)$=j?$.stateNode:$.stateNode.instance,b?qn(I,$,b):Dt(I,$);else if(U!==4&&($=$.child,$!==null))for(w$($,b,I),$=$.sibling;$!==null;)w$($,b,I),$=$.sibling}function Vl($,b){for(var I=b,U=!1,j,J;;){if(!U){U=I.return;e:for(;;){if(U===null)throw Error(_(160));switch(j=U.stateNode,U.tag){case 5:J=!1;break e;case 3:j=j.containerInfo,J=!0;break e;case 4:j=j.containerInfo,J=!0;break e}U=U.return}U=!0}if(I.tag===5||I.tag===6)$c($,I),J?wm(j,I.stateNode):Jo(j,I.stateNode);else if(I.tag===4){if(I.child!==null){j=I.stateNode.containerInfo,J=!0,I.child.return=I,I=I.child;continue}}else if(_T($,I),I.child!==null){I.child.return=I,I=I.child;continue}if(I===b)break;for(;I.sibling===null;){if(I.return===null||I.return===b)return;I=I.return,I.tag===4&&(U=!1)}I.sibling.return=I.return,I=I.sibling}}function cn($,b){if(yt){switch(b.tag){case 0:case 11:case 14:case 15:case 22:Iu(3,b);return;case 1:return;case 5:var I=b.stateNode;if(I!=null){var U=b.memoizedProps;$=$!==null?$.memoizedProps:U;var j=b.type,J=b.updateQueue;b.updateQueue=null,J!==null&&Ln(I,J,j,$,U,b)}return;case 6:if(b.stateNode===null)throw Error(_(162));I=b.memoizedProps,We(b.stateNode,$!==null?$.memoizedProps:I,I);return;case 3:Mt&&(b=b.stateNode,b.hydrate&&(b.hydrate=!1,wr(b.containerInfo)));return;case 12:return;case 13:Le(b),fl(b);return;case 19:fl(b);return;case 17:return;case 23:case 24:cT(b,b.memoizedState!==null);return}throw Error(_(163))}switch(b.tag){case 0:case 11:case 14:case 15:case 22:Iu(3,b);return;case 12:return;case 13:Le(b),fl(b);return;case 19:fl(b);return;case 3:Mt&&(I=b.stateNode,I.hydrate&&(I.hydrate=!1,wr(I.containerInfo)));break;case 23:case 24:return}e:if(nn){switch(b.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:b=b.stateNode,Og(b.containerInfo,b.pendingChildren);break e}throw Error(_(163))}}function Le($){$.memoizedState!==null&&(oS=Ka(),yt&&cT($.child,!0))}function fl($){var b=$.updateQueue;if(b!==null){$.updateQueue=null;var I=$.stateNode;I===null&&(I=$.stateNode=new eS),b.forEach(function(U){var j=Xh.bind(null,$,U);I.has(U)||(I.add(U),U.then(j,j))})}}function la($,b){return $!==null&&($=$.memoizedState,$===null||$.dehydrated!==null)?(b=b.memoizedState,b!==null&&b.dehydrated===null):!1}var ua=0,sy=1,x$=2,ly=3,S$=4;if(typeof Symbol=="function"&&Symbol.for){var uy=Symbol.for;ua=uy("selector.component"),sy=uy("selector.has_pseudo_class"),x$=uy("selector.role"),ly=uy("selector.test_id"),S$=uy("selector.text")}function Lo($){var b=Qn($);if(b!=null){if(typeof b.memoizedProps["data-testname"]!="string")throw Error(_(364));return b}if($=ft($),$===null)throw Error(_(362));return $.stateNode.current}function Qa($,b){switch(b.$$typeof){case ua:if($.type===b.value)return!0;break;case sy:e:{b=b.value,$=[$,0];for(var I=0;I<$.length;){var U=$[I++],j=$[I++],J=b[j];if(U.tag!==5||!be(U)){for(;J!=null&&Qa(U,J);)j++,J=b[j];if(j===b.length){b=!0;break e}else for(U=U.child;U!==null;)$.push(U,j),U=U.sibling}}b=!1}return b;case x$:if($.tag===5&&wt($.stateNode,b.value))return!0;break;case S$:if(($.tag===5||$.tag===6)&&($=vn($),$!==null&&0<=$.indexOf(b.value)))return!0;break;case ly:if($.tag===5&&($=$.memoizedProps["data-testname"],typeof $=="string"&&$.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(_(365,b))}return!1}function Fi($){switch($.$$typeof){case ua:return"<"+(ue($.value)||"Unknown")+">";case sy:return":has("+(Fi($)||"")+")";case x$:return'[role="'+$.value+'"]';case S$:return'"'+$.value+'"';case ly:return'[data-testname="'+$.value+'"]';default:throw Error(_(365,$))}}function hT($,b){var I=[];$=[$,0];for(var U=0;U<$.length;){var j=$[U++],J=$[U++],se=b[J];if(j.tag!==5||!be(j)){for(;se!=null&&Qa(j,se);)J++,se=b[J];if(J===b.length)I.push(j);else for(j=j.child;j!==null;)$.push(j,J),j=j.sibling}}return I}function Vm($,b){if(!_t)throw Error(_(363));$=Lo($),$=hT($,b),b=[],$=Array.from($);for(var I=0;I<$.length;){var U=$[I++];if(U.tag===5)be(U)||b.push(U.stateNode);else for(U=U.child;U!==null;)$.push(U),U=U.sibling}return b}var E$=null;function tS($){if(E$===null)try{var b=("require"+Math.random()).slice(0,7);E$=(r&&r[b]).call(r,"timers").setImmediate}catch{E$=function(U){var j=new MessageChannel;j.port1.onmessage=U,j.port2.postMessage(void 0)}}return E$($)}var VD=Math.ceil,h_=f.ReactCurrentDispatcher,C$=f.ReactCurrentOwner,nS=f.IsSomeRendererActing,Vn=0,zs=null,$a=null,vs=0,Hh=0,rS=qa(0),_i=0,ze=null,Qe=0,qm=0,Km=0,A$=0,iS=null,oS=0,dt=1/0;function ql(){dt=Ka()+500}var vt=null,Dn=!1,T$=null,Mu=null,wc=!1,Jm=null,cy=90,I$=[],aS=[],uf=null,ba=0,Vh=null,d_=-1,m_=0,M$=0,Xm=null,_y=!1;function pl(){return(Vn&48)!=0?Ka():d_!==-1?d_:d_=Ka()}function wa($){if($=$.mode,($&2)==0)return 1;if(($&4)==0)return Cu()===99?1:2;if(m_===0&&(m_=Qe),zD.transition!==0){M$!==0&&(M$=iS!==null?iS.pendingLanes:0),$=m_;var b=4186112&~M$;return b&=-b,b===0&&($=4186112&~$,b=$&-$,b===0&&(b=8192)),b}return $=Cu(),(Vn&4)!=0&&$===98?$=o$(12,m_):($=U2($),$=o$($,m_)),$}function cf($,b,I){if(50<ba)throw ba=0,Vh=null,Error(_(185));if($=N$($,b),$===null)return null;Dl($,b,I),$===zs&&(Km|=b,_i===4&&Ym($,vs));var U=Cu();b===1?(Vn&8)!=0&&(Vn&48)==0?R$($):(Kl($,I),Vn===0&&(ql(),cl())):((Vn&4)==0||U!==98&&U!==99||(uf===null?uf=new Set([$]):uf.add($)),Kl($,I)),iS=$}function N$($,b){$.lanes|=b;var I=$.alternate;for(I!==null&&(I.lanes|=b),I=$,$=$.return;$!==null;)$.childLanes|=b,I=$.alternate,I!==null&&(I.childLanes|=b),I=$,$=$.return;return I.tag===3?I.stateNode:null}function Kl($,b){for(var I=$.callbackNode,U=$.suspendedLanes,j=$.pingedLanes,J=$.expirationTimes,se=$.pendingLanes;0<se;){var we=31-ul(se),De=1<<we,jt=J[we];if(jt===-1){if((De&U)==0||(De&j)!=0){jt=b,tf(De);var Rn=Tr;J[we]=10<=Rn?jt+250:6<=Rn?jt+5e3:-1}}else jt<=b&&($.expiredLanes|=De);se&=~De}if(U=Dh($,$===zs?vs:0),b=Tr,U===0)I!==null&&(I!==u$&&s$(I),$.callbackNode=null,$.callbackPriority=0);else{if(I!==null){if($.callbackPriority===b)return;I!==u$&&s$(I)}b===15?(I=R$.bind(null,$),u_===null?(u_=[I],c$=C1(Am,_$)):u_.push(I),I=u$):b===14?I=Tm(99,R$.bind(null,$)):(I=r$(b),I=Tm(I,dT.bind(null,$))),$.callbackPriority=b,$.callbackNode=I}}function dT($){if(d_=-1,M$=m_=0,(Vn&48)!=0)throw Error(_(327));var b=$.callbackNode;if(Jr()&&$.callbackNode!==b)return null;var I=Dh($,$===zs?vs:0);if(I===0)return null;var U=I,j=Vn;Vn|=16;var J=qh();(zs!==$||vs!==U)&&(ql(),Qm($,U));do try{KD();break}catch(we){gT($,we)}while(1);if(Wg(),h_.current=J,Vn=j,$a!==null?U=0:(zs=null,vs=0,U=_i),(Qe&Km)!=0)Qm($,0);else if(U!==0){if(U===2&&(Vn|=64,$.hydrate&&($.hydrate=!1,up($.containerInfo)),I=i$($),I!==0&&(U=py($,I))),U===1)throw b=ze,Qm($,0),Ym($,I),Kl($,Ka()),b;switch($.finishedWork=$.current.alternate,$.finishedLanes=I,U){case 0:case 1:throw Error(_(345));case 2:_f($);break;case 3:if(Ym($,I),(I&62914560)===I&&(U=oS+500-Ka(),10<U)){if(Dh($,0)!==0)break;if(j=$.suspendedLanes,(j&I)!==I){pl(),$.pingedLanes|=$.suspendedLanes&j;break}$.timeoutHandle=An(_f.bind(null,$),U);break}_f($);break;case 4:if(Ym($,I),(I&4186112)===I)break;for(U=$.eventTimes,j=-1;0<I;){var se=31-ul(I);J=1<<se,se=U[se],se>j&&(j=se),I&=~J}if(I=j,I=Ka()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*VD(I/1960))-I,10<I){$.timeoutHandle=An(_f.bind(null,$),I);break}_f($);break;case 5:_f($);break;default:throw Error(_(329))}}return Kl($,Ka()),$.callbackNode===b?dT.bind(null,$):null}function Ym($,b){for(b&=~A$,b&=~Km,$.suspendedLanes|=b,$.pingedLanes&=~b,$=$.expirationTimes;0<b;){var I=31-ul(b),U=1<<I;$[I]=-1,b&=~U}}function R$($){if((Vn&48)!=0)throw Error(_(327));if(Jr(),$===zs&&($.expiredLanes&vs)!=0){var b=vs,I=py($,b);(Qe&Km)!=0&&(b=Dh($,b),I=py($,b))}else b=Dh($,0),I=py($,b);if($.tag!==0&&I===2&&(Vn|=64,$.hydrate&&($.hydrate=!1,up($.containerInfo)),b=i$($),b!==0&&(I=py($,b))),I===1)throw I=ze,Qm($,0),Ym($,b),Kl($,Ka()),I;return $.finishedWork=$.current.alternate,$.finishedLanes=b,_f($),Kl($,Ka()),null}function qD(){if(uf!==null){var $=uf;uf=null,$.forEach(function(b){b.expiredLanes|=24&b.pendingLanes,Kl(b,Ka())})}cl()}function mT($,b){var I=Vn;Vn|=1;try{return $(b)}finally{Vn=I,Vn===0&&(ql(),cl())}}function vT($,b){var I=Vn;if((I&48)!=0)return $(b);Vn|=1;try{if($)return nf(99,$.bind(null,b))}finally{Vn=I,cl()}}function P$($,b){ii(rS,Hh),Hh|=b,Qe|=b}function fy(){Hh=rS.current,Br(rS)}function Qm($,b){$.finishedWork=null,$.finishedLanes=0;var I=$.timeoutHandle;if(I!==et&&($.timeoutHandle=et,Pr(I)),$a!==null)for(I=$a.return;I!==null;){var U=I;switch(U.tag){case 1:U=U.type.childContextTypes,U!=null&&Fh();break;case 3:Fm(),Br(bo),Br(or),Lm();break;case 5:Kg(U);break;case 4:Fm();break;case 13:Br(Fo);break;case 19:Br(Fo);break;case 10:I1(U);break;case 23:case 24:fy()}I=I.return}zs=$,$a=mp($.current,null),vs=Hh=Qe=b,_i=0,ze=null,A$=Km=qm=0}function gT($,b){do{var I=$a;try{if(Wg(),Xg.current=Ya,g$){for(var U=lo.memoizedState;U!==null;){var j=U.queue;j!==null&&(j.pending=null),U=U.next}g$=!1}if(Uh=0,Xa=Oa=lo=null,Yg=!1,C$.current=null,I===null||I.return===null){_i=1,ze=b,$a=null;break}e:{var J=$,se=I.return,we=I,De=b;if(b=vs,we.flags|=2048,we.firstEffect=we.lastEffect=null,De!==null&&typeof De=="object"&&typeof De.then=="function"){var jt=De;if((we.mode&2)==0){var Rn=we.alternate;Rn?(we.updateQueue=Rn.updateQueue,we.memoizedState=Rn.memoizedState,we.lanes=Rn.lanes):(we.updateQueue=null,we.memoizedState=null)}var ar=(Fo.current&1)!=0,Zt=se;do{var pi;if(pi=Zt.tag===13){var Zr=Zt.memoizedState;if(Zr!==null)pi=Zr.dehydrated!==null;else{var xi=Zt.memoizedProps;pi=xi.fallback===void 0?!1:xi.unstable_avoidThisFallback!==!0?!0:!ar}}if(pi){var Fe=Zt.updateQueue;if(Fe===null){var Ae=new Set;Ae.add(jt),Zt.updateQueue=Ae}else Fe.add(jt);if((Zt.mode&2)==0){if(Zt.flags|=64,we.flags|=16384,we.flags&=-2981,we.tag===1)if(we.alternate===null)we.tag=17;else{var Ve=_p(-1,1);Ve.tag=2,fp(we,Ve)}we.lanes|=1;break e}De=void 0,we=b;var Ht=J.pingCache;if(Ht===null?(Ht=J.pingCache=new Gm,De=new Set,Ht.set(jt,De)):(De=Ht.get(jt),De===void 0&&(De=new Set,Ht.set(jt,De))),!De.has(we)){De.add(we);var jn=Jh.bind(null,J,jt,we);jt.then(jn,jn)}Zt.flags|=4096,Zt.lanes=b;break e}Zt=Zt.return}while(Zt!==null);De=Error((ue(we.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}_i!==5&&(_i=2),De=Q1(De,we),Zt=se;do{switch(Zt.tag){case 3:J=De,Zt.flags|=4096,b&=-b,Zt.lanes|=b;var Li=Z1(Zt,J,b);rf(Zt,Li);break e;case 1:J=De;var Pn=Zt.type,Xr=Zt.stateNode;if((Zt.flags&64)==0&&(typeof Pn.getDerivedStateFromError=="function"||Xr!==null&&typeof Xr.componentDidCatch=="function"&&(Mu===null||!Mu.has(Xr)))){Zt.flags|=4096,b&=-b,Zt.lanes|=b;var Yr=$$(Zt,J,b);rf(Zt,Yr);break e}}Zt=Zt.return}while(Zt!==null)}kT(I)}catch(Ir){b=Ir,$a===I&&I!==null&&($a=I=I.return);continue}break}while(1)}function qh(){var $=h_.current;return h_.current=Ya,$===null?Ya:$}function py($,b){var I=Vn;Vn|=16;var U=qh();zs===$&&vs===b||Qm($,b);do try{Zm();break}catch(j){gT($,j)}while(1);if(Wg(),Vn=I,h_.current=U,$a!==null)throw Error(_(261));return zs=null,vs=0,_i}function Zm(){for(;$a!==null;)yT($a)}function KD(){for(;$a!==null&&!l_();)yT($a)}function yT($){var b=B$($.alternate,$,Hh);$.memoizedProps=$.pendingProps,b===null?kT($):$a=b,C$.current=null}function kT($){var b=$;do{var I=b.alternate;if($=b.return,(b.flags&2048)==0){if(I=lT(I,b,Hh),I!==null){$a=I;return}if(I=b,I.tag!==24&&I.tag!==23||I.memoizedState===null||(Hh&1073741824)!=0||(I.mode&4)==0){for(var U=0,j=I.child;j!==null;)U|=j.lanes|j.childLanes,j=j.sibling;I.childLanes=U}$!==null&&($.flags&2048)==0&&($.firstEffect===null&&($.firstEffect=b.firstEffect),b.lastEffect!==null&&($.lastEffect!==null&&($.lastEffect.nextEffect=b.firstEffect),$.lastEffect=b.lastEffect),1<b.flags&&($.lastEffect!==null?$.lastEffect.nextEffect=b:$.firstEffect=b,$.lastEffect=b))}else{if(I=uT(b),I!==null){I.flags&=2047,$a=I;return}$!==null&&($.firstEffect=$.lastEffect=null,$.flags|=2048)}if(b=b.sibling,b!==null){$a=b;return}$a=b=$}while(b!==null);_i===0&&(_i=5)}function _f($){var b=Cu();return nf(99,sS.bind(null,$,b)),null}function sS($,b){do Jr();while(Jm!==null);if((Vn&48)!=0)throw Error(_(327));var I=$.finishedWork;if(I===null)return null;if($.finishedWork=null,$.finishedLanes=0,I===$.current)throw Error(_(177));$.callbackNode=null;var U=I.lanes|I.childLanes,j=U,J=$.pendingLanes&~j;$.pendingLanes=j,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=j,$.mutableReadLanes&=j,$.entangledLanes&=j,j=$.entanglements;for(var se=$.eventTimes,we=$.expirationTimes;0<J;){var De=31-ul(J),jt=1<<De;j[De]=0,se[De]=-1,we[De]=-1,J&=~jt}if(uf!==null&&(U&24)==0&&uf.has($)&&uf.delete($),$===zs&&($a=zs=null,vs=0),1<I.flags?I.lastEffect!==null?(I.lastEffect.nextEffect=I,U=I.firstEffect):U=I:U=I.firstEffect,U!==null){j=Vn,Vn|=32,C$.current=null,Xm=He($.containerInfo),_y=!1,vt=U;do try{v_()}catch(Ae){if(vt===null)throw Error(_(330));Nu(vt,Ae),vt=vt.nextEffect}while(vt!==null);Xm=null,vt=U;do try{for(se=$;vt!==null;){var Rn=vt.flags;if(Rn&16&&yt&&Ls(vt.stateNode),Rn&128){var ar=vt.alternate;if(ar!==null){var Zt=ar.ref;Zt!==null&&(typeof Zt=="function"?Zt(null):Zt.current=null)}}switch(Rn&1038){case 2:bc(vt),vt.flags&=-3;break;case 6:bc(vt),vt.flags&=-3,cn(vt.alternate,vt);break;case 1024:vt.flags&=-1025;break;case 1028:vt.flags&=-1025,cn(vt.alternate,vt);break;case 4:cn(vt.alternate,vt);break;case 8:we=se,J=vt,yt?Vl(we,J):$c(we,J);var pi=J.alternate;fT(J),pi!==null&&fT(pi)}vt=vt.nextEffect}}catch(Ae){if(vt===null)throw Error(_(330));Nu(vt,Ae),vt=vt.nextEffect}while(vt!==null);_y&&he(),Ge($.containerInfo),$.current=I,vt=U;do try{for(Rn=$;vt!==null;){var Zr=vt.flags;if(Zr&36&&HD(Rn,vt.alternate,vt),Zr&128){ar=void 0;var xi=vt.ref;if(xi!==null){var Fe=vt.stateNode;switch(vt.tag){case 5:ar=gt(Fe);break;default:ar=Fe}typeof xi=="function"?xi(ar):xi.current=ar}}vt=vt.nextEffect}}catch(Ae){if(vt===null)throw Error(_(330));Nu(vt,Ae),vt=vt.nextEffect}while(vt!==null);vt=null,OD(),Vn=j}else $.current=I;if(wc)wc=!1,Jm=$,cy=b;else for(vt=U;vt!==null;)b=vt.nextEffect,vt.nextEffect=null,vt.flags&8&&(Zr=vt,Zr.sibling=null,Zr.stateNode=null),vt=b;if(U=$.pendingLanes,U===0&&(Mu=null),U===1?$===Vh?ba++:(ba=0,Vh=$):ba=0,I=I.stateNode,Lh&&typeof Lh.onCommitFiberRoot=="function")try{Lh.onCommitFiberRoot(Ji,I,void 0,(I.current.flags&64)==64)}catch{}if(Kl($,Ka()),Dn)throw Dn=!1,$=T$,T$=null,$;return(Vn&8)!=0||cl(),null}function v_(){for(;vt!==null;){var $=vt.alternate;_y||Xm===null||((vt.flags&8)!=0?tt(vt,Xm)&&(_y=!0,ci()):vt.tag===13&&la($,vt)&&tt(vt,Xm)&&(_y=!0,ci()));var b=vt.flags;(b&256)!=0&&Hm($,vt),(b&512)==0||wc||(wc=!0,Tm(97,function(){return Jr(),null})),vt=vt.nextEffect}}function Jr(){if(cy!==90){var $=97<cy?97:cy;return cy=90,nf($,lS)}return!1}function hy($,b){I$.push(b,$),wc||(wc=!0,Tm(97,function(){return Jr(),null}))}function Kh($,b){aS.push(b,$),wc||(wc=!0,Tm(97,function(){return Jr(),null}))}function lS(){if(Jm===null)return!1;var $=Jm;if(Jm=null,(Vn&48)!=0)throw Error(_(331));var b=Vn;Vn|=32;var I=aS;aS=[];for(var U=0;U<I.length;U+=2){var j=I[U],J=I[U+1],se=j.destroy;if(j.destroy=void 0,typeof se=="function")try{se()}catch(De){if(J===null)throw Error(_(330));Nu(J,De)}}for(I=I$,I$=[],U=0;U<I.length;U+=2){j=I[U],J=I[U+1];try{var we=j.create;j.destroy=we()}catch(De){if(J===null)throw Error(_(330));Nu(J,De)}}for(we=$.current.firstEffect;we!==null;)$=we.nextEffect,we.nextEffect=null,we.flags&8&&(we.sibling=null,we.stateNode=null),we=$;return Vn=b,cl(),!0}function ev($,b,I){b=Q1(I,b),b=Z1($,b,1),fp($,b),b=pl(),$=N$($,1),$!==null&&(Dl($,1,b),Kl($,b))}function Nu($,b){if($.tag===3)ev($,$,b);else for(var I=$.return;I!==null;){if(I.tag===3){ev(I,$,b);break}else if(I.tag===1){var U=I.stateNode;if(typeof I.type.getDerivedStateFromError=="function"||typeof U.componentDidCatch=="function"&&(Mu===null||!Mu.has(U))){$=Q1(b,$);var j=$$(I,$,1);if(fp(I,j),j=pl(),I=N$(I,1),I!==null)Dl(I,1,j),Kl(I,j);else if(typeof U.componentDidCatch=="function"&&(Mu===null||!Mu.has(U)))try{U.componentDidCatch(b,$)}catch{}break}}I=I.return}}function Jh($,b,I){var U=$.pingCache;U!==null&&U.delete(b),b=pl(),$.pingedLanes|=$.suspendedLanes&I,zs===$&&(vs&I)===I&&(_i===4||_i===3&&(vs&62914560)===vs&&500>Ka()-oS?Qm($,0):A$|=I),Kl($,b)}function Xh($,b){var I=$.stateNode;I!==null&&I.delete(b),b=0,b===0&&(b=$.mode,(b&2)==0?b=1:(b&4)==0?b=Cu()===99?1:2:(m_===0&&(m_=Qe),b=Em(62914560&~m_),b===0&&(b=4194304))),I=pl(),$=N$($,b),$!==null&&(Dl($,b,I),Kl($,I))}var B$;B$=function($,b,I){var U=b.lanes;if($!==null)if($.memoizedProps!==b.pendingProps||bo.current)Gl=!0;else if((I&U)!=0)Gl=($.flags&16384)!=0;else{switch(Gl=!1,b.tag){case 3:J1(b),B1();break;case 5:R1(b);break;case 1:ll(b.type)&&aa(b);break;case 4:N1(b,b.stateNode.containerInfo);break;case 10:H2(b,b.memoizedProps.value);break;case 13:if(b.memoizedState!==null)return(I&b.child.childLanes)!=0?oT($,b,I):(ii(Fo,Fo.current&1),b=sf($,b,I),b!==null?b.sibling:null);ii(Fo,Fo.current&1);break;case 19:if(U=(I&b.childLanes)!=0,($.flags&64)!=0){if(U)return aT($,b,I);b.flags|=64}var j=b.memoizedState;if(j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),ii(Fo,Fo.current),U)break;return null;case 23:case 24:return b.lanes=0,Um($,b,I)}return sf($,b,I)}else Gl=!1;switch(b.lanes=0,b.tag){case 2:if(U=b.type,$!==null&&($.alternate=null,b.alternate=null,b.flags|=2),$=b.pendingProps,j=ji(b,or.current),Mm(b,I),j=L1(null,b,U,$,j,I),b.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0){if(b.tag=1,b.memoizedState=null,b.updateQueue=null,ll(U)){var J=!0;aa(b)}else J=!1;b.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,ka(b);var se=U.getDerivedStateFromProps;typeof se=="function"&&Hg(b,U,se,$),j.updater=Vg,b.stateNode=j,j._reactInternals=b,_l(b,U,$,I),b=K1(null,b,U,!0,J,I)}else b.tag=0,ms(null,b,j,I),b=b.child;return b;case 16:j=b.elementType;e:{switch($!==null&&($.alternate=null,b.alternate=null,b.flags|=2),$=b.pendingProps,J=j._init,j=J(j._payload),b.type=j,J=b.tag=uS(j),$=Kr(j,$),J){case 0:b=jm(null,b,j,$,I);break e;case 1:b=iT(null,b,j,$,I);break e;case 11:b=V1(null,b,j,$,I);break e;case 14:b=q1(null,b,j,Kr(j.type,$),U,I);break e}throw Error(_(306,j,""))}return b;case 0:return U=b.type,j=b.pendingProps,j=b.elementType===U?j:Kr(U,j),jm($,b,U,j,I);case 1:return U=b.type,j=b.pendingProps,j=b.elementType===U?j:Kr(U,j),iT($,b,U,j,I);case 3:if(J1(b),U=b.updateQueue,$===null||U===null)throw Error(_(282));if(U=b.pendingProps,j=b.memoizedState,j=j!==null?j.element:null,__($,b),Nm(b,U,null,I),U=b.memoizedState.element,U===j)B1(),b=sf($,b,I);else{if(j=b.stateNode,(J=j.hydrate)&&(Mt?(hp=er(b.stateNode.containerInfo),of=b,J=kc=!0):J=!1),J){if(Mt&&($=j.mutableSourceEagerHydrationData,$!=null))for(j=0;j<$.length;j+=2)J=$[j],se=$[j+1],mt?J._workInProgressVersionPrimary=se:J._workInProgressVersionSecondary=se,af.push(J);for(I=gc(b,null,U,I),b.child=I;I;)I.flags=I.flags&-3|1024,I=I.sibling}else ms($,b,U,I),B1();b=b.child}return b;case 5:return R1(b),$===null&&P1(b),U=b.type,j=b.pendingProps,J=$!==null?$.memoizedProps:null,se=j.children,mn(U,j)?se=null:J!==null&&mn(U,J)&&(b.flags|=16),rT($,b),ms($,b,se,I),b.child;case 6:return $===null&&P1(b),null;case 13:return oT($,b,I);case 4:return N1(b,b.stateNode.containerInfo),U=b.pendingProps,$===null?b.child=m$(b,null,U,I):ms($,b,U,I),b.child;case 11:return U=b.type,j=b.pendingProps,j=b.elementType===U?j:Kr(U,j),V1($,b,U,j,I);case 7:return ms($,b,b.pendingProps,I),b.child;case 8:return ms($,b,b.pendingProps.children,I),b.child;case 12:return ms($,b,b.pendingProps.children,I),b.child;case 10:e:{if(U=b.type._context,j=b.pendingProps,se=b.memoizedProps,J=j.value,H2(b,J),se!==null){var we=se.value;if(J=Ol(we,J)?0:(typeof U._calculateChangedBits=="function"?U._calculateChangedBits(we,J):1073741823)|0,J===0){if(se.children===j.children&&!bo.current){b=sf($,b,I);break e}}else for(we=b.child,we!==null&&(we.return=b);we!==null;){var De=we.dependencies;if(De!==null){se=we.child;for(var jt=De.firstContext;jt!==null;){if(jt.context===U&&(jt.observedBits&J)!=0){we.tag===1&&(jt=_p(-1,I&-I),jt.tag=2,fp(we,jt)),we.lanes|=I,jt=we.alternate,jt!==null&&(jt.lanes|=I),V2(we.return,I),De.lanes|=I;break}jt=jt.next}}else se=we.tag===10&&we.type===b.type?null:we.child;if(se!==null)se.return=we;else for(se=we;se!==null;){if(se===b){se=null;break}if(we=se.sibling,we!==null){we.return=se.return,se=we;break}se=se.return}we=se}}ms($,b,j.children,I),b=b.child}return b;case 9:return j=b.type,J=b.pendingProps,U=J.children,Mm(b,I),j=Au(j,J.unstable_observedBits),U=U(j),b.flags|=1,ms($,b,U,I),b.child;case 14:return j=b.type,J=Kr(j,b.pendingProps),J=Kr(j.type,J),q1($,b,j,J,U,I);case 15:return ty($,b,b.type,b.pendingProps,U,I);case 17:return U=b.type,j=b.pendingProps,j=b.elementType===U?j:Kr(U,j),$!==null&&($.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,ll(U)?($=!0,aa(b)):$=!1,Mm(b,I),h$(b,U,j),_l(b,U,j,I),K1(null,b,U,!0,$,I);case 19:return aT($,b,I);case 23:return Um($,b,I);case 24:return Um($,b,I)}throw Error(_(156,b.tag))};var tv={current:!1},dy=u.unstable_flushAllWithoutAsserting,Jl=typeof dy=="function";function Xl(){if(dy!==void 0)return dy();for(var $=!1;Jr();)$=!0;return $}function F$($){try{Xl(),tS(function(){Xl()?F$($):$()})}catch(b){$(b)}}var my=0,L$=!1;function $T($,b,I,U){this.tag=$,this.key=I,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=U,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function wi($,b,I,U){return new $T($,b,I,U)}function D$($){return $=$.prototype,!(!$||!$.isReactComponent)}function uS($){if(typeof $=="function")return D$($)?1:0;if($!=null){if($=$.$$typeof,$===A)return 11;if($===R)return 14}return 2}function mp($,b){var I=$.alternate;return I===null?(I=wi($.tag,b,$.key,$.mode),I.elementType=$.elementType,I.type=$.type,I.stateNode=$.stateNode,I.alternate=$,$.alternate=I):(I.pendingProps=b,I.type=$.type,I.flags=0,I.nextEffect=null,I.firstEffect=null,I.lastEffect=null),I.childLanes=$.childLanes,I.lanes=$.lanes,I.child=$.child,I.memoizedProps=$.memoizedProps,I.memoizedState=$.memoizedState,I.updateQueue=$.updateQueue,b=$.dependencies,I.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},I.sibling=$.sibling,I.index=$.index,I.ref=$.ref,I}function hl($,b,I,U,j,J){var se=2;if(U=$,typeof $=="function")D$($)&&(se=1);else if(typeof $=="string")se=5;else e:switch($){case m:return xc(I.children,j,J,b);case G:se=8,j|=16;break;case g:se=8,j|=1;break;case y:return $=wi(12,I,b,j|8),$.elementType=y,$.type=y,$.lanes=J,$;case S:return $=wi(13,I,b,j),$.type=S,$.elementType=S,$.lanes=J,$;case C:return $=wi(19,I,b,j),$.elementType=C,$.lanes=J,$;case z:return vy(I,j,J,b);case V:return $=wi(24,I,b,j),$.elementType=V,$.lanes=J,$;default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case w:se=10;break e;case E:se=9;break e;case A:se=11;break e;case R:se=14;break e;case P:se=16,U=null;break e;case D:se=22;break e}throw Error(_(130,$==null?$:typeof $,""))}return b=wi(se,I,b,j),b.elementType=$,b.type=U,b.lanes=J,b}function xc($,b,I,U){return $=wi(7,$,U,b),$.lanes=I,$}function vy($,b,I,U){return $=wi(23,$,U,b),$.elementType=z,$.lanes=I,$}function F($,b,I){return $=wi(6,$,null,b),$.lanes=I,$}function O$($,b,I){return b=wi(4,$.children!==null?$.children:[],$.key,b),b.lanes=I,b.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},b}function bT($,b,I){this.tag=b,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=et,this.pendingContext=this.context=null,this.hydrate=I,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=S1(0),this.expirationTimes=S1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S1(0),Mt&&(this.mutableSourceEagerHydrationData=null)}function z$($){var b=$._reactInternals;if(b===void 0)throw typeof $.render=="function"?Error(_(188)):Error(_(268,Object.keys($)));return $=xe(b),$===null?null:$.stateNode}function Us($,b){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var I=$.retryLane;$.retryLane=I!==0&&I<b?I:b}}function nv($,b){Us($,b),($=$.alternate)&&Us($,b)}function Yh($){return $=xe($),$===null?null:$.stateNode}function dl(){return null}return o.IsThisRendererActing=tv,o.act=function($){function b(){my--,nS.current=I,tv.current=U}L$===!1&&(L$=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),my++;var I=nS.current,U=tv.current;nS.current=!0,tv.current=!0;try{var j=mT($)}catch(J){throw b(),J}if(j!==null&&typeof j=="object"&&typeof j.then=="function")return{then:function(J,se){j.then(function(){1<my||Jl===!0&&I===!0?(b(),J()):F$(function(we){b(),we?se(we):J()})},function(we){b(),se(we)})}};try{my!==1||Jl!==!1&&I!==!1||Xl(),b()}catch(J){throw b(),J}return{then:function(J){J()}}},o.attemptContinuousHydration=function($){if($.tag===13){var b=pl();cf($,67108864,b),nv($,67108864)}},o.attemptHydrationAtCurrentPriority=function($){if($.tag===13){var b=pl(),I=wa($);cf($,I,b),nv($,I)}},o.attemptSynchronousHydration=function($){switch($.tag){case 3:var b=$.stateNode;if(b.hydrate){var I=tf(b.pendingLanes);b.expiredLanes|=I&b.pendingLanes,Kl(b,Ka()),(Vn&48)==0&&(ql(),cl())}break;case 13:var U=pl();vT(function(){return cf($,1,U)}),nv($,4)}},o.attemptUserBlockingHydration=function($){if($.tag===13){var b=pl();cf($,4,b),nv($,4)}},o.batchedEventUpdates=function($,b){var I=Vn;Vn|=2;try{return $(b)}finally{Vn=I,Vn===0&&(ql(),cl())}},o.batchedUpdates=mT,o.createComponentSelector=function($){return{$$typeof:ua,value:$}},o.createContainer=function($,b,I){return $=new bT($,b,I),b=wi(3,null,null,b===2?7:b===1?3:0),$.current=b,b.stateNode=$,ka(b),$},o.createHasPsuedoClassSelector=function($){return{$$typeof:sy,value:$}},o.createPortal=function($,b,I){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:U==null?null:""+U,children:$,containerInfo:b,implementation:I}},o.createRoleSelector=function($){return{$$typeof:x$,value:$}},o.createTestNameSelector=function($){return{$$typeof:ly,value:$}},o.createTextSelector=function($){return{$$typeof:S$,value:$}},o.deferredUpdates=function($){return nf(97,$)},o.discreteUpdates=function($,b,I,U,j){var J=Vn;Vn|=4;try{return nf(98,$.bind(null,b,I,U,j))}finally{Vn=J,Vn===0&&(ql(),cl())}},o.findAllNodes=Vm,o.findBoundingRects=function($,b){if(!_t)throw Error(_(363));b=Vm($,b),$=[];for(var I=0;I<b.length;I++)$.push(yn(b[I]));for(b=$.length-1;0<b;b--){I=$[b];for(var U=I.x,j=U+I.width,J=I.y,se=J+I.height,we=b-1;0<=we;we--)if(b!==we){var De=$[we],jt=De.x,Rn=jt+De.width,ar=De.y,Zt=ar+De.height;if(U>=jt&&J>=ar&&j<=Rn&&se<=Zt){$.splice(b,1);break}else if(U!==jt||I.width!==De.width||Zt<J||ar>se){if(!(J!==ar||I.height!==De.height||Rn<U||jt>j)){jt>U&&(De.width+=jt-U,De.x=U),Rn<j&&(De.width=j-jt),$.splice(b,1);break}}else{ar>J&&(De.height+=ar-J,De.y=J),Zt<se&&(De.height=se-ar),$.splice(b,1);break}}}return $},o.findHostInstance=z$,o.findHostInstanceWithNoPortals=function($){return $=Ie($),$===null?null:$.tag===20?$.stateNode.instance:$.stateNode},o.findHostInstanceWithWarning=function($){return z$($)},o.flushControlled=function($){var b=Vn;Vn|=1;try{nf(99,$)}finally{Vn=b,Vn===0&&(ql(),cl())}},o.flushDiscreteUpdates=function(){(Vn&49)==0&&(qD(),Jr())},o.flushPassiveEffects=Jr,o.flushSync=vT,o.focusWithin=function($,b){if(!_t)throw Error(_(363));for($=Lo($),b=hT($,b),b=Array.from(b),$=0;$<b.length;){var I=b[$++];if(!be(I)){if(I.tag===5&&it(I.stateNode))return!0;for(I=I.child;I!==null;)b.push(I),I=I.sibling}}return!1},o.getCurrentUpdateLanePriority=function(){return jg},o.getFindAllNodesFailureDescription=function($,b){if(!_t)throw Error(_(363));var I=0,U=[];$=[Lo($),0];for(var j=0;j<$.length;){var J=$[j++],se=$[j++],we=b[se];if((J.tag!==5||!be(J))&&(Qa(J,we)&&(U.push(Fi(we)),se++,se>I&&(I=se)),se<b.length))for(J=J.child;J!==null;)$.push(J,se),J=J.sibling}if(I<b.length){for($=[];I<b.length;I++)$.push(Fi(b[I]));return`findAllNodes was able to match part of the selector:
  `+(U.join(" > ")+`

No matching component was found for:
  `)+$.join(" > ")}return null},o.getPublicRootInstance=function($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return gt($.child.stateNode);default:return $.child.stateNode}},o.injectIntoDevTools=function($){if($={bundleType:$.bundleType,version:$.version,rendererPackageName:$.rendererPackageName,rendererConfig:$.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:Yh,findFiberByHostInstance:$.findFiberByHostInstance||dl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")$=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b.isDisabled&&b.supportsFiber)try{Ji=b.inject($),Lh=b}catch{}$=!0}return $},o.observeVisibleRects=function($,b,I,U){if(!_t)throw Error(_(363));$=Vm($,b);var j=Wt($,I,U).disconnect;return{disconnect:function(){j()}}},o.registerMutableSourceForHydration=function($,b){var I=b._getVersion;I=I(b._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[b,I]:$.mutableSourceEagerHydrationData.push(b,I)},o.runWithPriority=function($,b){var I=jg;try{return jg=$,b()}finally{jg=I}},o.shouldSuspend=function(){return!1},o.unbatchedUpdates=function($,b){var I=Vn;Vn&=-2,Vn|=8;try{return $(b)}finally{Vn=I,Vn===0&&(ql(),cl())}},o.updateContainer=function($,b,I,U){var j=b.current,J=pl(),se=wa(j);e:if(I){I=I._reactInternals;t:{if(_e(I)!==I||I.tag!==1)throw Error(_(170));var we=I;do{switch(we.tag){case 3:we=we.stateNode.context;break t;case 1:if(ll(we.type)){we=we.stateNode.__reactInternalMemoizedMergedChildContext;break t}}we=we.return}while(we!==null);throw Error(_(171))}if(I.tag===1){var De=I.type;if(ll(De)){I=Sm(I,De,we);break e}}I=we}else I=oa;return b.context===null?b.context=I:b.pendingContext=I,b=_p(J,se),b.payload={element:$},U=U===void 0?null:U,U!==null&&(b.callback=U),fp(j,b),cf(j,se,J),se},o}})(cle);ule.exports=cle.exports;var HFe=ule.exports,rW=function r(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var o,a,l;if(Array.isArray(e)){if(o=e.length,o!=n.length)return!1;for(a=o;a--!=0;)if(!r(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),o=l.length,o!==Object.keys(n).length)return!1;for(a=o;a--!=0;)if(!Object.prototype.hasOwnProperty.call(n,l[a]))return!1;for(a=o;a--!=0;){var u=l[a];if(!r(e[u],n[u]))return!1}return!0}return e!==e&&n!==n};const kL=[];function _le(r,e,n,o=0,a=!1){for(const u of e)if(rW(n,u.args)){if(a)return;if(u.error)throw u.error;if(u.response)return u.response;throw u.promise}const l={args:n,promise:r(...n).then(u=>l.response=u!=null?u:!0).catch(u=>l.error=u!=null?u:"unknown error").then(()=>{o>0&&setTimeout(()=>{const u=e.indexOf(l);u!==-1&&e.splice(u,1)},o)})};if(e.push(l),!a)throw l.promise}function VFe(r,...e){if(e===void 0||e.length===0)r.splice(0,r.length);else{const n=r.find(o=>rW(e,o.args));if(n){const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}}function rp(r,...e){return _le(r,kL,e,rp.lifespan)}rp.lifespan=0;rp.clear=(...r)=>VFe(kL,...r);rp.preload=(r,...e)=>void _le(r,kL,e,rp.lifespan,!0);rp.peek=(...r)=>{var e;return(e=kL.find(n=>rW(r,n.args)))==null?void 0:e.response};function qFe(r){return function(e){r.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function iW(r,e,n){var o,a,l,u,_;e==null&&(e=100);function f(){var d=Date.now()-u;d<e&&d>=0?o=setTimeout(f,e-d):(o=null,n||(_=r.apply(l,a),l=a=null))}var h=function(){l=this,a=arguments,u=Date.now();var d=n&&!o;return o||(o=setTimeout(f,e)),d&&(_=r.apply(l,a),l=a=null),_};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.flush=function(){o&&(_=r.apply(l,a),l=a=null,clearTimeout(o),o=null)},h}iW.debounce=iW;var fle=iW;function KFe(r){let{debounce:e,scroll:n,polyfill:o,offsetSize:a}=r===void 0?{debounce:0,scroll:!1,offsetSize:!1}:r;const l=o||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!l)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[u,_]=Xn.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=Xn.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u}),h=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,m=Xn.exports.useRef(!1);Xn.exports.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,w]=Xn.exports.useMemo(()=>{const C=()=>{if(!f.current.element)return;const{left:R,top:P,width:D,height:G,bottom:z,right:V,x:X,y:ne}=f.current.element.getBoundingClientRect(),Y={left:R,top:P,width:D,height:G,bottom:z,right:V,x:X,y:ne};f.current.element instanceof HTMLElement&&a&&(Y.height=f.current.element.offsetHeight,Y.width=f.current.element.offsetWidth),Object.freeze(Y),m.current&&!QFe(f.current.lastBounds,Y)&&_(f.current.lastBounds=Y)};return[C,d?fle(C,d):C,h?fle(C,h):C]},[_,a,h,d]);function E(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(C=>C.removeEventListener("scroll",w,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null)}function A(){!f.current.element||(f.current.resizeObserver=new l(w),f.current.resizeObserver.observe(f.current.element),n&&f.current.scrollContainers&&f.current.scrollContainers.forEach(C=>C.addEventListener("scroll",w,{capture:!0,passive:!0})))}const S=C=>{!C||C===f.current.element||(E(),f.current.element=C,f.current.scrollContainers=ple(C),A())};return XFe(w,Boolean(n)),JFe(y),Xn.exports.useEffect(()=>{E(),A()},[n,w,y]),Xn.exports.useEffect(()=>E,[]),[S,u,g]}function JFe(r){Xn.exports.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function XFe(r,e){Xn.exports.useEffect(()=>{if(e){const n=r;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[r,e])}function ple(r){const e=[];if(!r||r===document.body)return e;const{overflow:n,overflowX:o,overflowY:a}=window.getComputedStyle(r);return[n,o,a].some(l=>l==="auto"||l==="scroll")&&e.push(r),[...e,...ple(r.parentElement)]}const YFe=["x","y","top","bottom","left","right","width","height"],QFe=(r,e)=>YFe.every(n=>r[n]===e[n]),to={obj:r=>r===Object(r)&&!to.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",und:r=>r===void 0,arr:r=>Array.isArray(r),equ(r,e){if(typeof r!=typeof e||!!r!=!!e)return!1;if(to.str(r)||to.num(r)||to.obj(r))return r===e;if(to.arr(r)&&r==e)return!0;let n;for(n in r)if(!(n in e))return!1;for(n in e)if(r[n]!==e[n])return!1;return to.und(n)?r===e:!0}};function oW(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function hle(r,e,n,o){const a=n.get(e);a&&(n.delete(e),n.size===0&&(r.delete(o),a.target.releasePointerCapture(o)))}function ZFe(r,e){const{internal:n}=r.getState();n.interaction=n.interaction.filter(o=>o!==e),n.initialHits=n.initialHits.filter(o=>o!==e),n.hovered.forEach((o,a)=>{(o.eventObject===e||o.object===e)&&n.hovered.delete(a)}),n.capturedMap.forEach((o,a)=>{hle(n.capturedMap,e,o,a)})}function eLe(r){const e=new te;function n(m){var g;const y=r.getState(),{raycaster:w,mouse:E,camera:A,size:S}=y,{offsetX:C,offsetY:R}=(g=w.computeOffsets==null?void 0:w.computeOffsets(m,y))!=null?g:m,{width:P,height:D}=S;E.set(C/P*2-1,-(R/D)*2+1),w.setFromCamera(E,A)}function o(m){const{internal:g}=r.getState(),y=m.offsetX-g.initialClick[0],w=m.offsetY-g.initialClick[1];return Math.round(Math.sqrt(y*y+w*w))}function a(m){return m.filter(g=>["Move","Over","Enter","Out","Leave"].some(y=>{var w;return(w=g.__r3f)==null?void 0:w.handlers["onPointer"+y]}))}function l(m){const g=r.getState(),{raycaster:y,internal:w}=g;if(!y.enabled)return[];const E=new Set,A=[],S=m?m(w.interaction):w.interaction;let C=y.intersectObjects(S,!0).filter(P=>{const D=oW(P);return E.has(D)?!1:(E.add(D),!0)});y.filter&&(C=y.filter(C,g));for(const P of C){let D=P.object;for(;D;){var R;(R=D.__r3f)!=null&&R.eventCount&&A.push(yu(zi({},P),{eventObject:D})),D=D.parent}}return A}function u(m,g){const{internal:y}=r.getState();if("pointerId"in g&&y.capturedMap.has(g.pointerId))for(let w of y.capturedMap.get(g.pointerId).values())m.push(w.intersection);return m}function _(m,g,y,w){const{raycaster:E,mouse:A,camera:S,internal:C}=r.getState();if(m.length){const R=e.set(A.x,A.y,0).unproject(S),P={stopped:!1};for(const D of m){const G=Y=>{var ue,_e;return(ue=(_e=C.capturedMap.get(Y))==null?void 0:_e.has(D.eventObject))!=null?ue:!1},z=Y=>{const ue={intersection:D,target:g.target};C.capturedMap.has(Y)?C.capturedMap.get(Y).set(D.eventObject,ue):C.capturedMap.set(Y,new Map([[D.eventObject,ue]])),g.target.setPointerCapture(Y)},V=Y=>{const ue=C.capturedMap.get(Y);ue&&hle(C.capturedMap,D.eventObject,ue,Y)};let X={};for(let Y in g){let ue=g[Y];typeof ue!="function"&&(X[Y]=ue)}let ne=yu(zi(zi({},D),X),{spaceX:A.x,spaceY:A.y,intersections:m,stopped:P.stopped,delta:y,unprojectedPoint:R,ray:E.ray,camera:S,stopPropagation:()=>{const Y="pointerId"in g&&C.capturedMap.get(g.pointerId);if((!Y||Y.has(D.eventObject))&&(ne.stopped=P.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(ue=>ue.eventObject===D.eventObject))){const ue=m.slice(0,m.indexOf(D));f([...ue,D])}},target:{hasPointerCapture:G,setPointerCapture:z,releasePointerCapture:V},currentTarget:{hasPointerCapture:G,setPointerCapture:z,releasePointerCapture:V},sourceEvent:g,nativeEvent:g});if(w(ne),P.stopped===!0)break}}return m}function f(m){const{internal:g}=r.getState();Array.from(g.hovered.values()).forEach(y=>{if(!m.length||!m.find(w=>w.object===y.object&&w.index===y.index&&w.instanceId===y.instanceId)){const E=y.eventObject.__r3f,A=E==null?void 0:E.handlers;if(g.hovered.delete(oW(y)),E!=null&&E.eventCount){const S=yu(zi({},y),{intersections:m||[]});A.onPointerOut==null||A.onPointerOut(S),A.onPointerLeave==null||A.onPointerLeave(S)}}})}const h=m=>{switch(m){case"onPointerLeave":case"onPointerCancel":return()=>f([]);case"onLostPointerCapture":return g=>{const{internal:y}=r.getState();"pointerId"in g&&!y.capturedMap.has(g.pointerId)&&(y.capturedMap.delete(g.pointerId),f([]))}}return g=>{const{onPointerMissed:y,internal:w}=r.getState();n(g),w.lastEvent.current=g;const E=m==="onPointerMove",A=m==="onClick"||m==="onContextMenu"||m==="onDoubleClick",C=u(l(E?a:void 0),g),R=A?o(g):0;m==="onPointerDown"&&(w.initialClick=[g.offsetX,g.offsetY],w.initialHits=C.map(P=>P.eventObject)),A&&!C.length&&R<=2&&(d(g,w.interaction),y&&y(g)),E&&f(C),_(C,g,R,P=>{const D=P.eventObject,G=D.__r3f,z=G==null?void 0:G.handlers;if(!!(G!=null&&G.eventCount))if(E){if(z.onPointerOver||z.onPointerEnter||z.onPointerOut||z.onPointerLeave){const V=oW(P),X=w.hovered.get(V);X?X.stopped&&P.stopPropagation():(w.hovered.set(V,P),z.onPointerOver==null||z.onPointerOver(P),z.onPointerEnter==null||z.onPointerEnter(P))}z.onPointerMove==null||z.onPointerMove(P)}else{const V=z[m];V?(!A||w.initialHits.includes(D))&&(d(g,w.interaction.filter(X=>!w.initialHits.includes(X))),V(P)):A&&w.initialHits.includes(D)&&d(g,w.interaction.filter(X=>!w.initialHits.includes(X)))}})}};function d(m,g){g.forEach(y=>{var w;return(w=y.__r3f)==null||w.handlers.onPointerMissed==null?void 0:w.handlers.onPointerMissed(m)})}return{handlePointer:h}}const tLe=r=>r&&!!r.memoized&&!!r.changes,$L=r=>r&&!!r.getState,aW=(r,e)=>{var n,o;return{root:$L(r)?r:(n=(o=r.__r3f)==null?void 0:o.root)!=null?n:e.__r3f.root,container:$L(r)?r.getState().scene:r}},dle="__default",nLe={};let rLe={};function iLe(r,e){return!!(to.arr(r)&&to.equ(r,e)||r===e)}function jx(r,e){const n=r;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f=zi({root:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},e)),r}function oLe(r){function e(g,G,V={},D=!1){var z=G,{children:y,key:w,ref:E}=z,A=ah(z,["children","key","ref"]);var X=V,{children:S,key:C,ref:R}=X,P=ah(X,["children","key","ref"]);var ne;const Y=(ne=g==null?void 0:g.__r3f)!=null?ne:{},ue=Object.entries(A),_e=[];if(D){const $e=Object.keys(P);for(let xe=0;xe<$e.length;xe++)A.hasOwnProperty($e[xe])||ue.unshift([$e[xe],dle+"remove"])}ue.forEach(([$e,xe])=>{var Ie;if((Ie=g.__r3f)!=null&&Ie.primitive&&$e==="object"||iLe(xe,P[$e]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test($e))return _e.push([$e,xe,!0,[]]);let tt=[];$e.includes("-")&&(tt=$e.split("-")),_e.push([$e,xe,!1,tt])});const ge=zi({},A);return Y.memoizedProps&&Y.memoizedProps.args&&(ge.args=Y.memoizedProps.args),Y.memoizedProps&&Y.memoizedProps.attach&&(ge.attach=Y.memoizedProps.attach),{accumulative:D,memoized:ge,changes:_e}}function n(g,y){var w,E,A;const S=(w=g==null?void 0:g.__r3f)!=null?w:{},C=S.root,R=(E=C==null||C.getState==null?void 0:C.getState())!=null?E:{},{memoized:P,changes:D}=tLe(y)?y:e(g,y),G=S.eventCount;if(g.__r3f&&(g.__r3f.memoizedProps=P),D.forEach(([z,V,X,ne])=>{let Y=g,ue=Y[z];if(ne.length&&(ue=ne.reduce((_e,ge)=>_e[ge],g),!(ue&&ue.set))){const[_e,...ge]=ne.reverse();Y=ge.reverse().reduce(($e,xe)=>$e[xe],g),z=_e}if(V===dle+"remove")if(ue&&ue.constructor)V=new ue.constructor(P.args);else if(Y.constructor){const _e=new Y.constructor(Y.__r3f.memoizedProps.args);V=_e[ue],_e.dispose&&_e.dispose()}else V=0;if(X)V?S.handlers[z]=V:delete S.handlers[z],S.eventCount=Object.keys(S.handlers).length;else if(ue&&ue.set&&(ue.copy||ue instanceof ax)){if(Array.isArray(V))ue.fromArray?ue.fromArray(V):ue.set(...V);else if(ue.copy&&V&&V.constructor&&ue.constructor.name===V.constructor.name)ue.copy(V);else if(V!==void 0){const _e=ue instanceof Ut;!_e&&ue.setScalar?ue.setScalar(V):ue instanceof ax&&V instanceof ax?ue.mask=V.mask:ue.set(V),!R.linear&&_e&&ue.convertSRGBToLinear()}}else Y[z]=V,!R.linear&&Y[z]instanceof Na&&(Y[z].encoding=hh);o(g)}),S.parent&&R.internal&&g.raycast&&G!==S.eventCount){const z=R.internal.interaction.indexOf(g);z>-1&&R.internal.interaction.splice(z,1),S.eventCount&&R.internal.interaction.push(g)}return D.length&&(A=g.__r3f)!=null&&A.parent&&a(g),g}function o(g){var y,w;const E=(y=g.__r3f)==null||(w=y.root)==null||w.getState==null?void 0:w.getState();E&&E.internal.frames===0&&E.invalidate()}function a(g){g.onUpdate==null||g.onUpdate(g)}function l(g,C,E,A,S){var R=C,{args:y=[]}=R,w=ah(R,["args"]);let P=`${g[0].toUpperCase()}${g.slice(1)}`,D;if(!$L(E)&&S){const G=z=>z.return?G(z.return):z.stateNode&&z.stateNode.containerInfo;E=G(S)}if(!E||!$L(E))throw`No valid root for ${P}!`;if(g==="primitive"){if(w.object===void 0)throw"Primitives without 'object' are invalid!";const G=w.object;D=jx(G,{root:E,primitive:!0})}else{const G=rLe[P]||UFe[P];if(!G)throw`${P} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(y))throw"The args prop must be an array!";D=jx(new G(...y),{root:E,memoizedProps:{args:y.length===0?null:y}})}return"attachFns"in w||(P.endsWith("Geometry")?w=zi({attach:"geometry"},w):P.endsWith("Material")&&(w=zi({attach:"material"},w))),n(D,w),D}function u(g,y){let w=!1;if(y){if(y.attachArray)to.arr(g[y.attachArray])||(g[y.attachArray]=[]),g[y.attachArray].push(y);else if(y.attachObject)to.obj(g[y.attachObject[0]])||(g[y.attachObject[0]]={}),g[y.attachObject[0]][y.attachObject[1]]=y;else if(y.attach&&!to.fun(y.attach))g[y.attach]=y;else if(to.arr(y.attachFns)){const[E]=y.attachFns;to.str(E)&&to.fun(g[E])?g[E](y):to.fun(E)&&E(y,g)}else y.isObject3D&&g.isObject3D&&(g.add(y),w=!0);w||g.__r3f.objects.push(y),y.__r3f||jx(y,{}),y.__r3f.parent=g,a(y),o(y)}}function _(g,y,w){let E=!1;if(y){if(y.attachArray){const A=g[y.attachArray];to.arr(A)||(g[y.attachArray]=[]),A.splice(A.indexOf(w),0,y)}else{if(y.attachObject||y.attach&&!to.fun(y.attach))return u(g,y);if(y.isObject3D&&g.isObject3D){y.parent=g,y.dispatchEvent({type:"added"});const A=g.children.filter(C=>C!==y),S=A.indexOf(w);g.children=[...A.slice(0,S),y,...A.slice(S)],E=!0}}E||g.__r3f.objects.push(y),y.__r3f||jx(y,{}),y.__r3f.parent=g,a(y),o(y)}}function f(g,y,w=!1){g&&[...g].forEach(E=>h(y,E,w))}function h(g,y,w){if(y){var E,A;if(y.__r3f&&(y.__r3f.parent=null),(E=g.__r3f)!=null&&E.objects&&(g.__r3f.objects=g.__r3f.objects.filter(D=>D!==y)),y.attachArray)g[y.attachArray]=g[y.attachArray].filter(D=>D!==y);else if(y.attachObject)delete g[y.attachObject[0]][y.attachObject[1]];else if(y.attach&&!to.fun(y.attach)&&g[y.attach]===y)g[y.attach]=null;else if(to.arr(y.attachFns)){const[,D]=y.attachFns;to.str(D)&&to.fun(g[D])?g[D](y):to.fun(D)&&D(y,g)}else if(y.isObject3D&&g.isObject3D){var S;g.remove(y),(S=y.__r3f)!=null&&S.root&&ZFe(y.__r3f.root,y)}const R=(A=y.__r3f)==null?void 0:A.primitive,P=w===void 0?y.dispose!==null&&!R:w;if(!R){var C;f((C=y.__r3f)==null?void 0:C.objects,y,P),f(y.children,y,P)}y.__r3f&&(delete y.__r3f.root,delete y.__r3f.objects,delete y.__r3f.handlers,delete y.__r3f.memoizedProps,R||delete y.__r3f),P&&y.dispose&&y.type!=="Scene"&&vw.exports.unstable_runWithPriority(vw.exports.unstable_IdlePriority,()=>{try{y.dispose()}catch{}}),o(g)}}function d(g,y,w,E){var A;const S=(A=g.__r3f)==null?void 0:A.parent;if(!S)return;const C=l(y,w,g.__r3f.root);y!=="primitive"&&g.children&&(g.children.forEach(R=>u(C,R)),g.children=[]),g.__r3f.objects.forEach(R=>u(C,R)),g.__r3f.objects=[],h(S,g),u(S,C),[E,E.alternate].forEach(R=>{R!==null&&(R.stateNode=C,R.ref&&(typeof R.ref=="function"?R.ref(C):R.ref.current=C))})}return{reconciler:HFe({now:vw.exports.unstable_now,createInstance:l,removeChild:h,appendChild:u,appendInitialChild:u,insertBefore:_,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:to.fun(setTimeout)?setTimeout:void 0,cancelTimeout:to.fun(clearTimeout)?clearTimeout:void 0,setTimeout:to.fun(setTimeout)?setTimeout:void 0,clearTimeout:to.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:(g,y)=>{const{container:w,root:E}=aW(g,y);w.__r3f.root=E,u(w,y)},removeChildFromContainer:(g,y)=>h(aW(g,y).container,y),insertInContainerBefore:(g,y,w)=>_(aW(g,y).container,y,w),prepareUpdate(g,y,w,E){if(g.__r3f.primitive&&E.object&&E.object!==g)return[!0];{const A=E,{args:C=[],children:R}=A,P=ah(A,["args","children"]),S=w,{args:D=[],children:G}=S,z=ah(S,["args","children"]);if(!Array.isArray(C))throw"The args prop must be an array!";if(C.some((X,ne)=>X!==D[ne]))return[!0];const V=e(g,P,z,!0);if(V.changes.length)return[!1,V];if(g.attach&&typeof g.attach!="function"){const ne=g.__r3f.parent;ne&&ne[g.attach]!==g&&u(ne,g)}return null}},commitUpdate(g,[y,w],E,A,S,C){y?d(g,E,S,C):n(g,w)},hideInstance(g){g.isObject3D&&(g.visible=!1,o(g))},unhideInstance(g,y){(g.isObject3D&&y.visible==null||y.visible)&&(g.visible=!0,o(g))},hideTextInstance(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance(g){return g},getRootHostContext(g){return nLe},getChildHostContext(g){return g},createTextInstance(){},finalizeInitialChildren(g){var y;return!!((y=g==null?void 0:g.__r3f)!=null?y:{}).handlers},commitMount(g){var y;const w=(y=g==null?void 0:g.__r3f)!=null?y:{};g.raycast&&w.handlers&&w.eventCount&&g.__r3f.root.getState().internal.interaction.push(g)},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(g){jx(g)},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),applyProps:n}}const aLe=r=>!!(r!=null&&r.render),mle=r=>r&&r.isOrthographicCamera;function sW(r){return Array.isArray(r)?Math.min(Math.max(r[0],window.devicePixelRatio),r[1]):r}const vle=Xn.exports.createContext(null),sLe=(r,e,n,o)=>{const{gl:a,size:l,shadows:u=!1,linear:_=!1,flat:f=!1,vr:h=!1,orthographic:d=!1,frameloop:m="always",dpr:g=1,performance:y,clock:w=new J8,raycaster:E,camera:A,onPointerMissed:S}=o;u&&(a.shadowMap.enabled=!0,typeof u=="object"?Object.assign(a.shadowMap,u):a.shadowMap.type=eG),_&&(a.outputEncoding=Ns),f&&(a.toneMapping=Jd),m==="never"&&(w.stop(),w.elapsedTime=0);const C=WFe((G,z)=>{const V=new Hse,Je=E||{},{params:X}=Je,ne=ah(Je,["params"]);r(V,yu(zi({enabled:!0},ne),{params:zi(zi({},V.params),X)}));const Y=A instanceof rk,ue=Y?A:d?new mh(0,0,0,0,.1,1e3):new go(75,0,.1,1e3);Y||(ue.position.z=5,A&&r(ue,A),A!=null&&A.rotation||ue.lookAt(0,0,0));const _e=sW(g),ge=new te,$e=new te,xe=new te;function Ie(ve=z().camera,He=$e,Ge=z().size){const{width:kt,height:an}=Ge,ot=kt/an;He instanceof te?xe.copy(He):xe.set(...He);const Mn=ve.getWorldPosition(ge).distanceTo(xe);if(mle(ve))return{width:kt/ve.zoom,height:an/ve.zoom,factor:1,distance:Mn,aspect:ot};{const mn=ve.fov*Math.PI/180,Gt=2*Math.tan(mn/2)*Mn,An=Gt*(kt/an);return{width:An,height:Gt,factor:kt/An,distance:Mn,aspect:ot}}}let tt;const gt=ve=>G(He=>({performance:yu(zi({},He.performance),{current:ve})}));return{gl:a,set:G,get:z,invalidate:()=>e(z()),advance:(ve,He)=>n(ve,He,z()),linear:_,flat:f,scene:jx(new AA),camera:ue,controls:null,raycaster:V,clock:w,mouse:new rt,vr:h,frameloop:m,onPointerMissed:S,performance:yu(zi({current:1,min:.5,max:1,debounce:200},y),{regress:()=>{const ve=z();tt&&clearTimeout(tt),ve.performance.current!==ve.performance.min&&gt(ve.performance.min),tt=setTimeout(()=>gt(z().performance.max),ve.performance.debounce)}}),size:{width:0,height:0},viewport:{initialDpr:_e,dpr:_e,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:Ie},setSize:(ve,He)=>{const Ge={width:ve,height:He};G(kt=>({size:Ge,viewport:zi(zi({},kt.viewport),Ie(ue,$e,Ge))}))},setDpr:ve=>G(He=>({viewport:yu(zi({},He.viewport),{dpr:sW(ve)})})),setFrameloop:(ve="always")=>G(()=>({frameloop:ve})),events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:o,lastEvent:Xn.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(ve,He=0)=>(G(({internal:Ge})=>({internal:yu(zi({},Ge),{priority:Ge.priority+(He>0?1:0),subscribers:[...Ge.subscribers,{ref:ve,priority:He}].sort((kt,an)=>kt.priority-an.priority)})})),()=>{G(({internal:Ge})=>({internal:yu(zi({},Ge),{priority:Ge.priority-(He>0?1:0),subscribers:Ge.subscribers.filter(kt=>kt.ref!==ve)})}))})}}}),R=C.getState();let P=R.size,D=R.viewport.dpr;return C.subscribe(()=>{const{camera:G,size:z,viewport:V,internal:X}=C.getState();(z!==P||V.dpr!==D)&&(!G.manual&&!(X.lastProps.camera instanceof rk)&&(mle(G)?(G.left=z.width/-2,G.right=z.width/2,G.top=z.height/2,G.bottom=z.height/-2):G.aspect=z.width/z.height,G.updateProjectionMatrix(),G.updateMatrixWorld()),a.setPixelRatio(V.dpr),a.setSize(z.width,z.height),P=z,D=V.dpr)}),l&&R.setSize(l.width,l.height),C.subscribe(G=>e(G)),C};let yg,gle=[],yle=[],lLe=[];function qA(r,e){for(yg=0;yg<r.length;yg++)r[yg](e)}function lW(r,e){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),yg=0;yg<e.internal.subscribers.length;yg++)e.internal.subscribers[yg].ref.current(e,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function uLe(r){let e=!1,n;function o(u){if(e=!0,n=0,qA(gle,u),r.forEach(_=>{const f=_.store.getState();f.internal.active&&(f.frameloop==="always"||f.internal.frames>0)&&(n+=lW(u,f))}),qA(yle,u),n>0)return requestAnimationFrame(o);qA(lLe,u),e=!1}function a(u){if(!u)return r.forEach(_=>a(_.store.getState()));u.vr||!u.internal.active||u.frameloop==="never"||(u.internal.frames=Math.min(60,u.internal.frames+1),e||(e=!0,requestAnimationFrame(o)))}function l(u,_=!0,f){_&&qA(gle,u),f?lW(u,f):r.forEach(h=>lW(u,h.store.getState())),_&&qA(yle,u)}return{loop:o,invalidate:a,advance:l}}function cLe(r){const{handlePointer:e}=eLe(r),n={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(n).reduce((o,a)=>yu(zi({},o),{[a]:e(a)}),{}),connect:o=>{var a;const{set:l,events:u}=r.getState();u.disconnect==null||u.disconnect(),l(_=>({events:yu(zi({},_.events),{connected:o})})),Object.entries((a=u==null?void 0:u.handlers)!=null?a:[]).forEach(([_,f])=>{const[h,d]=n[_];o.addEventListener(h,f,{passive:d})})},disconnect:()=>{const{set:o,events:a}=r.getState();if(a.connected){var l;Object.entries((l=a.handlers)!=null?l:[]).forEach(([u,_])=>{if(a&&a.connected instanceof HTMLElement){const[f]=n[u];a.connected.removeEventListener(f,_)}}),o(u=>({events:yu(zi({},u.events),{connected:!1})}))}}}}const uW=typeof window!="undefined"?Xn.exports.useLayoutEffect:Xn.exports.useEffect;function _Le({set:r}){return uW(()=>(r(new Promise(()=>null)),()=>r(!1)),[]),null}class kle extends Xn.exports.Component{constructor(...e){super(...e);this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}kle.getDerivedStateFromError=()=>({error:!0});const fet=Xn.exports.forwardRef(function(m,d){var g=m,{children:e,fallback:n,tabIndex:o,resize:a,id:l,style:u,className:_,events:f}=g,h=ah(g,["children","fallback","tabIndex","resize","id","style","className","events"]);const[y,{width:w,height:E}]=KFe(zi({scroll:!0,debounce:{scroll:50,resize:0}},a)),A=Xn.exports.useRef(null),[S,C]=Xn.exports.useState(!1),[R,P]=Xn.exports.useState(!1);if(S)throw S;if(R)throw R;return uW(()=>{w>0&&E>0&&mLe(Xn.exports.createElement(kle,{set:P},Xn.exports.createElement(Xn.exports.Suspense,{fallback:Xn.exports.createElement(_Le,{set:C})},e)),A.current,yu(zi({},h),{size:{width:w,height:E},events:f||cLe}))},[w,E,e]),uW(()=>{const D=A.current;return()=>Ele(D)},[]),Xn.exports.createElement("div",{ref:y,id:l,className:_,tabIndex:o,style:zi({position:"relative",width:"100%",height:"100%",overflow:"hidden"},u)},Xn.exports.createElement("canvas",{ref:qFe([A,d]),style:{display:"block"}},n))});function $le(){const r=Xn.exports.useContext(vle);if(!r)throw"R3F hooks can only be used within the Canvas component!";return r}function um(r=n=>n,e){return $le()(r,e)}function fLe(r,e=0){const n=$le().getState().internal.subscribe,o=Xn.exports.useRef(r);return Xn.exports.useLayoutEffect(()=>void(o.current=r),[r]),Xn.exports.useLayoutEffect(()=>n(o,e),[e,n]),null}function pLe(r){const e={nodes:{},materials:{}};return r&&r.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function ble(r,e){return function(n,...o){const a=new n;return r&&r(a),Promise.all(o.map(l=>new Promise((u,_)=>a.load(l,f=>{f.scene&&Object.assign(f,pLe(f.scene)),u(f)},e,f=>_(`Could not load ${l}: ${f.message}`)))))}}function Gx(r,e,n,o){const a=Array.isArray(e)?e:[e],l=rp(ble(n,o),r,...a);return Array.isArray(e)?l:l[0]}Gx.preload=function(r,e,n){const o=Array.isArray(e)?e:[e];return rp.preload(ble(n),r,...o)};Gx.clear=function(r,e){const n=Array.isArray(e)?e:[e];return rp.clear(r,...n)};const KA=new Map,wle=["legacy","blocking","concurrent"],{invalidate:hLe,advance:xle}=uLe(KA),{reconciler:JA,applyProps:Sle}=oLe(),dLe=(r,e)=>{const n=typeof r=="function"?r(e):r;if(aLe(n))return n;const o=new Pi(zi({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},r));return o.outputEncoding=hh,o.toneMapping=uG,r&&Sle(o,r),o};function mLe(r,e,f={}){var h=f,{gl:n,size:o,mode:a=wle[1],events:l,onCreated:u}=h,_=ah(h,["gl","size","mode","events","onCreated"]);var d;if(!o){var m,g,y,w;o={width:(m=(g=e.parentElement)==null?void 0:g.clientWidth)!=null?m:0,height:(y=(w=e.parentElement)==null?void 0:w.clientHeight)!=null?y:0}}let E=KA.get(e),A=E==null?void 0:E.fiber,S=E==null?void 0:E.store,C=(d=S)==null?void 0:d.getState();if(A&&C&&(_.dpr!==void 0&&!to.equ(C.viewport.dpr,sW(_.dpr))&&C.setDpr(_.dpr),(C.size.width!==o.width||C.size.height!==o.height)&&C.setSize(o.width,o.height),C.frameloop!==_.frameloop&&C.setFrameloop(_.frameloop),_.linear!==C.internal.lastProps.linear&&(Ele(e),A=void 0)),!A){const R=dLe(n,e);_.vr&&(R.xr.enabled=!0,R.setAnimationLoop(D=>xle(D,!0))),S=sLe(Sle,hLe,xle,zi({gl:R,size:o},_));const P=S.getState();A=JA.createContainer(S,wle.indexOf(a),!1,null),KA.set(e,{fiber:A,store:S}),l&&P.set({events:l(S)})}if(S&&A)return JA.updateContainer(Xn.exports.createElement(vLe,{store:S,element:r,onCreated:u,target:e}),A,null,()=>{}),S;throw"Error creating root!"}function vLe({store:r,element:e,onCreated:n,target:o}){return Xn.exports.useEffect(()=>{const a=r.getState();a.set(l=>({internal:yu(zi({},l.internal),{active:!0})})),a.events.connect==null||a.events.connect(o),n&&n(a)},[]),Xn.exports.createElement(vle.Provider,{value:r},e)}function Ele(r,e){const n=KA.get(r),o=n==null?void 0:n.fiber;if(o){const a=n==null?void 0:n.store.getState();a&&(a.internal.active=!1),JA.updateContainer(null,o,null,()=>{a&&setTimeout(()=>{var l,u,_;a.events.disconnect==null||a.events.disconnect(),(l=a.gl)==null||(u=l.renderLists)==null||u.dispose==null||u.dispose(),(_=a.gl)==null||_.forceContextLoss==null||_.forceContextLoss(),gLe(a),KA.delete(r),e&&e(r)},500)})}}function gLe(r){r.dispose&&r.type!=="Scene"&&r.dispose();for(const o in r){var e,n;(e=(n=o).dispose)==null||e.call(n),delete r[o]}}JA.act;JA.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});function Cr(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}const Cle=(r,e)=>(r%e+e)%e;class yLe extends Yd{constructor(e,n){super();Cr(this,"object",void 0),Cr(this,"domElement",void 0),Cr(this,"enabled",!0),Cr(this,"target",new te),Cr(this,"minDistance",0),Cr(this,"maxDistance",1/0),Cr(this,"minZoom",0),Cr(this,"maxZoom",1/0),Cr(this,"minPolarAngle",0),Cr(this,"maxPolarAngle",Math.PI),Cr(this,"minAzimuthAngle",-1/0),Cr(this,"maxAzimuthAngle",1/0),Cr(this,"enableDamping",!1),Cr(this,"dampingFactor",.05),Cr(this,"enableZoom",!0),Cr(this,"zoomSpeed",1),Cr(this,"enableRotate",!0),Cr(this,"rotateSpeed",1),Cr(this,"enablePan",!0),Cr(this,"panSpeed",1),Cr(this,"screenSpacePanning",!0),Cr(this,"keyPanSpeed",7),Cr(this,"autoRotate",!1),Cr(this,"autoRotateSpeed",2),Cr(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Cr(this,"mouseButtons",{LEFT:j0.ROTATE,MIDDLE:j0.DOLLY,RIGHT:j0.PAN}),Cr(this,"touches",{ONE:G0.ROTATE,TWO:G0.DOLLY_PAN}),Cr(this,"target0",void 0),Cr(this,"position0",void 0),Cr(this,"zoom0",void 0),Cr(this,"_domElementKeyEvents",null),Cr(this,"getPolarAngle",void 0),Cr(this,"getAzimuthalAngle",void 0),Cr(this,"setPolarAngle",void 0),Cr(this,"setAzimuthalAngle",void 0),Cr(this,"getDistance",void 0),Cr(this,"listenToKeyEvents",void 0),Cr(this,"saveState",void 0),Cr(this,"reset",void 0),Cr(this,"update",void 0),Cr(this,"connect",void 0),Cr(this,"dispose",void 0),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof go?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=me=>{let We=Cle(me,2*Math.PI),Tt=d.phi;Tt<0&&(Tt+=2*Math.PI),We<0&&(We+=2*Math.PI);let Ln=Math.abs(We-Tt);2*Math.PI-Ln<Ln&&(We<Tt?We+=2*Math.PI:Tt+=2*Math.PI),m.phi=We-Tt,o.update()},this.setAzimuthalAngle=me=>{let We=Cle(me,2*Math.PI),Tt=d.theta;Tt<0&&(Tt+=2*Math.PI),We<0&&(We+=2*Math.PI);let Ln=Math.abs(We-Tt);2*Math.PI-Ln<Ln&&(We<Tt?We+=2*Math.PI:Tt+=2*Math.PI),m.theta=We-Tt,o.update()},this.getDistance=()=>o.object.position.distanceTo(o.target),this.listenToKeyEvents=me=>{me.addEventListener("keydown",ft),this._domElementKeyEvents=me},this.saveState=()=>{o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object instanceof go?o.object.zoom:1},this.reset=()=>{o.target.copy(o.target0),o.object.position.copy(o.position0),o.object instanceof go&&(o.object.zoom=o.zoom0,o.object.updateProjectionMatrix()),o.dispatchEvent(a),o.update(),f=_.NONE},this.update=(()=>{const me=new te,We=new ps().setFromUnitVectors(e.up,new te(0,1,0)),Tt=We.clone().invert(),Ln=new te,qn=new ps,oo=2*Math.PI;return function(){const wm=o.object.position;me.copy(wm).sub(o.target),me.applyQuaternion(We),d.setFromVector3(me),o.autoRotate&&f===_.NONE&&ue(ne()),o.enableDamping?(d.theta+=m.theta*o.dampingFactor,d.phi+=m.phi*o.dampingFactor):(d.theta+=m.theta,d.phi+=m.phi);let Ls=o.minAzimuthAngle,sl=o.maxAzimuthAngle;return isFinite(Ls)&&isFinite(sl)&&(Ls<-Math.PI?Ls+=oo:Ls>Math.PI&&(Ls-=oo),sl<-Math.PI?sl+=oo:sl>Math.PI&&(sl-=oo),Ls<=sl?d.theta=Math.max(Ls,Math.min(sl,d.theta)):d.theta=d.theta>(Ls+sl)/2?Math.max(Ls,d.theta):Math.min(sl,d.theta)),d.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=g,d.radius=Math.max(o.minDistance,Math.min(o.maxDistance,d.radius)),o.enableDamping===!0?o.target.addScaledVector(y,o.dampingFactor):o.target.add(y),me.setFromSpherical(d),me.applyQuaternion(Tt),wm.copy(o.target).add(me),o.object.lookAt(o.target),o.enableDamping===!0?(m.theta*=1-o.dampingFactor,m.phi*=1-o.dampingFactor,y.multiplyScalar(1-o.dampingFactor)):(m.set(0,0,0),y.set(0,0,0)),g=1,w||Ln.distanceToSquared(o.object.position)>h||8*(1-qn.dot(o.object.quaternion))>h?(o.dispatchEvent(a),Ln.copy(o.object.position),qn.copy(o.object.quaternion),w=!1,!0):!1}})(),this.connect=me=>{me===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),o.domElement=me,o.domElement.style.touchAction="none",o.domElement.addEventListener("contextmenu",be),o.domElement.addEventListener("pointerdown",Qn),o.domElement.addEventListener("pointercancel",ci),o.domElement.addEventListener("wheel",_t)},this.dispose=()=>{var me,We,Tt,Ln,qn,oo;(me=o.domElement)===null||me===void 0||me.removeEventListener("contextmenu",be),(We=o.domElement)===null||We===void 0||We.removeEventListener("pointerdown",Qn),(Tt=o.domElement)===null||Tt===void 0||Tt.removeEventListener("pointercancel",ci),(Ln=o.domElement)===null||Ln===void 0||Ln.removeEventListener("wheel",_t),(qn=o.domElement)===null||qn===void 0||qn.ownerDocument.removeEventListener("pointermove",Kn),(oo=o.domElement)===null||oo===void 0||oo.ownerDocument.removeEventListener("pointerup",pr),o._domElementKeyEvents!==null&&o._domElementKeyEvents.removeEventListener("keydown",ft)};const o=this,a={type:"change"},l={type:"start"},u={type:"end"},_={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let f=_.NONE;const h=1e-6,d=new eW,m=new eW;let g=1;const y=new te;let w=!1;const E=new rt,A=new rt,S=new rt,C=new rt,R=new rt,P=new rt,D=new rt,G=new rt,z=new rt,V=[],X={};function ne(){return 2*Math.PI/60/60*o.autoRotateSpeed}function Y(){return Math.pow(.95,o.zoomSpeed)}function ue(me){m.theta-=me}function _e(me){m.phi-=me}const ge=(()=>{const me=new te;return function(Tt,Ln){me.setFromMatrixColumn(Ln,0),me.multiplyScalar(-Tt),y.add(me)}})(),$e=(()=>{const me=new te;return function(Tt,Ln){o.screenSpacePanning===!0?me.setFromMatrixColumn(Ln,1):(me.setFromMatrixColumn(Ln,0),me.crossVectors(o.object.up,me)),me.multiplyScalar(Tt),y.add(me)}})(),xe=(()=>{const me=new te;return function(Tt,Ln){const qn=o.domElement;if(qn&&o.object instanceof go&&o.object.isPerspectiveCamera){const oo=o.object.position;me.copy(oo).sub(o.target);let Jo=me.length();Jo*=Math.tan(o.object.fov/2*Math.PI/180),ge(2*Tt*Jo/qn.clientHeight,o.object.matrix),$e(2*Ln*Jo/qn.clientHeight,o.object.matrix)}else qn&&o.object instanceof mh&&o.object.isOrthographicCamera?(ge(Tt*(o.object.right-o.object.left)/o.object.zoom/qn.clientWidth,o.object.matrix),$e(Ln*(o.object.top-o.object.bottom)/o.object.zoom/qn.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}})();function Ie(me){o.object instanceof go&&o.object.isPerspectiveCamera?g/=me:o.object instanceof mh&&o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*me)),o.object.updateProjectionMatrix(),w=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function tt(me){o.object instanceof go&&o.object.isPerspectiveCamera?g*=me:o.object instanceof mh&&o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/me)),o.object.updateProjectionMatrix(),w=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function gt(me){E.set(me.clientX,me.clientY)}function Je(me){D.set(me.clientX,me.clientY)}function ve(me){C.set(me.clientX,me.clientY)}function He(me){A.set(me.clientX,me.clientY),S.subVectors(A,E).multiplyScalar(o.rotateSpeed);const We=o.domElement;We&&(ue(2*Math.PI*S.x/We.clientHeight),_e(2*Math.PI*S.y/We.clientHeight)),E.copy(A),o.update()}function Ge(me){G.set(me.clientX,me.clientY),z.subVectors(G,D),z.y>0?Ie(Y()):z.y<0&&tt(Y()),D.copy(G),o.update()}function kt(me){R.set(me.clientX,me.clientY),P.subVectors(R,C).multiplyScalar(o.panSpeed),xe(P.x,P.y),C.copy(R),o.update()}function an(me){me.deltaY<0?tt(Y()):me.deltaY>0&&Ie(Y()),o.update()}function ot(me){let We=!1;switch(me.code){case o.keys.UP:xe(0,o.keyPanSpeed),We=!0;break;case o.keys.BOTTOM:xe(0,-o.keyPanSpeed),We=!0;break;case o.keys.LEFT:xe(o.keyPanSpeed,0),We=!0;break;case o.keys.RIGHT:xe(-o.keyPanSpeed,0),We=!0;break}We&&(me.preventDefault(),o.update())}function Mn(){if(V.length==1)E.set(V[0].pageX,V[0].pageY);else{const me=.5*(V[0].pageX+V[1].pageX),We=.5*(V[0].pageY+V[1].pageY);E.set(me,We)}}function mn(){if(V.length==1)C.set(V[0].pageX,V[0].pageY);else{const me=.5*(V[0].pageX+V[1].pageX),We=.5*(V[0].pageY+V[1].pageY);C.set(me,We)}}function Gt(){const me=V[0].pageX-V[1].pageX,We=V[0].pageY-V[1].pageY,Tt=Math.sqrt(me*me+We*We);D.set(0,Tt)}function An(){o.enableZoom&&Gt(),o.enablePan&&mn()}function Pr(){o.enableZoom&&Gt(),o.enableRotate&&Mn()}function et(me){if(V.length==1)A.set(me.pageX,me.pageY);else{const Tt=Dt(me),Ln=.5*(me.pageX+Tt.x),qn=.5*(me.pageY+Tt.y);A.set(Ln,qn)}S.subVectors(A,E).multiplyScalar(o.rotateSpeed);const We=o.domElement;We&&(ue(2*Math.PI*S.x/We.clientHeight),_e(2*Math.PI*S.y/We.clientHeight)),E.copy(A)}function mt(me){if(V.length==1)R.set(me.pageX,me.pageY);else{const We=Dt(me),Tt=.5*(me.pageX+We.x),Ln=.5*(me.pageY+We.y);R.set(Tt,Ln)}P.subVectors(R,C).multiplyScalar(o.panSpeed),xe(P.x,P.y),C.copy(R)}function yt(me){const We=Dt(me),Tt=me.pageX-We.x,Ln=me.pageY-We.y,qn=Math.sqrt(Tt*Tt+Ln*Ln);G.set(0,qn),z.set(0,Math.pow(G.y/D.y,o.zoomSpeed)),Ie(z.y),D.copy(G)}function nn(me){o.enableZoom&&yt(me),o.enablePan&&mt(me)}function Mt(me){o.enableZoom&&yt(me),o.enableRotate&&et(me)}function Qn(me){if(o.enabled!==!1){if(V.length===0){var We,Tt;(We=o.domElement)===null||We===void 0||We.ownerDocument.addEventListener("pointermove",Kn),(Tt=o.domElement)===null||Tt===void 0||Tt.ownerDocument.addEventListener("pointerup",pr)}wt(me),me.pointerType==="touch"?yn(me):he(me)}}function Kn(me){o.enabled!==!1&&(me.pointerType==="touch"?vn(me):ae(me))}function pr(me){if(it(me),V.length===0){var We,Tt,Ln;(We=o.domElement)===null||We===void 0||We.releasePointerCapture(me.pointerId),(Tt=o.domElement)===null||Tt===void 0||Tt.ownerDocument.removeEventListener("pointermove",Kn),(Ln=o.domElement)===null||Ln===void 0||Ln.ownerDocument.removeEventListener("pointerup",pr)}o.dispatchEvent(u),f=_.NONE}function ci(me){it(me)}function he(me){let We;switch(me.button){case 0:We=o.mouseButtons.LEFT;break;case 1:We=o.mouseButtons.MIDDLE;break;case 2:We=o.mouseButtons.RIGHT;break;default:We=-1}switch(We){case j0.DOLLY:if(o.enableZoom===!1)return;Je(me),f=_.DOLLY;break;case j0.ROTATE:if(me.ctrlKey||me.metaKey||me.shiftKey){if(o.enablePan===!1)return;ve(me),f=_.PAN}else{if(o.enableRotate===!1)return;gt(me),f=_.ROTATE}break;case j0.PAN:if(me.ctrlKey||me.metaKey||me.shiftKey){if(o.enableRotate===!1)return;gt(me),f=_.ROTATE}else{if(o.enablePan===!1)return;ve(me),f=_.PAN}break;default:f=_.NONE}f!==_.NONE&&o.dispatchEvent(l)}function ae(me){if(o.enabled!==!1)switch(f){case _.ROTATE:if(o.enableRotate===!1)return;He(me);break;case _.DOLLY:if(o.enableZoom===!1)return;Ge(me);break;case _.PAN:if(o.enablePan===!1)return;kt(me);break}}function _t(me){o.enabled===!1||o.enableZoom===!1||f!==_.NONE&&f!==_.ROTATE||(me.preventDefault(),o.dispatchEvent(l),an(me),o.dispatchEvent(u))}function ft(me){o.enabled===!1||o.enablePan===!1||ot(me)}function yn(me){switch(Wt(me),V.length){case 1:switch(o.touches.ONE){case G0.ROTATE:if(o.enableRotate===!1)return;Mn(),f=_.TOUCH_ROTATE;break;case G0.PAN:if(o.enablePan===!1)return;mn(),f=_.TOUCH_PAN;break;default:f=_.NONE}break;case 2:switch(o.touches.TWO){case G0.DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;An(),f=_.TOUCH_DOLLY_PAN;break;case G0.DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;Pr(),f=_.TOUCH_DOLLY_ROTATE;break;default:f=_.NONE}break;default:f=_.NONE}f!==_.NONE&&o.dispatchEvent(l)}function vn(me){switch(Wt(me),f){case _.TOUCH_ROTATE:if(o.enableRotate===!1)return;et(me),o.update();break;case _.TOUCH_PAN:if(o.enablePan===!1)return;mt(me),o.update();break;case _.TOUCH_DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;nn(me),o.update();break;case _.TOUCH_DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;Mt(me),o.update();break;default:f=_.NONE}}function be(me){o.enabled!==!1&&me.preventDefault()}function wt(me){V.push(me)}function it(me){delete X[me.pointerId];for(let We=0;We<V.length;We++)if(V[We].pointerId==me.pointerId){V.splice(We,1);return}}function Wt(me){let We=X[me.pointerId];We===void 0&&(We=new rt,X[me.pointerId]=We),We.set(me.pageX,me.pageY)}function Dt(me){const We=me.pointerId===V[0].pointerId?V[1]:V[0];return X[We.pointerId]}n!==void 0&&this.connect(n),this.update()}}class cW extends rl{constructor(e){super(e);this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new wLe(n)}),this.register(function(n){return new ALe(n)}),this.register(function(n){return new TLe(n)}),this.register(function(n){return new xLe(n)}),this.register(function(n){return new SLe(n)}),this.register(function(n){return new ELe(n)}),this.register(function(n){return new CLe(n)}),this.register(function(n){return new $Le(n)}),this.register(function(n){return new ILe(n)})}load(e,n,o,a){const l=this;let u;this.resourcePath!==""?u=this.resourcePath:this.path!==""?u=this.path:u=lm.extractUrlBase(e),this.manager.itemStart(e);const _=function(h){a?a(h):console.error(h),l.manager.itemError(e),l.manager.itemEnd(e)},f=new lc(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(e,function(h){try{l.parse(h,u,function(d){n(d),l.manager.itemEnd(e)},_)}catch(d){_(d)}},o,_)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,o,a){let l;const u={},_={};if(typeof e=="string")l=e;else if(lm.decodeText(new Uint8Array(e,0,4))===Ale){try{u[li.KHR_BINARY_GLTF]=new MLe(e)}catch(m){a&&a(m);return}l=u[li.KHR_BINARY_GLTF].content}else l=lm.decodeText(new Uint8Array(e));const f=JSON.parse(l);if(f.asset===void 0||f.asset.version[0]<2){a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const h=new ULe(f,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const m=this.pluginCallbacks[d](h);_[m.name]=m,u[m.name]=!0}if(f.extensionsUsed)for(let d=0;d<f.extensionsUsed.length;++d){const m=f.extensionsUsed[d],g=f.extensionsRequired||[];switch(m){case li.KHR_MATERIALS_UNLIT:u[m]=new bLe;break;case li.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:u[m]=new PLe;break;case li.KHR_DRACO_MESH_COMPRESSION:u[m]=new NLe(f,this.dracoLoader);break;case li.KHR_TEXTURE_TRANSFORM:u[m]=new RLe;break;case li.KHR_MESH_QUANTIZATION:u[m]=new BLe;break;default:g.indexOf(m)>=0&&_[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}h.setExtensions(u),h.setPlugins(_),h.parse(o,a)}}function kLe(){let r={};return{get:function(e){return r[e]},add:function(e,n){r[e]=n},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const li={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class $Le{constructor(e){this.parser=e,this.name=li.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let o=0,a=n.length;o<a;o++){const l=n[o];l.extensions&&l.extensions[this.name]&&l.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,l.extensions[this.name].light)}}_loadLight(e){const n=this.parser,o="light:"+e;let a=n.cache.get(o);if(a)return a;const l=n.json,f=((l.extensions&&l.extensions[this.name]||{}).lights||[])[e];let h;const d=new Ut(16777215);f.color!==void 0&&d.fromArray(f.color);const m=f.range!==void 0?f.range:0;switch(f.type){case"directional":h=new cL(d),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new uL(d),h.distance=m;break;case"spot":h=new lL(d),h.distance=m,f.spot=f.spot||{},f.spot.innerConeAngle=f.spot.innerConeAngle!==void 0?f.spot.innerConeAngle:0,f.spot.outerConeAngle=f.spot.outerConeAngle!==void 0?f.spot.outerConeAngle:Math.PI/4,h.angle=f.spot.outerConeAngle,h.penumbra=1-f.spot.innerConeAngle/f.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+f.type)}return h.position.set(0,0,0),h.decay=2,f.intensity!==void 0&&(h.intensity=f.intensity),h.name=n.createUniqueName(f.name||"light_"+e),a=Promise.resolve(h),n.cache.add(o,a),a}createNodeAttachment(e){const n=this,o=this.parser,l=o.json.nodes[e],_=(l.extensions&&l.extensions[this.name]||{}).light;return _===void 0?null:this._loadLight(_).then(function(f){return o._getNodeRef(n.cache,_,f)})}}class bLe{constructor(){this.name=li.KHR_MATERIALS_UNLIT}getMaterialType(){return sc}extendParams(e,n,o){const a=[];e.color=new Ut(1,1,1),e.opacity=1;const l=n.pbrMetallicRoughness;if(l){if(Array.isArray(l.baseColorFactor)){const u=l.baseColorFactor;e.color.fromArray(u),e.opacity=u[3]}l.baseColorTexture!==void 0&&a.push(o.assignTexture(e,"map",l.baseColorTexture))}return Promise.all(a)}}class wLe{constructor(e){this.parser=e,this.name=li.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:vg}extendMaterialParams(e,n){const o=this.parser,a=o.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],u=a.extensions[this.name];if(u.clearcoatFactor!==void 0&&(n.clearcoat=u.clearcoatFactor),u.clearcoatTexture!==void 0&&l.push(o.assignTexture(n,"clearcoatMap",u.clearcoatTexture)),u.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=u.clearcoatRoughnessFactor),u.clearcoatRoughnessTexture!==void 0&&l.push(o.assignTexture(n,"clearcoatRoughnessMap",u.clearcoatRoughnessTexture)),u.clearcoatNormalTexture!==void 0&&(l.push(o.assignTexture(n,"clearcoatNormalMap",u.clearcoatNormalTexture)),u.clearcoatNormalTexture.scale!==void 0)){const _=u.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new rt(_,-_)}return Promise.all(l)}}class xLe{constructor(e){this.parser=e,this.name=li.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:vg}extendMaterialParams(e,n){const o=this.parser,a=o.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],u=a.extensions[this.name];return u.transmissionFactor!==void 0&&(n.transmission=u.transmissionFactor),u.transmissionTexture!==void 0&&l.push(o.assignTexture(n,"transmissionMap",u.transmissionTexture)),Promise.all(l)}}class SLe{constructor(e){this.parser=e,this.name=li.KHR_MATERIALS_VOLUME}getMaterialType(e){const o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:vg}extendMaterialParams(e,n){const o=this.parser,a=o.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],u=a.extensions[this.name];n.thickness=u.thicknessFactor!==void 0?u.thicknessFactor:0,u.thicknessTexture!==void 0&&l.push(o.assignTexture(n,"thicknessMap",u.thicknessTexture)),n.attenuationDistance=u.attenuationDistance||0;const _=u.attenuationColor||[1,1,1];return n.attenuationTint=new Ut(_[0],_[1],_[2]),Promise.all(l)}}class ELe{constructor(e){this.parser=e,this.name=li.KHR_MATERIALS_IOR}getMaterialType(e){const o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:vg}extendMaterialParams(e,n){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=a.extensions[this.name];return n.ior=l.ior!==void 0?l.ior:1.5,Promise.resolve()}}class CLe{constructor(e){this.parser=e,this.name=li.KHR_MATERIALS_SPECULAR}getMaterialType(e){const o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:vg}extendMaterialParams(e,n){const o=this.parser,a=o.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],u=a.extensions[this.name];n.specularIntensity=u.specularFactor!==void 0?u.specularFactor:1,u.specularTexture!==void 0&&l.push(o.assignTexture(n,"specularIntensityMap",u.specularTexture));const _=u.specularColorFactor||[1,1,1];return n.specularTint=new Ut(_[0],_[1],_[2]),u.specularColorTexture!==void 0&&l.push(o.assignTexture(n,"specularTintMap",u.specularColorTexture).then(function(f){f.encoding=hh})),Promise.all(l)}}class ALe{constructor(e){this.parser=e,this.name=li.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,o=n.json,a=o.textures[e];if(!a.extensions||!a.extensions[this.name])return null;const l=a.extensions[this.name],u=o.images[l.source],_=n.options.ktx2Loader;if(!_){if(o.extensionsRequired&&o.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,u,_)}}class TLe{constructor(e){this.parser=e,this.name=li.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,o=this.parser,a=o.json,l=a.textures[e];if(!l.extensions||!l.extensions[n])return null;const u=l.extensions[n],_=a.images[u.source];let f=o.textureLoader;if(_.uri){const h=o.options.manager.getHandler(_.uri);h!==null&&(f=h)}return this.detectSupport().then(function(h){if(h)return o.loadTextureImage(e,_,f);if(a.extensionsRequired&&a.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return o.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class ILe{constructor(e){this.name=li.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,o=n.bufferViews[e];if(o.extensions&&o.extensions[this.name]){const a=o.extensions[this.name],l=this.parser.getDependency("buffer",a.buffer),u=this.parser.options.meshoptDecoder;if(!u||!u.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([l,u.ready]).then(function(_){const f=a.byteOffset||0,h=a.byteLength||0,d=a.count,m=a.byteStride,g=new ArrayBuffer(d*m),y=new Uint8Array(_[0],f,h);return u.decodeGltfBuffer(new Uint8Array(g),d,m,y,a.mode,a.filter),g})}else return null}}const Ale="glTF",XA=12,Tle={JSON:1313821514,BIN:5130562};class MLe{constructor(e){this.name=li.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,XA);if(this.header={magic:lm.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Ale)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const o=this.header.length-XA,a=new DataView(e,XA);let l=0;for(;l<o;){const u=a.getUint32(l,!0);l+=4;const _=a.getUint32(l,!0);if(l+=4,_===Tle.JSON){const f=new Uint8Array(e,XA+l,u);this.content=lm.decodeText(f)}else if(_===Tle.BIN){const f=XA+l;this.body=e.slice(f,f+u)}l+=u}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class NLe{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=li.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const o=this.json,a=this.dracoLoader,l=e.extensions[this.name].bufferView,u=e.extensions[this.name].attributes,_={},f={},h={};for(const d in u){const m=fW[d]||d.toLowerCase();_[m]=u[d]}for(const d in e.attributes){const m=fW[d]||d.toLowerCase();if(u[d]!==void 0){const g=o.accessors[e.attributes[d]],y=YA[g.componentType];h[m]=y,f[m]=g.normalized===!0}}return n.getDependency("bufferView",l).then(function(d){return new Promise(function(m){a.decodeDracoFile(d,function(g){for(const y in g.attributes){const w=g.attributes[y],E=f[y];E!==void 0&&(w.normalized=E)}m(g)},_,h)})})}}class RLe{constructor(){this.name=li.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return n.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class _W extends pk{constructor(e){super();this.isGLTFSpecularGlossinessMaterial=!0;const n=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),o=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),a=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),l=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),u=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),_={specular:{value:new Ut().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=_,this.onBeforeCompile=function(f){for(const h in _)f.uniforms[h]=_[h];f.fragmentShader=f.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",n).replace("#include <metalnessmap_pars_fragment>",o).replace("#include <roughnessmap_fragment>",a).replace("#include <metalnessmap_fragment>",l).replace("#include <lights_physical_fragment>",u)},Object.defineProperties(this,{specular:{get:function(){return _.specular.value},set:function(f){_.specular.value=f}},specularMap:{get:function(){return _.specularMap.value},set:function(f){_.specularMap.value=f,f?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return _.glossiness.value},set:function(f){_.glossiness.value=f}},glossinessMap:{get:function(){return _.glossinessMap.value},set:function(f){_.glossinessMap.value=f,f?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class PLe{constructor(){this.name=li.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return _W}extendParams(e,n,o){const a=n.extensions[this.name];e.color=new Ut(1,1,1),e.opacity=1;const l=[];if(Array.isArray(a.diffuseFactor)){const u=a.diffuseFactor;e.color.fromArray(u),e.opacity=u[3]}if(a.diffuseTexture!==void 0&&l.push(o.assignTexture(e,"map",a.diffuseTexture)),e.emissive=new Ut(0,0,0),e.glossiness=a.glossinessFactor!==void 0?a.glossinessFactor:1,e.specular=new Ut(1,1,1),Array.isArray(a.specularFactor)&&e.specular.fromArray(a.specularFactor),a.specularGlossinessTexture!==void 0){const u=a.specularGlossinessTexture;l.push(o.assignTexture(e,"glossinessMap",u)),l.push(o.assignTexture(e,"specularMap",u))}return Promise.all(l)}createMaterial(e){const n=new _W(e);return n.fog=!0,n.color=e.color,n.map=e.map===void 0?null:e.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=e.aoMap===void 0?null:e.aoMap,n.aoMapIntensity=1,n.emissive=e.emissive,n.emissiveIntensity=1,n.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,n.bumpMap=e.bumpMap===void 0?null:e.bumpMap,n.bumpScale=1,n.normalMap=e.normalMap===void 0?null:e.normalMap,n.normalMapType=ng,e.normalScale&&(n.normalScale=e.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=e.specularMap===void 0?null:e.specularMap,n.specular=e.specular,n.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,n.glossiness=e.glossiness,n.alphaMap=null,n.envMap=e.envMap===void 0?null:e.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n}}class BLe{constructor(){this.name=li.KHR_MESH_QUANTIZATION}}class Wx extends xh{constructor(e,n,o,a){super(e,n,o,a)}copySampleValue_(e){const n=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a*3+a;for(let u=0;u!==a;u++)n[u]=o[l+u];return n}}Wx.prototype.beforeStart_=Wx.prototype.copySampleValue_;Wx.prototype.afterEnd_=Wx.prototype.copySampleValue_;Wx.prototype.interpolate_=function(r,e,n,o){const a=this.resultBuffer,l=this.sampleValues,u=this.valueSize,_=u*2,f=u*3,h=o-e,d=(n-e)/h,m=d*d,g=m*d,y=r*f,w=y-f,E=-2*g+3*m,A=g-m,S=1-E,C=A-m+d;for(let R=0;R!==u;R++){const P=l[w+R+u],D=l[w+R+_]*h,G=l[y+R+u],z=l[y+R]*h;a[R]=S*P+C*D+E*G+A*z}return a};const cm={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},YA={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Ile={9728:ra,9729:Ro,9984:fA,9985:iF,9986:pA,9987:Xd},Mle={33071:Ms,33648:Jw,10497:eg},Nle={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},fW={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},kg={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},FLe={CUBICSPLINE:void 0,LINEAR:J0,STEP:Yw},pW={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Rle(r,e){return typeof r!="string"||r===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(r)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(r)||/^data:.*,.*$/i.test(r)||/^blob:.*$/i.test(r)?r:e+r)}function LLe(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new pk({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Qv})),r.DefaultMaterial}function QA(r,e,n){for(const o in n.extensions)r[o]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[o]=n.extensions[o])}function wk(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function DLe(r,e,n){let o=!1,a=!1;for(let _=0,f=e.length;_<f;_++){const h=e[_];if(h.POSITION!==void 0&&(o=!0),h.NORMAL!==void 0&&(a=!0),o&&a)break}if(!o&&!a)return Promise.resolve(r);const l=[],u=[];for(let _=0,f=e.length;_<f;_++){const h=e[_];if(o){const d=h.POSITION!==void 0?n.getDependency("accessor",h.POSITION):r.attributes.position;l.push(d)}if(a){const d=h.NORMAL!==void 0?n.getDependency("accessor",h.NORMAL):r.attributes.normal;u.push(d)}}return Promise.all([Promise.all(l),Promise.all(u)]).then(function(_){const f=_[0],h=_[1];return o&&(r.morphAttributes.position=f),a&&(r.morphAttributes.normal=h),r.morphTargetsRelative=!0,r})}function OLe(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let n=0,o=e.weights.length;n<o;n++)r.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(r.morphTargetInfluences.length===n.length){r.morphTargetDictionary={};for(let o=0,a=n.length;o<a;o++)r.morphTargetDictionary[n[o]]=o}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function zLe(r){const e=r.extensions&&r.extensions[li.KHR_DRACO_MESH_COMPRESSION];let n;return e?n="draco:"+e.bufferView+":"+e.indices+":"+Ple(e.attributes):n=r.indices+":"+Ple(r.attributes)+":"+r.mode,n}function Ple(r){let e="";const n=Object.keys(r).sort();for(let o=0,a=n.length;o<a;o++)e+=n[o]+":"+r[n[o]]+";";return e}function hW(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class ULe{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new kLe,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox/.test(navigator.userAgent)===!1?this.textureLoader=new q8(this.options.manager):this.textureLoader=new O8(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new lc(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const o=this,a=this.json,l=this.extensions;this.cache.removeAll(),this._invokeAll(function(u){return u._markDefs&&u._markDefs()}),Promise.all(this._invokeAll(function(u){return u.beforeRoot&&u.beforeRoot()})).then(function(){return Promise.all([o.getDependencies("scene"),o.getDependencies("animation"),o.getDependencies("camera")])}).then(function(u){const _={scene:u[0][a.scene||0],scenes:u[0],animations:u[1],cameras:u[2],asset:a.asset,parser:o,userData:{}};QA(l,_,a),wk(_,a),Promise.all(o._invokeAll(function(f){return f.afterRoot&&f.afterRoot(_)})).then(function(){e(_)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],o=this.json.meshes||[];for(let a=0,l=n.length;a<l;a++){const u=n[a].joints;for(let _=0,f=u.length;_<f;_++)e[u[_]].isBone=!0}for(let a=0,l=e.length;a<l;a++){const u=e[a];u.mesh!==void 0&&(this._addNodeRef(this.meshCache,u.mesh),u.skin!==void 0&&(o[u.mesh].isSkinnedMesh=!0)),u.camera!==void 0&&this._addNodeRef(this.cameraCache,u.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,o){if(e.refs[n]<=1)return o;const a=o.clone();return a.name+="_instance_"+e.uses[n]++,a}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let o=0;o<n.length;o++){const a=e(n[o]);if(a)return a}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const o=[];for(let a=0;a<n.length;a++){const l=e(n[a]);l&&o.push(l)}return o}getDependency(e,n){const o=e+":"+n;let a=this.cache.get(o);if(!a){switch(e){case"scene":a=this.loadScene(n);break;case"node":a=this.loadNode(n);break;case"mesh":a=this._invokeOne(function(l){return l.loadMesh&&l.loadMesh(n)});break;case"accessor":a=this.loadAccessor(n);break;case"bufferView":a=this._invokeOne(function(l){return l.loadBufferView&&l.loadBufferView(n)});break;case"buffer":a=this.loadBuffer(n);break;case"material":a=this._invokeOne(function(l){return l.loadMaterial&&l.loadMaterial(n)});break;case"texture":a=this._invokeOne(function(l){return l.loadTexture&&l.loadTexture(n)});break;case"skin":a=this.loadSkin(n);break;case"animation":a=this.loadAnimation(n);break;case"camera":a=this.loadCamera(n);break;default:throw new Error("Unknown type: "+e)}this.cache.add(o,a)}return a}getDependencies(e){let n=this.cache.get(e);if(!n){const o=this,a=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(a.map(function(l,u){return o.getDependency(e,u)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],o=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[li.KHR_BINARY_GLTF].body);const a=this.options;return new Promise(function(l,u){o.load(Rle(n.uri,a.path),l,void 0,function(){u(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(o){const a=n.byteLength||0,l=n.byteOffset||0;return o.slice(l,l+a)})}loadAccessor(e){const n=this,o=this.json,a=this.json.accessors[e];if(a.bufferView===void 0&&a.sparse===void 0)return Promise.resolve(null);const l=[];return a.bufferView!==void 0?l.push(this.getDependency("bufferView",a.bufferView)):l.push(null),a.sparse!==void 0&&(l.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(l).then(function(u){const _=u[0],f=Nle[a.type],h=YA[a.componentType],d=h.BYTES_PER_ELEMENT,m=d*f,g=a.byteOffset||0,y=a.bufferView!==void 0?o.bufferViews[a.bufferView].byteStride:void 0,w=a.normalized===!0;let E,A;if(y&&y!==m){const S=Math.floor(g/y),C="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+S+":"+a.count;let R=n.cache.get(C);R||(E=new h(_,S*y,a.count*y/d),R=new pg(E,y/d),n.cache.add(C,R)),A=new am(R,f,g%y/d,w)}else _===null?E=new h(a.count*f):E=new h(_,g,a.count*f),A=new jr(E,f,w);if(a.sparse!==void 0){const S=Nle.SCALAR,C=YA[a.sparse.indices.componentType],R=a.sparse.indices.byteOffset||0,P=a.sparse.values.byteOffset||0,D=new C(u[1],R,a.sparse.count*S),G=new h(u[2],P,a.sparse.count*f);_!==null&&(A=new jr(A.array.slice(),A.itemSize,A.normalized));for(let z=0,V=D.length;z<V;z++){const X=D[z];if(A.setX(X,G[z*f]),f>=2&&A.setY(X,G[z*f+1]),f>=3&&A.setZ(X,G[z*f+2]),f>=4&&A.setW(X,G[z*f+3]),f>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const n=this.json,o=this.options,a=n.textures[e],l=n.images[a.source];let u=this.textureLoader;if(l.uri){const _=o.manager.getHandler(l.uri);_!==null&&(u=_)}return this.loadTextureImage(e,l,u)}loadTextureImage(e,n,o){const a=this,l=this.json,u=this.options,_=l.textures[e],f=(n.uri||n.bufferView)+":"+_.sampler;if(this.textureCache[f])return this.textureCache[f];const h=self.URL||self.webkitURL;let d=n.uri||"",m=!1,g=!0;const y=d.search(/\.jpe?g($|\?)/i)>0||d.search(/^data\:image\/jpeg/)===0;if((n.mimeType==="image/jpeg"||y)&&(g=!1),n.bufferView!==void 0)d=a.getDependency("bufferView",n.bufferView).then(function(E){if(n.mimeType==="image/png"){const S=new DataView(E,25,1).getUint8(0,!1);g=S===6||S===4||S===3}m=!0;const A=new Blob([E],{type:n.mimeType});return d=h.createObjectURL(A),d});else if(n.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const w=Promise.resolve(d).then(function(E){return new Promise(function(A,S){let C=A;o.isImageBitmapLoader===!0&&(C=function(R){const P=new Na(R);P.needsUpdate=!0,A(P)}),o.load(Rle(E,u.path),C,void 0,S)})}).then(function(E){m===!0&&h.revokeObjectURL(d),E.flipY=!1,_.name&&(E.name=_.name),g||(E.format=Xf);const S=(l.samplers||{})[_.sampler]||{};return E.magFilter=Ile[S.magFilter]||Ro,E.minFilter=Ile[S.minFilter]||Xd,E.wrapS=Mle[S.wrapS]||eg,E.wrapT=Mle[S.wrapT]||eg,a.associations.set(E,{type:"textures",index:e}),E}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",d),null});return this.textureCache[f]=w,w}assignTexture(e,n,o){const a=this;return this.getDependency("texture",o.index).then(function(l){if(o.texCoord!==void 0&&o.texCoord!=0&&!(n==="aoMap"&&o.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+o.texCoord+" for texture "+n+" not yet supported."),a.extensions[li.KHR_TEXTURE_TRANSFORM]){const u=o.extensions!==void 0?o.extensions[li.KHR_TEXTURE_TRANSFORM]:void 0;if(u){const _=a.associations.get(l);l=a.extensions[li.KHR_TEXTURE_TRANSFORM].extendTexture(l,u),a.associations.set(l,_)}}return e[n]=l,l})}assignFinalMaterial(e){const n=e.geometry;let o=e.material;const a=n.attributes.tangent!==void 0,l=n.attributes.color!==void 0,u=n.attributes.normal===void 0;if(e.isPoints){const _="PointsMaterial:"+o.uuid;let f=this.cache.get(_);f||(f=new hg,Ha.prototype.copy.call(f,o),f.color.copy(o.color),f.map=o.map,f.sizeAttenuation=!1,this.cache.add(_,f)),o=f}else if(e.isLine){const _="LineBasicMaterial:"+o.uuid;let f=this.cache.get(_);f||(f=new hs,Ha.prototype.copy.call(f,o),f.color.copy(o.color),this.cache.add(_,f)),o=f}if(a||l||u){let _="ClonedMaterial:"+o.uuid+":";o.isGLTFSpecularGlossinessMaterial&&(_+="specular-glossiness:"),a&&(_+="vertex-tangents:"),l&&(_+="vertex-colors:"),u&&(_+="flat-shading:");let f=this.cache.get(_);f||(f=o.clone(),l&&(f.vertexColors=!0),u&&(f.flatShading=!0),a&&(f.normalScale&&(f.normalScale.y*=-1),f.clearcoatNormalScale&&(f.clearcoatNormalScale.y*=-1)),this.cache.add(_,f),this.associations.set(f,this.associations.get(o))),o=f}o.aoMap&&n.attributes.uv2===void 0&&n.attributes.uv!==void 0&&n.setAttribute("uv2",n.attributes.uv),e.material=o}getMaterialType(){return pk}loadMaterial(e){const n=this,o=this.json,a=this.extensions,l=o.materials[e];let u;const _={},f=l.extensions||{},h=[];if(f[li.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const m=a[li.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];u=m.getMaterialType(),h.push(m.extendParams(_,l,n))}else if(f[li.KHR_MATERIALS_UNLIT]){const m=a[li.KHR_MATERIALS_UNLIT];u=m.getMaterialType(),h.push(m.extendParams(_,l,n))}else{const m=l.pbrMetallicRoughness||{};if(_.color=new Ut(1,1,1),_.opacity=1,Array.isArray(m.baseColorFactor)){const g=m.baseColorFactor;_.color.fromArray(g),_.opacity=g[3]}m.baseColorTexture!==void 0&&h.push(n.assignTexture(_,"map",m.baseColorTexture)),_.metalness=m.metallicFactor!==void 0?m.metallicFactor:1,_.roughness=m.roughnessFactor!==void 0?m.roughnessFactor:1,m.metallicRoughnessTexture!==void 0&&(h.push(n.assignTexture(_,"metalnessMap",m.metallicRoughnessTexture)),h.push(n.assignTexture(_,"roughnessMap",m.metallicRoughnessTexture))),u=this._invokeOne(function(g){return g.getMaterialType&&g.getMaterialType(e)}),h.push(Promise.all(this._invokeAll(function(g){return g.extendMaterialParams&&g.extendMaterialParams(e,_)})))}l.doubleSided===!0&&(_.side=Zv);const d=l.alphaMode||pW.OPAQUE;return d===pW.BLEND?(_.transparent=!0,_.depthWrite=!1):(_.transparent=!1,d===pW.MASK&&(_.alphaTest=l.alphaCutoff!==void 0?l.alphaCutoff:.5)),l.normalTexture!==void 0&&u!==sc&&(h.push(n.assignTexture(_,"normalMap",l.normalTexture)),_.normalScale=new rt(1,-1),l.normalTexture.scale!==void 0&&_.normalScale.set(l.normalTexture.scale,-l.normalTexture.scale)),l.occlusionTexture!==void 0&&u!==sc&&(h.push(n.assignTexture(_,"aoMap",l.occlusionTexture)),l.occlusionTexture.strength!==void 0&&(_.aoMapIntensity=l.occlusionTexture.strength)),l.emissiveFactor!==void 0&&u!==sc&&(_.emissive=new Ut().fromArray(l.emissiveFactor)),l.emissiveTexture!==void 0&&u!==sc&&h.push(n.assignTexture(_,"emissiveMap",l.emissiveTexture)),Promise.all(h).then(function(){let m;return u===_W?m=a[li.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(_):m=new u(_),l.name&&(m.name=l.name),m.map&&(m.map.encoding=hh),m.emissiveMap&&(m.emissiveMap.encoding=hh),wk(m,l),n.associations.set(m,{type:"materials",index:e}),l.extensions&&QA(a,m,l),m})}createUniqueName(e){const n=si.sanitizeNodeName(e||"");let o=n;for(let a=1;this.nodeNamesUsed[o];++a)o=n+"_"+a;return this.nodeNamesUsed[o]=!0,o}loadGeometries(e){const n=this,o=this.extensions,a=this.primitiveCache;function l(_){return o[li.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(_,n).then(function(f){return Fle(f,_,n)})}const u=[];for(let _=0,f=e.length;_<f;_++){const h=e[_],d=zLe(h),m=a[d];if(m)u.push(m.promise);else{let g;h.extensions&&h.extensions[li.KHR_DRACO_MESH_COMPRESSION]?g=l(h):g=Fle(new Yn,h,n),a[d]={primitive:h,promise:g},u.push(g)}}return Promise.all(u)}loadMesh(e){const n=this,o=this.json,a=this.extensions,l=o.meshes[e],u=l.primitives,_=[];for(let f=0,h=u.length;f<h;f++){const d=u[f].material===void 0?LLe(this.cache):this.getDependency("material",u[f].material);_.push(d)}return _.push(n.loadGeometries(u)),Promise.all(_).then(function(f){const h=f.slice(0,f.length-1),d=f[f.length-1],m=[];for(let y=0,w=d.length;y<w;y++){const E=d[y],A=u[y];let S;const C=h[y];if(A.mode===cm.TRIANGLES||A.mode===cm.TRIANGLE_STRIP||A.mode===cm.TRIANGLE_FAN||A.mode===void 0)S=l.isSkinnedMesh===!0?new NA(E,C):new Pa(E,C),S.isSkinnedMesh===!0&&!S.geometry.attributes.skinWeight.normalized&&S.normalizeSkinWeights(),A.mode===cm.TRIANGLE_STRIP?S.geometry=Lle(S.geometry,Eoe):A.mode===cm.TRIANGLE_FAN&&(S.geometry=Lle(S.geometry,bG));else if(A.mode===cm.LINES)S=new wu(E,C);else if(A.mode===cm.LINE_STRIP)S=new yh(E,C);else if(A.mode===cm.LINE_LOOP)S=new KF(E,C);else if(A.mode===cm.POINTS)S=new Ex(E,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(S.geometry.morphAttributes).length>0&&OLe(S,l),S.name=n.createUniqueName(l.name||"mesh_"+e),wk(S,l),A.extensions&&QA(a,S,A),n.assignFinalMaterial(S),m.push(S)}if(m.length===1)return m[0];const g=new gh;for(let y=0,w=m.length;y<w;y++)g.add(m[y]);return g})}loadCamera(e){let n;const o=this.json.cameras[e],a=o[o.type];if(!a){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return o.type==="perspective"?n=new go(TG.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):o.type==="orthographic"&&(n=new mh(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),o.name&&(n.name=this.createUniqueName(o.name)),wk(n,o),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],o={joints:n.joints};return n.inverseBindMatrices===void 0?Promise.resolve(o):this.getDependency("accessor",n.inverseBindMatrices).then(function(a){return o.inverseBindMatrices=a,o})}loadAnimation(e){const o=this.json.animations[e],a=[],l=[],u=[],_=[],f=[];for(let h=0,d=o.channels.length;h<d;h++){const m=o.channels[h],g=o.samplers[m.sampler],y=m.target,w=y.node!==void 0?y.node:y.id,E=o.parameters!==void 0?o.parameters[g.input]:g.input,A=o.parameters!==void 0?o.parameters[g.output]:g.output;a.push(this.getDependency("node",w)),l.push(this.getDependency("accessor",E)),u.push(this.getDependency("accessor",A)),_.push(g),f.push(y)}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(_),Promise.all(f)]).then(function(h){const d=h[0],m=h[1],g=h[2],y=h[3],w=h[4],E=[];for(let S=0,C=d.length;S<C;S++){const R=d[S],P=m[S],D=g[S],G=y[S],z=w[S];if(R===void 0)continue;R.updateMatrix(),R.matrixAutoUpdate=!0;let V;switch(kg[z.path]){case kg.weights:V=Dx;break;case kg.rotation:V=dk;break;case kg.position:case kg.scale:default:V=Ox;break}const X=R.name?R.name:R.uuid,ne=G.interpolation!==void 0?FLe[G.interpolation]:J0,Y=[];kg[z.path]===kg.weights?R.traverse(function(_e){_e.isMesh===!0&&_e.morphTargetInfluences&&Y.push(_e.name?_e.name:_e.uuid)}):Y.push(X);let ue=D.array;if(D.normalized){const _e=hW(ue.constructor),ge=new Float32Array(ue.length);for(let $e=0,xe=ue.length;$e<xe;$e++)ge[$e]=ue[$e]*_e;ue=ge}for(let _e=0,ge=Y.length;_e<ge;_e++){const $e=new V(Y[_e]+"."+kg[z.path],P.array,ue,ne);G.interpolation==="CUBICSPLINE"&&($e.createInterpolant=function(Ie){return new Wx(this.times,this.values,this.getValueSize()/3,Ie)},$e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),E.push($e)}}const A=o.name?o.name:"animation_"+e;return new zx(A,void 0,E)})}createNodeMesh(e){const n=this.json,o=this,a=n.nodes[e];return a.mesh===void 0?null:o.getDependency("mesh",a.mesh).then(function(l){const u=o._getNodeRef(o.meshCache,a.mesh,l);return a.weights!==void 0&&u.traverse(function(_){if(!!_.isMesh)for(let f=0,h=a.weights.length;f<h;f++)_.morphTargetInfluences[f]=a.weights[f]}),u})}loadNode(e){const n=this.json,o=this.extensions,a=this,l=n.nodes[e],u=l.name?a.createUniqueName(l.name):"";return function(){const _=[],f=a._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(e)});return f&&_.push(f),l.camera!==void 0&&_.push(a.getDependency("camera",l.camera).then(function(h){return a._getNodeRef(a.cameraCache,l.camera,h)})),a._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(e)}).forEach(function(h){_.push(h)}),Promise.all(_)}().then(function(_){let f;if(l.isBone===!0?f=new RA:_.length>1?f=new gh:_.length===1?f=_[0]:f=new Ur,f!==_[0])for(let h=0,d=_.length;h<d;h++)f.add(_[h]);if(l.name&&(f.userData.name=l.name,f.name=u),wk(f,l),l.extensions&&QA(o,f,l),l.matrix!==void 0){const h=new Cn;h.fromArray(l.matrix),f.applyMatrix4(h)}else l.translation!==void 0&&f.position.fromArray(l.translation),l.rotation!==void 0&&f.quaternion.fromArray(l.rotation),l.scale!==void 0&&f.scale.fromArray(l.scale);return a.associations.set(f,{type:"nodes",index:e}),f})}loadScene(e){const n=this.json,o=this.extensions,a=this.json.scenes[e],l=this,u=new gh;a.name&&(u.name=l.createUniqueName(a.name)),wk(u,a),a.extensions&&QA(o,u,a);const _=a.nodes||[],f=[];for(let h=0,d=_.length;h<d;h++)f.push(Ble(_[h],u,n,l));return Promise.all(f).then(function(){return u})}}function Ble(r,e,n,o){const a=n.nodes[r];return o.getDependency("node",r).then(function(l){if(a.skin===void 0)return l;let u;return o.getDependency("skin",a.skin).then(function(_){u=_;const f=[];for(let h=0,d=u.joints.length;h<d;h++)f.push(o.getDependency("node",u.joints[h]));return Promise.all(f)}).then(function(_){return l.traverse(function(f){if(!f.isMesh)return;const h=[],d=[];for(let m=0,g=_.length;m<g;m++){const y=_[m];if(y){h.push(y);const w=new Cn;u.inverseBindMatrices!==void 0&&w.fromArray(u.inverseBindMatrices.array,m*16),d.push(w)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',u.joints[m])}f.bind(new PA(h,d),f.matrixWorld)}),l})}).then(function(l){e.add(l);const u=[];if(a.children){const _=a.children;for(let f=0,h=_.length;f<h;f++){const d=_[f];u.push(Ble(d,l,n,o))}}return Promise.all(u)})}function jLe(r,e,n){const o=e.attributes,a=new ac;if(o.POSITION!==void 0){const _=n.json.accessors[o.POSITION],f=_.min,h=_.max;if(f!==void 0&&h!==void 0){if(a.set(new te(f[0],f[1],f[2]),new te(h[0],h[1],h[2])),_.normalized){const d=hW(YA[_.componentType]);a.min.multiplyScalar(d),a.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const l=e.targets;if(l!==void 0){const _=new te,f=new te;for(let h=0,d=l.length;h<d;h++){const m=l[h];if(m.POSITION!==void 0){const g=n.json.accessors[m.POSITION],y=g.min,w=g.max;if(y!==void 0&&w!==void 0){if(f.setX(Math.max(Math.abs(y[0]),Math.abs(w[0]))),f.setY(Math.max(Math.abs(y[1]),Math.abs(w[1]))),f.setZ(Math.max(Math.abs(y[2]),Math.abs(w[2]))),g.normalized){const E=hW(YA[g.componentType]);f.multiplyScalar(E)}_.max(f)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(_)}r.boundingBox=a;const u=new Zd;a.getCenter(u.center),u.radius=a.min.distanceTo(a.max)/2,r.boundingSphere=u}function Fle(r,e,n){const o=e.attributes,a=[];function l(u,_){return n.getDependency("accessor",u).then(function(f){r.setAttribute(_,f)})}for(const u in o){const _=fW[u]||u.toLowerCase();_ in r.attributes||a.push(l(o[u],_))}if(e.indices!==void 0&&!r.index){const u=n.getDependency("accessor",e.indices).then(function(_){r.setIndex(_)});a.push(u)}return wk(r,e),jLe(r,e,n),Promise.all(a).then(function(){return e.targets!==void 0?DLe(r,e.targets,n):r})}function Lle(r,e){let n=r.getIndex();if(n===null){const u=[],_=r.getAttribute("position");if(_!==void 0){for(let f=0;f<_.count;f++)u.push(f);r.setIndex(u),n=r.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const o=n.count-2,a=[];if(e===bG)for(let u=1;u<=o;u++)a.push(n.getX(0)),a.push(n.getX(u)),a.push(n.getX(u+1));else for(let u=0;u<o;u++)u%2==0?(a.push(n.getX(u)),a.push(n.getX(u+1)),a.push(n.getX(u+2))):(a.push(n.getX(u+2)),a.push(n.getX(u+1)),a.push(n.getX(u)));a.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const l=r.clone();return l.setIndex(a),l}class GLe extends D8{constructor(e){super(e);this.type=Kc}parse(e){const n=-1,o=1,a=2,l=3,u=4,_=function(R,P){switch(R){case o:console.error("THREE.RGBELoader Read Error: "+(P||""));break;case a:console.error("THREE.RGBELoader Write Error: "+(P||""));break;case l:console.error("THREE.RGBELoader Bad File Format: "+(P||""));break;default:case u:console.error("THREE.RGBELoader: Error: "+(P||""))}return n},f=1,h=2,d=4,m=`
`,g=function(R,P,D){const G=128;P=P||1024;let z=R.pos,V=-1,X=0,ne="",Y=String.fromCharCode.apply(null,new Uint16Array(R.subarray(z,z+G)));for(;0>(V=Y.indexOf(m))&&X<P&&z<R.byteLength;)ne+=Y,X+=Y.length,z+=G,Y+=String.fromCharCode.apply(null,new Uint16Array(R.subarray(z,z+G)));return-1<V?(D!==!1&&(R.pos+=X+V+1),ne+Y.slice(0,V)):!1},y=function(R){const P=/^#\?(\S+)/,D=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,G=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,z=/^\s*FORMAT=(\S+)\s*$/,V=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,X={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ne,Y;if(R.pos>=R.byteLength||!(ne=g(R)))return _(o,"no header found");if(!(Y=ne.match(P)))return _(l,"bad initial token");for(X.valid|=f,X.programtype=Y[1],X.string+=ne+`
`;ne=g(R),ne!==!1;){if(X.string+=ne+`
`,ne.charAt(0)==="#"){X.comments+=ne+`
`;continue}if((Y=ne.match(D))&&(X.gamma=parseFloat(Y[1],10)),(Y=ne.match(G))&&(X.exposure=parseFloat(Y[1],10)),(Y=ne.match(z))&&(X.valid|=h,X.format=Y[1]),(Y=ne.match(V))&&(X.valid|=d,X.height=parseInt(Y[1],10),X.width=parseInt(Y[2],10)),X.valid&h&&X.valid&d)break}return X.valid&h?X.valid&d?X:_(l,"missing image size specifier"):_(l,"missing format specifier")},w=function(R,P,D){const G=P;if(G<8||G>32767||R[0]!==2||R[1]!==2||R[2]&128)return new Uint8Array(R);if(G!==(R[2]<<8|R[3]))return _(l,"wrong scanline width");const z=new Uint8Array(4*P*D);if(!z.length)return _(u,"unable to allocate buffer space");let V=0,X=0;const ne=4*G,Y=new Uint8Array(4),ue=new Uint8Array(ne);let _e=D;for(;_e>0&&X<R.byteLength;){if(X+4>R.byteLength)return _(o);if(Y[0]=R[X++],Y[1]=R[X++],Y[2]=R[X++],Y[3]=R[X++],Y[0]!=2||Y[1]!=2||(Y[2]<<8|Y[3])!=G)return _(l,"bad rgbe scanline format");let ge=0,$e;for(;ge<ne&&X<R.byteLength;){$e=R[X++];const Ie=$e>128;if(Ie&&($e-=128),$e===0||ge+$e>ne)return _(l,"bad scanline data");if(Ie){const tt=R[X++];for(let gt=0;gt<$e;gt++)ue[ge++]=tt}else ue.set(R.subarray(X,X+$e),ge),ge+=$e,X+=$e}const xe=G;for(let Ie=0;Ie<xe;Ie++){let tt=0;z[V]=ue[Ie+tt],tt+=G,z[V+1]=ue[Ie+tt],tt+=G,z[V+2]=ue[Ie+tt],tt+=G,z[V+3]=ue[Ie+tt],V+=4}_e--}return z},E=function(R,P,D,G){const z=R[P+3],V=Math.pow(2,z-128)/255;D[G+0]=R[P+0]*V,D[G+1]=R[P+1]*V,D[G+2]=R[P+2]*V},A=function(R,P,D,G){const z=R[P+3],V=Math.pow(2,z-128)/255;D[G+0]=yL.toHalfFloat(R[P+0]*V),D[G+1]=yL.toHalfFloat(R[P+1]*V),D[G+2]=yL.toHalfFloat(R[P+2]*V)},S=new Uint8Array(e);S.pos=0;const C=y(S);if(n!==C){const R=C.width,P=C.height,D=w(S.subarray(S.pos),R,P);if(n!==D){let G,z,V,X;switch(this.type){case Kc:G=D,z=cG,V=Kc;break;case Jc:X=D.length/4*3;const ne=new Float32Array(X);for(let ue=0;ue<X;ue++)E(D,ue*4,ne,ue*3);G=ne,z=Xf,V=Jc;break;case ph:X=D.length/4*3;const Y=new Uint16Array(X);for(let ue=0;ue<X;ue++)A(D,ue*4,Y,ue*3);G=Y,z=Xf,V=ph;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:R,height:P,data:G,header:C.string,gamma:C.gamma,exposure:C.exposure,format:z,type:V}}}return null}setDataType(e){return this.type=e,this}load(e,n,o,a){function l(u,_){switch(u.type){case Kc:u.encoding=mA,u.minFilter=ra,u.magFilter=ra,u.generateMipmaps=!1,u.flipY=!0;break;case Jc:u.encoding=Ns,u.minFilter=Ro,u.magFilter=Ro,u.generateMipmaps=!1,u.flipY=!0;break;case ph:u.encoding=Ns,u.minFilter=Ro,u.magFilter=Ro,u.generateMipmaps=!1,u.flipY=!0;break}n&&n(u,_)}return super.load(e,l,o,a)}}const dW=new WeakMap;class WLe extends rl{constructor(e){super(e);this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,o,a){const l=new lc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,u=>{const _={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(u,_).then(n).catch(a)},o,a)}decodeDracoFile(e,n,o,a){const l={attributeIDs:o||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!o};this.decodeGeometry(e,l).then(n)}decodeGeometry(e,n){for(const f in n.attributeTypes){const h=n.attributeTypes[f];h.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[f]=h.name)}const o=JSON.stringify(n);if(dW.has(e)){const f=dW.get(e);if(f.key===o)return f.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let a;const l=this.workerNextTaskID++,u=e.byteLength,_=this._getWorker(l,u).then(f=>(a=f,new Promise((h,d)=>{a._callbacks[l]={resolve:h,reject:d},a.postMessage({type:"decode",id:l,taskConfig:n,buffer:e},[e])}))).then(f=>this._createGeometry(f.geometry));return _.catch(()=>!0).then(()=>{a&&l&&this._releaseTask(a,l)}),dW.set(e,{key:o,promise:_}),_}_createGeometry(e){const n=new Yn;e.index&&n.setIndex(new jr(e.index.array,1));for(let o=0;o<e.attributes.length;o++){const a=e.attributes[o],l=a.name,u=a.array,_=a.itemSize;n.setAttribute(l,new jr(u,_))}return n}_loadLibrary(e,n){const o=new lc(this.manager);return o.setPath(this.decoderPath),o.setResponseType(n),o.setWithCredentials(this.withCredentials),new Promise((a,l)=>{o.load(e,a,void 0,l)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(o=>{const a=o[0];e||(this.decoderConfig.wasmBinary=o[1]);const l=HLe.toString(),u=["/* draco decoder */",a,"","/* worker */",l.substring(l.indexOf("{")+1,l.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([u]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const a=new Worker(this.workerSourceURL);a._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:this.decoderConfig}),a.onmessage=function(l){const u=l.data;switch(u.type){case"decode":a._callbacks[u.id].resolve(u);break;case"error":a._callbacks[u.id].reject(u);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+u.type+'"')}},this.workerPool.push(a)}else this.workerPool.sort(function(a,l){return a._taskLoad>l._taskLoad?-1:1});const o=this.workerPool[this.workerPool.length-1];return o._taskCosts[e]=n,o._taskLoad+=n,o})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function HLe(){let r,e;onmessage=function(u){const _=u.data;switch(_.type){case"init":r=_.decoderConfig,e=new Promise(function(d){r.onModuleLoaded=function(m){d({draco:m})},DracoDecoderModule(r)});break;case"decode":const f=_.buffer,h=_.taskConfig;e.then(d=>{const m=d.draco,g=new m.Decoder,y=new m.DecoderBuffer;y.Init(new Int8Array(f),f.byteLength);try{const w=n(m,g,y,h),E=w.attributes.map(A=>A.array.buffer);w.index&&E.push(w.index.array.buffer),self.postMessage({type:"decode",id:_.id,geometry:w},E)}catch(w){console.error(w),self.postMessage({type:"error",id:_.id,error:w.message})}finally{m.destroy(y),m.destroy(g)}});break}};function n(u,_,f,h){const d=h.attributeIDs,m=h.attributeTypes;let g,y;const w=_.GetEncodedGeometryType(f);if(w===u.TRIANGULAR_MESH)g=new u.Mesh,y=_.DecodeBufferToMesh(f,g);else if(w===u.POINT_CLOUD)g=new u.PointCloud,y=_.DecodeBufferToPointCloud(f,g);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!y.ok()||g.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+y.error_msg());const E={index:null,attributes:[]};for(const A in d){const S=self[m[A]];let C,R;if(h.useUniqueIDs)R=d[A],C=_.GetAttributeByUniqueId(g,R);else{if(R=_.GetAttributeId(g,u[d[A]]),R===-1)continue;C=_.GetAttribute(g,R)}E.attributes.push(a(u,_,g,A,S,C))}return w===u.TRIANGULAR_MESH&&(E.index=o(u,_,g)),u.destroy(g),E}function o(u,_,f){const d=f.num_faces()*3,m=d*4,g=u._malloc(m);_.GetTrianglesUInt32Array(f,m,g);const y=new Uint32Array(u.HEAPF32.buffer,g,d).slice();return u._free(g),{array:y,itemSize:1}}function a(u,_,f,h,d,m){const g=m.num_components(),w=f.num_points()*g,E=w*d.BYTES_PER_ELEMENT,A=l(u,d),S=u._malloc(E);_.GetAttributeDataArrayForAllPoints(f,m,A,E,S);const C=new d(u.HEAPF32.buffer,S,w).slice();return u._free(S),{name:h,array:C,itemSize:g}}function l(u,_){switch(_){case Float32Array:return u.DT_FLOAT32;case Int8Array:return u.DT_INT8;case Int16Array:return u.DT_INT16;case Int32Array:return u.DT_INT32;case Uint8Array:return u.DT_UINT8;case Uint16Array:return u.DT_UINT16;case Uint32Array:return u.DT_UINT32}}}let bL;const mW=()=>{if(bL)return bL;const r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),o=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let a=r;WebAssembly.validate(n)&&(a=e);let l;const u=WebAssembly.instantiate(_(a),{}).then(m=>{l=m.instance,l.exports.__wasm_call_ctors()});function _(m){const g=new Uint8Array(m.length);for(let w=0;w<m.length;++w){const E=m.charCodeAt(w);g[w]=E>96?E-71:E>64?E-65:E>47?E+4:E>46?63:62}let y=0;for(let w=0;w<m.length;++w)g[y++]=g[w]<60?o[g[w]]:(g[w]-60)*64+g[++w];return g.buffer.slice(0,y)}function f(m,g,y,w,E,A){const S=l.exports.sbrk,C=y+3&~3,R=S(C*w),P=S(E.length),D=new Uint8Array(l.exports.memory.buffer);D.set(E,P);const G=m(R,y,w,P,E.length);if(G===0&&A&&A(R,C,w),g.set(D.subarray(R,R+y*w)),S(R-S(0)),G!==0)throw new Error(`Malformed buffer data: ${G}`)}const h={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return bL={ready:u,supported:!0,decodeVertexBuffer(m,g,y,w,E){f(l.exports.meshopt_decodeVertexBuffer,m,g,y,w,l.exports[h[E]])},decodeIndexBuffer(m,g,y,w){f(l.exports.meshopt_decodeIndexBuffer,m,g,y,w)},decodeIndexSequence(m,g,y,w){f(l.exports.meshopt_decodeIndexSequence,m,g,y,w)},decodeGltfBuffer(m,g,y,w,E,A){f(l.exports[d[E]],m,g,y,w,l.exports[h[A]])}},bL},pet=Xn.exports.forwardRef((d,h)=>{var m=d,{makeDefault:r,camera:e,regress:n,domElement:o,enableDamping:a=!0,onChange:l,onStart:u,onEnd:_}=m,f=ah(m,["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"]);const g=um(({invalidate:G})=>G),y=um(({camera:G})=>G),w=um(({gl:G})=>G),E=um(({events:G})=>G),A=um(({set:G})=>G),S=um(({get:G})=>G),C=um(({performance:G})=>G),R=e||y,P=o||(typeof E.connected!="boolean"?E.connected:w.domElement),D=Xn.exports.useMemo(()=>new yLe(R),[R]);return fLe(()=>{D.enabled&&D.update()}),Xn.exports.useEffect(()=>{const G=z=>{g(),n&&C.regress(),l&&l(z)};return D.connect(P),D.addEventListener("change",G),u&&D.addEventListener("start",u),_&&D.addEventListener("end",_),()=>{D.removeEventListener("change",G),u&&D.removeEventListener("start",u),_&&D.removeEventListener("end",_),D.dispose()}},[P,l,u,_,n,D,g]),Xn.exports.useEffect(()=>{if(r){const G=S().controls;return A({controls:D}),()=>A({controls:G})}},[r,D]),Xn.exports.createElement("primitive",Y6({ref:h,object:D,enableDamping:a},f))});let wL=null;function Dle(r,e,n){return o=>{n&&n(o),r&&(wL||(wL=new WLe),wL.setDecoderPath(typeof r=="string"?r:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),o.setDRACOLoader(wL)),e&&o.setMeshoptDecoder(typeof mW=="function"?mW():mW)}}function Ole(r,e=!0,n=!0,o){return Gx(cW,r,Dle(e,n,o))}Ole.preload=(r,e=!0,n=!0,o)=>Gx.preload(cW,r,Dle(e,n,o));Ole.clear=r=>Gx.clear(cW,r);const vW={sunset:"venice_sunset_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",night:"dikhololo_night_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr",forest:"forest_slope_1k.hdr",apartment:"lebombo_1k.hdr",studio:"studio_small_03_1k.hdr",city:"potsdamer_platz_1k.hdr",park:"rooitou_park_1k.hdr",lobby:"st_fagans_interior_1k.hdr"};function VLe(r,e,n){return n?(e.compileEquirectangularShader(),e.fromCubemap(r).texture):e.fromEquirectangular(r).texture}const qLe="https://rawcdn.githack.com/pmndrs/drei-assets/aa3600359ba664d546d05821bcbca42013587df2";function het({background:r=!1,files:e=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:n="",preset:o=void 0,scene:a,extensions:l}){if(o){if(!(o in vW))throw new Error("Preset must be one of: "+Object.keys(vW).join(", "));e=vW[o],n=qLe+"/hdri/"}const u=um(({scene:y})=>y),_=um(({gl:y})=>y),f=Array.isArray(e),d=Gx(f?L8:GLe,f?[e]:e,y=>{y.setPath(n),l&&l(y)}),m=f?d[0]:d,g=rp(()=>new Promise(y=>{const w=new t8(_),E=VLe(m,w,f);w.dispose(),y(E)}),m);return Xn.exports.useLayoutEffect(()=>{const y=a?a.background:u.background,w=a?a.environment:u.environment;return a?(a.environment=g,r&&(a.background=g)):(u.environment=g,r&&(u.background=g)),()=>{a?(a.environment=w,a.background=y):(u.environment=w,u.background=y),rp.clear(m),g.dispose()}},[g,r,a]),null}var KLe={exports:{}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JLe=1e-7,XLe=1e-4;class zle{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class gW{refCount(e){return U_("refCount")}incRef(e){return U_("incRef")}timerAvailable(){return!0}time(e){return U_("time")}read(e){return U_("read")}readSync(e){return U_("readSync")}numDataIds(){return U_("numDataIds")}disposeData(e,n){return U_("disposeData")}write(e,n,o){return U_("write")}move(e,n,o,a,l){return U_("move")}memory(){return U_("memory")}floatPrecision(){return U_("floatPrecision")}epsilon(){return this.floatPrecision()===32?JLe:XLe}dispose(){return U_("dispose")}}function U_(r){throw new Error(`'${r}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ule(r){let e=r.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,_m(r,e,n)}function YLe(r,e){if(r.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${r.length}Second array length was ${e.length}`);let n=r.length,o=0;for(;n>0;)o=Math.random()*n|0,n--,_m(r,n,o),_m(e,n,o)}function ZA(r,e,n){return Math.max(r,Math.min(e,n))}function yW(r){return r%2==0?r:r+1}function _m(r,e,n){const o=r[e];r[e]=r[n],r[n]=o}function jle(r){let e=0;for(let n=0;n<r.length;n++)e+=r[n];return e}function QLe(r,e){const n=Math.random();return e*n+(1-n)*r}function ZLe(r,e){let n=0;for(let o=0;o<r.length;o++){const a=Number(r[o])-Number(e[o]);n+=a*a}return n}function re(r,e){if(!r)throw new Error(typeof e=="string"?e:e())}function il(r,e,n=""){re(Bo(r,e),()=>n+` Shapes ${r} and ${e} must match`)}function xk(r){re(r!=null,()=>"The input to the tensor constructor must be a non-null value.")}function fm(r,e=[],n=!1){if(e==null&&(e=[]),Array.isArray(r)||ol(r)&&!n)for(let o=0;o<r.length;++o)fm(r[o],e,n);else e.push(r);return e}function zt(r){if(r.length===0)return 1;let e=r[0];for(let n=1;n<r.length;n++)e*=r[n];return e}function eDe(r){return r.length===0}function Bo(r,e){if(r===e)return!0;if(r==null||e==null||r.length!==e.length)return!1;for(let n=0;n<r.length;n++)if(r[n]!==e[n])return!1;return!0}function Sk(r){return r%1==0}function tDe(r){if(Math.tanh!=null)return Math.tanh(r);if(r===1/0)return 1;if(r===-1/0)return-1;{const e=Math.exp(2*r);return(e-1)/(e+1)}}function xL(r){const e=Math.ceil(Math.sqrt(r));return[e,Math.ceil(r/e)]}function nDe(r){const e=new Uint32Array(r);for(let n=0;n<r;++n)e[n]=n;return Ule(e),e}function Ek(r,e){return e<=r.length?r:r+" ".repeat(e-r.length)}function kW(r,e=o=>0,n){return new Promise((o,a)=>{let l=0;const u=()=>{if(r()){o();return}l++;const _=e(l);if(n!=null&&l>=n){a();return}setTimeout(u,_)};u()})}function Gle(r,e){let n=1,o=-1;for(let l=0;l<r.length;++l)if(r[l]>=0)n*=r[l];else if(r[l]===-1){if(o!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${o} and dim ${l}`);o=l}else if(r[l]<0)throw Error(`Shapes can not be < 0. Found ${r[l]} at dim ${l}`);if(o===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${r}`);return r}if(n===0)throw Error(`Cannot infer the missing size in [${r}] when there are 0 elements`);if(e%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const a=r.slice();return a[o]=e/n,a}function Va(r,e){const n=e.length;return r=r==null?e.map((o,a)=>a):[].concat(r),re(r.every(o=>o>=-n&&o<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${r}`),re(r.every(o=>Sk(o)),()=>`All values in axis param must be integers but got axis ${r}`),r.map(o=>o<0?n+o:o)}function pm(r,e){const n=[],o=[],a=e!=null&&Array.isArray(e)&&e.length===0,l=e==null||a?null:Va(e,r).sort();let u=0;for(let _=0;_<r.length;++_){if(l!=null){if(l[u]===_&&r[_]!==1)throw new Error(`Can't squeeze axis ${_} since its dim '${r[_]}' is not 1`);(l[u]==null||l[u]>_)&&r[_]===1&&(n.push(r[_]),o.push(_)),l[u]<=_&&u++}r[_]!==1&&(n.push(r[_]),o.push(_))}return{newShape:n,keptDims:o}}function Sh(r,e){let n=null;if(r==null||r==="float32")n=new Float32Array(e);else if(r==="int32")n=new Int32Array(e);else if(r==="bool")n=new Uint8Array(e);else throw new Error(`Unknown data type ${r}`);return n}function t_(r,e){let n=null;if(r==null||r==="float32")n=new Float32Array(e);else if(r==="int32")n=new Int32Array(e);else if(r==="bool")n=new Uint8Array(e);else if(r==="string")n=new Array(e);else throw new Error(`Unknown data type ${r}`);return n}function Wle(r,e){for(let n=0;n<r.length;n++){const o=r[n];if(isNaN(o)||!isFinite(o))throw Error(`A tensor of type ${e} being uploaded contains ${o}.`)}}function Hle(r){return r==="bool"||r==="complex64"||r==="float32"||r==="int32"||r==="string"}function Vle(r,e){return!(e==="complex64"||e==="float32"&&r!=="complex64"||e==="int32"&&r!=="float32"&&r!=="complex64"||e==="bool"&&r==="bool")}function ol(r){return r instanceof Float32Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray}function SL(r){if(r==="float32"||r==="int32")return 4;if(r==="complex64")return 8;if(r==="bool")return 1;throw new Error(`Unknown dtype ${r}`)}function qle(r){if(r==null)return 0;let e=0;return r.forEach(n=>e+=n.length),e}function hm(r){return typeof r=="string"||r instanceof String}function Kle(r){return typeof r=="boolean"}function Jle(r){return typeof r=="number"}function e2(r){return Array.isArray(r)?e2(r[0]):r instanceof Float32Array?"float32":r instanceof Int32Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray?"int32":Jle(r)?"float32":hm(r)?"string":Kle(r)?"bool":"float32"}function $g(r){return!!(r&&r.constructor&&r.call&&r.apply)}function EL(r,e){for(let n=e;n<r;++n)if(r%n==0)return n;return r}function Ps(r){const e=r.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=r[e-1];for(let o=e-3;o>=0;--o)n[o]=n[o+1]*r[o+1];return n}function Xle(r,e,n,o=!1){const a=new Array;if(e.length===1){const l=e[0]*(o?2:1);for(let u=0;u<l;u++)a[u]=n[r+u]}else{const l=e[0],u=e.slice(1),_=u.reduce((f,h)=>f*h)*(o?2:1);for(let f=0;f<l;f++)a[f]=Xle(r+f*_,u,n,o)}return a}function Ck(r,e,n=!1){if(r.length===0)return e[0];const o=r.reduce((a,l)=>a*l)*(n?2:1);if(o===0)return[];if(o!==e.length)throw new Error(`[${r}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return Xle(0,r,e,n)}function $W(r,e){const n=dm(r,e);for(let o=0;o<n.length;o++)n[o]=1;return n}function dm(r,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(r);if(e==="int32")return new Int32Array(r);if(e==="bool")return new Uint8Array(r);throw new Error(`Unknown data type ${e}`)}function rDe(r,e){const n=r.reduce((o,a)=>o*a,1);if(e==null||e==="float32")return Ck(r,new Float32Array(n));if(e==="int32")return Ck(r,new Int32Array(n));if(e==="bool")return Ck(r,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function bW(r){r.forEach(e=>{re(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${r}].`)})}function CL(r,e,n){if(e===0)return 0;if(e===1)return r[0];let o=r[r.length-1];for(let a=0;a<r.length-1;++a)o+=n[a]*r[a];return o}function wW(r,e,n){if(e===0)return[];if(e===1)return[r];const o=new Array(e);for(let a=0;a<o.length-1;++a)o[a]=Math.floor(r/n[a]),r-=o[a]*n[a];return o[o.length-1]=r,o}function Hx(r){return r&&r.then&&typeof r.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yle="tfjsflags";class Qle{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=iDe,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(qe().getBool("IS_TEST")||qe().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${n}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,o){if(this.flagRegistry[e]={evaluationFn:n,setHook:o},this.urlFlags[e]!=null){const a=this.urlFlags[e];qe().getBool("IS_TEST")||qe().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${a}.`),this.set(e,a)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Hx(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global=="undefined"||typeof this.global.location=="undefined"||typeof this.global.location.search=="undefined")return;const e=this.getQueryParams(this.global.location.search);Yle in e&&e[Yle].split(",").forEach(o=>{const[a,l]=o.split(":");this.urlFlags[a]=aDe(a,l)})}}function iDe(r){const e={};return r.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...o)=>(oDe(e,o[0],o[1]),o.join("="))),e}function oDe(r,e,n){r[decodeURIComponent(e)]=decodeURIComponent(n||"")}function aDe(r,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(`${+e}`===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${r}.`)}function qe(){return xW}let xW=null;function sDe(r){xW=r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let SW;function Zle(){if(SW==null){let r;if(typeof window!="undefined")r=window;else if(typeof global!="undefined")r=global;else if(typeof process!="undefined")r=process;else if(typeof self!="undefined")r=self;else throw new Error("Could not find a global object");SW=r}return SW}function lDe(){const r=Zle();return r._tfGlobals==null&&(r._tfGlobals=new Map),r._tfGlobals}function EW(r,e){const n=lDe();if(n.has(r))return n.get(r);{const o=e();return n.set(r,o),n.get(r)}}const CW="Abs",AW="Acos",TW="Acosh",AL="Add",IW="AddN",MW="All",NW="Any",RW="ArgMax",PW="ArgMin",BW="Asin",FW="Asinh",LW="Atan",DW="Atanh",OW="Atan2",zW="AvgPool",eue="AvgPoolGrad",UW="AvgPool3D",tue="AvgPool3DGrad",jW="BatchMatMul",GW="BatchToSpaceND",WW="Bincount",uDe="BroadcastTo",HW="BroadcastArgs",TL="Cast",VW="Ceil",qW="ClipByValue",KW="Complex",JW="ComplexAbs",XW="Concat",YW="Conv2D",QW="Conv2DBackpropFilter",ZW="Conv2DBackpropInput",eH="Conv3D",nue="Conv3DBackpropFilterV2",tH="Conv3DBackpropInputV2",nH="Cos",rH="Cosh",iH="Cumsum",oH="CropAndResize",aH="DenseBincount",sH="DepthToSpace",lH="DepthwiseConv2dNative",uH="DepthwiseConv2dNativeBackpropFilter",cH="DepthwiseConv2dNativeBackpropInput",_H="Diag",fH="Dilation2D",cDe="Dilation2DBackpropInput",_De="Dilation2DBackpropFilter",pH="RealDiv",hH="Einsum",dH="Elu",rue="EluGrad",mH="Erf",vH="Equal",gH="Exp",yH="ExpandDims",kH="Expm1",$H="FFT",bH="Fill",wH="FlipLeftRight",xH="Floor",SH="FloorDiv",EH="FusedBatchNorm",CH="GatherV2",AH="GatherNd",TH="Greater",IH="GreaterEqual",IL="Identity",MH="IFFT",NH="Imag",RH="IsFinite",PH="IsInf",BH="IsNan",FH="LeakyRelu",LH="Less",DH="LessEqual",OH="LinSpace",zH="Log",UH="Log1p",jH="LogicalAnd",GH="LogicalNot",WH="LogicalOr",fDe="LogSoftmax",HH="LRN",iue="LRNGrad",VH="Max",qH="Maximum",KH="MaxPool",oue="MaxPoolGrad",JH="MaxPool3D",aue="MaxPool3DGrad",XH="MaxPoolWithArgmax",YH="Mean",QH="Min",ZH="Minimum",eV="MirrorPad",tV="Mod",nV="Multinomial",rV="Multiply",iV="Neg",oV="NotEqual",aV="NonMaxSuppressionV3",sV="NonMaxSuppressionV4",lV="NonMaxSuppressionV5",uV="OnesLike",cV="OneHot",_V="Pack",fV="PadV2",pDe="Pool",pV="Pow",hV="Prelu",dV="Prod",mV="Range",vV="Real",gV="Reciprocal",yV="Relu",kV="Reshape",$V="ResizeNearestNeighbor",sue="ResizeNearestNeighborGrad",bV="ResizeBilinear",lue="ResizeBilinearGrad",wV="Relu6",xV="Reverse",SV="Round",EV="Rsqrt",CV="ScatterNd",AV="Select",TV="Selu",IV="Slice",MV="Sin",NV="Sinh",RV="Sign",PV="Sigmoid",BV="Softplus",FV="Sqrt",LV="Sum",DV="SpaceToBatchND",OV="SplitV",zV="Softmax",UV="SparseFillEmptyRows",jV="SparseReshape",GV="SparseSegmentMean",WV="SparseSegmentSum",HV="SparseToDense",VV="SquaredDifference",uue="Square",qV="StridedSlice",KV="StringNGrams",JV="StringSplit",XV="StringToHashBucketFast",YV="Sub",QV="Tan",ZV="Tanh",ML="Tile",e9="TopK",t9="Transform",n9="Transpose",r9="Unique",i9="Unpack",o9="UnsortedSegmentSum",a9="ZerosLike",s9="Step",NL="FromPixels",l9="RotateWithOffset",RL="_FusedMatMul",PL="FusedConv2D",BL="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j_(...r){qe().getBool("IS_TEST")||qe().getBool("PROD")||console.warn(...r)}function hDe(...r){qe().getBool("IS_TEST")||qe().getBool("PROD")||console.log(...r)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vx=EW("kernelRegistry",()=>new Map),t2=EW("gradRegistry",()=>new Map);function FL(r,e){const n=_9(r,e);return Vx.get(n)}function u9(r){return t2.get(r)}function LL(r){const e=Vx.entries(),n=[];for(;;){const{done:o,value:a}=e.next();if(o)break;const[l,u]=a,[_]=l.split("_");_===r&&n.push(u)}return n}function c9(r){const{kernelName:e,backendName:n}=r,o=_9(e,n);Vx.has(o)&&j_(`The kernel '${e}' for backend '${n}' is already registered`),Vx.set(o,r)}function dDe(r){const{kernelName:e}=r;t2.has(e)&&qe().getBool("DEBUG")&&j_(`Overriding the gradient for '${e}'`),t2.set(e,r)}function mDe(r,e){const n=_9(r,e);if(!Vx.has(n))throw new Error(`The kernel '${r}' for backend '${e}' is not registered`);Vx.delete(n)}function vDe(r){if(!t2.has(r))throw new Error(`The gradient '${r}' for backend is not registered`);t2.delete(r)}function gDe(r,e){LL(r).forEach(o=>{const a=Object.assign({},o,{backendName:e});c9(a)})}function _9(r,e){return`${e}_${r}`}var f9=yo,G_=null;try{G_=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function yo(r,e,n){this.low=r|0,this.high=e|0,this.unsigned=!!n}yo.prototype.__isLong__;Object.defineProperty(yo.prototype,"__isLong__",{value:!0});function uc(r){return(r&&r.__isLong__)===!0}yo.isLong=uc;var cue={},_ue={};function Ak(r,e){var n,o,a;return e?(r>>>=0,(a=0<=r&&r<256)&&(o=_ue[r],o)?o:(n=ko(r,(r|0)<0?-1:0,!0),a&&(_ue[r]=n),n)):(r|=0,(a=-128<=r&&r<128)&&(o=cue[r],o)?o:(n=ko(r,r<0?-1:0,!1),a&&(cue[r]=n),n))}yo.fromInt=Ak;function W_(r,e){if(isNaN(r))return e?Tk:H_;if(e){if(r<0)return Tk;if(r>=pue)return gue}else{if(r<=-hue)return cc;if(r+1>=hue)return vue}return r<0?W_(-r,e).neg():ko(r%qx|0,r/qx|0,e)}yo.fromNumber=W_;function ko(r,e,n){return new yo(r,e,n)}yo.fromBits=ko;var DL=Math.pow;function p9(r,e,n){if(r.length===0)throw Error("empty string");if(r==="NaN"||r==="Infinity"||r==="+Infinity"||r==="-Infinity")return H_;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var o;if((o=r.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return p9(r.substring(1),e,n).neg();for(var a=W_(DL(n,8)),l=H_,u=0;u<r.length;u+=8){var _=Math.min(8,r.length-u),f=parseInt(r.substring(u,u+_),n);if(_<8){var h=W_(DL(n,_));l=l.mul(h).add(W_(f))}else l=l.mul(a),l=l.add(W_(f))}return l.unsigned=e,l}yo.fromString=p9;function ip(r,e){return typeof r=="number"?W_(r,e):typeof r=="string"?p9(r,e):ko(r.low,r.high,typeof e=="boolean"?e:r.unsigned)}yo.fromValue=ip;var fue=1<<16,yDe=1<<24,qx=fue*fue,pue=qx*qx,hue=pue/2,due=Ak(yDe),H_=Ak(0);yo.ZERO=H_;var Tk=Ak(0,!0);yo.UZERO=Tk;var Kx=Ak(1);yo.ONE=Kx;var mue=Ak(1,!0);yo.UONE=mue;var h9=Ak(-1);yo.NEG_ONE=h9;var vue=ko(4294967295|0,2147483647|0,!1);yo.MAX_VALUE=vue;var gue=ko(4294967295|0,4294967295|0,!0);yo.MAX_UNSIGNED_VALUE=gue;var cc=ko(0,2147483648|0,!1);yo.MIN_VALUE=cc;var qt=yo.prototype;qt.toInt=function(){return this.unsigned?this.low>>>0:this.low};qt.toNumber=function(){return this.unsigned?(this.high>>>0)*qx+(this.low>>>0):this.high*qx+(this.low>>>0)};qt.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(cc)){var n=W_(e),o=this.div(n),a=o.mul(n).sub(this);return o.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var l=W_(DL(e,6),this.unsigned),u=this,_="";;){var f=u.div(l),h=u.sub(f.mul(l)).toInt()>>>0,d=h.toString(e);if(u=f,u.isZero())return d+_;for(;d.length<6;)d="0"+d;_=""+d+_}};qt.getHighBits=function(){return this.high};qt.getHighBitsUnsigned=function(){return this.high>>>0};qt.getLowBits=function(){return this.low};qt.getLowBitsUnsigned=function(){return this.low>>>0};qt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(cc)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&(e&1<<n)==0;n--);return this.high!=0?n+33:n+1};qt.isZero=function(){return this.high===0&&this.low===0};qt.eqz=qt.isZero;qt.isNegative=function(){return!this.unsigned&&this.high<0};qt.isPositive=function(){return this.unsigned||this.high>=0};qt.isOdd=function(){return(this.low&1)==1};qt.isEven=function(){return(this.low&1)==0};qt.equals=function(e){return uc(e)||(e=ip(e)),this.unsigned!==e.unsigned&&this.high>>>31==1&&e.high>>>31==1?!1:this.high===e.high&&this.low===e.low};qt.eq=qt.equals;qt.notEquals=function(e){return!this.eq(e)};qt.neq=qt.notEquals;qt.ne=qt.notEquals;qt.lessThan=function(e){return this.comp(e)<0};qt.lt=qt.lessThan;qt.lessThanOrEqual=function(e){return this.comp(e)<=0};qt.lte=qt.lessThanOrEqual;qt.le=qt.lessThanOrEqual;qt.greaterThan=function(e){return this.comp(e)>0};qt.gt=qt.greaterThan;qt.greaterThanOrEqual=function(e){return this.comp(e)>=0};qt.gte=qt.greaterThanOrEqual;qt.ge=qt.greaterThanOrEqual;qt.compare=function(e){if(uc(e)||(e=ip(e)),this.eq(e))return 0;var n=this.isNegative(),o=e.isNegative();return n&&!o?-1:!n&&o?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};qt.comp=qt.compare;qt.negate=function(){return!this.unsigned&&this.eq(cc)?cc:this.not().add(Kx)};qt.neg=qt.negate;qt.add=function(e){uc(e)||(e=ip(e));var n=this.high>>>16,o=this.high&65535,a=this.low>>>16,l=this.low&65535,u=e.high>>>16,_=e.high&65535,f=e.low>>>16,h=e.low&65535,d=0,m=0,g=0,y=0;return y+=l+h,g+=y>>>16,y&=65535,g+=a+f,m+=g>>>16,g&=65535,m+=o+_,d+=m>>>16,m&=65535,d+=n+u,d&=65535,ko(g<<16|y,d<<16|m,this.unsigned)};qt.subtract=function(e){return uc(e)||(e=ip(e)),this.add(e.neg())};qt.sub=qt.subtract;qt.multiply=function(e){if(this.isZero())return H_;if(uc(e)||(e=ip(e)),G_){var n=G_.mul(this.low,this.high,e.low,e.high);return ko(n,G_.get_high(),this.unsigned)}if(e.isZero())return H_;if(this.eq(cc))return e.isOdd()?cc:H_;if(e.eq(cc))return this.isOdd()?cc:H_;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(due)&&e.lt(due))return W_(this.toNumber()*e.toNumber(),this.unsigned);var o=this.high>>>16,a=this.high&65535,l=this.low>>>16,u=this.low&65535,_=e.high>>>16,f=e.high&65535,h=e.low>>>16,d=e.low&65535,m=0,g=0,y=0,w=0;return w+=u*d,y+=w>>>16,w&=65535,y+=l*d,g+=y>>>16,y&=65535,y+=u*h,g+=y>>>16,y&=65535,g+=a*d,m+=g>>>16,g&=65535,g+=l*h,m+=g>>>16,g&=65535,g+=u*f,m+=g>>>16,g&=65535,m+=o*d+a*h+l*f+u*_,m&=65535,ko(y<<16|w,m<<16|g,this.unsigned)};qt.mul=qt.multiply;qt.divide=function(e){if(uc(e)||(e=ip(e)),e.isZero())throw Error("division by zero");if(G_){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?G_.div_u:G_.div_s)(this.low,this.high,e.low,e.high);return ko(n,G_.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Tk:H_;var o,a,l;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Tk;if(e.gt(this.shru(1)))return mue;l=Tk}else{if(this.eq(cc)){if(e.eq(Kx)||e.eq(h9))return cc;if(e.eq(cc))return Kx;var u=this.shr(1);return o=u.div(e).shl(1),o.eq(H_)?e.isNegative()?Kx:h9:(a=this.sub(e.mul(o)),l=o.add(a.div(e)),l)}else if(e.eq(cc))return this.unsigned?Tk:H_;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();l=H_}for(a=this;a.gte(e);){o=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var _=Math.ceil(Math.log(o)/Math.LN2),f=_<=48?1:DL(2,_-48),h=W_(o),d=h.mul(e);d.isNegative()||d.gt(a);)o-=f,h=W_(o,this.unsigned),d=h.mul(e);h.isZero()&&(h=Kx),l=l.add(h),a=a.sub(d)}return l};qt.div=qt.divide;qt.modulo=function(e){if(uc(e)||(e=ip(e)),G_){var n=(this.unsigned?G_.rem_u:G_.rem_s)(this.low,this.high,e.low,e.high);return ko(n,G_.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};qt.mod=qt.modulo;qt.rem=qt.modulo;qt.not=function(){return ko(~this.low,~this.high,this.unsigned)};qt.and=function(e){return uc(e)||(e=ip(e)),ko(this.low&e.low,this.high&e.high,this.unsigned)};qt.or=function(e){return uc(e)||(e=ip(e)),ko(this.low|e.low,this.high|e.high,this.unsigned)};qt.xor=function(e){return uc(e)||(e=ip(e)),ko(this.low^e.low,this.high^e.high,this.unsigned)};qt.shiftLeft=function(e){return uc(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?ko(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):ko(0,this.low<<e-32,this.unsigned)};qt.shl=qt.shiftLeft;qt.shiftRight=function(e){return uc(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?ko(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):ko(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};qt.shr=qt.shiftRight;qt.shiftRightUnsigned=function(e){if(uc(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var o=this.low;return ko(o>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?ko(n,0,this.unsigned):ko(n>>>e-32,0,this.unsigned)};qt.shru=qt.shiftRightUnsigned;qt.shr_u=qt.shiftRightUnsigned;qt.toSigned=function(){return this.unsigned?ko(this.low,this.high,!1):this};qt.toUnsigned=function(){return this.unsigned?this:ko(this.low,this.high,!0)};qt.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};qt.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};qt.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};yo.fromBytes=function(e,n,o){return o?yo.fromBytesLE(e,n):yo.fromBytesBE(e,n)};yo.fromBytesLE=function(e,n){return new yo(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};yo.fromBytesBE=function(e,n){return new yo(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};var kDe=Object.freeze(w2e({__proto__:null,[Symbol.toStringTag]:"Module",default:f9},[f9]));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ik=f9||kDe;function n2(r){return Ik.fromString(r,!0,16)}const yue=n2("c3a5c85c97cb3127"),Mk=n2("b492b66fbe98f273"),Nl=n2("9ae16a3b2f90404f");function d9(r){return r.xor(r.shru(47))}function kue(r,e,n){const o=r.slice(e,e+n);return Ik.fromBytes(Array.from(o),!0,!0)}function no(r,e){return kue(r,e,8)}function $ue(r,e){return kue(r,e,4)}function ds(r,e){return e===0?r:r.shru(e).or(r.shl(64-e))}function bg(r,e,n=n2("9ddfea08eb382d69")){let o=r.xor(e).mul(n);o=o.xor(o.shru(47));let a=e.xor(o).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function $De(r,e,n,o,a,l){a=a.add(r),l=ds(l.add(a).add(o),21);const u=a;return a=a.add(e),a=a.add(n),l=l.add(ds(a,44)),[a.add(o),l.add(u)]}function OL(r,e,n,o){return $De(no(r,e),no(r,e+8),no(r,e+16),no(r,e+24),n,o)}function bDe(r,e=r.length){if(e>=8){const n=Nl.add(e*2),o=no(r,0).add(Nl),a=no(r,e-8),l=ds(a,37).mul(n).add(o),u=ds(o,25).add(a).mul(n);return bg(l,u,n)}if(e>=4){const n=Nl.add(e*2),o=$ue(r,0);return bg(o.shl(3).add(e),$ue(r,e-4),n)}if(e>0){const n=r[0],o=r[e>>1],a=r[e-1],l=n+(o<<8),u=e+(a<<2);return d9(Nl.mul(l).xor(yue.mul(u))).mul(Nl)}return Nl}function wDe(r,e=r.length){const n=Nl.add(e*2),o=no(r,0).mul(Mk),a=no(r,8),l=no(r,e-8).mul(n),u=no(r,e-16).mul(Nl);return bg(ds(o.add(a),43).add(ds(l,30)).add(u),o.add(ds(a.add(Nl),18)).add(l),n)}function xDe(r,e=r.length){const n=Nl.add(e*2),o=no(r,0).mul(Nl),a=no(r,8),l=no(r,e-8).mul(n),u=no(r,e-16).mul(Nl),_=ds(o.add(a),43).add(ds(l,30)).add(u),f=bg(_,o.add(ds(a.add(Nl),18)).add(l),n),h=no(r,16).mul(n),d=no(r,24),m=_.add(no(r,e-32)).mul(n),g=f.add(no(r,e-24)).mul(n);return bg(ds(h.add(d),43).add(ds(m,30)).add(g),h.add(ds(d.add(o),18)).add(m),n)}function bue(r,e=r.length){const n=Ik.fromNumber(81,!0);if(e<=32)return e<=16?bDe(r,e):wDe(r,e);if(e<=64)return xDe(r,e);let o=n,a=n.mul(Mk).add(113),l=d9(a.mul(Nl).add(113)).mul(Nl),u=[Ik.UZERO,Ik.UZERO],_=[Ik.UZERO,Ik.UZERO];o=o.mul(Nl).add(no(r,0));let f=0;const h=(e-1>>6)*64,d=h+(e-1&63)-63;do o=ds(o.add(a).add(u[0]).add(no(r,f+8)),37).mul(Mk),a=ds(a.add(u[1]).add(no(r,f+48)),42).mul(Mk),o=o.xor(_[1]),a=a.add(u[0]).add(no(r,f+40)),l=ds(l.add(_[0]),33).mul(Mk),u=OL(r,f,u[1].mul(Mk),o.add(_[0])),_=OL(r,f+32,l.add(_[1]),a.add(no(r,f+16))),[l,o]=[o,l],f+=64;while(f!==h);const m=Mk.add(l.and(255).shl(1));return f=d,_[0]=_[0].add(e-1&63),u[0]=u[0].add(_[0]),_[0]=_[0].add(u[0]),o=ds(o.add(a).add(u[0]).add(no(r,f+8)),37).mul(m),a=ds(a.add(u[1]).add(no(r,f+48)),42).mul(m),o=o.xor(_[1].mul(9)),a=a.add(u[0].mul(9).add(no(r,f+40))),l=ds(l.add(_[0]),33).mul(m),u=OL(r,f,u[1].mul(m),o.add(_[0])),_=OL(r,f+32,l.add(_[1]),a.add(no(r,f+16))),[l,o]=[o,l],bg(bg(u[0],_[0],m).add(d9(a).mul(yue)).add(l),bg(u[1],_[1],m).add(o),m)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nk(r,e){return e==="string"?mm(r):zL([r],e)}function SDe(r,e){return r instanceof Float32Array&&e==="float32"||r instanceof Int32Array&&e==="int32"||r instanceof Uint8Array&&e==="bool"}function zL(r,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(r)&&(r=fm(r)),qe().getBool("DEBUG")&&Wle(r,e),SDe(r,e))return r;if(e==null||e==="float32"||e==="complex64")return new Float32Array(r);if(e==="int32")return new Int32Array(r);if(e==="bool"){const n=new Uint8Array(r.length);for(let o=0;o<n.length;++o)Math.round(r[o])!==0&&(n[o]=1);return n}else throw new Error(`Unknown data type ${e}`)}function V_(){return qe().platform.now()}function EDe(r,e){return qe().platform.fetch(r,e)}function mm(r,e="utf-8"){return e=e||"utf-8",qe().platform.encode(r,e)}function Jx(r,e="utf-8"){return e=e||"utf-8",qe().platform.decode(r,e)}var CDe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createScalarValue:Nk,toTypedArray:zL,now:V_,fetch:EDe,encodeString:mm,decodeString:Jx,shuffle:Ule,shuffleCombo:YLe,clamp:ZA,nearestLargerEven:yW,swap:_m,sum:jle,randUniform:QLe,distSquared:ZLe,assert:re,assertShapesMatch:il,assertNonNull:xk,flatten:fm,sizeFromShape:zt,isScalarShape:eDe,arraysEqual:Bo,isInt:Sk,tanh:tDe,sizeToSquarishShape:xL,createShuffledIndices:nDe,rightPad:Ek,repeatedTry:kW,inferFromImplicitShape:Gle,parseAxisParam:Va,squeezeShape:pm,getTypedArrayFromDType:Sh,getArrayFromDType:t_,checkConversionForErrors:Wle,isValidDtype:Hle,hasEncodingLoss:Vle,isTypedArray:ol,bytesPerElement:SL,bytesFromStringArray:qle,isString:hm,isBoolean:Kle,isNumber:Jle,inferDtype:e2,isFunction:$g,nearestDivisor:EL,computeStrides:Ps,toNestedArray:Ck,makeOnesTypedArray:$W,makeZerosTypedArray:dm,makeZerosNestedTypedArray:rDe,assertNonNegativeIntegerDimensions:bW,locToIndex:CL,indexToLoc:wW,isPromise:Hx,hexToLong:n2,fingerPrint64:bue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ADe{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new IDe)}profileKernel(e,n,o){let a;const l=()=>{a=o()};let u;const _=V_();if(this.backendTimer.timerAvailable())u=this.backendTimer.time(l);else{l();for(const h of a)h.dataSync();u=Promise.resolve({kernelMs:V_()-_})}if(qe().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let h=0;h<a.length;h++){const d=a[h];d.data().then(m=>{TDe(m,d.dtype,e)})}return{kernelName:e,outputs:a,inputs:n,timeMs:u.then(h=>h.kernelMs),extraInfo:u.then(h=>h.getExtraProfileInfo!=null?h.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:o,timeMs:a,inputs:l,extraInfo:u}=e;o.forEach(_=>{Promise.all([_.data(),a,u]).then(f=>{this.logger.logKernelProfile(n,_,f[0],f[1],l,f[2])})})}}function TDe(r,e,n){if(e!=="float32")return!1;for(let o=0;o<r.length;o++){const a=r[o];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}class IDe{logKernelProfile(e,n,o,a,l,u){const _=typeof a=="number"?Ek(`${a}ms`,9):a.error,f=Ek(e,25),h=n.rank,d=n.size,m=Ek(n.shape.toString(),14);let g="";for(const y in l){const w=l[y];if(w!=null){const E=w.shape||n.shape,A=E.length;g+=`${y}: ${A}D ${A>0?E:""} `}}console.log(`%c${f}	%c${_}	%c${h}D ${m}	%c${d}	%c${g}	%c${u}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MDe(r,e,n){const o={},a={};for(let f=0;f<e.length;f++)o[e[f].id]=!0;for(let f=0;f<r.length;f++){const h=r[f],d=h.inputs;for(const m in d){const g=d[m];let y=!1;for(let w=0;w<e.length;w++)if(o[g.id]){h.outputs.forEach(E=>o[E.id]=!0),y=!0,a[h.id]=!0;break}if(y)break}}const l={};l[n.id]=!0;const u={};for(let f=r.length-1;f>=0;f--){const h=r[f],d=h.inputs;for(let m=0;m<h.outputs.length;m++)if(l[h.outputs[m].id]){for(const g in d)l[d[g].id]=!0,u[h.id]=!0;break}}const _=[];for(let f=0;f<r.length;f++){const h=r[f];if(a[h.id]&&u[h.id]){const d={};for(const g in h.inputs){const y=h.inputs[g];o[y.id]&&(d[g]=y)}const m=Object.assign({},h);m.inputs=d,m.outputs=h.outputs,_.push(m)}}return _}function NDe(r,e,n,o){for(let a=e.length-1;a>=0;a--){const l=e[a],u=[];if(l.outputs.forEach(f=>{const h=r[f.id];h!=null?u.push(h):u.push(null)}),l.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${l.kernelName}.`);const _=l.gradient(u);for(const f in l.inputs){if(!(f in _))throw new Error(`Cannot backprop through input ${f}. Available gradients found: ${Object.keys(_)}.`);const h=n(()=>_[f]());if(h.dtype!=="float32")throw new Error(`Error in gradient for op ${l.kernelName}. The gradient of input ${f} must have 'float32' dtype, but has '${h.dtype}'`);const d=l.inputs[f];if(!Bo(h.shape,d.shape))throw new Error(`Error in gradient for op ${l.kernelName}. The gradient of input '${f}' has shape '${h.shape}', which does not match the shape of the input '${d.shape}'`);if(r[d.id]==null)r[d.id]=h;else{const m=r[d.id];r[d.id]=o(m,h),m.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wue=20,r2=3,m9=7;function RDe(r,e,n,o){const a=Ps(e),l=PDe(r,e,n,a),u=e.length,_=UL(r,e,n,a,l),f=["Tensor"];return o&&(f.push(`  dtype: ${n}`),f.push(`  rank: ${u}`),f.push(`  shape: [${e}]`),f.push("  values:")),f.push(_.map(h=>"    "+h).join(`
`)),f.join(`
`)}function PDe(r,e,n,o){const a=zt(e),l=o[o.length-1],u=new Array(l).fill(0),_=e.length,f=n==="complex64"?o2(r):r;if(_>1)for(let h=0;h<a/l;h++){const d=h*l;for(let m=0;m<l;m++)u[m]=Math.max(u[m],i2(f[d+m],0,n).length)}return u}function i2(r,e,n){let o;return Array.isArray(r)?o=`${parseFloat(r[0].toFixed(m9))} + ${parseFloat(r[1].toFixed(m9))}j`:hm(r)?o=`'${r}'`:n==="bool"?o=xue(r):o=parseFloat(r.toFixed(m9)).toString(),Ek(o,e)}function xue(r){return r===0?"false":"true"}function UL(r,e,n,o,a,l=!0){const u=n==="complex64"?2:1,_=e[0],f=e.length;if(f===0){if(n==="complex64"){const E=o2(r);return[i2(E[0],0,n)]}return n==="bool"?[xue(r[0])]:[r[0].toString()]}if(f===1){if(_>wue){const A=r2*u;let S=Array.from(r.slice(0,A)),C=Array.from(r.slice((_-r2)*u,_*u));return n==="complex64"&&(S=o2(S),C=o2(C)),["["+S.map((R,P)=>i2(R,a[P],n)).join(", ")+", ..., "+C.map((R,P)=>i2(R,a[_-r2+P],n)).join(", ")+"]"]}const E=n==="complex64"?o2(r):Array.from(r);return["["+E.map((A,S)=>i2(A,a[S],n)).join(", ")+"]"]}const h=e.slice(1),d=o.slice(1),m=o[0]*u,g=[];if(_>wue){for(let E=0;E<r2;E++){const A=E*m,S=A+m;g.push(...UL(r.slice(A,S),h,n,d,a,!1))}g.push("...");for(let E=_-r2;E<_;E++){const A=E*m,S=A+m;g.push(...UL(r.slice(A,S),h,n,d,a,E===_-1))}}else for(let E=0;E<_;E++){const A=E*m,S=A+m;g.push(...UL(r.slice(A,S),h,n,d,a,E===_-1))}const y=f===2?",":"";g[0]="["+g[0]+y;for(let E=1;E<g.length-1;E++)g[E]=" "+g[E]+y;let w=`,
`;for(let E=2;E<f;E++)w+=`
`;return g[g.length-1]=" "+g[g.length-1]+"]"+(l?"":w),g}function o2(r){const e=[];for(let n=0;n<r.length;n+=2)e.push([r[n],r[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xx{constructor(e,n,o){if(this.dtype=n,this.shape=e.slice(),this.size=zt(e),o!=null){const a=o.length;re(a===this.size,()=>`Length of values '${a}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=o||t_(n,this.size),this.strides=Ps(e)}set(e,...n){n.length===0&&(n=[0]),re(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const o=this.locToIndex(n);this.values[o]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const a of e){if(a<0||a>=this.shape[n]){const l=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(l)}n++}let o=e[e.length-1];for(let a=0;a<e.length-1;++a)o+=this.strides[a]*e[a];return this.values[o]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let o=0;o<e.length-1;++o)n+=this.strides[o]*e[o];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let o=0;o<n.length-1;++o)n[o]=Math.floor(e/this.strides[o]),e-=n[o]*this.strides[o];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Eh().makeTensor(this.values,this.shape,this.dtype)}}let Eh=null,Yx=null;function BDe(r){Eh=r}function FDe(r){Yx=r}class ya{constructor(e,n,o,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=zt(e),this.strides=Ps(e),this.dataId=o,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Yx.buffer(this.shape,this.dtype,e)}bufferSync(){return Yx.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Ck(this.shape,e,this.dtype==="complex64")}arraySync(){return Ck(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Eh().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(o=>Jx(o))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataSync(){this.throwIfDisposed();const e=Eh().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>Jx(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Eh().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(Eh().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Yx.print(this,e)}clone(){return this.throwIfDisposed(),Yx.clone(this)}toString(e=!1){const n=this.dataSync();return RDe(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Yx.cast(this,e)}variable(e=!0,n,o){return this.throwIfDisposed(),Eh().makeVariable(this,e,n,o)}}Object.defineProperty(ya,Symbol.hasInstance,{value:r=>!!r&&r.data!=null&&r.dataSync!=null&&r.throwIfDisposed!=null});function LDe(){return EW("Tensor",()=>ya)}LDe();class a2 extends ya{constructor(e,n,o,a){super(e.shape,e.dtype,e.dataId,a);this.trainable=n,this.name=o}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Bo(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Eh().disposeTensor(this),this.dataId=e.dataId,Eh().incRef(this,null)}dispose(){Eh().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(a2,Symbol.hasInstance,{value:r=>r instanceof ya&&r.assign!=null&&r.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var v9;(function(r){r.R0="R0",r.R1="R1",r.R2="R2",r.R3="R3",r.R4="R4",r.R5="R5",r.R6="R6"})(v9||(v9={}));var g9;(function(r){r.float32="float32",r.int32="int32",r.bool="int32",r.complex64="complex64"})(g9||(g9={}));var y9;(function(r){r.float32="float32",r.int32="int32",r.bool="bool",r.complex64="complex64"})(y9||(y9={}));var k9;(function(r){r.float32="float32",r.int32="float32",r.bool="float32",r.complex64="complex64"})(k9||(k9={}));var $9;(function(r){r.float32="complex64",r.int32="complex64",r.bool="complex64",r.complex64="complex64"})($9||($9={}));const DDe={float32:k9,int32:g9,bool:y9,complex64:$9};function op(r,e){if(r==="string"||e==="string"){if(r==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${r} with ${e}`)}return DDe[r][e]}function jL(r){return op(r,"int32")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qo(r,e){if(r.dtype===e.dtype)return[r,e];const n=op(r.dtype,e.dtype);return[r.cast(n),e.cast(n)]}function Sue(r,e){re(r.dtype===e.dtype,()=>`The dtypes of the first(${r.dtype}) and second(${e.dtype}) input must match`)}function ODe(r,e){return e.some(n=>n.id===r.id)}function b9(r){const e=[],n=new Set;return Eue(r,e,n),e}function Eue(r,e,n){if(r==null)return;if(r instanceof ya){e.push(r);return}if(!zDe(r))return;const o=r;for(const a in o){const l=o[a];n.has(l)||(n.add(l),Eue(l,e,n))}}function zDe(r){return Array.isArray(r)||typeof r=="object"}var UDe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",makeTypesMatch:qo,assertTypesMatch:Sue,isTensorInList:ODe,getTensorsInContainer:b9});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w9(r){return r.kernelName!=null}class Cue{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Qx{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Cue}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const o=e[n];if(await this.initializeBackend(o).success){await this.setBackend(o);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,o=1){return e in this.registryFactory?(j_(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:o},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:o}=this.initializeBackend(e);if(!(o?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new ADe(this.backendInstance),!0}setupRegisteredKernels(){LL(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){LL(e).forEach(o=>{o.disposeFunc!=null&&o.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const o=n.factory();if(o&&!(o instanceof gW)&&typeof o.then=="function"){const a=++this.pendingBackendInitId,l=o.then(u=>a<this.pendingBackendInitId?!1:(this.registry[e]=u,this.pendingBackendInit=null,!0)).catch(u=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,j_(`Initialization of backend ${e} failed`),j_(u.stack||u.message)),!1));return this.pendingBackendInit=l,{success:l,asyncInit:!0}}else return this.registry[e]=o,{success:!0,asyncInit:!1}}catch(o){return j_(`Initialization of backend ${e} failed`),j_(o.stack||o.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const o=e[n],{success:a,asyncInit:l}=this.initializeBackend(o);if(l||a)return{name:o,asyncInit:l}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const o=this.state.tensorInfo.get(n),a=o.backend,l=this.readSync(n),u=a.refCount(n);a.disposeData(n,!0),o.backend=e,e.move(n,l,o.shape,o.dtype,u),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let o=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}let a;return this.scopedRun(()=>this.startScope(o),()=>this.endScope(a),()=>(a=n(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,n,o){e();try{const a=o();return n(),a}catch(a){throw n(),a}}nextTensorId(){return Qx.nextTensorId++}nextVariableId(){return Qx.nextVariableId++}clone(e){const n=ke.runKernel(IL,{x:e}),o={x:e},a=u=>({x:()=>{const _="float32",f={x:u},h={dtype:_};return ke.runKernel(TL,f,h)}}),l=[];return this.addTapeNode(this.state.activeScope.name,o,[n],a,l,{}),n}runKernel(e,n,o){if(this.backendName==null&&this.backend,!(FL(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:o})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,o){const a=this.backend.numDataIds();let l=0;o.forEach(f=>{l+=f.dtype==="complex64"?3:1});const u=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],_=a-n-l-u;if(_>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${_} data ids) after running '${e}'`)}runKernelFunc(e){let n,o=[];const a=this.isTapeOn(),l=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let _;this.backendName==null&&this.backend;let f;const h=w9(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(w9(e)){const{kernelName:w,inputs:E,attrs:A}=e;this.backendName==null&&this.backend;const S=FL(w,this.backendName);re(S!=null,()=>`Cannot find registered kernel '${w}' for backend '${this.backendName}'`),_=()=>{const C=this.backend.numDataIds();f=S.kernelFunc({inputs:E,attrs:A,backend:this.backend});const R=Array.isArray(f)?f:[f];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(w,C,R);const P=R.map(D=>{if(D.rank!=null)return D;const{dataId:G,shape:z,dtype:V}=D;return this.makeTensorFromDataId(G,z,V)});if(a){const D=this.getTensorsForGradient(w,E,P);o=this.saveTensorsForBackwardMode(D)}return P}}else{const{forwardFunc:w}=e,E=A=>{!a||(o=A.map(S=>this.keep(this.clone(S))))};_=()=>{const A=this.backend.numDataIds();f=this.tidy(()=>w(this.backend,E));const S=Array.isArray(f)?f:[f];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(h,A,S),S}}const{inputs:d,attrs:m}=e,g=w9(e)?null:e.backwardsFunc;let y;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=_():(y=this.profiler.profileKernel(h,d,()=>_()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(y),n=y.outputs)}),a&&this.addTapeNode(h,d,n,g,o,m),this.state.profiling&&this.state.activeProfile.kernels.push({name:h,bytesAdded:this.state.numBytes-l,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(d).map(w=>d[w]!=null?d[w].shape:null),outputShapes:n.map(w=>w.shape),kernelTimeMs:y.timeMs,extraInfo:y.extraInfo}),Array.isArray(f)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(o=>this.keep(this.clone(o)))}getTensorsForGradient(e,n,o){const a=u9(e);if(a!=null){const l=a.inputsToSave||[],u=a.outputsToSave||[];let _;a.saveAllInputs?(re(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),_=Object.keys(n).map(h=>n[h])):_=l.map(h=>n[h]);const f=o.filter((h,d)=>u[d]);return _.concat(f)}return[]}makeTensor(e,n,o,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");o=o||"float32",a=a||this.backend;let l=e;o==="string"&&hm(e[0])&&(l=e.map(f=>mm(f)));const u=a.write(l,n,o),_=new ya(n,o,u,this.nextTensorId());if(this.trackTensor(_,a),o==="string"){const f=this.state.tensorInfo.get(u),h=qle(l);this.state.numBytes+=h-f.bytes,f.bytes=h}return _}makeTensorFromDataId(e,n,o,a){o=o||"float32";const l=new ya(n,o,e,this.nextTensorId());return this.trackTensor(l,a),l}makeVariable(e,n=!0,o,a){o=o||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));const l=new a2(e,n,o,this.nextTensorId());if(this.state.registeredVariables[l.name]!=null)throw new Error(`Variable with name ${l.name} was already registered`);return this.state.registeredVariables[l.name]=l,this.incRef(l,this.backend),l}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let o=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(o=e.size*SL(e.dtype)),this.state.numBytes+=o,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:o})),e instanceof a2||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const o=e.size*SL(e.dtype);this.state.numBytes-=o}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,o=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-o;for(const a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,o,a,l,u){const _={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:o,saved:l},f=u9(e);f!=null&&(a=f.gradFunc),a!=null&&(_.gradient=h=>(h=h.map((d,m)=>{if(d==null){const g=o[m],y=dm(g.size,g.dtype);return this.makeTensor(y,g.shape,g.dtype)}return d}),a(h.length>1?h:h[0],l,u))),this.state.activeTape.push(_)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=b9(e),o=new Set(n.map(l=>l.id));for(let l=0;l<this.state.activeScope.track.length;l++){const u=this.state.activeScope.track[l];!u.kept&&!o.has(u.id)&&u.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(l=>{!l.kept&&l.scopeId===a.id&&this.track(l)})}gradients(e,n,o,a=!1){if(re(n.length>0,()=>"gradients() received an empty list of xs."),o!=null&&o.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${o.dtype}'`);const l=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));re(l instanceof ya,()=>"The result y returned by f() must be a tensor.");const u=MDe(this.state.activeTape,n,l);if(!a&&u.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const _={};_[l.id]=o==null?jDe(l.shape):o,NDe(_,u,h=>this.tidy(h),GDe);const f=n.map(h=>_[h.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(h=>{for(const d of h.saved)d.dispose()}),this.state.activeTape=null),{value:l,grads:f}})}customGrad(e){return re($g(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{re(n.every(_=>_ instanceof ya),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let o;const a={};n.forEach((_,f)=>{a[f]=_});const l=(_,f)=>(o=e(...n,f),re(o.value instanceof ya,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),re($g(o.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),o.value),u=(_,f)=>{const h=o.gradFunc(_,f),d=Array.isArray(h)?h:[h];re(d.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),re(d.every(g=>g instanceof ya),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const m={};return d.forEach((g,y)=>{m[y]=()=>g}),m};return this.runKernelFunc({forwardFunc:l,backwardsFunc:u,inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}async time(e){const n=V_(),o=await this.backend.time(e);return o.wallMs=V_()-n,o}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Cue;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Qx.nextTensorId=0;Qx.nextVariableId=0;function jDe(r){const e=$W(zt(r),"float32");return ke.makeTensor(e,r,"float32")}function Aue(){const r=Zle();if(r._tfengine==null){const e=new Qle(r);r._tfengine=new Qx(e)}return sDe(r._tfengine.ENV),BDe(()=>r._tfengine),r._tfengine}const ke=Aue();function GDe(r,e){const n={a:r,b:e};return ke.runKernel(AL,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WDe(){return typeof navigator!="undefined"&&navigator!=null}let x9;function HDe(r){x9=r}function S9(r){if(x9!==void 0)return x9;if(r||WDe()){if(r||(r=navigator),r.product==="ReactNative")return!0;const e=r.userAgent||r.vendor||(typeof window!="undefined"?window.opera:"");if(!e){const n=r;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function E9(){return typeof window!="undefined"&&window.document!=null||typeof WorkerGlobalScope!="undefined"}var VDe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",mockIsMobile:HDe,isMobile:S9,isBrowser:E9});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ap=qe();ap.registerFlag("DEBUG",()=>!1,r=>{r&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});ap.registerFlag("IS_BROWSER",()=>E9());ap.registerFlag("IS_NODE",()=>typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined");ap.registerFlag("IS_CHROME",()=>typeof navigator!="undefined"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));ap.registerFlag("PROD",()=>!1);ap.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>ap.getBool("DEBUG"));ap.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);ap.registerFlag("IS_TEST",()=>!1);ap.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);ap.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ch(r,e){let n=r;if(ol(r))return e==="string"?[]:[r.length];if(!Array.isArray(r))return[];const o=[];for(;Array.isArray(n)||ol(n)&&e!=="string";)o.push(n.length),n=n[0];return Array.isArray(r)&&qe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Tue(r,o,[]),o}function Tue(r,e,n){if(n=n||[],!Array.isArray(r)&&!ol(r)){re(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}re(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${r.length} elements`),re(r.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${r.length} elements`);const o=e.slice(1);for(let a=0;a<r.length;++a)Tue(r[a],o,n.concat(a))}function Iue(r,e,n,o){if(r!=="string_or_numeric"){if(r==null)throw new Error("Expected dtype cannot be null.");if(r!=="numeric"&&r!==e||r==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${o}' must be ${r} tensor, but got ${e} tensor`)}}function Z(r,e,n,o="numeric"){if(r instanceof ya)return Iue(o,r.dtype,e,n),r;let a=e2(r);if(a!=="string"&&["bool","int32","float32"].indexOf(o)>=0&&(a=o),Iue(o,a,e,n),r==null||!ol(r)&&!Array.isArray(r)&&typeof r!="number"&&typeof r!="boolean"&&typeof r!="string"){const f=r==null?"null":r.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${f}'`)}const l=Ch(r,a);!ol(r)&&!Array.isArray(r)&&(r=[r]);const _=a!=="string"?zL(r,a):fm(r,[],!0);return ke.makeTensor(_,l,a)}function s2(r,e,n,o="numeric"){if(!Array.isArray(r))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return r.map((l,u)=>Z(l,`${e}[${u}]`,n,o))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mue="__op";function ye(r){const e=Object.keys(r);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const o=r[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+Mue;const a=(...l)=>{ke.startScope(n);try{const u=o(...l);return Hx(u)&&console.error("Cannot return a Promise inside of tidy."),ke.endScope(u),u}catch(u){throw ke.endScope(null),u}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qDe(r,e){const n=Z(r,"real","complex"),o=Z(e,"imag","complex");il(n.shape,o.shape,`real and imag shapes, ${n.shape} and ${o.shape}, must match in call to tf.complex().`);const a={real:n,imag:o};return ke.runKernel(KW,a)}const wg=ye({complex_:qDe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xg(r,e,n,o){if(o==null&&(o=e2(r)),o==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!ol(r)&&!Array.isArray(r)&&typeof r!="number"&&typeof r!="boolean"&&typeof r!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){bW(e);const a=zt(e),l=zt(n);re(a===l,()=>`Based on the provided shape, [${e}], the tensor should have ${a} values but has ${l}`);for(let u=0;u<n.length;++u){const _=n[u],f=u===n.length-1?_!==zt(e.slice(u)):!0;re(n[u]===e[u]||!f,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!ol(r)&&!Array.isArray(r)&&(r=[r]),e=e||n,r=o!=="string"?zL(r,o):fm(r,[],!0),ke.makeTensor(r,e,o)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ah(r,e,n){const o=Ch(r,n);return xg(r,e,o,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C9={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GL=4;async function KDe(r,e){const n=[],o=[],a=Array.isArray(r)?r.map(u=>u.name):Object.keys(r);for(let u=0;u<a.length;++u){const _=a[u],f=Array.isArray(r)?r[u].tensor:r[_];if(f.dtype!=="float32"&&f.dtype!=="int32"&&f.dtype!=="bool"&&f.dtype!=="string"&&f.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${_}': ${f.dtype}`);const h={name:_,shape:f.shape,dtype:f.dtype};if(f.dtype==="string"){const d=new Promise(async m=>{const g=await f.bytes(),y=g.reduce((A,S)=>A+S.length,0)+GL*g.length,w=new Uint8Array(y);let E=0;for(let A=0;A<g.length;A++){const S=g[A],C=new Uint8Array(new Uint32Array([S.length]).buffer);w.set(C,E),E+=GL,w.set(S,E),E+=S.length}m(w)});o.push(d)}else o.push(f.data());e!=null&&(h.group=e),n.push(h)}const l=await Promise.all(o);return{data:JDe(l),specs:n}}function A9(r,e){const n={};let o,a=0;for(const l of e){const u=l.name,_=l.dtype,f=l.shape,h=zt(f);let d;if("quantization"in l){const m=l.quantization;if(m.dtype==="uint8"||m.dtype==="uint16"){if(!("min"in m&&"scale"in m))throw new Error(`Weight ${l.name} with quantization ${m.dtype} doesn't have corresponding metadata min and scale.`)}else if(m.dtype==="float16"){if(_!=="float32")throw new Error(`Weight ${l.name} is quantized with ${m.dtype} which only supports weights of type float32 not ${_}.`)}else throw new Error(`Weight ${l.name} has unknown quantization dtype ${m.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const g=C9[m.dtype],y=r.slice(a,a+h*g),w=m.dtype==="uint8"?new Uint8Array(y):new Uint16Array(y);if(_==="float32")if(m.dtype==="uint8"||m.dtype==="uint16"){d=new Float32Array(w.length);for(let E=0;E<w.length;E++){const A=w[E];d[E]=A*m.scale+m.min}}else if(m.dtype==="float16")o===void 0&&(o=tOe()),d=o(w);else throw new Error(`Unsupported quantization type ${m.dtype} for weight type float32.`);else if(_==="int32"){if(m.dtype!=="uint8"&&m.dtype!=="uint16")throw new Error(`Unsupported quantization type ${m.dtype} for weight type int32.`);d=new Int32Array(w.length);for(let E=0;E<w.length;E++){const A=w[E];d[E]=Math.round(A*m.scale+m.min)}}else throw new Error(`Unsupported dtype in weight '${u}': ${_}`);a+=h*g}else if(_==="string"){const m=zt(l.shape);d=[];for(let g=0;g<m;g++){const y=new Uint32Array(r.slice(a,a+GL))[0];a+=GL;const w=new Uint8Array(r.slice(a,a+y));d.push(w),a+=y}}else{const m=C9[_],g=r.slice(a,a+h*m);if(_==="float32")d=new Float32Array(g);else if(_==="int32")d=new Int32Array(g);else if(_==="bool")d=new Uint8Array(g);else if(_==="complex64"){d=new Float32Array(g);const y=new Float32Array(d.length/2),w=new Float32Array(d.length/2);for(let S=0;S<y.length;S++)y[S]=d[S*2],w[S]=d[S*2+1];const E=Ah(y,f,"float32"),A=Ah(w,f,"float32");n[u]=wg(E,A),E.dispose(),A.dispose()}else throw new Error(`Unsupported dtype in weight '${u}': ${_}`);a+=h*m}_!=="complex64"&&(n[u]=Ah(d,f,_))}return n}function JDe(r){if(r===null)throw new Error(`Invalid input value: ${JSON.stringify(r)}`);let e=0;const n=[];r.forEach(l=>{if(e+=l.byteLength,n.push(l.byteLength===l.buffer.byteLength?l:new l.constructor(l)),!(l instanceof Float32Array||l instanceof Int32Array||l instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${l.constructor.name}`)});const o=new Uint8Array(e);let a=0;return n.forEach(l=>{o.set(new Uint8Array(l.buffer),a),a+=l.byteLength}),o.buffer}const T9=typeof Buffer!="undefined"&&(typeof Blob=="undefined"||typeof atob=="undefined"||typeof btoa=="undefined");function Nue(r){return T9?Buffer.byteLength(r):new Blob([r]).size}function XDe(r){if(T9)return Buffer.from(r).toString("base64");const e=new Uint8Array(r);let n="";for(let o=0,a=e.length;o<a;o++)n+=String.fromCharCode(e[o]);return btoa(n)}function YDe(r){if(T9){const o=Buffer.from(r,"base64");return o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength)}const e=atob(r),n=new Uint8Array(e.length);for(let o=0;o<e.length;++o)n.set([e.charCodeAt(o)],o);return n.buffer}function I9(r){if(r.length===1)return r[0];let e=0;r.forEach(a=>{e+=a.byteLength});const n=new Uint8Array(e);let o=0;return r.forEach(a=>{n.set(new Uint8Array(a),o),o+=a.byteLength}),n.buffer}function Rue(r){const e="/";for(r=r.trim();r.endsWith(e);)r=r.slice(0,r.length-1);const n=r.split(e);return n[n.length-1]}function Pue(r,e){const n={modelTopology:r.modelTopology,format:r.format,generatedBy:r.generatedBy,convertedBy:r.convertedBy,weightsManifest:e};return r.signature!=null&&(n.signature=r.signature),r.userDefinedMetadata!=null&&(n.userDefinedMetadata=r.userDefinedMetadata),r.modelInitializer!=null&&(n.modelInitializer=r.modelInitializer),r.trainingConfig!=null&&(n.trainingConfig=r.trainingConfig),n}async function M9(r,e){const n={modelTopology:r.modelTopology,format:r.format,generatedBy:r.generatedBy,convertedBy:r.convertedBy};if(r.trainingConfig!=null&&(n.trainingConfig=r.trainingConfig),r.weightsManifest!=null){const[o,a]=await e(r.weightsManifest);n.weightSpecs=o,n.weightData=a}return r.signature!=null&&(n.signature=r.signature),r.userDefinedMetadata!=null&&(n.userDefinedMetadata=r.userDefinedMetadata),r.modelInitializer!=null&&(n.modelInitializer=r.modelInitializer),n}function l2(r){if(r.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:r.modelTopology==null?0:Nue(JSON.stringify(r.modelTopology)),weightSpecsBytes:r.weightSpecs==null?0:Nue(JSON.stringify(r.weightSpecs)),weightDataBytes:r.weightData==null?0:r.weightData.byteLength}}function QDe(){const r=n=>{let o=n<<13,a=0;for(;(o&8388608)==0;)a-=8388608,o<<=1;return o&=~8388608,a+=947912704,o|a},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=r(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function ZDe(){const r=new Uint32Array(64);r[0]=0,r[31]=1199570944,r[32]=2147483648,r[63]=3347054592;for(let e=1;e<31;e++)r[e]=e<<23;for(let e=33;e<63;e++)r[e]=2147483648+(e-32<<23);return r}function eOe(){const r=new Uint32Array(64);for(let e=0;e<64;e++)r[e]=1024;return r[0]=r[32]=0,r}function tOe(){const r=QDe(),e=ZDe(),n=eOe();return o=>{const a=new ArrayBuffer(4*o.length),l=new Uint32Array(a);for(let u=0;u<o.length;u++){const _=o[u],f=r[n[_>>10]+(_&1023)]+e[_>>10];l[u]=f}return new Float32Array(a)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ko{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Ko.instance==null&&(Ko.instance=new Ko),Ko.instance}static registerSaveRouter(e){Ko.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Ko.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Ko.getHandlers(e,"save")}static getLoadHandlers(e,n){return Ko.getHandlers(e,"load",n)}static getHandlers(e,n,o){const a=[];return(n==="load"?Ko.getInstance().loadRouters:Ko.getInstance().saveRouters).forEach(u=>{const _=u(e,o);_!==null&&a.push(_)}),a}}const nOe=r=>Ko.registerSaveRouter(r),rOe=r=>Ko.registerLoadRouter(r),Bue=r=>Ko.getSaveHandlers(r),Fue=(r,e)=>Ko.getLoadHandlers(r,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N9="tensorflowjs",R9=1,Rk="models_store",Sg="model_info_store";function Lue(){if(!qe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const r=typeof window=="undefined"?self:window,e=r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB||r.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function P9(r){const e=r.result;e.createObjectStore(Rk,{keyPath:"modelPath"}),e.createObjectStore(Sg,{keyPath:"modelPath"})}class Pk{constructor(e){if(this.indexedDB=Lue(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((o,a)=>{const l=this.indexedDB.open(N9,R9);l.onupgradeneeded=()=>P9(l),l.onsuccess=()=>{const u=l.result;if(n==null){const _=u.transaction(Rk,"readonly"),h=_.objectStore(Rk).get(this.modelPath);h.onsuccess=()=>{if(h.result==null)return u.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));o(h.result.modelArtifacts)},h.onerror=d=>(u.close(),a(h.error)),_.oncomplete=()=>u.close()}else{const _=l2(n),f=u.transaction(Sg,"readwrite");let h=f.objectStore(Sg);const d=h.put({modelPath:this.modelPath,modelArtifactsInfo:_});let m;d.onsuccess=()=>{m=u.transaction(Rk,"readwrite");const y=m.objectStore(Rk).put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:_});y.onsuccess=()=>o({modelArtifactsInfo:_}),y.onerror=w=>{h=f.objectStore(Sg);const E=h.delete(this.modelPath);E.onsuccess=()=>(u.close(),a(y.error)),E.onerror=A=>(u.close(),a(y.error))}},d.onerror=g=>(u.close(),a(d.error)),f.oncomplete=()=>{m==null?u.close():m.oncomplete=()=>u.close()}}},l.onerror=u=>a(l.error)})}}Pk.URL_SCHEME="indexeddb://";const Due=r=>qe().getBool("IS_BROWSER")&&!Array.isArray(r)&&r.startsWith(Pk.URL_SCHEME)?iOe(r.slice(Pk.URL_SCHEME.length)):null;Ko.registerSaveRouter(Due);Ko.registerLoadRouter(Due);function iOe(r){return new Pk(r)}function oOe(r){return r.startsWith(Pk.URL_SCHEME)?r.slice(Pk.URL_SCHEME.length):r}class aOe{constructor(){this.indexedDB=Lue()}async listModels(){return new Promise((e,n)=>{const o=this.indexedDB.open(N9,R9);o.onupgradeneeded=()=>P9(o),o.onsuccess=()=>{const a=o.result,l=a.transaction(Sg,"readonly"),_=l.objectStore(Sg).getAll();_.onsuccess=()=>{const f={};for(const h of _.result)f[h.modelPath]=h.modelArtifactsInfo;e(f)},_.onerror=f=>(a.close(),n(_.error)),l.oncomplete=()=>a.close()},o.onerror=a=>n(o.error)})}async removeModel(e){return e=oOe(e),new Promise((n,o)=>{const a=this.indexedDB.open(N9,R9);a.onupgradeneeded=()=>P9(a),a.onsuccess=()=>{const l=a.result,u=l.transaction(Sg,"readwrite"),_=u.objectStore(Sg),f=_.get(e);let h;f.onsuccess=()=>{if(f.result==null)return l.close(),o(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const d=_.delete(e),m=()=>{h=l.transaction(Rk,"readwrite");const y=h.objectStore(Rk).delete(e);y.onsuccess=()=>n(f.result.modelArtifactsInfo),y.onerror=w=>o(f.error)};d.onsuccess=m,d.onerror=g=>(m(),l.close(),o(f.error))}},f.onerror=d=>(l.close(),o(f.error)),u.oncomplete=()=>{h==null?l.close():h.oncomplete=()=>l.close()}},a.onerror=l=>o(a.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vm="/",Zx="tensorflowjs_models",Oue="info",sOe="model_topology",lOe="weight_specs",uOe="weight_data",cOe="model_metadata";function zue(r){return{info:[Zx,r,Oue].join(vm),topology:[Zx,r,sOe].join(vm),weightSpecs:[Zx,r,lOe].join(vm),weightData:[Zx,r,uOe].join(vm),modelMetadata:[Zx,r,cOe].join(vm)}}function Uue(r){for(const e of Object.values(r))window.localStorage.removeItem(e)}function _Oe(r){const e=r.split(vm);if(e.length<3)throw new Error(`Invalid key format: ${r}`);return e.slice(1,e.length-1).join(vm)}function fOe(r){return r.startsWith(Bk.URL_SCHEME)?r.slice(Bk.URL_SCHEME.length):r}class Bk{constructor(e){if(!qe().getBool("IS_BROWSER")||typeof window=="undefined"||typeof window.localStorage=="undefined")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=zue(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),o=JSON.stringify(e.weightSpecs),a=l2(e);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,o),this.LS.setItem(this.keys.weightData,XDe(e.weightData));const l={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(l)),{modelArtifactsInfo:a}}catch{throw Uue(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},o=JSON.parse(this.LS.getItem(this.keys.topology));if(o==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=o;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(a==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=a;const l=this.LS.getItem(this.keys.modelMetadata);if(l!=null){const _=JSON.parse(l);n.format=_.format,n.generatedBy=_.generatedBy,n.convertedBy=_.convertedBy,_.signature!=null&&(n.signature=_.signature),_.userDefinedMetadata!=null&&(n.userDefinedMetadata=_.userDefinedMetadata),_.modelInitializer!=null&&(n.modelInitializer=_.modelInitializer),_.trainingConfig!=null&&(n.trainingConfig=_.trainingConfig)}const u=this.LS.getItem(this.keys.weightData);if(u==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=YDe(u),n}}Bk.URL_SCHEME="localstorage://";const jue=r=>qe().getBool("IS_BROWSER")&&!Array.isArray(r)&&r.startsWith(Bk.URL_SCHEME)?pOe(r.slice(Bk.URL_SCHEME.length)):null;Ko.registerSaveRouter(jue);Ko.registerLoadRouter(jue);function pOe(r){return new Bk(r)}class hOe{constructor(){re(qe().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),re(typeof window=="undefined"||typeof window.localStorage!="undefined",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Zx+vm,o=vm+Oue;for(let a=0;a<this.LS.length;++a){const l=this.LS.key(a);if(l.startsWith(n)&&l.endsWith(o)){const u=_Oe(l);e[u]=JSON.parse(this.LS.getItem(l))}}return e}async removeModel(e){e=fOe(e);const n=zue(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const o=JSON.parse(this.LS.getItem(n.info));return Uue(n),o}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e1="://";class _c{constructor(){this.managers={}}static getInstance(){return _c.instance==null&&(_c.instance=new _c),_c.instance}static registerManager(e,n){re(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(e1)&&(e=e.slice(0,e.indexOf(e1))),re(e.length>0,()=>"scheme must not be an empty string.");const o=_c.getInstance();re(o.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),o.managers[e]=n}static getManager(e){const n=this.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(this.getInstance().managers)}}function WL(r){if(r.indexOf(e1)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${_c.getSchemes().join(",")}`);return{scheme:r.split(e1)[0],path:r.split(e1)[1]}}async function Gue(r,e,n=!1){re(r!==e,()=>`Old path and new path are the same: '${r}'`);const o=Ko.getLoadHandlers(r);re(o.length>0,()=>`Copying failed because no load handler is found for source URL ${r}.`),re(o.length<2,()=>`Copying failed because more than one (${o.length}) load handlers for source URL ${r}.`);const a=o[0],l=Ko.getSaveHandlers(e);re(l.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),re(l.length<2,()=>`Copying failed because more than one (${o.length}) save handlers for destination URL ${e}.`);const u=l[0],_=WL(r).scheme,f=WL(r).path,h=_===WL(r).scheme,d=await a.load();n&&h&&await _c.getManager(_).removeModel(f);const m=await u.save(d);return n&&!h&&await _c.getManager(_).removeModel(f),m.modelArtifactsInfo}async function dOe(){const r=_c.getSchemes(),e={};for(const n of r){const o=await _c.getManager(n).listModels();for(const a in o){const l=n+e1+a;e[l]=o[a]}}return e}async function mOe(r){const e=WL(r);return _c.getManager(e.scheme).removeModel(e.path)}async function vOe(r,e){return Gue(r,e,!1)}async function gOe(r,e){return Gue(r,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yOe{fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}}if(qe().get("IS_BROWSER")){qe().setPlatform("browser",new yOe);try{_c.registerManager(Bk.URL_SCHEME,new hOe)}catch{}try{_c.registerManager(Pk.URL_SCHEME,new aOe)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kOe={importFetch:()=>require("node-fetch")};let B9;class $Oe{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return qe().global.fetch!=null?qe().global.fetch(e,n):(B9==null&&(B9=kOe.importFetch()),B9(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}}qe().get("IS_NODE")&&qe().setPlatform("node",new $Oe);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function La(r,e="float32",n){return e=e||"float32",bW(r),new Xx(r,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bOe(r,e){const n=Z(r,"x","cast");if(!Hle(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const o={x:n},a={dtype:e};return ke.runKernel(TL,o,a)}const Vi=ye({cast_:bOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wOe(r){const n={x:Z(r,"x","clone","string_or_numeric")};return ke.runKernel(IL,n)}const Eg=ye({clone_:wOe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wue(r,e=!1){console.log(r.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Aue();const xOe={buffer:La,cast:Vi,clone:Eg,print:Wue};FDe(xOe);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SOe="model",EOe=".json",COe=".weights.bin";function Hue(r){return new Promise(e=>setTimeout(e)).then(r)}class Fk{constructor(e){if(!qe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Fk.URL_SCHEME)&&(e=e.slice(Fk.URL_SCHEME.length)),(e==null||e.length===0)&&(e=SOe),this.modelJsonFileName=e+EOe,this.weightDataFileName=e+COe}async save(e){if(typeof document=="undefined")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const o=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a=Pue(e,o),l=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),u=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(u.download=this.modelJsonFileName,u.href=l,await Hue(()=>u.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const _=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;_.download=this.weightDataFileName,_.href=n,await Hue(()=>_.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:l2(e)}}}}Fk.URL_SCHEME="downloads://";class AOe{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const o=new FileReader;o.onload=a=>{const l=JSON.parse(a.target.result),u=l.modelTopology;if(u==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(l.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:u});return}const f=M9(l,h=>this.loadWeights(h));e(f)},o.onerror=a=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),o.readAsText(this.jsonFile)})}loadWeights(e){const n=[],o=[];for(const u of e)n.push(...u.weights),o.push(...u.paths);const a=this.checkManifestAndWeightFiles(e),l=o.map(u=>this.loadWeightsFile(u,a[u]));return Promise.all(l).then(u=>[n,I9(u)])}loadWeightsFile(e,n){return new Promise((o,a)=>{const l=new FileReader;l.onload=u=>{const _=u.target.result;o(_)},l.onerror=u=>a(`Failed to weights data from file of path '${e}'.`),l.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],o=this.weightsFiles.map(l=>Rue(l.name)),a={};for(const l of e)l.paths.forEach(u=>{const _=Rue(u);if(n.indexOf(_)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${_}'`);if(n.push(_),o.indexOf(_)===-1)throw new Error(`Weight file with basename '${_}' is not provided.`);a[u]=this.weightsFiles[o.indexOf(_)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return a}}const TOe=r=>qe().getBool("IS_BROWSER")&&!Array.isArray(r)&&r.startsWith(Fk.URL_SCHEME)?IOe(r.slice(Fk.URL_SCHEME.length)):null;Ko.registerSaveRouter(TOe);function IOe(r="model"){return new Fk(r)}function MOe(r){return new AOe(r)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vue(r,e,n,o){u(r),n=n==null?0:n,o=o==null?1:o,_(n,o);let a=0;const l=f=>(f.then(h=>{const d=n+ ++a/r.length*(o-n);return e(d),h}),f);function u(f){re(f!=null&&Array.isArray(f)&&f.length>0,()=>"promises must be a none empty array")}function _(f,h){re(f>=0&&f<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${f}`),re(h>=0&&h<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${h}`),re(h>=f,()=>`startFraction must be no more than endFraction, but got startFraction ${f} and endFraction ${h}`)}return Promise.all(r.map(l))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function que(r,e){e==null&&(e={});const n=e.fetchFunc==null?qe().platform.fetch:e.fetchFunc,o=r.map(m=>n(m,e.requestInit,{isBinary:!0})),a=0,l=.5,_=(e.onProgress==null?await Promise.all(o):await Vue(o,e.onProgress,a,l)).map(m=>m.arrayBuffer()),f=.5,h=1;return e.onProgress==null?await Promise.all(_):await Vue(_,e.onProgress,f,h)}async function NOe(r,e="",n,o){return Kue(u=>que(u,{requestInit:o}))(r,e,n)}function Kue(r){return async(e,n="",o)=>{const a=e.map(()=>!1),l={},u=o!=null?o.map(()=>!1):[],_=[];if(e.forEach((y,w)=>{let E=0;y.weights.forEach(A=>{const S="quantization"in A?A.quantization.dtype:A.dtype,C=C9[S]*zt(A.shape),R=()=>{a[w]=!0,l[w]==null&&(l[w]=[]),l[w].push({manifestEntry:A,groupOffset:E,sizeBytes:C})};o!=null?o.forEach((P,D)=>{P===A.name&&(R(),u[D]=!0)}):R(),_.push(A.name),E+=C})}),!u.every(y=>y)){const y=o.filter((w,E)=>!u[E]);throw new Error(`Could not find weights in manifest with names: ${y.join(", ")}. 
Manifest JSON has weights with names: ${_.join(", ")}.`)}const f=a.reduce((y,w,E)=>(w&&y.push(E),y),[]),h=[];f.forEach(y=>{e[y].paths.forEach(w=>{const E=n+(n.endsWith("/")?"":"/")+w;h.push(E)})});const d=await r(h),m={};let g=0;return f.forEach(y=>{const w=e[y].paths.length;let E=0;for(let P=0;P<w;P++)E+=d[g+P].byteLength;const A=new ArrayBuffer(E),S=new Uint8Array(A);let C=0;for(let P=0;P<w;P++){const D=new Uint8Array(d[g+P]);S.set(D,C),C+=D.byteLength}l[y].forEach(P=>{const D=A.slice(P.groupOffset,P.groupOffset+P.sizeBytes),G=A9(D,[P.manifestEntry]);for(const z in G)m[z]=G[z]}),g+=w}),m}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ROe="application/octet-stream",POe="application/json";class F9{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(re(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=qe().platform.fetch,re(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&re(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const o=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a=Pue(e,o);n.body.append("model.json",new Blob([JSON.stringify(a)],{type:POe}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:ROe}),"model.weights.bin");const l=await this.fetch(this.path,n);if(l.ok)return{modelArtifactsInfo:l2(e),responses:[l]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${l.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let u=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?u+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":u+=" Please make sure the server is serving valid JSON for this request.",new Error(u)}const o=n.modelTopology,a=n.weightsManifest;if(o==null&&a==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return M9(n,l=>this.loadWeights(l))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[o,a]=BOe(n),l=this.weightPathPrefix||o,u=[];for(const d of e)u.push(...d.weights);const _=[],f=[];for(const d of e)for(const m of d.paths)this.weightUrlConverter!=null?f.push(this.weightUrlConverter(m)):_.push(l+m+a);this.weightUrlConverter&&_.push(...await Promise.all(f));const h=await que(_,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[u,I9(h)]}}F9.URL_SCHEME_REGEX=/^https?:\/\//;function BOe(r){const e=r.lastIndexOf("/"),n=r.lastIndexOf("?"),o=r.substring(0,e),a=n>e?r.substring(n):"";return[o+"/",a]}function L9(r){return r.match(F9.URL_SCHEME_REGEX)!=null}const Jue=(r,e)=>{if(typeof fetch=="undefined"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(r)?n=r.every(o=>L9(o)):n=L9(r),n)return D9(r,e)}return null};Ko.registerSaveRouter(Jue);Ko.registerLoadRouter(Jue);function D9(r,e){return new F9(r,e)}function O9(r,e){return D9(r,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z9{constructor(e){this.modelArtifacts=e}async load(){return this.modelArtifacts}}class FOe{constructor(e){this.saveHandler=e}async save(e){return this.saveHandler(e)}}function LOe(r,e,n,o){return arguments.length===1?r.modelTopology!=null||r.weightSpecs!=null?new z9(r):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new z9({modelTopology:r})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new z9({modelTopology:r,weightSpecs:e,weightData:n,trainingConfig:o}))}function DOe(r){return new FOe(r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var OOe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",browserFiles:MOe,browserHTTPRequest:O9,concatenateArrayBuffers:I9,decodeWeights:A9,encodeWeights:KDe,fromMemory:LOe,getLoadHandlers:Fue,getModelArtifactsForJSON:M9,getModelArtifactsInfoForJSON:l2,getSaveHandlers:Bue,http:D9,isHTTPScheme:L9,loadWeights:NOe,registerLoadRouter:rOe,registerSaveRouter:nOe,weightsLoaderFactory:Kue,withSaveHandler:DOe,copyModel:vOe,listModels:dOe,moveModel:gOe,removeModel:mOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zOe(r,e,n=!1,o=!1){let a=Z(r,"a","matMul"),l=Z(e,"b","matMul");[a,l]=qo(a,l);const u={a,b:l},_={transposeA:n,transposeB:o};return ke.runKernel(jW,u,_)}const bi=ye({matMul_:zOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UOe(r,e,n=1,o=0){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const l={indices:Z(r,"indices","oneHot","int32")},u={depth:e,onValue:n,offValue:o};return ke.runKernel(cV,l,u)}const HL=ye({oneHot_:UOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jOe(r,e){const n=Z(r,"x","transpose");if(e==null&&(e=n.shape.map((l,u)=>u).reverse()),re(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${e}.`),e.forEach(l=>{re(l>=0&&l<n.rank,()=>`All entries in 'perm' must be between 0 and ${n.rank-1} but got ${e}`)}),n.rank<=1)return n.clone();const o={x:n},a={perm:e};return ke.runKernel(n9,o,a)}const u2=ye({transpose_:jOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GOe(r,e,n){const o=Z(r,"labels","confusionMatrix"),a=Z(e,"predictions","confusionMatrix");re(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),re(o.rank===1,()=>`Expected the rank of labels to be 1, but got ${o.rank}`),re(a.rank===1,()=>`Expected the rank of predictions to be 1, but got ${a.rank}`),re(o.shape[0]===a.shape[0],()=>`Mismatch in the number of examples: ${o.shape[0]} vs. ${a.shape[0]}. Labels and predictions should have the same number of elements.`),re(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const l=HL(Vi(o,"int32"),n),u=HL(Vi(a,"int32"),n),_=u2(l),f=bi(_,u);return Vi(f,"int32")}const WOe=ye({confusionMatrix_:GOe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var HOe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",confusionMatrix:WOe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c2(r,e){const n=r.length,o=[];for(let a=0;a<n;a++){const l=n-1-a,u=r[l]||1;(e[e.length-1-a]||1)>1&&u===1&&o.unshift(l)}return o}function U9(r,e){const n=[];for(let o=0;o<e.length;o++){const a=r[r.length-o-1],l=e.length-o-1,u=e[l];(a==null||a===1&&u>1)&&n.unshift(l)}return n}function ui(r,e){const n=[],o=Math.max(r.length,e.length);for(let a=0;a<o;a++){let l=r[r.length-a-1];l==null&&(l=1);let u=e[e.length-a-1];if(u==null&&(u=1),l===1)n.unshift(u);else if(u===1)n.unshift(l);else if(l!==u){const _=`Operands could not be broadcast together with shapes ${r} and ${e}.`;throw Error(_)}else n.unshift(l)}return n}var VOe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getBroadcastDims:c2,getReductionAxes:U9,assertAndGetBroadcastShape:ui});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xue(r,e,n){if(xk(r),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const o=Ch(r,n);if(o.length!==3&&o.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return xg(r,e,o,n)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Lk;function Yue(r,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(r==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,o=!1,a=!1,l=!1,u=!1,_=!1;if(r.data instanceof Uint8Array)n=!0;else if(typeof ImageData!="undefined"&&r instanceof ImageData)o=!0;else if(typeof HTMLVideoElement!="undefined"&&r instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement!="undefined"&&r instanceof HTMLImageElement)l=!0;else if(r.getContext!=null)u=!0;else if(typeof ImageBitmap!="undefined"&&r instanceof ImageBitmap)_=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${r.constructor.name}`);if(a){const w=2;if(a&&r.readyState<w)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(FL(NL,ke.backendName)!=null){const w={pixels:r},E={numChannels:e};return ke.runKernel(NL,w,E)}const[h,d]=a?[r.videoWidth,r.videoHeight]:[r.width,r.height];let m;if(u)m=r.getContext("2d").getImageData(0,0,h,d).data;else if(o||n)m=r.data;else if(l||a||_){if(Lk==null)if(typeof document=="undefined")if(typeof OffscreenCanvas!="undefined"&&typeof OffscreenCanvasRenderingContext2D!="undefined")Lk=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Lk=document.createElement("canvas").getContext("2d");Lk.canvas.width=h,Lk.canvas.height=d,Lk.drawImage(r,0,0,h,d),m=Lk.getImageData(0,0,h,d).data}let g;if(e===4)g=new Int32Array(m);else{const w=h*d;g=new Int32Array(w*e);for(let E=0;E<w;E++)for(let A=0;A<e;++A)g[E*e+A]=m[E*4+A]}return Xue(g,[d,h,e],"int32")}function qOe(r){return r!=null&&r.data instanceof Uint8Array}function KOe(){return typeof window!="undefined"&&typeof ImageBitmap!="undefined"&&window.hasOwnProperty("createImageBitmap")}function JOe(r){return r!=null&&r.width!==0&&r.height!==0}function XOe(r){return KOe()&&!(r instanceof ImageBitmap)&&JOe(r)&&!qOe(r)}async function YOe(r,e=3){let n=null;if(qe().getBool("WRAP_TO_IMAGEBITMAP")&&XOe(r)){let o;try{o=await createImageBitmap(r,{premultiplyAlpha:"none"})}catch{o=null}o!=null&&o.width===r.width&&o.height===r.height?n=o:n=r}else n=r;return Yue(n,e)}async function QOe(r,e){let n=Z(r,"img","toPixels");if(!(r instanceof ya)){const h=n;n=Vi(h,"int32"),h.dispose()}if(n.rank!==2&&n.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[o,a]=n.shape.slice(0,2),l=n.rank===2?1:n.shape[2];if(l>4||l===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${l}`);if(n.dtype!=="float32"&&n.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const u=await n.data(),_=n.dtype==="float32"?255:1,f=new Uint8ClampedArray(a*o*4);for(let h=0;h<o*a;++h){const d=[0,0,0,255];for(let g=0;g<l;g++){const y=u[h*l+g];if(n.dtype==="float32"){if(y<0||y>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${y}.`)}else if(n.dtype==="int32"&&(y<0||y>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${y}.`);l===1?(d[0]=y*_,d[1]=y*_,d[2]=y*_):d[g]=y*_}const m=h*4;f[m+0]=Math.round(d[0]),f[m+1]=Math.round(d[1]),f[m+2]=Math.round(d[2]),f[m+3]=Math.round(d[3])}if(e!=null){e.width=a,e.height=o;const h=e.getContext("2d"),d=new ImageData(f,a,o);h.putImageData(d,0,0)}return n!==r&&n.dispose(),f}const ZOe=ye({fromPixels_:Yue});var eze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromPixelsAsync:YOe,toPixels:QOe,fromPixels:ZOe});function j9(r,e){const n=r.shape.length,o=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(o<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${o}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[o-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[o-1]} vs. ${n}`);if(zt(r.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${r.shape}.`);const a=e.shape,l=a[a.length-1];let u=1;for(let m=0;m<a.length-1;++m)u*=a[m];const _=r.shape,f=a.slice();f.pop();let h=1;for(let m=l;m<n;++m)h*=_[m],f.push(_[m]);const d=[...Ps(r.shape).map(m=>m/h),1].slice(0,l);return[f,u,h,d]}var tze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",prepareAndValidate:j9});function G9(r,e,n){const o=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,l=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${r}, sliceDim: ${o}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(l+` update.rank < ${a}. `);if(r.length<o+(n.rank-a))throw new Error(l+` Output shape length < ${o+(n.rank-a)}`);if(n.rank!==a+r.length-o)throw new Error(l+` update.rank != ${a+r.length-o}`);for(let u=0;u<a;++u)if(n.shape[u]!==e.shape[u])throw new Error(l+` updates.shape[${u}] (${n.shape[u]}) != indices.shape[${u}] (${e.shape[u]}).`);for(let u=0;u<n.rank-a;++u)if(n.shape[u+a]!==r[u+o])throw new Error(l+` updates.shape[${u+a}] (${n.shape[u+a]}) != shape[${u+a}] (${r[u+a]})`)}function W9(r,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(r.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${r.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(r.size===0)throw new Error(`Updates specified for empty output. updates shape: ${r.shape}`)}G9(n,e,r)}function VL(r,e,n){const o=e.shape.length,a=o>1?e.shape[o-1]:1,l=n.length;let u=1;for(let m=a;m<l;++m)u*=n[m];const _=a<1?1:a,f=zt(e.shape)/_,h=[...Ps(n.slice(0,a)),1],d=zt(n);return{sliceRank:a,numUpdates:f,sliceSize:u,strides:h,outputSize:d}}var nze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",validateUpdateShape:G9,validateInput:W9,calculateShapes:VL});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H9=-2,rze=-1;function Que(r,e,n){const o=r.shape.length;re(o===e.length,()=>`Error in slice${o}D: Length of begin ${e} must match the rank of the array (${o}).`),re(o===n.length,()=>`Error in slice${o}D: Length of size ${n} must match the rank of the array (${o}).`);for(let a=0;a<o;++a)re(e[a]+n[a]<=r.shape[a],()=>`Error in slice${o}D: begin[${a}] + size[${a}] (${e[a]+n[a]}) would overflow input.shape[${a}] (${r.shape[a]})`)}function ize(r){const e=[];let n=0;for(;r>0;)r&1&&e.push(n),r/=2,n++;return e}function Zue(r,e,n){const o=[];for(let a=0;a<r.length;a++)o[a]=Math.ceil((e[a]-r[a])/n[a]);return o}function ece(r,e,n,o){const a=[...r];for(let l=a.length;l<o.length;l++)a.push(1);for(let l=0;l<n;l++)l===0?a[e]=1:(a.splice(e,0,1),a.pop());return a}function tce(r,e,n){return n<=r?n:n-(e-1)}function nce(r,e){const n=[];for(let o=0;o<r;o++)n.push(e+o);return n}function oze(r,e,n,o,a,l,u,_,f){const h=r.length;let d=new Array(h),m=new Array(h),g=new Array(h);if(e.length&&n>0){const y=e[0],w=n+1;d=rce(u,y,w,o,r),m=ice(_,y,w,a,r),g=ece(l,y,w,r)}else for(let y=0;y<h;y++)d[y]=ace(u,o,l,r,y,f),m[y]=sce(_,a,l,r,y,f),g[y]=oce(l,y,f);return{begin:d,end:m,strides:g}}function rce(r,e,n,o,a){const l=[...a],u=nce(n,e);for(let _=0;_<l.length;_++)if(u.indexOf(_)>-1)l[_]=0;else{const f=tce(e,n,_);let h=o[f];r&1<<f&&(h=0),l[_]=h}return l}function ice(r,e,n,o,a){const l=[...a],u=nce(n,e);for(let _=0;_<l.length;_++)if(u.indexOf(_)>-1)l[_]=Number.MAX_SAFE_INTEGER;else{const f=tce(e,n,_);let h=o[f];r&1<<f&&(h=Number.MAX_SAFE_INTEGER),l[_]=h}for(let _=0;_<l.length;_++){const f=a[_];l[_]<0&&(l[_]+=f),l[_]=ZA(0,l[_],a[_])}return l}function oce(r,e,n){let o=r[e];return(n&1<<e||o==null)&&(o=1),o}function ace(r,e,n,o,a,l){let u=e[a];const _=n[a]||1;(r&1<<a||l&1<<a||u==null)&&(_>0?u=Number.MIN_SAFE_INTEGER:u=Number.MAX_SAFE_INTEGER);const f=o[a];return u<0&&(u+=f),u=ZA(0,u,f-1),u}function sce(r,e,n,o,a,l){let u=e[a];const _=n[a]||1;(r&1<<a||l&1<<a||u==null)&&(_>0?u=Number.MAX_SAFE_INTEGER:u=Number.MIN_SAFE_INTEGER);const f=o[a];return u<0&&(u+=f),_>0?u=ZA(0,u,f):u=ZA(-1,u,f-1),u}function V9(r,e,n){let o=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){o=a;break}for(let a=o+1;a<n.length;a++)if(e[a]>0||n[a]!==r[a])return!1;return!0}function q9(r,e){let n=r.length>0?r[r.length-1]:1;for(let o=0;o<r.length-1;o++)n+=r[o]*e[o];return n}function lce(r,e,n){let o;const a=r.shape.length;typeof e=="number"?o=[e,...new Array(a-1).fill(0)]:e.length<a?o=e.concat(new Array(a-e.length).fill(0)):o=e.slice(),o.forEach(u=>{re(u!==-1,()=>"slice() does not support negative begin indexing.")});let l;return n==null?l=new Array(a).fill(-1):typeof n=="number"?l=[n,...new Array(a-1).fill(-1)]:n.length<a?l=n.concat(new Array(a-n.length).fill(-1)):l=n,l=l.map((u,_)=>u>=0?u:(re(u===-1,()=>`Negative size values should be exactly -1 but got ${u} for the slice() size at index ${_}.`),r.shape[_]-o[_])),[o,l]}function uce(r,e,n,o,a,l,u,_,f){let h;if(o==null?(h=new Array(e.length),h.fill(1)):h=o,u!=null&&(u&u-1)!=0)throw new Error("Multiple ellipses in slice is not allowed.");let d=!1;const m={dims:h.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:h.slice(),beginMask:a,endMask:l,ellipsisMask:u,newAxisMask:_,shrinkAxisMask:f};for(let R=0;R<m.dims;R++)d&&(1<<R&_)!=0&&m.numAddAxisAfterEllipsis++,1<<R&u&&(d=!0);d||(m.ellipsisMask|=1<<m.dims,m.dims++);const g={dims:r.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};aze(m,g);let y=!0,w=!0,E=!0;const A=[],S=[];for(let R=0;R<r.length;++R){if(g.strides[R]===0)throw Error(`strides[${R}] must be non-zero`);const P=!!(g.shrinkAxisMask&1<<R),D=r[R];if(D===-1){A.push(P?1:-1);continue}const G=[g.beginMask&1<<R,g.endMask&1<<R],z=[g.strides[R]>0?0:-1,g.strides[R]>0?D:D-1];if(P&&g.strides[R]<=0)throw Error("only stride 1 allowed on non-range indexing.");E=E&&g.strides[R]===1;const V=!!(g.beginMask&1<<R&&g.endMask&1<<R);if(g.beginValid&&g.endValid){if(P){const ue=g.begin[R]<0?D+g.begin[R]:g.begin[R];if(g.begin[R]=ue,g.end[R]=g.begin[R]+1,ue<0||ue>=D)throw Error(`slice index ${g.begin[R]} of dimension ${R} out of bounds.`)}else g.begin[R]=cce(g.begin[R],0,g.strides[R],D,G,z),g.end[R]=cce(g.end[R],1,g.strides[R],D,G,z);const Y=g.strides[R]===1&&g.begin[R]===0&&g.end[R]===D;y=y&&Y,w=w&&(R===0&&g.strides[R]===1||Y)}else y=y&&g.strides[R]===1&&V,w=w&&(R===0&&g.strides[R]===1||V);let X,ne=!1;if(g.beginValid&&g.endValid?(X=g.end[R]-g.begin[R],ne=!0):P?(X=1,ne=!0):V&&D>=0&&(g.strides[R]<0?X=-D:X=D,ne=!0),ne){let Y;X===0||X<0!=g.strides[R]<0?Y=0:Y=Math.trunc(X/g.strides[R])+(X%g.strides[R]!=0?1:0),A.push(Y)}else A.push(-1)}for(let R=0;R<g.finalShapeGatherIndices.length;++R){const P=g.finalShapeGatherIndices[R];P>=0?S.push(A[P]):P===H9&&S.push(1)}return{finalShapeSparse:S.filter((R,P)=>g.finalShapeGatherIndices[P]!==H9),finalShape:S,isIdentity:y,sliceDim0:w,isSimpleSlice:E,begin:g.begin,end:g.end,strides:g.strides}}function aze(r,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=r.begin!=null,e.endValid=r.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let o=0;o<r.dims;o++)if(1<<o&r.ellipsisMask){const a=Math.min(e.dims-(r.dims-o)+1+r.numAddAxisAfterEllipsis,e.dims);for(;n<a;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=o}else if(1<<o&r.newAxisMask)e.finalShapeGatherIndices.push(H9),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);r.begin!=null&&(e.begin[n]=r.begin[o]),r.end!=null&&(e.end[n]=r.end[o]),e.strides[n]=r.strides[o],r.beginMask&1<<o&&(e.beginMask|=1<<n),r.endMask&1<<o&&(e.endMask|=1<<n),r.shrinkAxisMask&1<<o?(e.finalShapeGatherIndices.push(rze),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(o)),e.inputShapeGatherIndicesSparse[n]=o,n++}}function cce(r,e,n,o,a,l){if(a[e])return n>0?l[e]:l[e+1&1];{const u=r<0?o+r:r;return u<l[0]?l[0]:u>l[1]?l[1]:u}}var _ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",assertParamsValid:Que,maskToAxes:ize,computeOutShape:Zue,stridesWithElidedDims:ece,getNormalizedAxes:oze,startIndicesWithElidedDims:rce,stopIndicesWithElidedDims:ice,stridesForAxis:oce,startForAxis:ace,stopForAxis:sce,isSliceContinous:V9,computeFlatOffset:q9,parseSliceParams:lce,sliceInfo:uce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fce{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class Cg{constructor(){this.classNameMap={}}static getMap(){return Cg.instance==null&&(Cg.instance=new Cg),Cg.instance}static register(e){Cg.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Ag(r){re(r.className!=null,()=>"Class being registered does not have the static className property defined."),re(typeof r.className=="string",()=>"className is required to be a string, but got type "+typeof r.className),re(r.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),Cg.register(r)}var sze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Serializable:fce,SerializationMap:Cg,registerClass:Ag});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lze=.001,pce=.1;function uze(r,e,n){return n==null&&(n=K9()),J9(r,e,(o,a)=>X9(o,a,n))}function K9(){return ke.backend.floatPrecision()===32?lze:pce}function J9(r,e,n){let o=!0;if((ol(r)||ol(e))&&(o=!1),ol(r)&&ol(e)&&(o=!0),o){const u=r.constructor.name,_=e.constructor.name;if(u!==_)throw new Error(`Arrays are of different type. Actual: ${u}. Expected: ${_}`)}if(Array.isArray(r)&&Array.isArray(e)){const u=Ch(r),_=Ch(e);if(!Bo(u,_))throw new Error(`Arrays have different shapes. Actual: [${u}]. Expected: [${_}]`)}const a=ol(r)?r:fm(r),l=ol(e)?e:fm(e);if(a.length!==l.length)throw new Error(`Arrays have different lengths actual: ${a.length} vs expected: ${l.length}.
Actual:   ${a}.
Expected: ${l}.`);for(let u=0;u<l.length;++u){const _=a[u],f=l[u];if(!n(_,f))throw new Error(`Arrays differ: actual[${u}] = ${_}, expected[${u}] = ${f}.
Actual:   ${a}.
Expected: ${l}.`)}}function cze(r,e){r().then(()=>e.fail(),()=>e())}function _ze(r,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return hm(r)||hm(r[0])||hm(e)||hm(e[0])?J9(r,n,(o,a)=>o==a):J9(r,e,(o,a)=>X9(o,a,0))}function fze(r,e,n){if(n==null&&(n=K9()),!X9(r,e,n))throw new Error(`Numbers differ: actual === ${r}, expected === ${e}`)}function X9(r,e,n){return!isFinite(r)&&!isFinite(e)?!0:!(isNaN(r)||isNaN(e)||Math.abs(r-e)>n)}function pze(r,e,n){for(let o=0;o<r.length;o++)if(r[o]<e||r[o]>n)throw new Error(`Value out of range:${r[o]} low: ${e}, high: ${n}`)}function hze(r,e){expect(new Float32Array(r)).toEqual(new Float32Array(e))}function hce(r){for(let e=0;e<r.length;e++){const n=r[e];Array.isArray(n)?hce(n):r[e]=mm(n)}return r}var dze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",TEST_EPSILON_FLOAT16:pce,expectArraysClose:uze,testEpsilon:K9,expectPromiseToFail:cze,expectArraysEqual:_ze,expectNumbersClose:fze,expectValuesInRange:pze,expectArrayBuffersEqual:hze,encodeStrings:hce});/** @license See the LICENSE file. */const mze="3.12.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vze(){qe().set("PROD",!0)}function gze(){qe().set("DEBUG",!0)}function yze(){qe().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function kze(r){qe().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(r+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function $ze(){ke.disposeVariables()}function t1(){return ke}function bze(){return ke.memory()}function wze(r){return ke.profile(r)}function vr(r,e){return ke.tidy(r,e)}function xu(r){b9(r).forEach(n=>n.dispose())}function Th(r){return ke.keep(r)}function xze(r){return ke.time(r)}function Sze(r){return ke.setBackend(r)}function Eze(){return ke.ready()}function Cze(){return ke.backendName}function Aze(r){ke.removeBackend(r)}function Tze(r){return ke.findBackend(r)}function Ize(r){return ke.findBackendFactory(r)}function dce(r,e,n=1){return ke.registerBackend(r,e,n)}function Mze(){return ke.backend}function Nze(r,e){qe().setPlatform(r,e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rze(r,e){let n=Z(r,"a","add"),o=Z(e,"b","add");[n,o]=qo(n,o);const a={a:n,b:o};return ke.runKernel(AL,a)}const lr=ye({add_:Rze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pze(r,e){let n=Z(r,"a","floorDiv"),o=Z(e,"b","floorDiv");[n,o]=qo(n,o);const a={a:n,b:o};return ke.runKernel(SH,a)}const Y9=ye({floorDiv_:Pze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bze(r,e){let n=Z(r,"a","div"),o=Z(e,"b","div");if([n,o]=qo(n,o),n.dtype==="int32"&&o.dtype==="int32")return Y9(n,o);const a={a:n,b:o},l={};return ke.runKernel(pH,a,l)}const ro=ye({div_:Bze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fze(r,e){let n=Z(r,"a","mul"),o=Z(e,"b","mul");[n,o]=qo(n,o);const a={a:n,b:o};return ke.runKernel(rV,a)}const Qt=ye({mul_:Fze});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lze(r){const e=Z(r,"x","abs");if(e.dtype==="complex64"){const n={x:e};return ke.runKernel(JW,n)}else{const n={x:e};return ke.runKernel(CW,n)}}const fc=ye({abs_:Lze});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dze(r){const n={x:Z(r,"x","acos")};return ke.runKernel(AW,n)}const mce=ye({acos_:Dze});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oze(r){const n={x:Z(r,"x","acosh")};return ke.runKernel(TW,n)}const vce=ye({acosh_:Oze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zze(r){re(Array.isArray(r),()=>"The argument passed to tf.addN() must be a list of tensors"),re(r.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${r.length}`);const e=r.map((a,l)=>Z(a,`tensors${l}`,"addN")),n=e[0];e.forEach(a=>{if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(a=>{if(!Bo(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const o=e;return ke.runKernel(IW,o)}const gce=ye({addN_:zze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uze(r,e=null,n=!1){const a={x:Z(r,"x","all","bool")},l={axis:e,keepDims:n};return ke.runKernel(MW,a,l)}const yce=ye({all_:Uze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jze(r,e=null,n=!1){const a={x:Z(r,"x","any","bool")},l={axis:e,keepDims:n};return ke.runKernel(NW,a,l)}const kce=ye({any_:jze});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gze(r,e=0){const o={x:Z(r,"x","argMax")},a={axis:e};return ke.runKernel(RW,o,a)}const $ce=ye({argMax_:Gze});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wze(r,e=0){const o={x:Z(r,"x","argMin")},a={axis:e};return ke.runKernel(PW,o,a)}const bce=ye({argMin_:Wze});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hze(r){const n={x:Z(r,"x","asin")};return ke.runKernel(BW,n)}const wce=ye({asin_:Hze});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vze(r){const n={x:Z(r,"x","asinh")};return ke.runKernel(FW,n)}const xce=ye({asinh_:Vze});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qze(r){const n={x:Z(r,"x","atan")};return ke.runKernel(LW,n)}const Sce=ye({atan_:qze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kze(r,e){let n=Z(r,"a","atan2"),o=Z(e,"b","atan2");[n,o]=qo(n,o);const a={a:n,b:o};return ke.runKernel(OW,a)}const Ece=ye({atan2_:Kze});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jze(r){const n={x:Z(r,"x","atanh")};return ke.runKernel(DW,n)}const Cce=ye({atanh_:Jze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ace(r,e,n,o,a="NHWC",l){const u=r[3],_=[...e,u],f=r1(a);return n_(r,_,n,l,o,null,null,f)}function Dk(r,e,n,o,a,l,u="channelsLast"){const[_,f]=qL(e);let h;if(u==="channelsLast")h=[_,f,r[3],r[3]];else if(u==="channelsFirst")h=[_,f,r[1],r[1]];else throw new Error(`Unknown dataFormat ${u}`);return n_(r,h,n,o,a,l,!1,u)}function _2(r,e,n,o,a,l,u="NDHWC"){const[_,f,h]=Z9(e);let d,m;if(u==="NDHWC")m="channelsLast",d=[_,f,h,r[4],r[4]];else if(u==="NCDHW")m="channelsFirst",d=[_,f,h,r[1],r[1]];else throw new Error(`Unknown dataFormat ${u}`);return f2(r,d,n,o,a,!1,m,l)}function n_(r,e,n,o,a,l,u=!1,_="channelsLast"){let[f,h,d,m]=[-1,-1,-1,-1];if(_==="channelsLast")[f,h,d,m]=r;else if(_==="channelsFirst")[f,m,h,d]=r;else throw new Error(`Unknown dataFormat ${_}`);const[g,y,,w]=e,[E,A]=qL(n),[S,C]=qL(o),R=n1(g,S),P=n1(y,C),{padInfo:D,outHeight:G,outWidth:z}=Qze(a,h,d,E,A,R,P,l,_),V=u?w*m:w;let X;return _==="channelsFirst"?X=[f,V,G,z]:_==="channelsLast"&&(X=[f,G,z,V]),{batchSize:f,dataFormat:_,inHeight:h,inWidth:d,inChannels:m,outHeight:G,outWidth:z,outChannels:V,padInfo:D,strideHeight:E,strideWidth:A,filterHeight:g,filterWidth:y,effectiveFilterHeight:R,effectiveFilterWidth:P,dilationHeight:S,dilationWidth:C,inShape:r,outShape:X,filterShape:e}}function f2(r,e,n,o,a,l=!1,u="channelsLast",_){let[f,h,d,m,g]=[-1,-1,-1,-1,-1];if(u==="channelsLast")[f,h,d,m,g]=r;else if(u==="channelsFirst")[f,g,h,d,m]=r;else throw new Error(`Unknown dataFormat ${u}`);const[y,w,E,,A]=e,[S,C,R]=Z9(n),[P,D,G]=Z9(o),z=n1(y,P),V=n1(w,D),X=n1(E,G),{padInfo:ne,outDepth:Y,outHeight:ue,outWidth:_e}=Zze(a,h,d,m,S,C,R,z,V,X,_),ge=l?A*g:A;let $e;return u==="channelsFirst"?$e=[f,ge,Y,ue,_e]:u==="channelsLast"&&($e=[f,Y,ue,_e,ge]),{batchSize:f,dataFormat:u,inDepth:h,inHeight:d,inWidth:m,inChannels:g,outDepth:Y,outHeight:ue,outWidth:_e,outChannels:ge,padInfo:ne,strideDepth:S,strideHeight:C,strideWidth:R,filterDepth:y,filterHeight:w,filterWidth:E,effectiveFilterDepth:z,effectiveFilterHeight:V,effectiveFilterWidth:X,dilationDepth:P,dilationHeight:D,dilationWidth:G,inShape:r,outShape:$e,filterShape:e}}function Xze(r,e,n,o,a){o==null&&(o=Q9(r,e,n));const l=r[0],u=r[1],_=Ok((l-e+2*o)/n+1,a),f=Ok((u-e+2*o)/n+1,a);return[_,f]}function Yze(r,e,n,o,a,l){a==null&&(a=Q9(r,e,o));const u=r[0],_=r[1],f=r[2],h=Ok((u-e+2*a)/o+1,l),d=Ok((_-e+2*a)/o+1,l),m=Ok((f-e+2*a)/o+1,l);return[h,d,m,n]}function Q9(r,e,n,o=1){const a=n1(e,o);return Math.floor((r[0]*(n-1)-n+a)/2)}function qL(r){return typeof r=="number"?[r,r,r]:r.length===2?[r[0],r[1],1]:r}function Z9(r){return typeof r=="number"?[r,r,r]:r}function n1(r,e){return e<=1?r:r+(r-1)*(e-1)}function Qze(r,e,n,o,a,l,u,_,f){let h,d,m;if(typeof r=="number"){h={top:r,bottom:r,left:r,right:r,type:r===0?"VALID":"NUMBER"};const y=Xze([e,n],l,o,r,_);d=y[0],m=y[1]}else if(r==="same"){d=Math.ceil(e/o),m=Math.ceil(n/a);const g=Math.max(0,(d-1)*o+l-e),y=Math.max(0,(m-1)*a+u-n),w=Math.floor(g/2),E=g-w,A=Math.floor(y/2),S=y-A;h={top:w,bottom:E,left:A,right:S,type:"SAME"}}else if(r==="valid")h={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((e-l+1)/o),m=Math.ceil((n-u+1)/a);else if(typeof r=="object"){const g=f==="channelsLast"?r[1][0]:r[2][0],y=f==="channelsLast"?r[1][1]:r[2][1],w=f==="channelsLast"?r[2][0]:r[3][0],E=f==="channelsLast"?r[2][1]:r[3][1];h={top:g,bottom:y,left:w,right:E,type:g===0&&y===0&&w===0&&E===0?"VALID":"EXPLICIT"},d=Ok((e-l+g+y)/o+1,_),m=Ok((n-u+w+E)/a+1,_)}else throw Error(`Unknown padding parameter: ${r}`);return{padInfo:h,outHeight:d,outWidth:m}}function Zze(r,e,n,o,a,l,u,_,f,h,d){let m,g,y,w;if(typeof r=="number"){m={top:r,bottom:r,left:r,right:r,front:r,back:r,type:r===0?"VALID":"NUMBER"};const A=Yze([e,n,o,1],_,1,a,r,d);g=A[0],y=A[1],w=A[2]}else if(r==="same"){g=Math.ceil(e/a),y=Math.ceil(n/l),w=Math.ceil(o/u);const E=(g-1)*a+_-e,A=(y-1)*l+f-n,S=(w-1)*u+h-o,C=Math.floor(E/2),R=E-C,P=Math.floor(A/2),D=A-P,G=Math.floor(S/2),z=S-G;m={top:P,bottom:D,left:G,right:z,front:C,back:R,type:"SAME"}}else if(r==="valid")m={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},g=Math.ceil((e-_+1)/a),y=Math.ceil((n-f+1)/l),w=Math.ceil((o-h+1)/u);else throw Error(`Unknown padding parameter: ${r}`);return{padInfo:m,outDepth:g,outHeight:y,outWidth:w}}function Ok(r,e){if(!e)return Math.trunc(r);switch(e){case"round":return Math.round(r);case"ceil":return Math.ceil(r);case"floor":return Math.floor(r);default:throw new Error(`Unknown roundingMode ${e}`)}}function p2(r){const[e,n,o]=qL(r);return e===1&&n===1&&o===1}function pc(r,e){return p2(r)||p2(e)}function r1(r){if(r==="NHWC")return"channelsLast";if(r==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${r}`)}function q_(r,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${r}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")re(Sk(e),()=>`Error in ${r}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(o=>{o.forEach(a=>{re(Sk(a),()=>`Error in ${r}: pad must be an integer when using dimRoundingMode ${n} but got pad ${a}.`)})});else throw Error(`Error in ${r}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e4e(r,e){const o={x:Z(r,"x","reshape","string_or_numeric")},a={shape:e};return ke.runKernel(kV,o,a)}const lt=ye({reshape_:e4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t4e(r,e,n,o,a){const l=Z(r,"x","avgPool","float32"),u=1;re(pc(n,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${u}'`);let _=l,f=!1;l.rank===3&&(f=!0,_=lt(l,[1,l.shape[0],l.shape[1],l.shape[2]])),re(_.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${_.rank}.`),q_("avgPool",o,a);const h={x:_},d={filterSize:e,strides:n,pad:o,dimRoundingMode:a};let m=ke.runKernel(zW,h,d);return m=Vi(m,l.dtype),f?lt(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const eq=ye({avgPool_:t4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n4e(r,e,n,o,a,l="NDHWC"){const u=Z(r,"x","avgPool3d","float32");let _=u,f=!1;u.rank===4&&(f=!0,_=lt(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),re(_.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${_.rank}.`),re(l==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${l}`),q_("avgPool3d",o,a);const h={x:_},d={filterSize:e,strides:n,pad:o,dimRoundingMode:a,dataFormat:l};let m=ke.runKernel(UW,h,d);return m=Vi(m,_.dtype),f?lt(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}const Tce=ye({avgPool3d_:n4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r4e(r,e=0){re(r.length>=1,()=>"Pass at least one tensor to concat");const n=s2(r,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(l=>{if(l.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${l.dtype}. `)}),n.length===1)return Eg(n[0]);const o=n,a={axis:e};return ke.runKernel(XW,o,a)}const al=ye({concat_:r4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i4e(r){const n={x:Z(r,"x","sigmoid","float32")};return ke.runKernel(PV,n)}const zk=ye({sigmoid_:i4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o4e(r,e,n){const o=Z(r,"x","slice","string_or_numeric");if(o.rank===0)throw new Error("Slicing scalar is not possible");const a={x:o},l={begin:e,size:n};return ke.runKernel(IV,a,l)}const qi=ye({slice_:o4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a4e(r){const n={x:Z(r,"x","tanh","float32")};return ke.runKernel(ZV,n)}const KL=ye({tanh_:a4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s4e(r,e,n,o,a,l){const u=Z(r,"forgetBias","basicLSTMCell"),_=Z(e,"lstmKernel","basicLSTMCell"),f=Z(n,"lstmBias","basicLSTMCell"),h=Z(o,"data","basicLSTMCell"),d=Z(a,"c","basicLSTMCell"),m=Z(l,"h","basicLSTMCell"),g=al([h,m],1),y=bi(g,_),w=lr(y,f),E=w.shape[0],A=w.shape[1]/4,S=[E,A],C=qi(w,[0,0],S),R=qi(w,[0,A],S),P=qi(w,[0,A*2],S),D=qi(w,[0,A*3],S),G=lr(Qt(zk(C),KL(R)),Qt(d,zk(lr(u,P)))),z=Qt(KL(G),zk(D));return[G,z]}const l4e=ye({basicLSTMCell_:s4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u4e(r,e,n){const o=Z(r,"x","batchToSpaceND"),a=e.reduce((_,f)=>_*f);re(o.rank>=1+e.length,()=>`input rank is ${o.rank} but should be > than blockShape.length ${e.length}`),re(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),re(o.shape[0]%a==0,()=>`input tensor batch is ${o.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${a}`);const l={x:o},u={blockShape:e,crops:n};return ke.runKernel(GW,l,u)}const tq=ye({batchToSpaceND_:u4e});function c4e(r){let e;return r.rank===0||r.rank===1?e=lt(r,[1,1,1,r.size]):r.rank===2?e=lt(r,[1,1,r.shape[0],r.shape[1]]):r.rank===3?e=lt(r,[1,r.shape[0],r.shape[1],r.shape[2]]):e=r,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _4e(r,e,n,o,a,l){l==null&&(l=.001);const u=Z(r,"x","batchNorm"),_=Z(e,"mean","batchNorm"),f=Z(n,"variance","batchNorm");let h;a!=null&&(h=Z(a,"scale","batchNorm"));let d;o!=null&&(d=Z(o,"offset","batchNorm")),re(_.rank===f.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),re(d==null||_.rank===d.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),re(h==null||_.rank===h.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const g={x:c4e(u),scale:h,offset:d,mean:_,variance:f},y={varianceEpsilon:l},w=ke.runKernel(EH,g,y);return lt(w,u.shape)}const i1=ye({batchNorm_:_4e});function f4e(r,e,n,o,a,l){const u=Z(r,"x","batchNorm"),_=Z(e,"mean","batchNorm"),f=Z(n,"variance","batchNorm");let h;a!=null&&(h=Z(a,"scale","batchNorm"));let d;return o!=null&&(d=Z(o,"offset","batchNorm")),re(u.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${u.rank}.`),re(_.rank===2||_.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${_.rank}.`),re(f.rank===2||f.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${f.rank}.`),h!=null&&re(h.rank===2||h.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${h.rank}.`),d!=null&&re(d.rank===2||d.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${d.rank}.`),i1(u,_,f,d,h,l)}const p4e=ye({batchNorm2d_:f4e});function h4e(r,e,n,o,a,l){const u=Z(r,"x","batchNorm"),_=Z(e,"mean","batchNorm"),f=Z(n,"variance","batchNorm");let h;a!=null&&(h=Z(a,"scale","batchNorm"));let d;return o!=null&&(d=Z(o,"offset","batchNorm")),re(u.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${u.rank}.`),re(_.rank===3||_.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${_.rank}.`),re(f.rank===3||f.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${f.rank}.`),h!=null&&re(h.rank===3||h.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${h.rank}.`),d!=null&&re(d.rank===3||d.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${d.rank}.`),i1(u,_,f,d,h,l)}const d4e=ye({batchNorm3d_:h4e});function m4e(r,e,n,o,a,l){const u=Z(r,"x","batchNorm"),_=Z(e,"mean","batchNorm"),f=Z(n,"variance","batchNorm");let h;a!=null&&(h=Z(a,"scale","batchNorm"));let d;return o!=null&&(d=Z(o,"offset","batchNorm")),re(u.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${u.rank}.`),re(_.rank===4||_.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${_.rank}.`),re(f.rank===4||f.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${f.rank}.`),h!=null&&re(h.rank===4||h.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${h.rank}.`),d!=null&&re(d.rank===4||d.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${d.rank}.`),i1(u,_,f,d,h,l)}const v4e=ye({batchNorm4d_:m4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g4e(r,e,n){const o=Z(r,"x","bincount"),a=Z(e,"weights","bincount");re(o.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${o.dtype}`),re(n>=0,()=>`size must be non-negative, but got ${n}.`),re(a.size===o.size||a.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${o.shape}, weights shape: ${a.shape}.`);const l={x:o,weights:a},u={size:n};return ke.runKernel(WW,l,u)}const nq=ye({bincount_:g4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y4e(r,e){const n=Z(r,"s0","broadcastArgs","int32"),o=Z(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(o.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${o.rank}`);const a={s0:n,s1:o};return ke.runKernel(HW,a)}const Ice=ye({broadcastArgs_:y4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k4e(r,e){let n=Z(r,"broadcastTo","x");const o=n.shape;if(e.some(h=>!(h>0)||h%1!=0))throw new Error(`broadcastTo(): Invalid broadcast shape [${e}].`);if(e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const h=n.shape.slice();for(;h.length<e.length;)h.unshift(1);n=lt(n,h)}const a=n.shape,l=Array.from(e);for(let h=e.length-1;h>=0;h--)if(a[h]===e[h])l[h]=1;else if(n.shape[h]!==1)throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${e}].`);if(l.map((h,d)=>h>1?d:-1).filter(h=>h>=0).length===0)return Eg(n);const _={x:n},f={reps:l};return ke.runKernel(ML,_,f)}const h2=ye({broadcastTo_:k4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $4e(r){const n={x:Z(r,"x","ceil","float32")};return ke.runKernel(VW,n)}const Mce=ye({ceil_:$4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b4e(r,e,n){const o=Z(r,"x","clipByValue");re(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`);const a={x:o},l={clipValueMin:e,clipValueMax:n};return ke.runKernel(qW,a,l)}const Nce=ye({clipByValue_:b4e});function w4e(r){return al(r,0)}const x4e=ye({concat1d_:w4e});function S4e(r,e){return al(r,e)}const E4e=ye({concat2d_:S4e});function C4e(r,e){return al(r,e)}const A4e=ye({concat3d_:C4e});function T4e(r,e){return al(r,e)}const I4e=ye({concat4d_:T4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M4e(r,e,n,o,a="NHWC",l=[1,1],u){const _=Z(r,"x","conv2d","float32"),f=Z(e,"filter","conv2d","float32");let h=_,d=!1;_.rank===3&&(d=!0,h=lt(_,[1,_.shape[0],_.shape[1],_.shape[2]])),re(h.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${h.rank}.`),re(f.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${f.rank}.`),q_("conv2d",o,u);const m=a==="NHWC"?h.shape[3]:h.shape[1];re(m===f.shape[2],()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${f.shape[2]}.`),re(pc(n,l),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${l}'`);const g={x:h,filter:f},y={strides:n,pad:o,dataFormat:a,dilations:l,dimRoundingMode:u},w=ke.runKernel(YW,g,y);return d?lt(w,[w.shape[1],w.shape[2],w.shape[3]]):w}const d2=ye({conv2d_:M4e});function N4e(r,e,n,o,a="NWC",l=1,u){const _=Z(r,"x","conv1d"),f=Z(e,"filter","conv1d");let h=_,d=!1;_.rank===2&&(d=!0,h=lt(_,[1,_.shape[0],_.shape[1]])),re(h.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${h.rank}.`),re(f.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${f.rank}.`),q_("conv1d",o,u),re(h.shape[2]===f.shape[1],()=>`Error in conv1d: depth of input (${h.shape[2]}) must match input depth for filter ${f.shape[1]}.`),re(pc(n,l),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${l}'`),re(a==="NWC",()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`);const m=lt(f,[1,f.shape[0],f.shape[1],f.shape[2]]),g=lt(h,[h.shape[0],1,h.shape[1],h.shape[2]]),A=d2(g,m,[1,n],o,"NHWC",[1,l],u);return d?lt(A,[A.shape[2],A.shape[3]]):lt(A,[A.shape[0],A.shape[2],A.shape[3]])}const Rce=ye({conv1d_:N4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R4e(r,e,n,o,a,l="NHWC",u){re(r.length===e.rank,()=>`Length of inShape (${r.length}) and rank of dy (${e.rank}) must match`);let _=r,f=e,h=!1;e.rank===3&&(h=!0,f=lt(e,[1,e.shape[0],e.shape[1],e.shape[2]]),_=[1,r[0],r[1],r[2]]),re(_.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${_.length}.`),re(f.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${f.rank}`),re(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const d=l==="NHWC"?_[3]:_[1],m=l==="NHWC"?f.shape[3]:f.shape[1];re(d===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${d}) must match input depth for filter ${n.shape[2]}.`),re(m===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${m}) must match output depth for filter ${n.shape[3]}.`),q_("conv2dDerInput",a,u);const g={dy:f,filter:n},y={strides:o,pad:a,dataFormat:l,dimRoundingMode:u,inputShape:_},w=ke.runKernel(ZW,g,y);return h?lt(w,[w.shape[1],w.shape[2],w.shape[3]]):w}const Pce=ye({conv2DBackpropInput_:R4e});function P4e(r,e,n,o,a,l){const u=Z(r,"x","conv2dTranspose"),_=Z(e,"filter","conv2dTranspose");return Pce(n,u,_,o,a,"NHWC",l)}const Bce=ye({conv2dTranspose_:P4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B4e(r,e,n,o,a="NDHWC",l=[1,1,1]){const u=Z(r,"x","conv3d"),_=Z(e,"filter","conv3d");let f=u,h=!1;u.rank===4&&(h=!0,f=lt(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),re(f.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${f.rank}.`),re(_.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${_.rank}.`),re(f.shape[4]===_.shape[3],()=>`Error in conv3d: depth of input (${f.shape[4]}) must match input depth for filter ${_.shape[3]}.`),re(pc(n,l),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${l}'`),re(a==="NDHWC",()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`);const d={x:f,filter:_},m={strides:n,pad:o,dataFormat:a,dilations:l},g=ke.runKernel(eH,d,m);return h?lt(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const Fce=ye({conv3d_:B4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F4e(r,e,n,o,a){re(r.length===e.rank,()=>`Length of inShape (${r.length}) and rank of dy (${e.rank}) must match`);let l=r,u=e,_=!1;e.rank===4&&(_=!0,u=lt(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),l=[1,r[0],r[1],r[2],r[3]]);const f=l[4],h=u.shape[4];re(l.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${l.length}.`),re(u.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${u.rank}`),re(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),re(f===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${f}) must match input depth for filter ${n.shape[3]}.`),re(h===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${h}) must match output depth for filter ${n.shape[4]}.`);const d={dy:u,filter:n},m={pad:a,strides:o,inputShape:l},g=ke.runKernel(tH,d,m);return _?lt(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const L4e=ye({conv3DBackpropInput_:F4e});function D4e(r,e,n,o,a){const l=Z(r,"x","conv3dTranspose"),u=Z(e,"filter","conv3dTranspose");return L4e(n,l,u,o,a)}const O4e=ye({conv3dTranspose_:D4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z4e(r){const n={x:Z(r,"x","cos","float32")};return ke.runKernel(nH,n)}const Lce=ye({cos_:z4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U4e(r){const n={x:Z(r,"x","cosh","float32")};return ke.runKernel(rH,n)}const Dce=ye({cosh_:U4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j4e(r,e=0,n=!1,o=!1){const l={x:Z(r,"x","cumsum")},u={axis:e,exclusive:n,reverse:o};return ke.runKernel(iH,l,u)}const Oce=ye({cumsum_:j4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G4e(r,e,n,o=!1){const a=Z(r,"x","denseBincount"),l=Z(e,"weights","denseBincount");re(a.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`),re(a.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`),re(n>=0,()=>`size must be non-negative, but got ${n}.`),re(l.size===a.size||l.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${l.shape}.`);const u={x:a,weights:l},_={size:n,binaryOutput:o};return ke.runKernel(aH,u,_)}const zce=ye({denseBincount_:G4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W4e(r,e,n="NHWC"){const o=Z(r,"x","depthToSpace","float32"),a=n==="NHWC"?o.shape[1]:o.shape[2],l=n==="NHWC"?o.shape[2]:o.shape[3],u=n==="NHWC"?o.shape[3]:o.shape[1];re(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),re(a*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${a} and ${e}  for depthToSpace with input shape
    ${o.shape}`),re(l*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${l} and ${e} for depthToSpace with input shape
        ${o.shape}`),re(u%(e*e)==0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${u} for depthToSpace with input shape ${o.shape}`);const _={x:o},f={blockSize:e,dataFormat:n};return ke.runKernel(sH,_,f)}const Uce=ye({depthToSpace_:W4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H4e(r,e,n,o,a="NHWC",l=[1,1],u){const _=Z(r,"x","depthwiseConv2d","float32"),f=Z(e,"filter","depthwiseConv2d","float32");let h=_,d=!1;_.rank===3&&(d=!0,h=lt(_,[1,_.shape[0],_.shape[1],_.shape[2]])),re(h.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),re(f.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`),re(h.shape[3]===f.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${f.shape[2]}.`),q_("depthwiseConv2d",o,u);const m={x:h,filter:f},g={strides:n,pad:o,dataFormat:a,dilations:l,dimRoundingMode:u},y=ke.runKernel(lH,m,g);return d?lt(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const JL=ye({depthwiseConv2d_:H4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V4e(r){const n={x:Z(r,"x","diag")};return ke.runKernel(_H,n)}const q4e=ye({diag_:V4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K4e(r,e,n,o,a=[1,1],l="NHWC"){const u=Z(r,"x","dilation2d"),_=Z(e,"filter","dilation2d");re(u.rank===3||u.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${u.rank}.`),re(_.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${_.rank}.`),re(l==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${l}`);let f=u,h=!1;u.rank===3&&(f=lt(u,[1,u.shape[0],u.shape[1],u.shape[2]]),h=!0);const d={x:f,filter:_},m={strides:n,pad:o,dilations:a},g=ke.runKernel(fH,d,m);return h?lt(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const jce=ye({dilation2d_:K4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J4e(r,e){let n=Z(r,"a","equal","string_or_numeric"),o=Z(e,"b","equal","string_or_numeric");[n,o]=qo(n,o),ui(n.shape,o.shape);const a={a:n,b:o};return ke.runKernel(vH,a)}const rq=ye({equal_:J4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X4e(r,e,n){const o=Z(e,"a","where"),a=Z(n,"b","where"),l=Z(r,"condition","where","bool"),u=ui(ui(l.shape,o.shape),a.shape),_=h2(l,u),f=h2(o,u),h=h2(a,u),d={condition:_,t:f,e:h};return ke.runKernel(AV,d)}const Uk=ye({where_:X4e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y4e(r){const n={x:Z(r,"x","zerosLike")};return ke.runKernel(a9,n)}const hc=ye({zerosLike_:Y4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q4e(r,e){let n=Z(r,"a","div"),o=Z(e,"b","div");[n,o]=qo(n,o);const a=ro(n,o),l=hc(a),u=rq(o,l);return Uk(u,l,a)}const Gce=ye({divNoNan_:Q4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z4e(r,e){const n=Z(r,"t1","dot"),o=Z(e,"t2","dot");re((n.rank===1||n.rank===2)&&(o.rank===1||o.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${o.rank}.`);const a=n.rank===1?n.size:n.shape[1],l=o.rank===1?o.size:o.shape[0];if(re(a===l,()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${l}.`),n.rank===1&&o.rank===1){const u=lt(n,[1,-1]),_=lt(o,[-1,1]),f=bi(u,_);return lt(f,[])}else if(n.rank===1&&o.rank===2){const u=lt(n,[1,-1]),_=lt(o,[o.shape[0],o.shape[1]]),f=bi(u,_);return lt(f,[f.size])}else if(n.rank===2&&o.rank===1){const u=lt(o,[-1,1]),_=bi(n,u);return lt(_,[_.size])}else{const u=lt(o,[o.shape[0],o.shape[1]]);return bi(n,u)}}const eUe=ye({dot_:Z4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tUe(r,...e){const n=e.map((a,l)=>Z(a,`tensors${l}`,"einsum")),o={equation:r};return ke.runKernel(hH,n,o)}const Wce=ye({einsum_:tUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nUe(r){const n={x:Z(r,"x","elu","float32")};return ke.runKernel(dH,n)}const iq=ye({elu_:nUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rUe(r){let e=Z(r,"x","erf");re(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=Vi(e,"float32"));const n={x:e};return ke.runKernel(mH,n)}const Hce=ye({erf_:rUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iUe(r){const n={x:Z(r,"x","exp")};return ke.runKernel(gH,n)}const Tg=ye({exp_:iUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oUe(r,e=0){const n=Z(r,"x","expandDims","string_or_numeric");re(e<=n.rank,()=>"Axis must be <= rank of the tensor");const o={input:n},a={dim:e};return ke.runKernel(yH,o,a)}const Ig=ye({expandDims_:oUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aUe(r){const n={x:Z(r,"x","expm1")};return ke.runKernel(kH,n)}const Vce=ye({expm1_:aUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sUe(r,e){const n=Z(r,"x","tile","string_or_numeric");re(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const o={x:n},a={reps:e};return ke.runKernel(ML,o,a)}const o1=ye({tile_:sUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lUe(r,e,n,o="float32"){e==null&&(e=r);const a=La([r,e],o),l=r<=e?r:e;for(let _=0;_<l;++_)a.set(1,_,_);const u=lt(a.toTensor(),[r,e]);if(n==null)return u;if(n.length===1)return o1(Ig(u,0),[n[0],1,1]);if(n.length===2)return o1(Ig(Ig(u,0),0),[n[0],n[1],1,1]);if(n.length===3)return o1(Ig(Ig(Ig(u,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const qce=ye({eye_:lUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m2(r,e,n){const o={shape:r,value:e,dtype:n};return ke.runKernel(bH,{},o)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uUe(r){const n={x:Z(r,"x","floor","float32")};return ke.runKernel(xH,n)}const oq=ye({floor_:uUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cUe(r,e,n=0,o=0){const a=Z(r,"x","gather"),l=Z(e,"indices","gather","int32"),u={x:a,indices:l},_={axis:n,batchDims:o};return ke.runKernel(CH,u,_)}const XL=ye({gather_:cUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ue(r,e){let n=Z(r,"a","greater","string_or_numeric"),o=Z(e,"b","greater","string_or_numeric");[n,o]=qo(n,o),ui(n.shape,o.shape);const a={a:n,b:o};return ke.runKernel(TH,a)}const v2=ye({greater_:_Ue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fUe(r,e){let n=Z(r,"a","greaterEqual","string_or_numeric"),o=Z(e,"b","greaterEqual","string_or_numeric");[n,o]=qo(n,o),ui(n.shape,o.shape);const a={a:n,b:o};return ke.runKernel(IH,a)}const aq=ye({greaterEqual_:fUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pUe(r){const n={input:Z(r,"input","imag")};return ke.runKernel(NH,n)}const YL=ye({imag_:pUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hUe(r){const n={x:Z(r,"x","isFinite")};return ke.runKernel(RH,n)}const dUe=ye({isFinite_:hUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mUe(r){const n={x:Z(r,"x","isInf")};return ke.runKernel(PH,n)}const vUe=ye({isInf_:mUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gUe(r){const n={x:Z(r,"x","isNaN")};return ke.runKernel(BH,n)}const Kce=ye({isNaN_:gUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yUe(r,e=.2){const o={x:Z(r,"x","leakyRelu")},a={alpha:e};return ke.runKernel(FH,o,a)}const sq=ye({leakyRelu_:yUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kUe(r,e){let n=Z(r,"a","less","string_or_numeric"),o=Z(e,"b","less","string_or_numeric");[n,o]=qo(n,o),ui(n.shape,o.shape);const a={a:n,b:o};return ke.runKernel(LH,a)}const Jce=ye({less_:kUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ue(r,e){let n=Z(r,"a","lessEqual","string_or_numeric"),o=Z(e,"b","lessEqual","string_or_numeric");[n,o]=qo(n,o),ui(n.shape,o.shape);const a={a:n,b:o};return ke.runKernel(DH,a)}const QL=ye({lessEqual_:$Ue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xce(r,e,n){if(n<=0)throw new Error("The number of values should be positive.");const o={start:r,stop:e,num:n};return ke.runKernel(OH,{},o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bUe(r,e=5,n=1,o=1,a=.5){const l=Z(r,"x","localResponseNormalization");re(l.rank===4||l.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${l.rank}.`),re(Sk(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let u=l,_=!1;l.rank===3&&(_=!0,u=lt(l,[1,l.shape[0],l.shape[1],l.shape[2]]));const f={x:u},h={depthRadius:e,bias:n,alpha:o,beta:a},d=ke.runKernel(HH,f,h);return _?lt(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Yce=ye({localResponseNormalization_:bUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wUe(r){const n={x:Z(r,"x","log","float32")};return ke.runKernel(zH,n)}const a1=ye({log_:wUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xUe(r){const n={x:Z(r,"x","log1p")};return ke.runKernel(UH,n)}const lq=ye({log1p_:xUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SUe(r){return re($g(r),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const o=Z(e,"x","tf.grad","string_or_numeric"),a=n!=null?Z(n,"dy","tf.grad"):null;return ke.tidy(()=>{const{value:l,grads:u}=ke.gradients(()=>r(o),[o],a);return a!=null&&il(l.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),ZL(u),u[0]})}}function EUe(r){return re($g(r),()=>"The f passed in grads(f) must be a function"),(e,n)=>{re(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const o=s2(e,"args","tf.grads","string_or_numeric"),a=n!=null?Z(n,"dy","tf.grads"):null;return ke.tidy(()=>{const{value:l,grads:u}=ke.gradients(()=>r(...o),o,a);return a!=null&&il(l.shape,a.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),ZL(u),u})}}function CUe(r){return re($g(r),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{re(e instanceof ya,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),re(n==null||n instanceof ya,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:o,value:a}=ke.gradients(()=>r(e),[e],n);return ZL(o),{grad:o[0],value:a}}}function AUe(r){return re($g(r),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{re(Array.isArray(e)&&e.every(a=>a instanceof ya),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),re(n==null||n instanceof ya,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const o=ke.gradients(()=>r(...e),e,n);return n!=null&&il(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),ZL(o.grads),o}}function Qce(r,e){re($g(r),()=>"The f passed in variableGrads(f) must be a function"),re(e==null||Array.isArray(e)&&e.every(h=>h instanceof a2),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const h in ke.registeredVariables)e.push(ke.registeredVariables[h])}const o=n?e.filter(h=>!h.trainable):null,a=e.length;e=e.filter(h=>h.trainable),re(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`);const l=!0,{value:u,grads:_}=ke.gradients(r,e,null,l);re(_.some(h=>h!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),re(u.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${u.rank} tensor`);const f={};return e.forEach((h,d)=>{_[d]!=null&&(f[h.name]=_[d])}),o!=null&&o.forEach(h=>f[h.name]=null),{value:u,grads:f}}function Ih(r){return ke.customGrad(r)}function ZL(r){if(r.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TUe(r){const n={x:Z(r,"x","neg")};return ke.runKernel(iV,n)}const gm=ye({neg_:TUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IUe(r){const n={x:Z(r,"x","softplus")};return ke.runKernel(BV,n)}const uq=ye({softplus_:IUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MUe(r){const e=Z(r,"x","logSigmoid");return Ih(o=>({value:gm(uq(gm(o))),gradFunc:u=>Qt(u,zk(gm(o)))}))(e)}const NUe=ye({logSigmoid_:MUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RUe(r,e=null,n=!1){const a={x:Z(r,"x","max")},l={reductionIndices:e,keepDims:n};return ke.runKernel(VH,a,l)}const jk=ye({max_:RUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PUe(r,e){let n=Z(r,"a","sub"),o=Z(e,"b","sub");[n,o]=qo(n,o);const a={a:n,b:o};return ke.runKernel(YV,a)}const Nr=ye({sub_:PUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BUe(r,e=null,n=!1){let o=Z(r,"x","sum");o.dtype==="bool"&&(o=Vi(o,"int32"));const a={x:o},l={axis:e,keepDims:n};return ke.runKernel(LV,a,l)}const io=ye({sum_:BUe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FUe(r,e=-1){const n=Z(r,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return Ih((a,l)=>{const u=!0,_=jk(a,e,!0),f=Nr(a,_),h=Nr(Vi(f,"float32"),a1(io(Tg(f),e,u)));return l([h]),{value:h,gradFunc:(m,g)=>{const[y]=g,w=!0,E=Tg(y);return Nr(m,Qt(io(m,e,w),E))}}})(n)}const Zce=ye({logSoftmax_:FUe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cq(r,e){for(let n=0;n<r.length;++n)if(r[r.length-n-1]!==e-1-n)return!1;return!0}function e_e(r,e,n){const o=r.length+e.length,a=[];let l=0,u=0;for(let _=0;_<o;_++)n.indexOf(_)===-1?a.push(r[l++]):a.push(e[u++]);return a}function Mh(r,e){const n=[],o=r.length;for(let l=0;l<o;l++)e.indexOf(l)===-1&&n.push(r[l]);const a=e.map(l=>r[l]);return[n,a]}function r_(r,e){const n=e.map(o=>1);return e_e(r,n,e)}function sp(r,e,n){re(cq(e,n),()=>`${r} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function K_(r,e){if(cq(r,e))return null;const n=[];for(let o=0;o<e;++o)r.indexOf(o)===-1&&n.push(o);return r.forEach(o=>n.push(o)),n}function _q(r){return r.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function J_(r,e){const n=[];for(let o=e-r;o<e;++o)n.push(o);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LUe(r,e=null,n=!1){const o=Z(r,"x","logSumExp"),a=Va(e,o.shape),l=jk(o,a,!0),u=Nr(o,l),_=Tg(u),f=io(_,a),h=a1(f),d=lr(lt(l,h.shape),h);if(n){const m=r_(d.shape,a);return lt(d,m)}return d}const t_e=ye({logSumExp_:LUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DUe(r,e){const n=Z(r,"a","logicalAnd","bool"),o=Z(e,"b","logicalAnd","bool");ui(n.shape,o.shape);const a={a:n,b:o};return ke.runKernel(jH,a)}const g2=ye({logicalAnd_:DUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OUe(r){const n={x:Z(r,"x","logicalNot","bool")};return ke.runKernel(GH,n)}const fq=ye({logicalNot_:OUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zUe(r,e){const n=Z(r,"a","logicalOr","bool"),o=Z(e,"b","logicalOr","bool");ui(n.shape,o.shape);const a={a:n,b:o};return ke.runKernel(WH,a)}const pq=ye({logicalOr_:zUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UUe(r,e){const n=Z(r,"a","logicalXor","bool"),o=Z(e,"b","logicalXor","bool");return ui(n.shape,o.shape),g2(pq(r,e),fq(g2(r,e)))}const jUe=ye({logicalXor_:UUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GUe(r,e,n,o,a){const l=Z(r,"x","maxPool"),u=1;let _=l,f=!1;l.rank===3&&(f=!0,_=lt(l,[1,l.shape[0],l.shape[1],l.shape[2]])),re(_.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${_.rank}.`),re(pc(n,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${u}'`),q_("maxPool",o,a);const h={x:_},d={filterSize:e,strides:n,pad:o,dimRoundingMode:a},m=ke.runKernel(KH,h,d);return f?lt(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const hq=ye({maxPool_:GUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WUe(r,e=[1,1,1],n,o,a,l="NDHWC"){const u=Z(r,"x","maxPool3d");let _=u,f=!1;u.rank===4&&(f=!0,_=lt(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),re(_.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${_.rank}.`),re(l==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${l}`),q_("maxPool3d",o,a);const h={x:_},d={filterSize:e,strides:n,pad:o,dimRoundingMode:a,dataFormat:l},m=ke.runKernel(JH,h,d);return f?lt(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}const n_e=ye({maxPool3d_:WUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HUe(r,e,n,o,a=!1){const u={x:Z(r,"x","maxPoolWithArgmax")},_={filterSize:e,strides:n,pad:o,includeBatchInIndex:a},f=ke.runKernel(XH,u,_);return{result:f[0],indexes:f[1]}}const r_e=ye({maxPoolWithArgmax_:HUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VUe(r,e){let n=Z(r,"a","maximum"),o=Z(e,"b","maximum");[n,o]=qo(n,o),n.dtype==="bool"&&(n=Vi(n,"int32"),o=Vi(o,"int32")),ui(n.shape,o.shape);const a={a:n,b:o};return ke.runKernel(qH,a)}const dq=ye({maximum_:VUe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qUe(r,e=null,n=!1){const a={x:Z(r,"x","mean")},l={axis:e,keepDims:n};return ke.runKernel(YH,a,l)}const y2=ye({mean_:qUe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mg(r,e="float32"){if(e==="complex64"){const o=Mg(r,"float32"),a=Mg(r,"float32");return wg(o,a)}const n=dm(zt(r),e);return ke.makeTensor(n,r,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ng(r,e="float32"){if(e==="complex64"){const o=Ng(r,"float32"),a=Mg(r,"float32");return wg(o,a)}const n=$W(zt(r),e);return ke.makeTensor(n,r,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KUe(r,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(r===void 0)return[];let o=Z(r,"x","meshgrid",r instanceof ya?r.dtype:"float32");if(e===void 0)return[o];let a=Z(e,"y","meshgrid",e instanceof ya?e.dtype:"float32");const l=zt(o.shape),u=zt(a.shape);return n==="xy"?(o=lt(o,[1,-1]),a=lt(a,[-1,1]),[bi(Ng([u,1],o.dtype),o),bi(a,Ng([1,l],a.dtype))]):(o=lt(o,[-1,1]),a=lt(a,[1,-1]),[bi(o,Ng([1,u],o.dtype)),bi(Ng([l,1],a.dtype),a)])}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JUe(r,e=null,n=!1){const a={x:Z(r,"x","min")},l={axis:e,keepDims:n};return ke.runKernel(QH,a,l)}const eD=ye({min_:JUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XUe(r,e){let n=Z(r,"a","minimum"),o=Z(e,"b","minimum");[n,o]=qo(n,o),n.dtype==="bool"&&(n=Vi(n,"int32"),o=Vi(o,"int32")),ui(n.shape,o.shape);const a={a:n,b:o};return ke.runKernel(ZH,a)}const mq=ye({minimum_:XUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YUe(r,e,n){re(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const o=Z(r,"x","mirrorPad");if(o.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");re(e.length===o.rank,()=>`Padding doesn't match input. Must be ${o.rank}. Got ${e.length}.`);const a=n==="reflect"?1:0;for(let _=0;_<o.rank;_++)re(e[_].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),re(e[_][0]>=0&&e[_][0]<=o.shape[_]-a&&e[_][1]>=0&&e[_][1]<=o.shape[_]-a,()=>`Padding in dimension ${_} cannot be greater than or equal to ${o.shape[_]-a} or less than 0 for input of shape ${o.shape}`);const l={paddings:e,mode:n},u={x:o};return ke.runKernel(eV,u,l)}const i_e=ye({mirrorPad_:YUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QUe(r,e){let n=Z(r,"a","mod"),o=Z(e,"b","mod");[n,o]=qo(n,o);const a={a:n,b:o};return ke.runKernel(tV,a)}const o_e=ye({mod_:QUe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZUe(r){const e=Z(r,"x","square"),n={};return ke.runKernel("Square",{x:e},n)}const X_=ye({square_:ZUe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eje(r,e=null,n=!1){r=Z(r,"x","moments");const o=Va(e,r.shape),a=y2(r,o,n);let l=a.shape;n||(l=r_(a.shape,o));const u=X_(Nr(Vi(r,"float32"),lt(a,l))),_=y2(u,o,n);return{mean:a,variance:_}}const tje=ye({moments_:eje});function nje(r,e,n,o){const a=Z(e,"data","multiRNNCell"),l=s2(n,"c","multiRNNCell"),u=s2(o,"h","multiRNNCell");let _=a;const f=[];for(let m=0;m<r.length;m++){const g=r[m](_,l[m],u[m]);f.push(g[0]),f.push(g[1]),_=g[1]}const h=[],d=[];for(let m=0;m<f.length;m+=2)h.push(f[m]),d.push(f[m+1]);return[h,d]}const rje=ye({multiRNNCell_:nje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ije(r,e,n,o=!1){const a=Z(r,"logits","multinomial"),l=a.size,u=a.rank;if(l<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${l}.`);if(u>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${u}`);n=n||Math.random();const f={logits:u===1?lt(a,[1,-1]):a},h={numSamples:e,seed:n,normalized:o},d=ke.runKernel(nV,f,h);return u===1?lt(d,[d.size]):d}const a_e=ye({multinomial_:ije});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oje(r,e){let n=Z(r,"a","notEqual","string_or_numeric"),o=Z(e,"b","notEqual","string_or_numeric");[n,o]=qo(n,o),ui(n.shape,o.shape);const a={a:n,b:o};return ke.runKernel(oV,a)}const vq=ye({notEqual_:oje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aje(r){const n={x:Z(r,"x","onesLike")};return ke.runKernel(uV,n)}const s_e=ye({onesLike_:aje});function sje(r,e){const n=Z(r,"v1","outerProduct"),o=Z(e,"v2","outerProduct");re(n.rank===1&&o.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${o.rank}.`);const a=lt(n,[-1,1]),l=lt(o,[1,-1]);return bi(a,l)}const lje=ye({outerProduct_:sje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uje(r,e,n=0){const o=Z(r,"x","pad");if(o.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:e,constantValue:n},l={x:o};return ke.runKernel(fV,l,a)}const s1=ye({pad_:uje});function cje(r,e,n=0){return re(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),s1(r,[e],n)}const _je=ye({pad1d_:cje});function fje(r,e,n=0){return re(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),s1(r,e,n)}const pje=ye({pad2d_:fje});function hje(r,e,n=0){return re(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),s1(r,e,n)}const dje=ye({pad3d_:hje});function mje(r,e,n=0){return re(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),s1(r,e,n)}const vje=ye({pad4d_:mje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gje(r,e,n){const o=Z(r,"x","spaceToBatchND");re(o.rank>=1+e.length,()=>`input rank ${o.rank} should be > than [blockShape] ${e.length}`),re(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),re(o.shape.reduce((u,_,f)=>f>0&&f<=e.length?u&&(_+n[f-1][0]+n[f-1][1])%e[f-1]==0:u,!0),()=>`input spatial dimensions ${o.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const a={x:o},l={blockShape:e,paddings:n};return ke.runKernel(DV,a,l)}const gq=ye({spaceToBatchND_:gje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yje(r,e,n,o,a,l,u){a==null&&(a=[1,1]),l==null&&(l=1),o===0&&(o="valid");const _=Z(r,"x","maxPool");let f=_,h=!1;_.rank===3&&(h=!0,f=lt(_,[1,_.shape[0],_.shape[1],_.shape[2]])),re(pc(l,a),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${l} and dilations '${a}'`);const d=Dk(f.shape,e,l,a,o),m=[d.dilationHeight,d.dilationWidth];let g;o==="same"?g=$je([d.filterHeight,d.filterWidth],m):g=[[0,0],[0,0]];const y=m[0]===1&&m[1]===1,[w,E]=kje([d.inHeight,d.inWidth],m,g),A=y?o:"valid",S=y?f:gq(f,m,w),R=(n==="avg"?()=>eq(S,e,l,A,u):()=>hq(S,e,l,A,u))(),P=y?R:tq(R,m,E);return h?lt(P,[P.shape[1],P.shape[2],P.shape[3]]):P}function kje(r,e,n){const o=n.map(d=>d[0]),a=n.map(d=>d[1]),l=r.concat(o,a),u=e.map((d,m)=>(d-l[m]%d)%d),_=a.map((d,m)=>d+u[m]),f=e.map((d,m)=>[o[m],_[m]]),h=e.map((d,m)=>[0,u[m]]);return[f,h]}function $je(r,e){const o=r.map((u,_)=>u+(u-1)*(e[_]-1)).map(u=>u-1),a=o.map(u=>Math.floor(u/2)),l=o.map((u,_)=>u-a[_]);return o.map((u,_)=>[a[_],l[_]])}const bje=ye({pool_:yje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wje(r,e){let n=Z(r,"base","pow"),o=Z(e,"exp","pow");[n,o]=qo(n,o);const a={a:n,b:o};return ke.runKernel(pV,a)}const l1=ye({pow_:wje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xje(r,e){const n=Z(r,"x","prelu"),o=Z(e,"alpha","prelu"),a={x:n,alpha:o};return ke.runKernel(hV,a)}const yq=ye({prelu_:xje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sje(r,e=null,n=!1){let o=Z(r,"x","prod");o.dtype==="bool"&&(o=Vi(o,"int32"));const a={x:o},l={axis:e,keepDims:n};return ke.runKernel(dV,a,l)}const kq=ye({prod_:Sje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eje(r,e,n){const o=zt(r);let a=null;if(n==null||n==="float32")a=new Float32Array(o);else if(n==="int32")a=new Int32Array(o);else if(n==="bool")a=new Uint8Array(o);else throw new Error(`Unknown data type ${n}`);for(let l=0;l<o;l++)a[l]=e();return ke.makeTensor(a,r,n)}const Cje=ye({rand_:Eje});var l_e={exports:{}};(function(r){(function(e,n,o){function a(f){var h=this,d=_();h.next=function(){var m=2091639*h.s0+h.c*23283064365386963e-26;return h.s0=h.s1,h.s1=h.s2,h.s2=m-(h.c=m|0)},h.c=1,h.s0=d(" "),h.s1=d(" "),h.s2=d(" "),h.s0-=d(f),h.s0<0&&(h.s0+=1),h.s1-=d(f),h.s1<0&&(h.s1+=1),h.s2-=d(f),h.s2<0&&(h.s2+=1),d=null}function l(f,h){return h.c=f.c,h.s0=f.s0,h.s1=f.s1,h.s2=f.s2,h}function u(f,h){var d=new a(f),m=h&&h.state,g=d.next;return g.int32=function(){return d.next()*4294967296|0},g.double=function(){return g()+(g()*2097152|0)*11102230246251565e-32},g.quick=g,m&&(typeof m=="object"&&l(m,d),g.state=function(){return l(d,{})}),g}function _(){var f=4022871197,h=function(d){d=d.toString();for(var m=0;m<d.length;m++){f+=d.charCodeAt(m);var g=.02519603282416938*f;f=g>>>0,g-=f,g*=f,f=g>>>0,g-=f,f+=g*4294967296}return(f>>>0)*23283064365386963e-26};return h}n&&n.exports?n.exports=u:o&&o.amd?o(function(){return u}):this.alea=u})(C0,r,!1)})(l_e);var u_e={exports:{}};(function(r){(function(e,n,o){function a(_){var f=this,h="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var m=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^m^m>>>8},_===(_|0)?f.x=_:h+=_;for(var d=0;d<h.length+64;d++)f.x^=h.charCodeAt(d)|0,f.next()}function l(_,f){return f.x=_.x,f.y=_.y,f.z=_.z,f.w=_.w,f}function u(_,f){var h=new a(_),d=f&&f.state,m=function(){return(h.next()>>>0)/4294967296};return m.double=function(){do var g=h.next()>>>11,y=(h.next()>>>0)/4294967296,w=(g+y)/(1<<21);while(w===0);return w},m.int32=h.next,m.quick=m,d&&(typeof d=="object"&&l(d,h),m.state=function(){return l(h,{})}),m}n&&n.exports?n.exports=u:o&&o.amd?o(function(){return u}):this.xor128=u})(C0,r,!1)})(u_e);var c_e={exports:{}};(function(r){(function(e,n,o){function a(_){var f=this,h="";f.next=function(){var m=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(m^m<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,_===(_|0)?f.x=_:h+=_;for(var d=0;d<h.length+64;d++)f.x^=h.charCodeAt(d)|0,d==h.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function l(_,f){return f.x=_.x,f.y=_.y,f.z=_.z,f.w=_.w,f.v=_.v,f.d=_.d,f}function u(_,f){var h=new a(_),d=f&&f.state,m=function(){return(h.next()>>>0)/4294967296};return m.double=function(){do var g=h.next()>>>11,y=(h.next()>>>0)/4294967296,w=(g+y)/(1<<21);while(w===0);return w},m.int32=h.next,m.quick=m,d&&(typeof d=="object"&&l(d,h),m.state=function(){return l(h,{})}),m}n&&n.exports?n.exports=u:o&&o.amd?o(function(){return u}):this.xorwow=u})(C0,r,!1)})(c_e);var __e={exports:{}};(function(r){(function(e,n,o){function a(_){var f=this;f.next=function(){var d=f.x,m=f.i,g,y;return g=d[m],g^=g>>>7,y=g^g<<24,g=d[m+1&7],y^=g^g>>>10,g=d[m+3&7],y^=g^g>>>3,g=d[m+4&7],y^=g^g<<7,g=d[m+7&7],g=g^g<<13,y^=g^g<<9,d[m]=y,f.i=m+1&7,y};function h(d,m){var g,y=[];if(m===(m|0))y[0]=m;else for(m=""+m,g=0;g<m.length;++g)y[g&7]=y[g&7]<<15^m.charCodeAt(g)+y[g+1&7]<<13;for(;y.length<8;)y.push(0);for(g=0;g<8&&y[g]===0;++g);for(g==8&&(y[7]=-1),d.x=y,d.i=0,g=256;g>0;--g)d.next()}h(f,_)}function l(_,f){return f.x=_.x.slice(),f.i=_.i,f}function u(_,f){_==null&&(_=+new Date);var h=new a(_),d=f&&f.state,m=function(){return(h.next()>>>0)/4294967296};return m.double=function(){do var g=h.next()>>>11,y=(h.next()>>>0)/4294967296,w=(g+y)/(1<<21);while(w===0);return w},m.int32=h.next,m.quick=m,d&&(d.x&&l(d,h),m.state=function(){return l(h,{})}),m}n&&n.exports?n.exports=u:o&&o.amd?o(function(){return u}):this.xorshift7=u})(C0,r,!1)})(__e);var f_e={exports:{}};(function(r){(function(e,n,o){function a(_){var f=this;f.next=function(){var d=f.w,m=f.X,g=f.i,y,w;return f.w=d=d+1640531527|0,w=m[g+34&127],y=m[g=g+1&127],w^=w<<13,y^=y<<17,w^=w>>>15,y^=y>>>12,w=m[g]=w^y,f.i=g,w+(d^d>>>16)|0};function h(d,m){var g,y,w,E,A,S=[],C=128;for(m===(m|0)?(y=m,m=null):(m=m+"\0",y=0,C=Math.max(C,m.length)),w=0,E=-32;E<C;++E)m&&(y^=m.charCodeAt((E+32)%m.length)),E===0&&(A=y),y^=y<<10,y^=y>>>15,y^=y<<4,y^=y>>>13,E>=0&&(A=A+1640531527|0,g=S[E&127]^=y+A,w=g==0?w+1:0);for(w>=128&&(S[(m&&m.length||0)&127]=-1),w=127,E=4*128;E>0;--E)y=S[w+34&127],g=S[w=w+1&127],y^=y<<13,g^=g<<17,y^=y>>>15,g^=g>>>12,S[w]=y^g;d.w=A,d.X=S,d.i=w}h(f,_)}function l(_,f){return f.i=_.i,f.w=_.w,f.X=_.X.slice(),f}function u(_,f){_==null&&(_=+new Date);var h=new a(_),d=f&&f.state,m=function(){return(h.next()>>>0)/4294967296};return m.double=function(){do var g=h.next()>>>11,y=(h.next()>>>0)/4294967296,w=(g+y)/(1<<21);while(w===0);return w},m.int32=h.next,m.quick=m,d&&(d.X&&l(d,h),m.state=function(){return l(h,{})}),m}n&&n.exports?n.exports=u:o&&o.amd?o(function(){return u}):this.xor4096=u})(C0,r,!1)})(f_e);var p_e={exports:{}};(function(r){(function(e,n,o){function a(_){var f=this,h="";f.next=function(){var m=f.b,g=f.c,y=f.d,w=f.a;return m=m<<25^m>>>7^g,g=g-y|0,y=y<<24^y>>>8^w,w=w-m|0,f.b=m=m<<20^m>>>12^g,f.c=g=g-y|0,f.d=y<<16^g>>>16^w,f.a=w-m|0},f.a=0,f.b=0,f.c=2654435769|0,f.d=1367130551,_===Math.floor(_)?(f.a=_/4294967296|0,f.b=_|0):h+=_;for(var d=0;d<h.length+20;d++)f.b^=h.charCodeAt(d)|0,f.next()}function l(_,f){return f.a=_.a,f.b=_.b,f.c=_.c,f.d=_.d,f}function u(_,f){var h=new a(_),d=f&&f.state,m=function(){return(h.next()>>>0)/4294967296};return m.double=function(){do var g=h.next()>>>11,y=(h.next()>>>0)/4294967296,w=(g+y)/(1<<21);while(w===0);return w},m.int32=h.next,m.quick=m,d&&(typeof d=="object"&&l(d,h),m.state=function(){return l(h,{})}),m}n&&n.exports?n.exports=u:o&&o.amd?o(function(){return u}):this.tychei=u})(C0,r,!1)})(p_e);var h_e={exports:{}};(function(r){(function(e,n){var o=this,a=256,l=6,u=52,_="random",f=n.pow(a,l),h=n.pow(2,u),d=h*2,m=a-1,g;function y(P,D,G){var z=[];D=D==!0?{entropy:!0}:D||{};var V=S(A(D.entropy?[P,R(e)]:P==null?C():P,3),z),X=new w(z),ne=function(){for(var Y=X.g(l),ue=f,_e=0;Y<h;)Y=(Y+_e)*a,ue*=a,_e=X.g(1);for(;Y>=d;)Y/=2,ue/=2,_e>>>=1;return(Y+_e)/ue};return ne.int32=function(){return X.g(4)|0},ne.quick=function(){return X.g(4)/4294967296},ne.double=ne,S(R(X.S),e),(D.pass||G||function(Y,ue,_e,ge){return ge&&(ge.S&&E(ge,X),Y.state=function(){return E(X,{})}),_e?(n[_]=Y,ue):Y})(ne,V,"global"in D?D.global:this==n,D.state)}n["seed"+_]=y;function w(P){var D,G=P.length,z=this,V=0,X=z.i=z.j=0,ne=z.S=[];for(G||(P=[G++]);V<a;)ne[V]=V++;for(V=0;V<a;V++)ne[V]=ne[X=m&X+P[V%G]+(D=ne[V])],ne[X]=D;(z.g=function(Y){for(var ue,_e=0,ge=z.i,$e=z.j,xe=z.S;Y--;)ue=xe[ge=m&ge+1],_e=_e*a+xe[m&(xe[ge]=xe[$e=m&$e+ue])+(xe[$e]=ue)];return z.i=ge,z.j=$e,_e})(a)}function E(P,D){return D.i=P.i,D.j=P.j,D.S=P.S.slice(),D}function A(P,D){var G=[],z=typeof P,V;if(D&&z=="object")for(V in P)try{G.push(A(P[V],D-1))}catch{}return G.length?G:z=="string"?P:P+"\0"}function S(P,D){for(var G=P+"",z,V=0;V<G.length;)D[m&V]=m&(z^=D[m&V]*19)+G.charCodeAt(V++);return R(D)}function C(){try{var P;return g&&(P=g.randomBytes)?P=P(a):(P=new Uint8Array(a),(o.crypto||o.msCrypto).getRandomValues(P)),R(P)}catch{var D=o.navigator,G=D&&D.plugins;return[+new Date,o,G,o.screen,R(e)]}}function R(P){return String.fromCharCode.apply(0,P)}if(S(n.random(),e),r.exports){r.exports=y;try{g=require("crypto")}catch{}}})([],Math)})(h_e);var Aje=l_e.exports,Tje=u_e.exports,Ije=c_e.exports,Mje=__e.exports,Nje=f_e.exports,Rje=p_e.exports,Gk=h_e.exports;Gk.alea=Aje;Gk.xor128=Tje;Gk.xorwow=Ije;Gk.xorshift7=Mje;Gk.xor4096=Nje;Gk.tychei=Rje;var $q=Gk;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bq{constructor(e,n,o,a,l){this.mean=e,this.stdDev=n,this.dtype=o,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const u=l||Math.random();this.random=$q.alea(u.toString())}nextValue(){if(!isNaN(this.nextVal)){const a=this.nextVal;return this.nextVal=NaN,a}let e,n,o=!1;for(;!o;){let a,l,u;do a=2*this.random()-1,l=2*this.random()-1,u=a*a+l*l;while(u>=1||u===0);const _=Math.sqrt(-2*Math.log(u)/u);e=this.mean+this.stdDev*a*_,n=this.mean+this.stdDev*l*_,(!this.truncated||this.isValidTruncated(e))&&(o=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Pje{constructor(e,n,o,a){this.alpha=e,this.beta=1/n,this.dtype=o;const l=a||Math.random();this.randu=$q.alea(l.toString()),this.randn=new bq(0,1,o,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,o,a,l,u;for(;;){do a=this.randn.nextValue(),u=1+this.c*a;while(u<=0);if(u*=u*u,e=a*a,n=1-.331*e*e,o=.5*e+this.d*(1-u+Math.log(u)),l=this.randu(),l<n||Math.log(l)<o)break}return u=1/this.beta*this.d*u,this.alpha<1&&(u*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(u)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class Bje{constructor(e=0,n=1,o,a){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=o,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=$q.alea(a)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fje(r,e,n=1,o="float32",a){if(n==null&&(n=1),o==null&&(o="float32"),o!=="float32"&&o!=="int32")throw new Error(`Unsupported data type ${o}`);const l=new Pje(e,n,o,a),u=La(r,o);for(let _=0;_<u.values.length;_++)u.values[_]=l.nextValue();return u.toTensor()}const Lje=ye({randomGamma_:Fje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dje(r,e=0,n=1,o,a){if(o!=null&&o==="bool")throw new Error(`Unsupported data type ${o}`);const l=new bq(e,n,o,!1,a),u=La(r,o);for(let _=0;_<u.values.length;_++)u.values[_]=l.nextValue();return u.toTensor()}const Oje=ye({randomNormal_:Dje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zje(r,e=0,n=1,o="float32",a){const l=La(r,o),u=new Bje(e,n,null,a);for(let _=0;_<l.values.length;_++)l.values[_]=u.nextValue();return l.toTensor()}const wq=ye({randomUniform_:zje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u1(r,e,n=1,o="float32"){if(n===0)throw new Error("Cannot have a step of zero");const a={start:r,stop:e,step:n,dtype:o};return ke.runKernel(mV,{},a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uje(r){const n={input:Z(r,"input","real")};return ke.runKernel(vV,n)}const k2=ye({real_:Uje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jje(r){const n={x:Z(r,"x","reciprocal")};return ke.runKernel(gV,n)}const d_e=ye({reciprocal_:jje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gje(r){const n={x:Z(r,"x","relu")};return ke.runKernel(yV,n)}const $2=ye({relu_:Gje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wje(r){const n={x:Z(r,"x","relu6")};return ke.runKernel(wV,n)}const xq=ye({relu6_:Wje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hje(r,e){const o={x:Z(r,"x","reverse")},a={dims:e};return ke.runKernel(xV,o,a)}const ym=ye({reverse_:Hje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vje(r){const e=Z(r,"x","reverse");return re(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),ym(e,0)}const qje=ye({reverse1d_:Vje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kje(r,e){const n=Z(r,"x","reverse");return re(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),ym(n,e)}const Jje=ye({reverse2d_:Kje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xje(r,e){const n=Z(r,"x","reverse");return re(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),ym(n,e)}const Yje=ye({reverse3d_:Xje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qje(r,e){const n=Z(r,"x","reverse");return re(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),ym(n,e)}const Zje=ye({reverse4d_:Qje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e5e(r){const n={x:Z(r,"x","round")};return ke.runKernel(SV,n)}const Sq=ye({round_:e5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t5e(r){const n={x:Z(r,"x","rsqrt","float32")};return ke.runKernel(EV,n)}const m_e=ye({rsqrt_:t5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rr(r,e){if((ol(r)&&e!=="string"||Array.isArray(r))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&ol(r)&&!(r instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return xg(r,[],[],e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n5e(r){const n={x:Z(r,"x","selu")};return ke.runKernel(TV,n)}const v_e=ye({selu_:n5e});function r5e(r,e,n,o,a,l=[1,1],u="NHWC"){const _=Z(r,"x","separableConv2d"),f=Z(e,"depthwiseFilter","separableConv2d"),h=Z(n,"pointwiseFilter","separableConv2d");let d=_,m=!1;if(_.rank===3&&(m=!0,d=lt(_,[1,_.shape[0],_.shape[1],_.shape[2]])),u==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");re(d.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${d.rank}.`),re(f.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${f.rank}.`),re(h.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${f.rank}.`),re(h.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${h.shape[0]}.`),re(h.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${h.shape[1]}.`);const g=f.shape[2],y=f.shape[3];re(h.shape[2]===g*y,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${g*y}, but got ${h.shape[2]}.`);const w=JL(d,f,o,a,u,l),A=d2(w,h,1,"valid",u);return m?lt(A,[A.shape[1],A.shape[2],A.shape[3]]):A}const i5e=ye({separableConv2d_:r5e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function o5e(r,e){const n=Z(r,"x","setdiff1d"),o=Z(e,"y","setdiff1d");re(n.dtype===o.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${o.dtype}).`),re(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),re(o.rank===1,()=>`y should be 1D tensor, but got y (${o.shape}).`);const a=await n.data(),l=await o.data(),u=new Set(l);let _=0;for(let d=0;d<a.length;d++)u.has(a[d])||_++;const f=new Xx([_],n.dtype),h=new Xx([_],"int32");for(let d=0,m=0;d<a.length;d++)u.has(a[d])||(f.values[m]=a[d],h.values[m]=d,m++);return[f.toTensor(),h.toTensor()]}const g_e=o5e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a5e(r){const n={x:Z(r,"x","sign")};return ke.runKernel(RV,n)}const y_e=ye({sign_:a5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s5e(r){const n={x:Z(r,"x","sin","float32")};return ke.runKernel(MV,n)}const k_e=ye({sin_:s5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l5e(r){const n={x:Z(r,"x","sinh")};return ke.runKernel(NV,n)}const $_e=ye({sinh_:l5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u5e(r,e,n){const o=Z(r,"x","slice1d");return re(o.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${o.rank} tensor`),qi(o,[e],[n])}const c5e=ye({slice1d_:u5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _5e(r,e,n){const o=Z(r,"x","slice2d");return re(o.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${o.rank} tensor`),qi(o,e,n)}const f5e=ye({slice2d_:_5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p5e(r,e,n){const o=Z(r,"x","slice3d");return re(o.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${o.rank} tensor`),qi(o,e,n)}const h5e=ye({slice3d_:p5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d5e(r,e,n){const o=Z(r,"x","slice4d");return re(o.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${o.rank} tensor`),qi(o,e,n)}const m5e=ye({slice4d_:d5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v5e(r,e=-1){const n=Z(r,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const o={logits:n},a={dim:e};return ke.runKernel(zV,o,a)}const b_e=ye({softmax_:v5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g5e(r){re(r.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${r.dtype}.`);const e={input:r};return ke.runKernel($H,e)}const tD=ye({fft_:g5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y5e(r){re(r.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${r.dtype}.`);const e={input:r};return ke.runKernel(MH,e)}const b2=ye({ifft_:y5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k5e(r){const e=r.shape[r.shape.length-1],n=r.size/e;let o;if(e<=2){const a=lt(r,[n,e]);o=b2(a)}else{const a=[n,2*(e-1)],l=lt(k2(r),[n,e]),u=lt(YL(r),[n,e]),_=ym(qi(l,[0,1],[n,e-2]),1),f=Qt(ym(qi(u,[0,1],[n,e-2]),1),Rr(-1)),h=al([l,_],1),d=al([u,f],1),m=lt(wg(h,d),[a[0],a[1]]);o=b2(m)}if(o=k2(o),r.rank===3&&r.shape[0]!==0){const a=o,l=r.shape[0];o=lt(o,[l,o.shape[0]/l,o.shape[1]]),a.dispose()}return o}const Eq=ye({irfft_:k5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $5e(r,e,n=0){const a={x:Z(r,"x","split")},l={numOrSizeSplits:e,axis:n};return ke.runKernel(OV,a,l)}const c1=ye({split_:$5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b5e(r,e){re(r.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${r.dtype}`);let n=r.shape[r.shape.length-1];const o=r.size/n;let a;if(e!=null&&e<n){const w=r.shape.map(A=>0),E=r.shape.map(A=>A);E[r.shape.length-1]=e,a=qi(r,w,E),n=e}else if(e!=null&&e>n){const w=r.shape.map(E=>E);w[r.shape.length-1]=e-n,a=al([r,Mg(w)],r.shape.length-1),n=e}else a=r;const l=hc(a),u=lt(wg(a,l),[o,n]),_=tD(u),f=Math.floor(n/2)+1,h=k2(_),d=YL(_),m=c1(h,[f,n-f],h.shape.length-1),g=c1(d,[f,n-f],d.shape.length-1),y=a.shape.slice();return y[a.shape.length-1]=f,lt(wg(m[0],g[0]),y)}const nD=ye({rfft_:b5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w5e(r){const n={x:Z(r,"x","sqrt","float32")};return ke.runKernel(FV,n)}const Nh=ye({sqrt_:w5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x5e(r,e){let n=Z(r,"a","squaredDifference"),o=Z(e,"b","squaredDifference");[n,o]=qo(n,o),ui(n.shape,o.shape);const a={a:n,b:o},l={};return ke.runKernel(VV,a,l)}const Cq=ye({squaredDifference_:x5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S5e(r,e){const n=Z(r,"x","squeeze");return lt(n,pm(n.shape,e).newShape)}const _1=ye({squeeze_:S5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E5e(r,e=0){const n=s2(r,"tensors","stack","string_or_numeric");re(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&re(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const o=n,a={axis:e};return ke.runKernel(_V,o,a)}const Rh=ye({stack_:E5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C5e(r,e=0){const o={x:Z(r,"x","step")},a={alpha:e};return ke.runKernel(s9,o,a)}const w_e=ye({step_:C5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A5e(r,e,n,o,a=0,l=0,u=0,_=0,f=0){const d={x:Z(r,"x","stridedSlice","string_or_numeric")},m={begin:e,end:n,strides:o,beginMask:a,endMask:l,ellipsisMask:u,newAxisMask:_,shrinkAxisMask:f};return ke.runKernel(qV,d,m)}const x_e=ye({stridedSlice_:A5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T5e(r){const n={x:Z(r,"x","tan","float32")};return ke.runKernel(QV,n)}const S_e=ye({tan_:T5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i_(r,e){xk(r);const n=Ch(r,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return xg(r,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w2(r,e,n){if(xk(r),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const o=Ch(r,n);if(o.length!==2&&o.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return xg(r,e,o,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I5e(r,e,n){if(xk(r),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const o=Ch(r,n);if(o.length!==4&&o.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return xg(r,e,o,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M5e(r,e,n){if(xk(r),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const o=Ch(r,n);if(o.length!==5&&o.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return xg(r,e,o,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N5e(r,e,n){if(xk(r),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const o=Ch(r,n);if(o.length!==6&&o.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||o,xg(r,e,o,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R5e(r,e=1,n=!0){const o=Z(r,"x","topk");if(o.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const a=o.shape[o.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${e}`);const l={x:o},u={k:e,sorted:n},[_,f]=ke.runKernel(e9,l,u);return{values:_,indices:f}}const E_e=ye({topk_:R5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P5e(r,e=0,n=1,o,a){if(o!=null&&o==="bool")throw new Error("Unsupported data type $ { dtype }");const l=new bq(e,n,o,!0,a),u=La(r,o);for(let _=0;_<u.values.length;_++)u.values[_]=l.nextValue();return u.toTensor()}const C_e=ye({truncatedNormal_:P5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B5e(r,e=0){const n=Z(r,"x","unique","string_or_numeric");re(n.rank>0,()=>"The input tensor must be at least 1D");const o={x:n},a={axis:e},[l,u]=ke.runKernel(r9,o,a);return{values:l,indices:u}}const Aq=ye({unique_:B5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F5e(r,e,n){const o=Z(r,"x","unsortedSegmentSum"),a=Z(e,"segmentIds","unsortedSegmentSum","int32");re(Sk(n),()=>"numSegments must be of dtype int");const l={x:o,segmentIds:a},u={numSegments:n};return ke.runKernel(o9,l,u)}const L5e=ye({unsortedSegmentSum_:F5e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D5e(r,e=0){const n=Z(r,"x","unstack","string_or_numeric");re(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const o={value:n},a={axis:e};return ke.runKernel(i9,o,a)}const Rg=ye({unstack_:D5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O5e(r,e=!0,n,o){return ke.makeVariable(r,e,n,o)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tq(r,e){const n=[];for(let l=0;l<e.length;l++)e[l]&&n.push(l);const o=La(r,"int32"),a=La([n.length,r.length],"int32");for(let l=0;l<n.length;l++){const u=o.indexToLoc(n[l]),_=l*r.length;a.values.set(u,_)}return a.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function z5e(r){const e=Z(r,"condition","whereAsync","bool"),n=await e.data(),o=Tq(e.shape,n);return r!==e&&e.dispose(),o}const Iq=z5e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function U5e(r,e,n){const o=Z(r,"tensor","boolMask"),a=Z(e,"mask","boolMask","bool"),l=n==null?0:n,u=a.rank,_=o.shape;re(u>0,()=>"mask cannot be scalar"),il(_.slice(l,l+u),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let f=1;for(let E=l;E<l+u;E++)f*=_[E];const h=_.slice(0,l).concat([f],_.slice(l+u)),d=lt(o,h),m=lt(a,[-1]),g=await Iq(m),y=_1(g,[1]),w=XL(d,y,l);return r!==o&&o.dispose(),e!==a&&a.dispose(),y.dispose(),d.dispose(),m.dispose(),g.dispose(),w}const j5e=U5e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G5e(r,e="euclidean",n=null,o=!1){r=Z(r,"x","norm");const a=A_e(r,e,n);let l=a.shape;if(o){const u=Va(n,r.shape);l=r_(a.shape,u)}return lt(a,l)}function A_e(r,e,n=null){if(r.rank===0)return fc(r);if(r.rank!==1&&n===null)return A_e(lt(r,[-1]),e,n);if(r.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return io(fc(r),n);if(e===1/0)return jk(fc(r),n);if(e===-1/0)return eD(fc(r),n);if(e==="euclidean"||e===2)return Nh(io(l1(fc(r),Rr(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return jk(io(fc(r),n[0]),n[1]-1);if(e===1/0)return jk(io(fc(r),n[1]),n[0]);if(e===-1/0)return eD(io(fc(r),n[1]),n[0]);if(e==="fro"||e==="euclidean")return Nh(io(X_(r),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Mq=ye({norm_:G5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W5e(r,e,n,o,a=!0){const l=Z(r,"v","movingAverage"),u=Z(e,"x","movingAverage"),_=Z(n,"decay","movingAverage");Sue(l,u),re(Bo(l.shape,u.shape),()=>"Shape mismatch in v and x");const f=Rr(1),h=Nr(f,_);let d=Qt(Nr(u,l),h);if(a){re(o!=null,()=>"When using zeroDebias: true, step is required.");const m=Z(o,"step","movingAverage");d=ro(d,Nr(f,l1(_,m)))}return lr(l,d)}const H5e=ye({movingAverage_:W5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V5e(r,e,n){const o=Z(r,"indices","scatterND","int32"),a=Z(e,"updates","scatterND");W9(a,o,n);const l={indices:o,updates:a},u={shape:n};return ke.runKernel(CV,l,u)}const T_e=ye({scatterND_:V5e});function q5e(r,e,n,o){if(r.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${r.dtype}.`);if(r.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${r.shape}.`);const a=r.rank>0?r.shape[0]:1,l=r.rank>1?r.shape[1]:1;if(n.length!==l)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${l}.`);const u=e.size;if(!(e.rank===0||e.rank===1&&u===a))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${a}]`);if(e.dtype!==o.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K5e(r,e,n,o=0){const a=Z(r,"sparseIndices","sparseToDense","int32"),l=Z(e,"sparseValues","sparseToDense"),u=Z(o,"defaultValue","sparseToDense",l.dtype);q5e(a,l,n,u);const _={sparseIndices:a,sparseValues:l,defaultValue:u},f={outputShape:n};return ke.runKernel(HV,_,f)}const Nq=ye({sparseToDense_:K5e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J5e(r,e){const n=Z(e,"indices","gatherND","int32"),a={params:Z(r,"x","gatherND","string_or_numeric"),indices:n};return ke.runKernel(AH,a)}const I_e=ye({gatherND_:J5e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X5e(r,e){if(e==null)return r.shape.slice();if(Bo(r.shape,e))return e;if(r.shape.length===e.length){const n=[];for(let o=0;o<r.shape.length;o++)e[o]==null&&r.shape[o]!=null?n.push(r.shape[o]):n.push(e[o]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y5e(r,e,n,o){const a=Z(r,"x","dropout");if(re(a.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`),re(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return r instanceof ya?a.clone():a;const l=X5e(a,n),u=1-e,_=ro(oq(lr(wq(l,0,1,"float32",o),u)),u);return Qt(a,_)}const Q5e=ye({dropout_:Y5e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M_e(r){return Math.floor(Math.pow(2,Math.ceil(Math.log(r)/Math.log(2))))}function Rq(r,e,n){const o=1-r%2,a=new Float32Array(r);for(let l=0;l<r;++l){const u=2*Math.PI*l/(r+o-1);a[l]=e-n*Math.cos(u)}return i_(a,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Z5e(r,e,n=1){const o=Z(r,"predictions","inTopK"),a=Z(e,"targets","inTopK");re(o.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${o.rank}`),re(o.rank-1===a.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${o.rank} and targets rank ${a.rank}`),il(o.shape.slice(0,o.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const l=o.shape[o.shape.length-1];re(n>0&&n<=l,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${l}), but got ${n}`);const u=await o.data(),_=await a.data(),[f,h]=[u.length/l,l],d=Sh("bool",f);for(let m=0;m<f;m++){const g=m*h,y=u.subarray(g,g+h),w=[];for(let E=0;E<y.length;E++)w.push({value:y[E],index:E});w.sort((E,A)=>A.value-E.value),d[m]=0;for(let E=0;E<n;E++)if(w[E].index===_[m]){d[m]=1;break}}return r!==o&&o.dispose(),e!==a&&a.dispose(),Ah(d,a.shape,"bool")}const e7e=Z5e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t7e(r,e,n,o,a,l="NHWC",u){let _=r;r.rank===3&&(_=lt(r,[1,r.shape[0],r.shape[1],r.shape[2]]));let f=e;f.rank===3&&(f=lt(e,[1,e.shape[0],e.shape[1],e.shape[2]])),re(_.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${_.shape}.`),re(f.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${f.shape}.`),re(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const h=l==="NHWC"?_.shape[3]:_.shape[1],d=l==="NHWC"?f.shape[3]:f.shape[1];re(h===n[2],()=>`Error in conv2dDerFilter: depth of input ${h}) must match input depth in filter (${n[2]}.`),re(d===n[3],()=>`Error in conv2dDerFilter: depth of dy (${d}) must match output depth for filter (${n[3]}).`),q_("conv2dDerFilter",a,u);const m={x:_,dy:f},g={strides:o,pad:a,dataFormat:l,dimRoundingMode:u,filterShape:n};return ke.runKernel(QW,m,g)}const n7e=ye({conv2DBackpropFilter_:t7e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rD(r,e,n){if(n==null||n==="linear")return r;if(n==="relu")return Qt(r,w_e(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function iD(r,e){let n=e;const o=U9(r.shape,e.shape);return o.length>0&&(n=io(n,o)),lt(n,r.shape)}function oD(r,e,n,o){if(e==="linear")return r;if(e==="relu")return $2(r);if(e==="elu")return iq(r);if(e==="relu6")return xq(r);if(e==="prelu")return yq(r,n);if(e==="leakyrelu")return sq(r,o);if(e==="sigmoid")return zk(r);throw new Error(`Unknown fused activation ${e}.`)}const aD=(r,e)=>!(r>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r7e({x:r,filter:e,strides:n,pad:o,dataFormat:a="NHWC",dilations:l=[1,1],dimRoundingMode:u,bias:_,activation:f="linear",preluActivationWeights:h,leakyreluAlpha:d}){if(f=f||"linear",aD(ke.state.gradientDepth,f)===!1){let D=d2(r,e,n,o,a,l,u);return _!=null&&(D=lr(D,_)),oD(D,f,h,d)}const m=Z(r,"x","conv2d","float32"),g=Z(e,"filter","conv2d","float32");let y=m,w=!1;m.rank===3&&(w=!0,y=lt(m,[1,m.shape[0],m.shape[1],m.shape[2]])),re(y.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${y.rank}.`),re(g.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${g.rank}.`),q_("fused conv2d",o,u),re(y.shape[3]===g.shape[2],()=>`Error in conv2d: depth of input (${y.shape[3]}) must match input depth for filter ${g.shape[2]}.`),re(pc(n,l),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${l}'`),re(a==="NHWC",()=>`Error in conv2d: got dataFormat of ${a} but only NHWC is currently supported.`);const E=n_(y.shape,g.shape,n,l,o,u);let A;_!=null&&(A=Z(_,"bias","fused conv2d"),[A]=qo(A,m),ui(E.outShape,A.shape));let S;h!=null&&(S=Z(h,"prelu weights","fused conv2d"));const C=(D,G)=>{const[z,V,X,ne]=G,Y=rD(D,X,f);re(p2(l),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${l}'`);const ue=Pce(V.shape,Y,z,n,o),_e=n7e(V,Y,z.shape,n,o),ge=[ue,_e];if(ne!=null){const $e=iD(ne,Y);ge.push($e)}return ge},R={x:y,filter:g,bias:A,preluActivationWeights:S},P={strides:n,pad:o,dataFormat:a,dilations:l,dimRoundingMode:u,activation:f,leakyreluAlpha:d};return _==null?Ih((G,z,V)=>{let X=ke.runKernel(PL,R,P);return V([z,G,X]),w&&(X=lt(X,[X.shape[1],X.shape[2],X.shape[3]])),{value:X,gradFunc:C}})(y,g):Ih((G,z,V,X)=>{let ne=ke.runKernel(PL,R,P);return X([z,G,ne,V]),w&&(ne=lt(ne,[ne.shape[1],ne.shape[2],ne.shape[3]])),{value:ne,gradFunc:C}})(y,g,A)}const N_e=ye({fusedConv2d_:r7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i7e(r,e,n,o,a,l=[1,1],u){let _=r;r.rank===3&&(_=lt(r,[1,r.shape[0],r.shape[1],r.shape[2]]));let f=e;f.rank===3&&(f=lt(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const h={x:_,dy:f},d={strides:o,pad:a,dimRoundingMode:u,dilations:l,filterShape:n};return ke.runKernel(uH,h,d)}const o7e=ye({depthwiseConv2dNativeBackpropFilter_:i7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a7e(r,e,n,o,a,l=[1,1],u){let _=e,f=!1;e.rank===3&&(f=!0,_=lt(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const h={dy:_,filter:n},d={strides:o,pad:a,dimRoundingMode:u,dilations:l,inputShape:r},m=ke.runKernel(cH,h,d);return f?lt(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const s7e=ye({depthwiseConv2dNativeBackpropInput_:a7e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l7e({x:r,filter:e,strides:n,pad:o,dataFormat:a="NHWC",dilations:l=[1,1],dimRoundingMode:u,bias:_,activation:f="linear",preluActivationWeights:h,leakyreluAlpha:d}){if(aD(ke.state.gradientDepth,f)===!1){let D=JL(r,e,n,o,a,l,u);return _!=null&&(D=lr(D,_)),oD(D,f,h,d)}const m=Z(r,"x","depthwiseConv2d","float32"),g=Z(e,"filter","depthwiseConv2d","float32");let y=m,w=!1;m.rank===3&&(w=!0,y=lt(m,[1,m.shape[0],m.shape[1],m.shape[2]])),re(y.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${y.rank}.`),re(g.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${g.rank}.`),re(y.shape[3]===g.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${y.shape[3]}) must match the inChannels dimension in filter ${g.shape[2]}.`),l==null&&(l=[1,1]),re(pc(n,l),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${l}'`),q_("fused depthwiseConv2d",o,u);const E=n_(y.shape,g.shape,n,l,o,u,!0);let A;_!=null&&(A=Z(_,"bias","fused conv2d"),[A]=qo(A,m),ui(E.outShape,A.shape));let S;h!=null&&(S=Z(h,"prelu weights","fused depthwiseConv2d"));const C=(D,G)=>{re(p2(l),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${l}'`);const[z,V,X,ne]=G,Y=rD(D,X,f),ue=s7e(V.shape,Y,z,n,o,l,u),_e=o7e(V,Y,z.shape,n,o,l,u);if(ne!=null){const ge=iD(A,Y);return[ue,_e,ge]}return[ue,_e]},R={x:y,filter:g,bias:A,preluActivationWeights:S},P={strides:n,pad:o,dataFormat:a,dilations:l,dimRoundingMode:u,activation:f,leakyreluAlpha:d};return _==null?Ih((G,z,V)=>{let X=ke.runKernel(BL,R,P);return V([z,G,X]),w&&(X=lt(X,[X.shape[1],X.shape[2],X.shape[3]])),{value:X,gradFunc:C}})(y,g):Ih((G,z,V,X)=>{let ne=ke.runKernel(BL,R,P);return X([z,G,ne,V]),w&&(ne=lt(ne,[ne.shape[1],ne.shape[2],ne.shape[3]])),{value:ne,gradFunc:C}})(y,g,A)}const R_e=ye({fusedDepthwiseConv2d_:l7e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u7e({a:r,b:e,transposeA:n=!1,transposeB:o=!1,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:_}){if(aD(ke.state.gradientDepth,l)===!1){let Y=bi(r,e,n,o);return a!=null&&(Y=lr(Y,a)),oD(Y,l,u,_)}let f=Z(r,"a","fused matMul"),h=Z(e,"b","fused matMul");[f,h]=qo(f,h);const d=n?f.shape[f.rank-2]:f.shape[f.rank-1],m=o?h.shape[h.rank-1]:h.shape[h.rank-2],g=n?f.shape[f.rank-1]:f.shape[f.rank-2],y=o?h.shape[h.rank-2]:h.shape[h.rank-1],w=f.shape.slice(0,-2),E=h.shape.slice(0,-2),A=zt(w),S=zt(E);re(d===m,()=>`Error in fused matMul: inner shapes (${d}) and (${m}) of Tensors with shapes ${f.shape} and ${h.shape} and transposeA=${n} and transposeB=${o} must match.`);const R=ui(f.shape.slice(0,-2),h.shape.slice(0,-2)).concat([g,y]),P=n?lt(f,[A,d,g]):lt(f,[A,g,d]),D=o?lt(h,[S,y,m]):lt(h,[S,m,y]);let G;a!=null&&(G=Z(a,"bias","fused matMul"),[G]=qo(G,f),ui(R,G.shape));let z;u!=null&&(z=Z(u,"prelu weights","fused matMul"));const V=(Y,ue)=>{const[_e,ge,$e,xe]=ue,Ie=rD(lt(Y,$e.shape),$e,l);let tt,gt;if(!n&&!o?(tt=bi(Ie,ge,!1,!0),gt=bi(_e,Ie,!0,!1)):!n&&o?(tt=bi(Ie,ge,!1,!1),gt=bi(Ie,_e,!0,!1)):n&&!o?(tt=bi(ge,Ie,!1,!0),gt=bi(_e,Ie,!1,!1)):(tt=bi(ge,Ie,!0,!0),gt=bi(Ie,_e,!0,!0)),a!=null){const Je=iD(xe,Ie);return[tt,gt,Je]}else return[tt,gt]},X={a:P,b:D,bias:G,preluActivationWeights:z},ne={transposeA:n,transposeB:o,activation:l,leakyreluAlpha:_};return a==null?Ih((ue,_e,ge)=>{const $e=ke.runKernel(RL,X,ne);return ge([ue,_e,$e]),{value:lt($e,R),gradFunc:V}})(P,D):Ih((ue,_e,ge,$e)=>{const xe=ke.runKernel(RL,X,ne);return $e([ue,_e,xe,ge]),{value:lt(xe,R),gradFunc:V}})(P,D,G)}const P_e=ye({fusedMatMul_:u7e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var c7e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",conv2d:N_e,depthwiseConv2d:R_e,matMul:P_e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _7e(r){return Rq(r,.54,.46)}const f7e=ye({hammingWindow_:_7e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p7e(r){return Rq(r,.5,.5)}const B_e=ye({hannWindow_:p7e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h7e(r,e,n,o=!1,a=0){let l=0;const u=[];for(;l+e<=r.size;)u.push(qi(r,l,e)),l+=n;if(o)for(;l<r.size;){const _=l+e-r.size,f=al([qi(r,l,e-_),m2([_],a)]);u.push(f),l+=n}return u.length===0?w2([],[0,e]):lt(al(u),[u.length,e])}const F_e=ye({frame_:h7e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d7e(r,e,n,o,a=B_e){o==null&&(o=M_e(e));const l=F_e(r,e,n),u=Qt(l,a(e));return nD(u,o)}const m7e=ye({stft_:d7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v7e(r,e,n,o,a="bilinear",l=0){const u=Z(r,"image","cropAndResize"),_=Z(e,"boxes","cropAndResize","float32"),f=Z(n,"boxInd","cropAndResize","int32"),h=_.shape[0];re(u.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${u.rank}.`),re(_.rank===2&&_.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${h},4] but had shape ${_.shape}.`),re(f.rank===1&&f.shape[0]===h,()=>`Error in cropAndResize: boxInd must be have size [${h}] but had shape ${_.shape}.`),re(o.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${o.length}.`),re(o[0]>=1&&o[1]>=1,()=>`cropSize must be atleast [1,1], but was ${o}`),re(a==="bilinear"||a==="nearest",()=>`method must be bilinear or nearest, but was ${a}`);const d={image:u,boxes:_,boxInd:f},m={method:a,extrapolationValue:l,cropSize:o};return ke.runKernel(oH,d,m)}const g7e=ye({cropAndResize_:v7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y7e(r){const e=Z(r,"image","flipLeftRight","float32");re(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return ke.runKernel(wH,n,{})}const k7e=ye({flipLeftRight_:y7e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $7e(r){const e=Z(r,"image","grayscaleToRGB"),n=e.rank-1,o=e.shape[n];re(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),re(o===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${o}.`);const a=new Array(e.rank);return a.fill(1,0,n),a[n]=3,o1(e,a)}const b7e=ye({grayscaleToRGB_:$7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w7e(r,e,n=0,o=.5){const a=Z(r,"image","rotateWithOffset","float32");re(a.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`);const l={image:a},u={radians:e,fillValue:n,center:o};return ke.runKernel(l9,l,u)}const x7e=ye({rotateWithOffset_:w7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f1(r,e,n,o,a,l){o==null&&(o=.5),a==null&&(a=Number.NEGATIVE_INFINITY),l==null&&(l=0);const u=r.shape[0];return n=Math.min(n,u),re(0<=o&&o<=1,()=>`iouThreshold must be in [0, 1], but was '${o}'`),re(r.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${r.rank}'`),re(r.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${r.shape[1]}`),re(e.rank===1,()=>"scores must be a 1D tensor"),re(e.shape[0]===u,()=>`scores has incompatible shape with boxes. Expected ${u}, but was ${e.shape[0]}`),re(0<=l&&l<=1,()=>`softNmsSigma must be in [0, 1], but was '${l}'`),{maxOutputSize:n,iouThreshold:o,scoreThreshold:a,softNmsSigma:l}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S7e(r,e,n,o=.5,a=Number.NEGATIVE_INFINITY){const l=Z(r,"boxes","nonMaxSuppression","float32"),u=Z(e,"scores","nonMaxSuppression","float32"),_=f1(l,u,n,o,a);n=_.maxOutputSize,o=_.iouThreshold,a=_.scoreThreshold;const f={maxOutputSize:n,iouThreshold:o,scoreThreshold:a};return ke.runKernel(aV,{boxes:l,scores:u},f)}const E7e=ye({nonMaxSuppression_:S7e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C7e(r,e,n){const o=A7e(r,e,n),a=o<0?-(o+1):o;r.splice(a,0,e)}function A7e(r,e,n){return I7e(r,e,n||T7e)}function T7e(r,e){return r>e?1:r<e?-1:0}function I7e(r,e,n){let o=0,a=r.length,l=0,u=!1;for(;o<a;){l=o+(a-o>>>1);const _=n(e,r[l]);_>0?o=l+1:(a=l,u=!_)}return u?o:-o-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pq(r,e,n,o,a){return Lq(r,e,n,o,a,0)}function Bq(r,e,n,o,a,l){return Lq(r,e,n,o,a,0,!1,l,!0)}function Fq(r,e,n,o,a,l){return Lq(r,e,n,o,a,l,!0)}function Lq(r,e,n,o,a,l,u=!1,_=!1,f=!1){const h=[];for(let A=0;A<e.length;A++)e[A]>a&&h.push({score:e[A],boxIndex:A,suppressBeginIndex:0});h.sort(L_e);const d=l>0?-.5/l:0,m=[],g=[];for(;m.length<n&&h.length>0;){const A=h.pop(),{score:S,boxIndex:C,suppressBeginIndex:R}=A;if(S<a)break;let P=!1;for(let D=m.length-1;D>=R;--D){const G=M7e(r,C,m[D]);if(G>=o){P=!0;break}if(A.score=A.score*N7e(o,d,G),A.score<=a)break}A.suppressBeginIndex=m.length,P||(A.score===S?(m.push(C),g.push(A.score)):A.score>a&&C7e(h,A,L_e))}const y=m.length,w=n-y;_&&w>0&&(m.push(...new Array(w).fill(0)),g.push(...new Array(w).fill(0)));const E={selectedIndices:m};return u&&(E.selectedScores=g),f&&(E.validOutputs=y),E}function M7e(r,e,n){const o=r.subarray(e*4,e*4+4),a=r.subarray(n*4,n*4+4),l=Math.min(o[0],o[2]),u=Math.min(o[1],o[3]),_=Math.max(o[0],o[2]),f=Math.max(o[1],o[3]),h=Math.min(a[0],a[2]),d=Math.min(a[1],a[3]),m=Math.max(a[0],a[2]),g=Math.max(a[1],a[3]),y=(_-l)*(f-u),w=(m-h)*(g-d);if(y<=0||w<=0)return 0;const E=Math.max(l,h),A=Math.max(u,d),S=Math.min(_,m),C=Math.min(f,g),R=Math.max(S-E,0)*Math.max(C-A,0);return R/(y+w-R)}function N7e(r,e,n){const o=Math.exp(e*n*n);return n<=r?o:0}function L_e(r,e){return r.score-e.score||r.score===e.score&&e.boxIndex-r.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function R7e(r,e,n,o=.5,a=Number.NEGATIVE_INFINITY){const l=Z(r,"boxes","nonMaxSuppressionAsync"),u=Z(e,"scores","nonMaxSuppressionAsync"),_=f1(l,u,n,o,a);n=_.maxOutputSize,o=_.iouThreshold,a=_.scoreThreshold;const f=await Promise.all([l.data(),u.data()]),h=f[0],d=f[1],{selectedIndices:m}=Pq(h,d,n,o,a);return l!==r&&l.dispose(),u!==e&&u.dispose(),i_(m,"int32")}const P7e=R7e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B7e(r,e,n,o=.5,a=Number.NEGATIVE_INFINITY,l=0){const u=Z(r,"boxes","nonMaxSuppression"),_=Z(e,"scores","nonMaxSuppression"),f=f1(u,_,n,o,a,l);n=f.maxOutputSize,o=f.iouThreshold,a=f.scoreThreshold,l=f.softNmsSigma;const h={boxes:u,scores:_},d={maxOutputSize:n,iouThreshold:o,scoreThreshold:a,softNmsSigma:l},m=ke.runKernel(lV,h,d);return{selectedIndices:m[0],selectedScores:m[1]}}const F7e=ye({nonMaxSuppressionWithScore_:B7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function L7e(r,e,n,o=.5,a=Number.NEGATIVE_INFINITY,l=0){const u=Z(r,"boxes","nonMaxSuppressionAsync"),_=Z(e,"scores","nonMaxSuppressionAsync"),f=f1(u,_,n,o,a,l);n=f.maxOutputSize,o=f.iouThreshold,a=f.scoreThreshold,l=f.softNmsSigma;const h=await Promise.all([u.data(),_.data()]),d=h[0],m=h[1],{selectedIndices:g,selectedScores:y}=Fq(d,m,n,o,a,l);return u!==r&&u.dispose(),_!==e&&_.dispose(),{selectedIndices:i_(g,"int32"),selectedScores:i_(y)}}const D7e=L7e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O7e(r,e,n,o=.5,a=Number.NEGATIVE_INFINITY,l=!1){const u=Z(r,"boxes","nonMaxSuppression"),_=Z(e,"scores","nonMaxSuppression"),f=f1(u,_,n,o,a,null),h=f.maxOutputSize,d=f.iouThreshold,m=f.scoreThreshold,g={boxes:u,scores:_},y={maxOutputSize:h,iouThreshold:d,scoreThreshold:m,padToMaxOutputSize:l},w=ke.runKernel(sV,g,y);return{selectedIndices:w[0],validOutputs:w[1]}}const z7e=ye({nonMaxSuppressionPadded_:O7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function U7e(r,e,n,o=.5,a=Number.NEGATIVE_INFINITY,l=!1){const u=Z(r,"boxes","nonMaxSuppressionAsync"),_=Z(e,"scores","nonMaxSuppressionAsync"),f=f1(u,_,n,o,a,null),h=f.maxOutputSize,d=f.iouThreshold,m=f.scoreThreshold,[g,y]=await Promise.all([u.data(),_.data()]),{selectedIndices:w,validOutputs:E}=Bq(g,y,h,d,m,l);return u!==r&&u.dispose(),_!==e&&_.dispose(),{selectedIndices:i_(w,"int32"),validOutputs:Rr(E,"int32")}}const j7e=U7e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G7e(r,e,n=!1,o=!1){const a=Z(r,"images","resizeBilinear");re(a.rank===3||a.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`),re(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),re(o===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let l=a,u=!1;a.rank===3&&(u=!0,l=lt(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const _={images:l},f={alignCorners:n,halfPixelCenters:o,size:e},h=ke.runKernel(bV,_,f);return u?lt(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const W7e=ye({resizeBilinear_:G7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H7e(r,e,n=!1,o=!1){const a=Z(r,"images","resizeNearestNeighbor");re(a.rank===3||a.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`),re(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),re(a.dtype==="float32"||a.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),re(o===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let l=a,u=!1;a.rank===3&&(u=!0,l=lt(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const _={images:l},f={alignCorners:n,halfPixelCenters:o,size:e},h=ke.runKernel($V,_,f);return u?lt(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const V7e=ye({resizeNearestNeighbor_:H7e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q7e(r,e="binary",n=!1,o=.5){const a=Z(r,"image","threshold"),l=.2989,u=.587,_=.114,f=a.shape[0]*a.shape[1];let h=Qt(i_([o]),255),d,m,g,y;if(re(a.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`),re(a.shape[2]===3||a.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`),re(a.dtype==="int32"||a.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`),re(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),a.shape[2]===3){[d,m,g]=c1(a,[1,1,1],-1);const A=Qt(d,l),S=Qt(m,u),C=Qt(g,_);y=lr(lr(A,S),C)}else y=r;if(e==="otsu"){const A=nq(Vi(Sq(y),"int32"),Ah([]),256);h=K7e(A,f)}const w=n?QL(y,h):v2(y,h);return Vi(Qt(w,255),"int32")}function K7e(r,e){let n=i_([-1]),o=i_([0]),a=i_([0]),l,u,_,f,h,d;for(let m=0;m<r.size-1;m++){l=qi(r,0,m+1),u=qi(r,m+1),h=ro(io(l),e),d=ro(io(u),e);const g=io(Qt(l,u1(0,l.size)));_=ro(g,io(l));const y=m2(u.shape,l.size),w=lr(u1(0,u.size),y),E=Qt(u,w);f=ro(io(E),io(u));const A=Nr(_,f),S=Nr(_,f),C=Qt(h,d);a=Qt(Qt(C,A),S);const R=v2(a,o);o=Uk(R,a,o),n=Uk(R,i_([m]),n)}return n}const J7e=ye({threshold_:q7e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X7e(r,e,n="nearest",o="constant",a=0,l){const u=Z(r,"image","transform","float32"),_=Z(e,"transforms","transform","float32");re(u.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${u.rank}.`),re(_.rank===2&&(_.shape[0]===u.shape[0]||_.shape[0]===1)&&_.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),re(l==null||l.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${l}.`);const f={image:u,transforms:_},h={interpolation:n,fillMode:o,fillValue:a,outputShape:l};return ke.runKernel(t9,f,h)}const Y7e=ye({transform_:X7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q7e(r,e,n){re(e%1==0,()=>`bandPart(): numLower must be an integer, got ${e}.`),re(n%1==0,()=>`bandPart(): numUpper must be an integer, got ${n}.`);const o=Z(r,"a","bandPart");re(o.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${o.rank}.`);const a=o.shape,[l,u]=o.shape.slice(-2);if(!(e<=l))throw new Error(`bandPart(): numLower (${e}) must not be greater than the number of rows (${l}).`);if(!(n<=u))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${u}).`);e<0&&(e=l),n<0&&(n=u);const _=lt(u1(0,l,1,"int32"),[-1,1]),f=u1(0,u,1,"int32"),h=Nr(_,f),d=g2(QL(h,Rr(+e,"int32")),aq(h,Rr(-n,"int32"))),m=Mg([l,u],o.dtype);return lt(Rh(Rg(lt(o,[-1,l,u])).map(g=>Uk(d,g,m))),a)}const Z7e=ye({bandPart_:Q7e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e6e(r){let e;if(Array.isArray(r)){e=!1,re(r!=null&&r.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const a=r[0].shape[0];for(let l=1;l<r.length;++l)re(r[l].shape[0]===a,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${r[l].shape[0]} vs. ${a})`)}else e=!0,r=c1(r,r.shape[0],0).map(a=>_1(a,[0]));re(r.length<=r[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${r.length}) exceeds number of dimensions (${r[0].shape[0]}).`);const n=[],o=r;for(let a=0;a<r.length;++a)n.push(ke.tidy(()=>{let l=o[a];if(a>0)for(let u=0;u<a;++u){const _=Qt(io(Qt(n[u],l)),n[u]);l=Nr(l,_)}return ro(l,Mq(l,"euclidean"))}));return e?Rh(n,0):n}const t6e=ye({gramSchmidt_:e6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n6e(r,e=!1){if(re(r.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${r.rank}`),r.rank===2)return D_e(r,e);{const n=r.shape.slice(0,r.shape.length-2).reduce((f,h)=>f*h),o=Rg(lt(r,[n,r.shape[r.shape.length-2],r.shape[r.shape.length-1]]),0),a=[],l=[];o.forEach(f=>{const[h,d]=D_e(f,e);a.push(h),l.push(d)});const u=lt(Rh(a,0),r.shape),_=lt(Rh(l,0),r.shape);return[u,_]}}function D_e(r,e=!1){return ke.tidy(()=>{re(r.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${r.shape.length}D Tensor.`);const n=r.shape[0],o=r.shape[1];let a=qce(n),l=Eg(r);const u=w2([[1]],[1,1]);let _=Eg(u);const f=n>=o?o:n;for(let h=0;h<f;++h){const d=l,m=_,g=a;[_,l,a]=ke.tidy(()=>{const y=qi(l,[h,h],[n-h,1]),w=Mq(y),E=qi(l,[h,h],[1,1]),A=Uk(v2(E,0),w2([[-1]]),w2([[1]])),S=Nr(E,Qt(A,w)),C=ro(y,S);C.shape[0]===1?_=Eg(u):_=al([u,qi(C,[1,0],[C.shape[0]-1,C.shape[1]])],0);const R=gm(ro(bi(A,S),w)),P=qi(l,[h,0],[n-h,o]),D=Qt(R,_),G=u2(_);if(h===0)l=Nr(P,bi(D,bi(G,P)));else{const X=Nr(P,bi(D,bi(G,P)));l=al([qi(l,[0,0],[h,o]),X],0)}const z=u2(D),V=qi(a,[0,h],[n,a.shape[1]-h]);if(h===0)a=Nr(V,bi(bi(V,_),z));else{const X=Nr(V,bi(bi(V,_),z));a=al([qi(a,[0,0],[n,h]),X],1)}return[_,l,a]}),xu([d,m,g])}return!e&&n>o&&(a=qi(a,[0,0],[n,o]),l=qi(l,[0,0],[o,o])),[a,l]})}const r6e=ye({qr_:n6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Rl;(function(r){r[r.NONE=0]="NONE",r[r.MEAN=1]="MEAN",r[r.SUM=2]="SUM",r[r.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Rl||(Rl={}));function i6e(r,e,n=Rl.SUM_BY_NONZERO_WEIGHTS){const o=Z(r,"losses","computeWeightedLoss");let a=null;e!=null&&(a=Z(e,"weights","computeWeightedLoss"));const l=a==null?o:Qt(o,a);if(n===Rl.NONE)return l;if(n===Rl.SUM)return io(l);if(n===Rl.MEAN){if(a==null)return y2(l);{const u=o.size/a.size,_=ro(io(l),io(a));return u>1?ro(_,Rr(u)):_}}if(n===Rl.SUM_BY_NONZERO_WEIGHTS){if(a==null)return ro(io(l),Rr(o.size));{const u=Qt(a,Ng(o.shape)),_=Vi(io(vq(u,Rr(0))),"float32");return ro(io(l),_)}}throw Error(`Unknown reduction: ${n}`)}const km=ye({computeWeightedLoss_:i6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o6e(r,e,n,o=Rl.SUM_BY_NONZERO_WEIGHTS){const a=Z(r,"labels","absoluteDifference"),l=Z(e,"predictions","absoluteDifference");let u=null;n!=null&&(u=Z(n,"weights","absoluteDifference")),il(a.shape,l.shape,"Error in absoluteDifference: ");const _=fc(Nr(a,l));return km(_,u,o)}const a6e=ye({absoluteDifference_:o6e});function s6e(r,e,n,o,a=Rl.SUM_BY_NONZERO_WEIGHTS){const l=Z(r,"labels","cosineDistance"),u=Z(e,"predictions","cosineDistance");let _=null;o!=null&&(_=Z(o,"weights","cosineDistance")),il(l.shape,u.shape,"Error in cosineDistance: ");const f=Rr(1),h=Nr(f,io(Qt(l,u),n,!0));return km(h,_,a)}const l6e=ye({cosineDistance_:s6e});function u6e(r,e,n,o=Rl.SUM_BY_NONZERO_WEIGHTS){let a=Z(r,"labels","hingeLoss");const l=Z(e,"predictions","hingeLoss");let u=null;n!=null&&(u=Z(n,"weights","hingeLoss")),il(a.shape,l.shape,"Error in hingeLoss: ");const _=Rr(1);a=Nr(Qt(Rr(2),a),_);const f=$2(Nr(_,Qt(a,l)));return km(f,u,o)}const c6e=ye({hingeLoss_:u6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _6e(r,e,n,o=1,a=Rl.SUM_BY_NONZERO_WEIGHTS){const l=Z(r,"labels","huberLoss"),u=Z(e,"predictions","huberLoss");let _=null;n!=null&&(_=Z(n,"weights","huberLoss")),il(l.shape,u.shape,"Error in huberLoss: ");const f=Rr(o),h=fc(Nr(u,l)),d=mq(h,f),m=Nr(h,d),g=lr(Qt(Rr(.5),X_(d)),Qt(f,m));return km(g,_,a)}const f6e=ye({huberLoss_:_6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p6e(r,e,n,o=1e-7,a=Rl.SUM_BY_NONZERO_WEIGHTS){const l=Z(r,"labels","logLoss"),u=Z(e,"predictions","logLoss");let _=null;n!=null&&(_=Z(n,"weights","logLoss")),il(l.shape,u.shape,"Error in logLoss: ");const f=Rr(1),h=Rr(o),d=gm(Qt(l,a1(lr(u,h)))),m=Qt(Nr(f,l),a1(lr(Nr(f,u),h))),g=Nr(d,m);return km(g,_,a)}const h6e=ye({logLoss_:p6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d6e(r,e,n,o=Rl.SUM_BY_NONZERO_WEIGHTS){const a=Z(r,"labels","meanSquaredError"),l=Z(e,"predictions","meanSquaredError");let u=null;n!=null&&(u=Z(n,"weights","meanSquaredError")),il(a.shape,l.shape,"Error in meanSquaredError: ");const _=Cq(a,l);return km(_,u,o)}const m6e=ye({meanSquaredError_:d6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v6e(r,e){const n=Z(r,"labels","sigmoidCrossEntropyWithLogits"),o=Z(e,"logits","sigmoidCrossEntropyWithLogits");il(n.shape,o.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=$2(o),l=Qt(o,n),u=lq(Tg(gm(fc(o))));return lr(Nr(a,l),u)}function g6e(r,e,n,o=0,a=Rl.SUM_BY_NONZERO_WEIGHTS){let l=Z(r,"multiClassLabels","sigmoidCrossEntropy");const u=Z(e,"logits","sigmoidCrossEntropy");let _=null;if(n!=null&&(_=Z(n,"weights","sigmoidCrossEntropy")),il(l.shape,u.shape,"Error in sigmoidCrossEntropy: "),o>0){const h=Rr(o),d=Rr(1),m=Rr(.5);l=lr(Qt(l,Nr(d,h)),Qt(m,h))}const f=v6e(l,u);return km(f,_,a)}const y6e=ye({sigmoidCrossEntropy_:g6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k6e(r,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return Ih((a,l,u)=>{const f=t_e(l,[n],!0),h=Nr(Vi(l,"float32"),f);u([a,h]);const d=gm(Qt(h,a));return{value:io(d,[n]),gradFunc:(y,w)=>{const[E,A]=w,S=r_(y.shape,[n]);return[Qt(lt(y,S),Nr(Vi(E,"float32"),Tg(A))),Qt(lt(y,S),Nr(Tg(A),Vi(E,"float32")))]}}})(r,e)}function $6e(r,e,n,o=0,a=Rl.SUM_BY_NONZERO_WEIGHTS){let l=Z(r,"onehotLabels","softmaxCrossEntropy");const u=Z(e,"logits","softmaxCrossEntropy");let _=null;if(n!=null&&(_=Z(n,"weights","softmaxCrossEntropy")),il(l.shape,u.shape,"Error in softmaxCrossEntropy: "),o>0){const h=Rr(o),d=Rr(1),m=Rr(l.shape[1]);l=lr(Qt(l,Nr(d,h)),ro(h,m))}const f=k6e(l,u);return km(f,_,a)}const b6e=ye({softmaxCrossEntropy_:$6e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w6e(r,e,n,o){const a=Z(r,"indices","sparseFillEmptyRows","int32"),l=Z(e,"values","sparseFillEmptyRows"),u=Z(n,"denseShape","sparseFillEmptyRows","int32"),_=Z(o,"defaultValue","sparseFillEmptyRows",l.dtype);if(a.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${a.shape}`);if(l.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${l.shape}`);if(u.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${u.shape}`);if(_.rank!==0)throw new Error(`Default value should be a scalar but received shape ${_.shape}`);const f={indices:a,values:l,denseShape:u,defaultValue:_},h=ke.runKernel(UV,f);return{outputIndices:h[0],outputValues:h[1],emptyRowIndicator:h[2],reverseIndexMap:h[3]}}const x6e=ye({sparseFillEmptyRows_:w6e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S6e(r,e,n){const o=Z(r,"inputIndices","sparseReshape","int32"),a=Z(e,"inputShape","sparseReshape","int32"),l=Z(n,"newShape","sparseReshape","int32");if(o.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${o.shape}`);if(a.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(l.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${l.shape}`);const u={inputIndices:o,inputShape:a,newShape:l},_=ke.runKernel(jV,u);return{outputIndices:_[0],outputShape:_[1]}}const E6e=ye({sparseReshape_:S6e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C6e(r,e,n){const o=Z(r,"data","sparseSegmentMean"),a=Z(e,"indices","sparseSegmentMean","int32"),l=Z(n,"segmentIds","sparseSegmentMean","int32");if(o.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${a.shape}`);if(l.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${l.shape}`);const u={data:o,indices:a,segmentIds:l};return ke.runKernel(GV,u)}const A6e=ye({sparseSegmentMean_:C6e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T6e(r,e,n){const o=Z(r,"data","sparseSegmentSum"),a=Z(e,"indices","sparseSegmentSum","int32"),l=Z(n,"segmentIds","sparseSegmentSum","int32");if(o.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${a.shape}`);if(l.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${l.shape}`);const u={data:o,indices:a,segmentIds:l};return ke.runKernel(WV,u)}const I6e=ye({sparseSegmentSum_:T6e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M6e(r,e,n,o,a,l,u,_){const f=Z(r,"data","stringNGrams","string");if(f.dtype!=="string")throw new Error("Data must be of datatype string");if(f.shape.length!==1)throw new Error(`Data must be a vector, saw: ${f.shape}`);const h=Z(e,"dataSplits","stringNGrams");if(h.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const d={separator:n,nGramWidths:o,leftPad:a,rightPad:l,padWidth:u,preserveShortSequences:_},m={data:f,dataSplits:h},g=ke.runKernel(KV,m,d);return{nGrams:g[0],nGramsSplits:g[1]}}const N6e=ye({stringNGrams_:M6e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R6e(r,e,n=!0){const o=Z(r,"input","stringSplit","string"),a=Z(e,"delimiter","stringSplit","string");if(o.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${o.shape}`);if(a.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);const l={skipEmpty:n},u={input:o,delimiter:a},_=ke.runKernel(JV,u,l);return{indices:_[0],values:_[1],shape:_[2]}}const P6e=ye({stringSplit_:R6e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B6e(r,e){const n=Z(r,"input","stringToHashBucketFast","string"),o={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return ke.runKernel(XV,a,o)}const F6e=ye({stringToHashBucketFast_:B6e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L6e={fft:tD,ifft:b2,rfft:nD,irfft:Eq},D6e={hammingWindow:f7e,hannWindow:B_e,frame:F_e,stft:m7e},Wk={flipLeftRight:k7e,grayscaleToRGB:b7e,resizeNearestNeighbor:V7e,resizeBilinear:W7e,rotateWithOffset:x7e,cropAndResize:g7e,nonMaxSuppression:E7e,nonMaxSuppressionAsync:P7e,nonMaxSuppressionWithScore:F7e,nonMaxSuppressionWithScoreAsync:D7e,nonMaxSuppressionPadded:z7e,nonMaxSuppressionPaddedAsync:j7e,threshold:J7e,transform:Y7e},O6e={bandPart:Z7e,gramSchmidt:t6e,qr:r6e},z6e={absoluteDifference:a6e,computeWeightedLoss:km,cosineDistance:l6e,hingeLoss:c6e,huberLoss:f6e,logLoss:h6e,meanSquaredError:m6e,sigmoidCrossEntropy:y6e,softmaxCrossEntropy:b6e},x2={sparseFillEmptyRows:x6e,sparseReshape:E6e,sparseSegmentMean:A6e,sparseSegmentSum:I6e},sD={stringNGrams:N6e,stringSplit:P6e,stringToHashBucketFast:F6e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Pg extends fce{minimize(e,n=!1,o){const{value:a,grads:l}=this.computeGradients(e,o);if(o!=null){const u=o.map(_=>({name:_.name,tensor:l[_.name]}));this.applyGradients(u)}else this.applyGradients(l);return xu(l),n?a:(a.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return Qce(e,n)}dispose(){this.iterations_!=null&&xu(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Rr(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Pg,Symbol.hasInstance,{value:r=>r.minimize!=null&&r.computeGradients!=null&&r.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lD extends Pg{constructor(e,n,o=null){super();this.learningRate=e,this.rho=n,this.epsilon=o,this.accumulatedGrads=[],this.accumulatedUpdates=[],o==null&&(this.epsilon=ke.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,a)=>{const l=ke.registeredVariables[o],u=!1;this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${o}/accum_grad`,variable:vr(()=>hc(l).variable(u))}),this.accumulatedUpdates[a]==null&&(this.accumulatedUpdates[a]={originalName:`${o}/accum_var`,variable:vr(()=>hc(l).variable(u))});const _=Array.isArray(e)?e[a].tensor:e[o];if(_==null)return;const f=this.accumulatedGrads[a].variable,h=this.accumulatedUpdates[a].variable;vr(()=>{const d=lr(Qt(f,this.rho),Qt(X_(_),1-this.rho)),m=Qt(ro(Nh(lr(h,this.epsilon)),Nh(lr(f,this.epsilon))),_),g=lr(Qt(h,this.rho),Qt(X_(m),1-this.rho));f.assign(d),h.assign(g);const y=lr(Qt(m,-this.learningRate),l);l.assign(y)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(xu(this.accumulatedGrads.map(e=>e.variable)),xu(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,o=!1;this.accumulatedGrads=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(o)})),this.accumulatedUpdates=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(o)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}lD.className="Adadelta";Ag(lD);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uD extends Pg{constructor(e,n=.1){super();this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,a)=>{const l=ke.registeredVariables[o];if(this.accumulatedGrads[a]==null){const f=!1;this.accumulatedGrads[a]={originalName:`${o}/accumulator`,variable:vr(()=>m2(l.shape,this.initialAccumulatorValue).variable(f))}}const u=Array.isArray(e)?e[a].tensor:e[o];if(u==null)return;const _=this.accumulatedGrads[a].variable;vr(()=>{const f=lr(_,X_(u));_.assign(f);const h=lr(Qt(ro(u,Nh(lr(f,ke.backend.epsilon()))),-this.learningRate),l);l.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&xu(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(o=>({originalName:o.name,variable:o.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}uD.className="Adagrad";Ag(uD);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cD extends Pg{constructor(e,n,o,a=null){super();this.learningRate=e,this.beta1=n,this.beta2=o,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],vr(()=>{this.accBeta1=Rr(n).variable(),this.accBeta2=Rr(o).variable()}),a==null&&(this.epsilon=ke.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(o=>o.name):Object.keys(e);vr(()=>{const o=Nr(1,this.accBeta1),a=Nr(1,this.accBeta2);n.forEach((l,u)=>{const _=ke.registeredVariables[l],f=!1;this.accumulatedFirstMoment[u]==null&&(this.accumulatedFirstMoment[u]={originalName:`${l}/m`,variable:vr(()=>hc(_).variable(f))}),this.accumulatedSecondMoment[u]==null&&(this.accumulatedSecondMoment[u]={originalName:`${l}/v`,variable:vr(()=>hc(_).variable(f))});const h=Array.isArray(e)?e[u].tensor:e[l];if(h==null)return;const d=this.accumulatedFirstMoment[u].variable,m=this.accumulatedSecondMoment[u].variable,g=lr(Qt(d,this.beta1),Qt(h,1-this.beta1)),y=lr(Qt(m,this.beta2),Qt(X_(h),1-this.beta2)),w=ro(g,o),E=ro(y,a);d.assign(g),m.assign(y);const A=lr(Qt(ro(w,lr(Nh(E),this.epsilon)),-this.learningRate),_);_.assign(A)}),this.accBeta1.assign(Qt(this.accBeta1,this.beta1)),this.accBeta2.assign(Qt(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&xu(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&xu(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),vr(()=>{this.accBeta1.assign(l1(this.beta1,this.iterations_+1)),this.accBeta2.assign(l1(this.beta2,this.iterations_+1))});const n=e.length/2,o=!1;this.accumulatedFirstMoment=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(o)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(o)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}cD.className="Adam";Ag(cD);/**
* @license
* Copyright 2018 Google LLC. All Rights Reserved.
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
* =============================================================================
*/class _D extends Pg{constructor(e,n,o,a=null,l=0){super();this.learningRate=e,this.beta1=n,this.beta2=o,this.epsilon=a,this.decay=l,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],vr(()=>{this.iteration=Rr(0).variable(),this.accBeta1=Rr(n).variable()}),a==null&&(this.epsilon=ke.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(o=>o.name):Object.keys(e);vr(()=>{const o=Nr(1,this.accBeta1),a=ro(-this.learningRate,lr(Qt(this.iteration,this.decay),1));n.forEach((l,u)=>{const _=ke.registeredVariables[l],f=!1;this.accumulatedFirstMoment[u]==null&&(this.accumulatedFirstMoment[u]={originalName:`${l}/m`,variable:hc(_).variable(f)}),this.accumulatedWeightedInfNorm[u]==null&&(this.accumulatedWeightedInfNorm[u]={originalName:`${l}/v`,variable:hc(_).variable(f)});const h=Array.isArray(e)?e[u].tensor:e[l];if(h==null)return;const d=this.accumulatedFirstMoment[u].variable,m=this.accumulatedWeightedInfNorm[u].variable,g=lr(Qt(d,this.beta1),Qt(h,1-this.beta1)),y=Qt(m,this.beta2),w=fc(h),E=dq(y,w);d.assign(g),m.assign(E);const A=lr(Qt(ro(a,o),ro(g,lr(E,this.epsilon))),_);_.assign(A)}),this.iteration.assign(lr(this.iteration,1)),this.accBeta1.assign(Qt(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&xu(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&xu(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}_D.className="Adamax";Ag(_D);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class S2 extends Pg{constructor(e){super();this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,a)=>{const l=Array.isArray(e)?e[a].tensor:e[o];if(l==null)return;const u=ke.registeredVariables[o];vr(()=>{const _=lr(Qt(this.c,l),u);u.assign(_)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Th(Rr(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}S2.className="SGD";Ag(S2);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fD extends S2{constructor(e,n,o=!1){super(e);this.learningRate=e,this.momentum=n,this.useNesterov=o,this.accumulations=[],this.m=Rr(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,a)=>{const l=ke.registeredVariables[o];if(this.accumulations[a]==null){const f=!1;this.accumulations[a]={originalName:`${o}/momentum`,variable:vr(()=>hc(l).variable(f))}}const u=this.accumulations[a].variable,_=Array.isArray(e)?e[a].tensor:e[o];_!=null&&vr(()=>{let f;const h=lr(Qt(this.m,u),_);this.useNesterov?f=lr(Qt(this.c,lr(_,Qt(h,this.m))),l):f=lr(Qt(this.c,h),l),u.assign(h),l.assign(f)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&xu(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(o=>({originalName:o.name,variable:o.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}fD.className="Momentum";Ag(fD);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pD extends Pg{constructor(e,n=.9,o=0,a=null,l=!1){super();if(this.learningRate=e,this.decay=n,this.momentum=o,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=l,a==null&&(this.epsilon=ke.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,a)=>{const l=ke.registeredVariables[o],u=!1;this.accumulatedMeanSquares[a]==null&&(this.accumulatedMeanSquares[a]={originalName:`${o}/rms`,variable:vr(()=>hc(l).variable(u))}),this.accumulatedMoments[a]==null&&(this.accumulatedMoments[a]={originalName:`${o}/momentum`,variable:vr(()=>hc(l).variable(u))}),this.accumulatedMeanGrads[a]==null&&this.centered&&(this.accumulatedMeanGrads[a]={originalName:`${o}/mg`,variable:vr(()=>hc(l).variable(u))});const _=Array.isArray(e)?e[a].tensor:e[o];if(_==null)return;const f=this.accumulatedMeanSquares[a].variable,h=this.accumulatedMoments[a].variable;vr(()=>{const d=lr(Qt(f,this.decay),Qt(X_(_),1-this.decay));if(this.centered){const m=this.accumulatedMeanGrads[a].variable,g=lr(Qt(m,this.decay),Qt(_,1-this.decay)),y=ro(Qt(_,this.learningRate),Nh(Nr(d,lr(X_(g),this.epsilon)))),w=lr(Qt(h,this.momentum),y);f.assign(d),m.assign(g),h.assign(w);const E=Nr(l,w);l.assign(E)}else{const m=lr(Qt(f,this.decay),Qt(X_(_),1-this.decay)),g=lr(Qt(h,this.momentum),ro(Qt(_,this.learningRate),Nh(lr(m,this.epsilon))));f.assign(m),h.assign(g);const y=Nr(l,g);l.assign(y)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&xu(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&xu(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&xu(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,o=!1;this.accumulatedMeanSquares=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(o)})),this.accumulatedMoments=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(o)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(a=>({originalName:a.name,variable:a.tensor.variable(o)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}pD.className="RMSProp";Ag(pD);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bg{static sgd(e){return new S2(e)}static momentum(e,n,o=!1){return new fD(e,n,o)}static rmsprop(e,n=.9,o=0,a=null,l=!1){return new pD(e,n,o,a,l)}static adam(e=.001,n=.9,o=.999,a=null){return new cD(e,n,o,a)}static adadelta(e=.001,n=.95,o=null){return new lD(e,n,o)}static adamax(e=.002,n=.9,o=.999,a=null,l=0){return new _D(e,n,o,a,l)}static adagrad(e,n=.1){return new uD(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U6e={sgd:Bg.sgd,momentum:Bg.momentum,adadelta:Bg.adadelta,adagrad:Bg.adagrad,rmsprop:Bg.rmsprop,adamax:Bg.adamax,adam:Bg.adam};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j6e=(()=>typeof requestAnimationFrame!="undefined"?requestAnimationFrame:typeof setImmediate!="undefined"?setImmediate:r=>r())();function G6e(){return new Promise(r=>j6e(()=>r()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O_e(r,e){const n=r[0].length;r.forEach((a,l)=>{re(a.length===n,()=>`Error in concat${n}D: rank of tensors[${l}] must be the same as the rank of the rest (${n})`)}),re(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const o=r[0];r.forEach((a,l)=>{for(let u=0;u<n;u++)re(u===e||a[u]===o[u],()=>`Error in concat${n}D: Shape of tensors[${l}] (${a}) does not match the shape of the rest (${o}) along the non-concatenated axis ${l}.`)})}function Hk(r,e){const n=r[0].slice();for(let o=1;o<r.length;o++)n[e]+=r[o][e];return n}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dq=30;function hD(r){return r<=Dq?r:EL(r,Math.floor(Math.sqrt(r)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z_e(r,e,n){const o=n*(typeof r=="number"?r:r[0]),a=e*(typeof r=="number"?r:r[1]);return[o,a]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oq(r,e,n,o=!0){let a=[];if(o)a=a.concat(e.slice(0)),a.push(r[0]/n),a=a.concat(r.slice(1));else{a=a.concat(r[0]);const l=e.length;for(let u=0;u<l;++u)a=a.concat([r[u+1]/e[u],e[u]]);a=a.concat(r.slice(l+1))}return a}function zq(r,e,n=!0){const o=[];if(n){o.push(e);for(let a=e+1;a<r;++a)a<=2*e?(o.push(a),o.push(a-(e+1))):o.push(a)}else{const a=[],l=[];for(let u=1;u<r;++u)u>=e*2+1||u%2==1?l.push(u):a.push(u);o.push(...a),o.push(0),o.push(...l)}return o}function Uq(r,e,n,o=!0){const a=[];o?a.push(r[0]/n):a.push(r[0]*n);for(let l=1;l<r.length;++l)l<=e.length?o?a.push(e[l-1]*r[l]):a.push(r[l]/e[l-1]):a.push(r[l]);return a}function U_e(r,e){const n=[0];for(let o=0;o<e;++o)n.push(r[o][0]);return n}function j_e(r,e,n){const o=r.slice(0,1);for(let a=0;a<n;++a)o.push(r[a+1]-e[a][0]-e[a][1]);return o}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G_e=1.7580993408473768,W_e=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H_e=.3275911,V_e=.254829592,q_e=-.284496736,K_e=1.421413741,J_e=-1.453152027,X_e=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jq(r,e){if(r.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${r.length}, imag: ${e.length}.`);const n=new Float32Array(r.length*2);for(let o=0;o<n.length;o+=2)n[o]=r[o/2],n[o+1]=e[o/2];return n}function W6e(r){const e=new Float32Array(r.length/2),n=new Float32Array(r.length/2);for(let o=0;o<r.length;o+=2)e[o/2]=r[o],n[o/2]=r[o+1];return{real:e,imag:n}}function H6e(r){const e=Math.ceil(r.length/4),n=new Float32Array(e),o=new Float32Array(e);for(let a=0;a<r.length;a+=4)n[Math.floor(a/4)]=r[a],o[Math.floor(a/4)]=r[a+1];return{real:n,imag:o}}function V6e(r){const e=Math.floor(r.length/4),n=new Float32Array(e),o=new Float32Array(e);for(let a=2;a<r.length;a+=4)n[Math.floor(a/4)]=r[a],o[Math.floor(a/4)]=r[a+1];return{real:n,imag:o}}function q6e(r,e){const n=r[e*2],o=r[e*2+1];return{real:n,imag:o}}function K6e(r,e,n,o){r[o*2]=e,r[o*2+1]=n}function J6e(r,e){const n=new Float32Array(r/2),o=new Float32Array(r/2);for(let a=0;a<Math.ceil(r/2);a++){const l=(e?2:-2)*Math.PI*(a/r);n[a]=Math.cos(l),o[a]=Math.sin(l)}return{real:n,imag:o}}function X6e(r,e,n){const o=(n?2:-2)*Math.PI*(r/e),a=Math.cos(o),l=Math.sin(o);return{real:a,imag:l}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gq="->",Y6e=/->/g,Y_e=",",Q_e="...";function Z_e(r,e){r=r.replace(/\s/g,"");const n=(r.length-r.replace(Y6e,"").length)/Gq.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${Gq}").`);const[o,a]=r.split(Gq);re(o.indexOf(Q_e)===-1,()=>`The ellipsis notation ("${Q_e}") is not supported yet.`);const l=o.split(Y_e),u=l.length;if(e!==u)throw new Error(`Expected ${u} input tensors, received ${e}`);if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const _=[];for(let g=0;g<a.length;++g){const y=a[g];if(!l.some(w=>w.indexOf(y)!==-1))throw new Error(`Output subscripts contain the label ${y} not present in the input subscripts.`);_.indexOf(y)===-1&&_.push(y)}for(let g=0;g<o.length;++g){const y=o[g];_.indexOf(y)===-1&&y!==Y_e&&_.push(y)}const f=new Array(l.length);for(let g=0;g<u;++g){if(new Set(l[g].split("")).size!==l[g].length)throw new Error(`Found duplicate axes in input component ${l[g]}. Support for duplicate axes in input is not implemented yet.`);f[g]=[];for(let y=0;y<l[g].length;++y)f[g].push(_.indexOf(l[g][y]))}const h=_.length,d=a.length,m=[];for(let g=d;g<h;++g)m.push(g);return{allDims:_,summedDims:m,idDims:f}}function efe(r,e){let n=new Array(r);n.fill(-1);for(let a=0;a<e.length;++a)n[e[a]]=a;const o=[];for(let a=0;a<r;++a)n[a]===-1&&o.push(a);return n=n.filter(a=>a!==-1),{permutationIndices:n,expandDims:o}}function tfe(r,e,n){const o=new Array(r);for(let a=0;a<n.length;++a){const l=n[a].shape;for(let u=0;u<e[a].length;++u)o[e[a][u]]===void 0?o[e[a][u]]=l[u]:re(o[e[a][u]]===l[u],()=>`Expected dimension ${o[e[a][u]]} at axis ${u} of input shaped ${JSON.stringify(l)}, but got dimension ${l[u]}`)}}function nfe(r,e){const n=r,o=[];let a=0;r.length===0&&n.push(-1),a=r.length+1;for(let u=0;u<a;++u)o.push([]);const l=[];for(let u=0;u<n.length;++u){const _=n[u],f=Q6e(e,_);for(const h of f)l.indexOf(h)===-1&&(o[u].push(h),l.push(h))}return{path:n,steps:o}}function rfe(r){return r.every((e,n)=>e===n)}function Q6e(r,e){const n=[];for(let o=0;o<r.length;++o)(r[o].length===0||r[o].indexOf(e)!==-1||e===-1)&&n.push(o);return n}function ife(r,e,n=0){let o=[];if(typeof e=="number")re(r.shape[n]%e==0,()=>"Number of splits must evenly divide the axis."),o=new Array(e).fill(r.shape[n]/e);else{const a=e.reduce((u,_)=>(_===-1&&(u+=1),u),0);re(a<=1,()=>"There should be only one negative value in split array.");const l=e.indexOf(-1);if(l!==-1){const u=e.reduce((_,f)=>f>0?_+f:_);e[l]=r.shape[n]-u}re(r.shape[n]===e.reduce((u,_)=>u+_),()=>"The sum of sizes must match the size of the axis dimension."),o=e}return o}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ofe(r){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${r}`}function afe(r,e){return`indices(${r}, 0) is invalid: ${e} < 0`}function sfe(r,e,n){return`indices(${r}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lfe(r,e){return`only one output dimension may be -1, not both ${r} and ${e}`}function ufe(r,e){return`size ${r} must be non-negative, not ${e}`}function cfe(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function _fe(r,e){const n=zt(r),o=zt(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${o}. inputShape=${r} outputShape= ${e}`}function ffe(r,e){const n=zt(r),o=zt(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${o}. inputShape=${r} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wq(){return"segment ids must be >= 0"}function pfe(){return"segment ids are not increasing"}function hfe(r,e){return`Segment id ${r} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function dfe(r,e,n){return`Bad: indices[${r}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mfe(r,e){let n=!1,o;for(r<=Dq?(o=r,n=!0):o=EL(r,Math.floor(Math.sqrt(r)));!n;)o>e||o===r?n=!0:o=EL(r,o+1);return o}function vfe(r,e,n){const o=[],a=r.length;for(let l=0;l<a;l++)l!==e?o.push(r[l]):o.push(n);return o}function gfe(r,e,n,o){const a=e.shape.length,l=r.shape.length;if(o!==0&&(o<-a||o>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${o}`);if(o<0&&(o+=a),o>l)throw new Error(`batchDims (${o}) must be less than rank(x) (
    ${l}).`);if(n<o)throw new Error(`batchDims (${o}) must be less than or equal to axis (${n}).`);for(let m=0;m<o;++m)if(r.shape[m]!==e.shape[m])throw new Error(`x.shape[${m}]: ${r.shape[m]} should be equal to indices.shape[${m}]: ${e.shape[m]}.`);const u=r.shape[n],_=[];let f=1,h=1,d=1;for(let m=0;m<o;++m)_.push(r.shape[m]),f*=r.shape[m];for(let m=o;m<n;m++)_.push(r.shape[m]),h*=r.shape[m];for(let m=o;m<a;m++)_.push(e.shape[m]);for(let m=n+1;m<l;m++)_.push(r.shape[m]),d*=r.shape[m];return{batchSize:f,sliceSize:d,outerSize:h,dimSize:u,outputShape:_}}var Z6e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",segOpComputeOptimalWindowSize:mfe,computeOutShape:vfe,collectGatherOpShapeInfo:gfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E2(r){try{return r.map(e=>Jx(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function yfe(r){return r.map(e=>mm(e))}var kfe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",slice_util:_ce,segment_util:Z6e,fromUint8ToStringArray:E2,fromStringArrayToUint8:yfe,upcastType:op,axesAreInnerMostDims:cq,combineLocations:e_e,computeOutAndReduceShapes:Mh,expandShapeToKeepDim:r_,assertAxesAreInnerMostDims:sp,getAxesPermutation:K_,getUndoAxesPermutation:_q,getInnerMostAxes:J_,getBroadcastDims:c2,getReductionAxes:U9,assertAndGetBroadcastShape:ui,assertParamsConsistent:O_e,computeOutShape:Hk,computeDilation2DInfo:Ace,computePool2DInfo:Dk,computePool3DInfo:_2,computeConv2DInfo:n_,computeConv3DInfo:f2,computeDefaultPad:Q9,tupleValuesAreOne:p2,eitherStridesOrDilationsAreOne:pc,convertConv2DDataFormat:r1,checkPadOnDimRoundingMode:q_,getFusedDyActivation:rD,getFusedBiasGradient:iD,applyActivation:oD,shouldFuse:aD,PARALLELIZE_THRESHOLD:Dq,computeOptimalWindowSize:hD,getImageCenter:z_e,getReshaped:Oq,getPermuted:zq,getReshapedPermuted:Uq,getSliceBeginCoords:U_e,getSliceSize:j_e,prepareAndValidate:j9,validateUpdateShape:G9,validateInput:W9,calculateShapes:VL,SELU_SCALEALPHA:G_e,SELU_SCALE:W_e,ERF_P:H_e,ERF_A1:V_e,ERF_A2:q_e,ERF_A3:K_e,ERF_A4:J_e,ERF_A5:X_e,warn:j_,log:hDe,mergeRealAndImagArrays:jq,splitRealAndImagArrays:W6e,complexWithEvenIndex:H6e,complexWithOddIndex:V6e,getComplexWithIndex:q6e,assignToTypedArray:K6e,exponents:J6e,exponent:X6e,decodeEinsumEquation:Z_e,getEinsumPermutation:efe,checkEinsumDimSizes:tfe,getEinsumComputePath:nfe,isIdentityPermutation:rfe,prepareSplitSize:ife,getSparseFillEmptyRowsIndicesDenseShapeMismatch:ofe,getSparseFillEmptyRowsNegativeIndexErrorMessage:afe,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:sfe,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:lfe,getSparseReshapeNegativeOutputDimErrorMessage:ufe,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:cfe,getSparseReshapeInputOutputMultipleErrorMessage:_fe,getSparseReshapeInputOutputMismatchErrorMessage:ffe,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:Wq,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:pfe,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:hfe,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:dfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var eGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",nonMaxSuppressionV3Impl:Pq,nonMaxSuppressionV4Impl:Bq,nonMaxSuppressionV5Impl:Fq,whereImpl:Tq});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var tGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",AdadeltaOptimizer:lD,AdagradOptimizer:uD,AdamOptimizer:cD,AdamaxOptimizer:_D,MomentumOptimizer:fD,Optimizer:Pg,OptimizerConstructors:Bg,RMSPropOptimizer:pD,SGDOptimizer:S2,Tensor:ya,TensorBuffer:Xx,Variable:a2,get Rank(){return v9},sumOutType:jL,upcastType:op,get Reduction(){return Rl},customGrad:Ih,grad:SUe,grads:EUe,valueAndGrad:CUe,valueAndGrads:AUe,variableGrads:Qce,Environment:Qle,env:qe,get ENV(){return xW},nextFrame:G6e,KernelBackend:gW,DataStorage:zle,abs:fc,acos:mce,acosh:vce,add:lr,addN:gce,all:yce,any:kce,argMax:$ce,argMin:bce,asin:wce,asinh:xce,atan:Sce,atan2:Ece,atanh:Cce,avgPool:eq,avgPool3d:Tce,basicLSTMCell:l4e,batchToSpaceND:tq,batchNorm:i1,batchNorm2d:p4e,batchNorm3d:d4e,batchNorm4d:v4e,bincount:nq,broadcastArgs:Ice,broadcastTo:h2,buffer:La,cast:Vi,ceil:Mce,clipByValue:Nce,clone:Eg,complex:wg,concat:al,concat1d:x4e,concat2d:E4e,concat3d:A4e,concat4d:I4e,conv1d:Rce,conv2d:d2,conv2dTranspose:Bce,conv3d:Fce,conv3dTranspose:O4e,cos:Lce,cosh:Dce,cumsum:Oce,denseBincount:zce,depthToSpace:Uce,depthwiseConv2d:JL,diag:q4e,dilation2d:jce,div:ro,divNoNan:Gce,dot:eUe,einsum:Wce,elu:iq,equal:rq,erf:Hce,exp:Tg,expandDims:Ig,expm1:Vce,eye:qce,fill:m2,floor:oq,floorDiv:Y9,gather:XL,greater:v2,greaterEqual:aq,imag:YL,isFinite:dUe,isInf:vUe,isNaN:Kce,leakyRelu:sq,less:Jce,lessEqual:QL,linspace:Xce,localResponseNormalization:Yce,log:a1,log1p:lq,logSigmoid:NUe,logSoftmax:Zce,logSumExp:t_e,logicalAnd:g2,logicalNot:fq,logicalOr:pq,logicalXor:jUe,matMul:bi,max:jk,maxPool:hq,maxPool3d:n_e,maxPoolWithArgmax:r_e,maximum:dq,mean:y2,meshgrid:KUe,min:eD,minimum:mq,mirrorPad:i_e,mod:o_e,moments:tje,mul:Qt,multiRNNCell:rje,multinomial:a_e,neg:gm,notEqual:vq,oneHot:HL,ones:Ng,onesLike:s_e,outerProduct:lje,pad:s1,pad1d:_je,pad2d:pje,pad3d:dje,pad4d:vje,pool:bje,pow:l1,prelu:yq,print:Wue,prod:kq,rand:Cje,randomGamma:Lje,randomNormal:Oje,randomUniform:wq,range:u1,real:k2,reciprocal:d_e,relu:$2,relu6:xq,reshape:lt,reverse:ym,reverse1d:qje,reverse2d:Jje,reverse3d:Yje,reverse4d:Zje,round:Sq,rsqrt:m_e,scalar:Rr,selu:v_e,separableConv2d:i5e,setdiff1dAsync:g_e,sigmoid:zk,sign:y_e,sin:k_e,sinh:$_e,slice:qi,slice1d:c5e,slice2d:f5e,slice3d:h5e,slice4d:m5e,softmax:b_e,softplus:uq,spaceToBatchND:gq,fft:tD,ifft:b2,irfft:Eq,rfft:nD,split:c1,sqrt:Nh,square:X_,squaredDifference:Cq,squeeze:_1,stack:Rh,step:w_e,stridedSlice:x_e,sub:Nr,sum:io,tan:S_e,tanh:KL,tensor:Ah,tensor1d:i_,tensor2d:w2,tensor3d:Xue,tensor4d:I5e,tensor5d:M5e,tensor6d:N5e,tile:o1,topk:E_e,truncatedNormal:C_e,unique:Aq,unsortedSegmentSum:L5e,unstack:Rg,variable:O5e,where:Uk,whereAsync:Iq,zeros:Mg,zerosLike:hc,op:ye,OP_SCOPE_SUFFIX:Mue,booleanMaskAsync:j5e,transpose:u2,norm:Mq,movingAverage:H5e,scatterND:T_e,sparseToDense:Nq,gatherND:I_e,dropout:Q5e,enclosingPowerOfTwo:M_e,cosineWindow:Rq,inTopKAsync:e7e,image:Wk,linalg:O6e,losses:z6e,spectral:L6e,fused:c7e,signal:D6e,sparse:x2,string:sD,train:U6e,enableProdMode:vze,enableDebugMode:gze,disableDeprecationWarnings:yze,deprecationWarn:kze,disposeVariables:$ze,engine:t1,memory:bze,profile:wze,tidy:vr,dispose:xu,keep:Th,time:xze,setBackend:Sze,ready:Eze,getBackend:Cze,removeBackend:Aze,findBackend:Tze,findBackendFactory:Ize,registerBackend:dce,backend:Mze,setPlatform:Nze,getKernel:FL,getGradient:u9,getKernelsForBackend:LL,registerKernel:c9,registerGradient:dDe,unregisterKernel:mDe,unregisterGradient:vDe,copyRegisteredKernels:gDe,Abs:CW,Acos:AW,Acosh:TW,Add:AL,AddN:IW,All:MW,Any:NW,ArgMax:RW,ArgMin:PW,Asin:BW,Asinh:FW,Atan:LW,Atanh:DW,Atan2:OW,AvgPool:zW,AvgPoolGrad:eue,AvgPool3D:UW,AvgPool3DGrad:tue,BatchMatMul:jW,BatchToSpaceND:GW,Bincount:WW,BroadcastTo:uDe,BroadcastArgs:HW,Cast:TL,Ceil:VW,ClipByValue:qW,Complex:KW,ComplexAbs:JW,Concat:XW,Conv2D:YW,Conv2DBackpropFilter:QW,Conv2DBackpropInput:ZW,Conv3D:eH,Conv3DBackpropFilterV2:nue,Conv3DBackpropInputV2:tH,Cos:nH,Cosh:rH,Cumsum:iH,CropAndResize:oH,DenseBincount:aH,DepthToSpace:sH,DepthwiseConv2dNative:lH,DepthwiseConv2dNativeBackpropFilter:uH,DepthwiseConv2dNativeBackpropInput:cH,Diag:_H,Dilation2D:fH,Dilation2DBackpropInput:cDe,Dilation2DBackpropFilter:_De,RealDiv:pH,Einsum:hH,Elu:dH,EluGrad:rue,Erf:mH,Equal:vH,Exp:gH,ExpandDims:yH,Expm1:kH,FFT:$H,Fill:bH,FlipLeftRight:wH,Floor:xH,FloorDiv:SH,FusedBatchNorm:EH,GatherV2:CH,GatherNd:AH,Greater:TH,GreaterEqual:IH,Identity:IL,IFFT:MH,Imag:NH,IsFinite:RH,IsInf:PH,IsNan:BH,LeakyRelu:FH,Less:LH,LessEqual:DH,LinSpace:OH,Log:zH,Log1p:UH,LogicalAnd:jH,LogicalNot:GH,LogicalOr:WH,LogSoftmax:fDe,LRN:HH,LRNGrad:iue,Max:VH,Maximum:qH,MaxPool:KH,MaxPoolGrad:oue,MaxPool3D:JH,MaxPool3DGrad:aue,MaxPoolWithArgmax:XH,Mean:YH,Min:QH,Minimum:ZH,MirrorPad:eV,Mod:tV,Multinomial:nV,Multiply:rV,Neg:iV,NotEqual:oV,NonMaxSuppressionV3:aV,NonMaxSuppressionV4:sV,NonMaxSuppressionV5:lV,OnesLike:uV,OneHot:cV,Pack:_V,PadV2:fV,Pool:pDe,Pow:pV,Prelu:hV,Prod:dV,Range:mV,Real:vV,Reciprocal:gV,Relu:yV,Reshape:kV,ResizeNearestNeighbor:$V,ResizeNearestNeighborGrad:sue,ResizeBilinear:bV,ResizeBilinearGrad:lue,Relu6:wV,Reverse:xV,Round:SV,Rsqrt:EV,ScatterNd:CV,Select:AV,Selu:TV,Slice:IV,Sin:MV,Sinh:NV,Sign:RV,Sigmoid:PV,Softplus:BV,Sqrt:FV,Sum:LV,SpaceToBatchND:DV,SplitV:OV,Softmax:zV,SparseFillEmptyRows:UV,SparseReshape:jV,SparseSegmentMean:GV,SparseSegmentSum:WV,SparseToDense:HV,SquaredDifference:VV,Square:uue,StridedSlice:qV,StringNGrams:KV,StringSplit:JV,StringToHashBucketFast:XV,Sub:YV,Tan:QV,Tanh:ZV,Tile:ML,TopK:e9,Transform:t9,Transpose:n9,Unique:r9,Unpack:i9,UnsortedSegmentSum:o9,ZerosLike:a9,Step:s9,FromPixels:NL,RotateWithOffset:l9,_FusedMatMul:RL,FusedConv2D:PL,FusedDepthwiseConv2D:BL,version_core:mze,browser:eze,io:OOe,math:HOe,serialization:sze,test_util:dze,util:CDe,backend_util:kfe,broadcast_util:VOe,tensor_util:UDe,slice_util:_ce,gather_util:tze,scatter_util:nze,device_util:VDe,kernel_impls:eGe}),nGe=G5(tGe);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rGe=qe();rGe.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,r=>{r&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Y_;(function(r){r[r.DT_INVALID=0]="DT_INVALID",r[r.DT_FLOAT=1]="DT_FLOAT",r[r.DT_DOUBLE=2]="DT_DOUBLE",r[r.DT_INT32=3]="DT_INT32",r[r.DT_UINT8=4]="DT_UINT8",r[r.DT_INT16=5]="DT_INT16",r[r.DT_INT8=6]="DT_INT8",r[r.DT_STRING=7]="DT_STRING",r[r.DT_COMPLEX64=8]="DT_COMPLEX64",r[r.DT_INT64=9]="DT_INT64",r[r.DT_BOOL=10]="DT_BOOL",r[r.DT_QINT8=11]="DT_QINT8",r[r.DT_QUINT8=12]="DT_QUINT8",r[r.DT_QINT32=13]="DT_QINT32",r[r.DT_BFLOAT16=14]="DT_BFLOAT16",r[r.DT_QINT16=15]="DT_QINT16",r[r.DT_QUINT16=16]="DT_QUINT16",r[r.DT_UINT16=17]="DT_UINT16",r[r.DT_COMPLEX128=18]="DT_COMPLEX128",r[r.DT_HALF=19]="DT_HALF",r[r.DT_RESOURCE=20]="DT_RESOURCE",r[r.DT_VARIANT=21]="DT_VARIANT",r[r.DT_UINT32=22]="DT_UINT32",r[r.DT_UINT64=23]="DT_UINT64",r[r.DT_FLOAT_REF=101]="DT_FLOAT_REF",r[r.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",r[r.DT_INT32_REF=103]="DT_INT32_REF",r[r.DT_UINT8_REF=104]="DT_UINT8_REF",r[r.DT_INT16_REF=105]="DT_INT16_REF",r[r.DT_INT8_REF=106]="DT_INT8_REF",r[r.DT_STRING_REF=107]="DT_STRING_REF",r[r.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",r[r.DT_INT64_REF=109]="DT_INT64_REF",r[r.DT_BOOL_REF=110]="DT_BOOL_REF",r[r.DT_QINT8_REF=111]="DT_QINT8_REF",r[r.DT_QUINT8_REF=112]="DT_QUINT8_REF",r[r.DT_QINT32_REF=113]="DT_QINT32_REF",r[r.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",r[r.DT_QINT16_REF=115]="DT_QINT16_REF",r[r.DT_QUINT16_REF=116]="DT_QUINT16_REF",r[r.DT_UINT16_REF=117]="DT_UINT16_REF",r[r.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",r[r.DT_HALF_REF=119]="DT_HALF_REF",r[r.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",r[r.DT_VARIANT_REF=121]="DT_VARIANT_REF",r[r.DT_UINT32_REF=122]="DT_UINT32_REF",r[r.DT_UINT64_REF=123]="DT_UINT64_REF"})(Y_||(Y_={}));var $fe;(function(r){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(r.CheckpointFormatVersion||(r.CheckpointFormatVersion={}))})($fe||($fe={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hq={};function iGe(r,e){const n={tfOpName:r,category:"custom",inputs:[],attrs:[],customExecutor:e};Hq[r]=n}function bfe(r){return Hq[r]}function oGe(r){delete Hq[r]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H(r,e,n,o,a){const l=e.inputParams[r];if(l&&l.inputIndexStart!==void 0){const _=l.inputIndexStart,f=l.inputIndexEnd===0?void 0:l.inputIndexEnd===void 0?_+1:l.inputIndexEnd;if(l.type==="tensor")return Pl(e.inputNames[l.inputIndexStart],n,o,a);if(l.type==="tensors")return e.inputNames.slice(_,f).map(g=>Pl(g,n,o,a));const h=Pl(e.inputNames.slice(_)[0],n,o,a),d=h.dataSync();return l.type==="number"?d[0]:Ck(h.shape,d)}const u=e.attrParams[r];return u&&u.value}function Pl(r,e,n,o){const[a,l]=dc(r);if(o!=null){const _=o.getHashTableHandleByName(a);if(_!=null)return _}const u=n.currentContextIds.find(_=>!!e[dD(a,_)]);return u!==void 0?e[dD(a,u)][l]:void 0}function aGe(r,e,n){return e[dD(r,n.currentContextId)]}function Ph(r,e){const[n,o,a]=dc(r);return[dD(n,e&&e.currentContextId),o,a]}function dD(r,e){return e?`${r}-${e}`:r}function dc(r){const e=r.split(":");if(e.length===1)return[r,0,void 0];const n=e[0],o=e.length===3?e[1]:void 0,a=Number(e[e.length-1]);return[n,a,o]}function mD(r,e,n){let o=H("pad",r,e,n);if(o==="explicit"){o=H("explicitPaddings",r,e,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let l=0;l<4;l++)a[l][0]=o[l*2],a[l][1]=o[l*2+1];return a}return o}function $m(r){return r.kept?r:Eg(r)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sGe=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var lGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:sGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uGe=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var cGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:uGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Ge=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}];var fGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:_Ge});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pGe=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}];var hGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:pGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dGe=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}];var mGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:dGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vGe=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var gGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:vGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yGe=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}];var kGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:yGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Ge=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}];var bGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:$Ge});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wGe=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}];var xGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:wGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SGe=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}];var EGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:SGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CGe=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var AGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:CGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TGe=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}];var IGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:TGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MGe=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}];var NGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:MGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RGe=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}];var PGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:RGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BGe=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}];var FGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:BGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LGe=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}];var DGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:LGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OGe=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}];var zGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:OGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UGe=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}];var jGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:UGe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GGe=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];var WGe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",json:GGe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wfe{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[lGe,cGe,fGe,hGe,mGe,gGe,kGe,bGe,xGe,EGe,AGe,IGe,NGe,PGe,FGe,DGe,zGe,jGe,WGe],n=[].concat(...e.map(o=>o.json));this.opMappers=n.reduce((o,a)=>(o[a.tfOpName]=a,o),{})}transformGraph(e,n={}){const o=e.node,a=[],l=[],u=[],_=o.reduce((E,A)=>(E[A.name]=this.mapNode(A),A.op.startsWith("Placeholder")?a.push(E[A.name]):A.op==="Const"?l.push(E[A.name]):(A.input==null||A.input.length===0)&&u.push(E[A.name]),E),{});let f=[];const h=[];let d={},m={};n!=null&&(d=this.mapSignatureEntries(n.inputs),m=this.mapSignatureEntries(n.outputs));const g=Object.keys(_);g.forEach(E=>{const A=_[E];A.inputNames.forEach((S,C)=>{const[R,,P]=Ph(S),D=_[R];if(D.outputs!=null){const G=D.outputs.indexOf(P);if(G!==-1){const z=`${R}:${G}`;A.inputNames[C]=z}}A.inputs.push(D),D.children.push(A)})}),Object.keys(m).length===0?g.forEach(E=>{const A=_[E];A.children.length===0&&h.push(A)}):Object.keys(m).forEach(E=>{const[A]=Ph(E),S=_[A];S!=null&&(S.signatureKey=m[E],h.push(S))}),Object.keys(d).length>0?Object.keys(d).forEach(E=>{const[A]=Ph(E),S=_[A];S&&(S.signatureKey=d[E],f.push(S))}):f=a;let y={};e.library!=null&&e.library.function!=null&&(y=e.library.function.reduce((E,A)=>(E[A.signature.name]=this.mapFunction(A),E),{}));const w={nodes:_,inputs:f,outputs:h,weights:l,placeholders:a,signature:n,functions:y};return u.length>0&&(w.initNodes=u),w}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,o)=>(n[e[o].name]=o,n),{})}mapNode(e){const n=bfe(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const o={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(a=>a.startsWith("^")?a.substr(1):a),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(o.inputParams=n.inputs.reduce((a,l)=>(a[l.name]={type:l.type,inputIndexStart:l.start,inputIndexEnd:l.end},a),{})),n.attrs!=null&&(o.attrParams=n.attrs.reduce((a,l)=>{const u=l.type;let _;switch(l.type){case"string":_=Vq(e.attr,l.tfName,l.defaultValue),_===void 0&&!!l.tfDeprecatedName&&(_=Vq(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"string[]":_=eK(e.attr,l.tfName,l.defaultValue),_===void 0&&!!l.tfDeprecatedName&&(_=eK(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"number":_=Kq(e.attr,l.tfName,l.defaultValue||0),_===void 0&&!!l.tfDeprecatedName&&(_=Kq(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"number[]":_=Zq(e.attr,l.tfName,l.defaultValue),_===void 0&&!!l.tfDeprecatedName&&(_=Zq(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"bool":_=qq(e.attr,l.tfName,l.defaultValue),_===void 0&&!!l.tfDeprecatedName&&(_=qq(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"bool[]":_=nK(e.attr,l.tfName,l.defaultValue),_===void 0&&!!l.tfDeprecatedName&&(_=nK(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"shape":_=Qq(e.attr,l.tfName,l.defaultValue),_===void 0&&!!l.tfDeprecatedName&&(_=Qq(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"shape[]":_=tK(e.attr,l.tfName,l.defaultValue),_===void 0&&!!l.tfDeprecatedName&&(_=tK(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"dtype":_=Xq(e.attr,l.tfName,l.defaultValue),_===void 0&&!!l.tfDeprecatedName&&(_=Xq(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"dtype[]":_=Yq(e.attr,l.tfName,l.defaultValue),_===void 0&&!!l.tfDeprecatedName&&(_=Yq(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"func":_=Sfe(e.attr,l.tfName,l.defaultValue),_===void 0&&!!l.tfDeprecatedName&&(_=Sfe(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${l.type} for op: ${e.op}`)}return a[l.name]={value:_,type:u},a},{})),o}mapFunction(e){const n=e.nodeDef,o=[],a=[];let l={};n!=null&&(l=n.reduce((m,g)=>(m[g.name]=this.mapNode(g),g.op==="Const"&&a.push(m[g.name]),m),{}));const u=[],_=[];e.signature.inputArg.forEach(m=>{const[g]=Ph(m.name),y={name:g,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:Jq(m.type),type:"dtype"}},children:[]};y.signatureKey=m.name,u.push(y),l[g]=y}),Object.keys(l).forEach(m=>{const g=l[m];g.inputNames.forEach((y,w)=>{const[E,,A]=Ph(y),S=l[E];if(S.outputs!=null){const C=S.outputs.indexOf(A);if(C!==-1){const R=`${E}:${C}`;g.inputNames[w]=R}}g.inputs.push(S),S.children.push(g)})});const h=e.ret;e.signature.outputArg.forEach(m=>{const[g,y]=Ph(h[m.name]),w=l[g];w!=null&&(w.defaultOutput=y,_.push(w))});const d=this.mapArgsToSignature(e);return{nodes:l,inputs:u,outputs:_,weights:a,placeholders:o,signature:d}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,o)=>(n[o.name]=this.mapArgToTensorInfo(o),n),{}),outputs:e.signature.outputArg.reduce((n,o)=>(n[o.name]=this.mapArgToTensorInfo(o,e.ret),n),{})}}mapArgToTensorInfo(e,n){let o=e.name;return n!=null&&(o=n[o]),{name:o,dtype:e.type}}}function HGe(r){const e=qe().global;if(typeof e.atob!="undefined")return e.atob(r);if(typeof Buffer!="undefined")return new Buffer(r,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function xfe(r,e){const n=Array.isArray(r)?String.fromCharCode.apply(null,r):HGe(r);return e?n:n.toLowerCase()}function Vq(r,e,n,o=!1){const a=r[e];return a!=null?xfe(a.s,o):n}function qq(r,e,n){const o=r[e];return o?o.b:n}function Kq(r,e,n){const o=r[e]||{},a=o.i!=null?o.i:o.f!=null?o.f:n;return typeof a=="number"?a:parseInt(a,10)}function Jq(r){switch(typeof r=="string"&&(r=Y_[r]),r){case Y_.DT_FLOAT:case Y_.DT_HALF:return"float32";case Y_.DT_INT32:case Y_.DT_INT64:case Y_.DT_INT8:case Y_.DT_UINT8:return"int32";case Y_.DT_BOOL:return"bool";case Y_.DT_DOUBLE:return"float32";case Y_.DT_STRING:return"string";default:return null}}function Sfe(r,e,n){const o=r[e];return o&&o.func?o.func.name:n}function Xq(r,e,n){const o=r[e];return o&&o.type?Jq(o.type):n}function Yq(r,e,n){const o=r[e];return o&&o.list&&o.list.type?o.list.type.map(a=>Jq(a)):n}function Efe(r){if(!r.unknownRank)return r.dim!=null?r.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function Qq(r,e,n){const o=r[e];return o&&o.shape?Efe(o.shape):n}function Zq(r,e,n){const o=r[e];return o?((o.list.f&&o.list.f.length?o.list.f:o.list.i)||[]).map(a=>typeof a=="number"?a:parseInt(a,10)):n}function eK(r,e,n,o=!1){const a=r[e];return a&&a.list&&a.list.s?a.list.s.map(l=>xfe(l,o)):n}function tK(r,e,n){const o=r[e];return o&&o.list&&o.list.shape?o.list.shape.map(a=>Efe(a)):n}function nK(r,e,n){const o=r[e];return o&&o.list&&o.list.b?o.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VGe{constructor(e,n,o){this.node=e,this.tensorMap=n,this.context=o,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(a=>this.getInput(a)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((a,l)=>(a[l]=this.getAttr(l),a),{}))}getInput(e){return Pl(e,this.tensorMap,this.context)}getAttr(e,n){const o=this.node.rawAttrs[e];if(o.tensor!=null)return Pl(e,this.tensorMap,this.context);if(o.i!=null||o.f!=null)return Kq(this.node.rawAttrs,e,n);if(o.s!=null)return Vq(this.node.rawAttrs,e,n);if(o.b!=null)return qq(this.node.rawAttrs,e,n);if(o.shape!=null)return Qq(this.node.rawAttrs,e,n);if(o.type!=null)return Xq(this.node.rawAttrs,e,n);if(o.list!=null){if(o.list.i!=null||o.list.f!=null)return Zq(this.node.rawAttrs,e,n);if(o.list.s!=null)return eK(this.node.rawAttrs,e,n);if(o.list.shape!=null)return tK(this.node.rawAttrs,e,n);if(o.list.b!=null)return nK(this.node.rawAttrs,e,n);if(o.list.type!=null)return Yq(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qGe=(r,e,n)=>{switch(r.op){case"BiasAdd":case"AddV2":case"Add":return[lr(H("a",r,e,n),H("b",r,e,n))];case"AddN":return[gce(H("tensors",r,e,n))];case"FloorMod":case"Mod":return[o_e(H("a",r,e,n),H("b",r,e,n))];case"Mul":return[Qt(H("a",r,e,n),H("b",r,e,n))];case"RealDiv":case"Div":return[ro(H("a",r,e,n),H("b",r,e,n))];case"DivNoNan":return[Gce(H("a",r,e,n),H("b",r,e,n))];case"FloorDiv":return[Y9(H("a",r,e,n),H("b",r,e,n))];case"Sub":return[Nr(H("a",r,e,n),H("b",r,e,n))];case"Minimum":return[mq(H("a",r,e,n),H("b",r,e,n))];case"Maximum":return[dq(H("a",r,e,n),H("b",r,e,n))];case"Pow":return[l1(H("a",r,e,n),H("b",r,e,n))];case"SquaredDifference":return[Cq(H("a",r,e,n),H("b",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KGe=(r,e,n)=>{switch(r.op){case"Abs":case"ComplexAbs":return[fc(H("x",r,e,n))];case"Acos":return[mce(H("x",r,e,n))];case"Acosh":return[vce(H("x",r,e,n))];case"Asin":return[wce(H("x",r,e,n))];case"Asinh":return[xce(H("x",r,e,n))];case"Atan":return[Sce(H("x",r,e,n))];case"Atan2":return[Ece(H("x",r,e,n),H("y",r,e,n))];case"Atanh":return[Cce(H("x",r,e,n))];case"Ceil":return[Mce(H("x",r,e,n))];case"Complex":return[wg(H("real",r,e,n),H("imag",r,e,n))];case"Cos":return[Lce(H("x",r,e,n))];case"Cosh":return[Dce(H("x",r,e,n))];case"Elu":return[iq(H("x",r,e,n))];case"Erf":return[Hce(H("x",r,e,n))];case"Exp":return[Tg(H("x",r,e,n))];case"Expm1":return[Vce(H("x",r,e,n))];case"Floor":return[oq(H("x",r,e,n))];case"Log":return[a1(H("x",r,e,n))];case"Log1p":return[lq(H("x",r,e,n))];case"Imag":return[YL(H("x",r,e,n))];case"Neg":return[gm(H("x",r,e,n))];case"Reciprocal":return[d_e(H("x",r,e,n))];case"Real":return[k2(H("x",r,e,n))];case"Relu":return[$2(H("x",r,e,n))];case"Round":return[Sq(H("x",r,e,n))];case"Selu":return[v_e(H("x",r,e,n))];case"Sigmoid":return[zk(H("x",r,e,n))];case"Sin":return[k_e(H("x",r,e,n))];case"Sign":return[y_e(H("x",r,e,n))];case"Sinh":return[$_e(H("x",r,e,n))];case"Softplus":return[uq(H("x",r,e,n))];case"Sqrt":return[Nh(H("x",r,e,n))];case"Square":return[X_(H("x",r,e,n))];case"Tanh":return[KL(H("x",r,e,n))];case"Tan":return[S_e(H("x",r,e,n))];case"ClipByValue":return[Nce(H("x",r,e,n),H("clipValueMin",r,e,n),H("clipValueMax",r,e,n))];case"Relu6":return[xq(H("x",r,e,n))];case"Rsqrt":return[m_e(Pl(r.inputNames[0],e,n))];case"Prod":return[kq(H("x",r,e,n),H("axes",r,e,n))];case"LeakyRelu":return[sq(H("x",r,e,n),H("alpha",r,e,n))];case"Prelu":return[yq(H("x",r,e,n),H("alpha",r,e,n))];case"IsNan":return[Kce(Pl(r.inputNames[0],e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q_(r,e,n=""){if(!(typeof r=="number"||typeof e=="number")){re(r.length===e.length,()=>n+` Shapes ${r} and ${e} must match`);for(let o=0;o<r.length;o++){const a=r[o],l=e[o];re(a<0||l<0||a===l,()=>n+` Shapes ${r} and ${e} must match`)}}}function Cfe(r){return!(typeof r=="number"||r.some(e=>e<0))}function C2(r,e,n){let o=rK(r,n);const a=!Cfe(o);if(a&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${o}`);if(a&&e.forEach(l=>{o=rK(l.shape,o)}),!Cfe(o))throw new Error(`Non-fully-defined elementShape: ${o}`);return o}function rK(r,e){if(typeof r=="number")return e;if(typeof e=="number")return r;if(r.length!==e.length)throw new Error(`Incompatible ranks during merge: ${r} vs. ${e}`);const n=[];for(let o=0;o<r.length;++o){const a=r[o],l=e[o];if(a>=0&&l>=0&&a!==l)throw new Error(`Incompatible shape during merge: ${r} vs. ${e}`);n[o]=a>=0?a:l}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JGe{constructor(e,n,o,a,l,u,_){this.name=e,this.dtype=n,this.maxSize=o,this.elementShape=a,this.identicalElementShapes=l,this.dynamicSize=u,this.clearAfterRead=_,this.tensors=[],this.closed_=!1,this.idTensor=Rr(0),Th(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const o=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),Q_(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),o.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(o.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);o.tensor=n,Th(n),o.written=!0,this.tensors[e]=o}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((o,a)=>this.write(o,n[a]))}gather(e,n){if(!!n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let a=0;a<this.size();a++)e.push(a)}if(e.length===0)return Ah([],[0].concat(this.elementShape));const o=this.readMany(e);return Q_(this.elementShape,o[0].shape,"TensorArray shape mismatch: "),Rh(o,0)}concat(e){if(!!e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Ah([],[0].concat(this.elementShape));const n=[];for(let a=0;a<this.size();a++)n.push(a);const o=this.readMany(n);return Q_(this.elementShape,o[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${o[0].shape})`),al(o,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const o=Math.max(...e);if(!this.dynamicSize&&o>=this.maxSize)throw new Error(`Max index must be < array size (${o}  vs. ${this.maxSize})`);this.writeMany(e,Rg(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let o=0;const a=e.map(f=>(o+=f,o));if(o!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${o}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const l=o===0?0:n.size/o,u=[];vr(()=>{n=lt(n,[1,o,l]);for(let f=0;f<e.length;++f){const h=f===0?0:a[f-1],d=[0,h,0],m=[1,e[f],l];u[f]=lt(qi(n,d,m),this.elementShape)}return u});const _=[];for(let f=0;f<e.length;f++)_[f]=f;this.writeMany(_,u)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class p1{constructor(e,n,o,a=-1){this.tensors=e,this.elementShape=n,this.elementDtype=o,e!=null&&e.forEach(l=>{if(o!==l.dtype)throw new Error(`Invalid data types; op elements ${o}, but list elements ${l.dtype}`);Q_(n,l.shape,"TensorList shape mismatch: "),Th(l)}),this.idTensor=Rr(0),this.maxNumElements=a,Th(this.idTensor)}get id(){return this.idTensor.id}copy(){return new p1([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,o=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(o!==-1&&this.tensors.length!==o)throw new Error(`Operation expected a list with ${o} elements but got a list with ${this.tensors.length} elements.`);Q_(e,this.elementShape,"TensorList shape mismatch: ");const a=C2(this.elementShape,this.tensors,e);return vr(()=>{const l=this.tensors.map(u=>lt(u,a));return Rh(l,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const o=C2(this.elementShape,this.tensors,e),a=this.tensors.pop();return Q_(a.shape,e,"TensorList shape mismatch: "),lt(a,o)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Q_(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Th(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);this.tensors.length=e}getItem(e,n,o){if(o!==this.elementDtype)throw new Error(`Invalid data types; op elements ${o}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);Q_(this.tensors[e].shape,n,"TensorList shape mismatch: ");const a=C2(this.elementShape,this.tensors,n);return lt(this.tensors[e],a)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Q_(this.elementShape,n.shape,"TensorList shape mismatch: "),Th(n),this.tensors[e]=n}gather(e,n,o){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);Q_(this.elementShape,o,"TensorList shape mismatch: "),e=e.slice(0,this.size());const a=C2(this.elementShape,this.tensors,o);return e.length===0?Ah([],[0].concat(a)):vr(()=>{const l=e.map(u=>lt(this.tensors[u],a));return Rh(l,0)})}concat(e,n){if(!!e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Q_(this.elementShape,n,"TensorList shape mismatch: ");const o=C2(this.elementShape,this.tensors,n);return this.size()===0?Ah([],[0].concat(o)):vr(()=>{const a=this.tensors.map(l=>lt(l,o));return al(a,0)})}}function XGe(r,e,n){const o=r.dtype;if(r.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${r.shape}`);if(r.dtype!==n)throw new Error(`Invalid data types; op elements ${r.dtype}, but list elements ${n}`);const a=r.shape.slice(1);Q_(a,e,"TensorList shape mismatch: ");const l=Rg(r);return new p1(l,e,o)}function YGe(r,e,n){return new p1([],r,e,n)}function QGe(r,e,n,o){if(e.length!==r.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${r.shape[0]}`);const a=Math.max(...e);if(o!=null&&o!==-1&&a>=o)throw new Error(`Max index must be < array size (${a}  vs. ${o})`);const l=new p1([],n,r.dtype,o),u=Rg(r,0);return e.forEach((_,f)=>{l.setItem(_,u[f])}),l}function ZGe(r,e,n){let o=0;const a=e.map(d=>(o+=d,o));if(o!==r.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${o}, and tensor's shape is: ${r.shape}`);const l=r.shape.slice(1),u=rK(l,n),_=o===0?0:r.size/o,f=vr(()=>{const d=[];r=lt(r,[1,o,_]);for(let m=0;m<e.length;++m){const g=m===0?0:a[m-1],y=[0,g,0],w=[1,e[m],_];d[m]=lt(qi(r,y,w),u)}return r.dispose(),d}),h=new p1([],n,r.dtype,e.length);for(let d=0;d<f.length;d++)h.setItem(d,f[d]);return h}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e8e=async(r,e,n)=>{switch(r.op){case"If":case"StatelessIf":{const o=H("thenBranch",r,e,n),a=H("elseBranch",r,e,n),l=H("cond",r,e,n),u=H("args",r,e,n);return(await l.data())[0]?n.functionMap[o].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const o=H("body",r,e,n),a=H("cond",r,e,n),l=H("args",r,e,n),u=await n.functionMap[a].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap),_=l.map(d=>d.id);let f=await u[0].data();u.forEach(d=>{!d.kept&&_.indexOf(d.id)===-1&&d.dispose()});let h=l;for(;f[0];){const d=h;h=await n.functionMap[o].executeFunctionAsync(h,n.tensorArrayMap,n.tensorListMap);const m=h.map(y=>y.id);d.forEach(y=>{!y.kept&&_.indexOf(y.id)===-1&&m.indexOf(y.id)===-1&&y.dispose()});const g=await n.functionMap[a].executeFunctionAsync(h,n.tensorArrayMap,n.tensorListMap);f=await g[0].data(),g.forEach(y=>{!y.kept&&_.indexOf(y.id)===-1&&m.indexOf(y.id)===-1&&y.dispose()})}return h}case"LoopCond":{const o=H("pred",r,e,n);return[$m(o)]}case"Switch":{const o=H("pred",r,e,n);let a=H("data",r,e,n);return a.kept||(a=$m(a)),(await o.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const o=r.inputNames.find(a=>Pl(a,e,n)!==void 0);if(o){const a=Pl(o,e,n);return[$m(a)]}return}case"Enter":{const o=H("frameName",r,e,n),a=H("tensor",r,e,n);return n.enterFrame(o),[$m(a)]}case"Exit":{const o=H("tensor",r,e,n);return n.exitFrame(),[$m(o)]}case"NextIteration":{const o=H("tensor",r,e,n);return n.nextIteration(),[$m(o)]}case"TensorArrayV3":{const o=H("size",r,e,n),a=H("dtype",r,e,n),l=H("elementShape",r,e,n),u=H("dynamicSize",r,e,n),_=H("clearAfterRead",r,e,n),f=H("identicalElementShapes",r,e,n),h=H("name",r,e,n),d=new JGe(h,a,o,l,f,u,_);return n.addTensorArray(d),[d.idTensor,Rr(1)]}case"TensorArrayWriteV3":{const o=H("tensorArrayId",r,e,n),a=H("index",r,e,n),l=H("tensor",r,e,n),u=n.getTensorArray(o.id);return u.write(a,l),[u.idTensor]}case"TensorArrayReadV3":{const o=H("tensorArrayId",r,e,n),a=H("index",r,e,n);return[n.getTensorArray(o.id).read(a)]}case"TensorArrayGatherV3":{const o=H("tensorArrayId",r,e,n),a=H("indices",r,e,n),l=H("dtype",r,e,n);return[n.getTensorArray(o.id).gather(a,l)]}case"TensorArrayScatterV3":{const o=H("tensorArrayId",r,e,n),a=H("indices",r,e,n),l=H("tensor",r,e,n),u=n.getTensorArray(o.id);return u.scatter(a,l),[u.idTensor]}case"TensorArrayConcatV3":{const o=H("tensorArrayId",r,e,n),a=n.getTensorArray(o.id),l=H("dtype",r,e,n);return[a.concat(l)]}case"TensorArraySplitV3":{const o=H("tensorArrayId",r,e,n),a=H("tensor",r,e,n),l=H("lengths",r,e,n),u=n.getTensorArray(o.id);return u.split(l,a),[u.idTensor]}case"TensorArraySizeV3":{const o=H("tensorArrayId",r,e,n),a=n.getTensorArray(o.id);return[Rr(a.size(),"int32")]}case"TensorArrayCloseV3":{const o=H("tensorArrayId",r,e,n),a=n.getTensorArray(o.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const o=H("tensorListId",r,e,n),a=H("index",r,e,n),l=H("tensor",r,e,n),u=n.getTensorList(o.id);return u.setItem(a,l),[u.idTensor]}case"TensorListGetItem":{const o=H("tensorListId",r,e,n),a=H("index",r,e,n),l=H("elementShape",r,e,n),u=H("elementDType",r,e,n);return[n.getTensorList(o.id).getItem(a,l,u)]}case"TensorListScatterV2":case"TensorListScatter":{const o=H("indices",r,e,n),a=H("tensor",r,e,n),l=H("elementShape",r,e,n),u=H("numElements",r,e,n),_=QGe(a,o,l,u);return n.addTensorList(_),[_.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const o=H("elementShape",r,e,n),a=H("elementDType",r,e,n);let l;r.op==="TensorListReserve"?l="numElements":l="maxNumElements";const u=H(l,r,e,n),_=YGe(o,a,u);return n.addTensorList(_),[_.idTensor]}case"TensorListGather":{const o=H("tensorListId",r,e,n),a=H("indices",r,e,n),l=H("elementShape",r,e,n),u=H("elementDType",r,e,n);return[n.getTensorList(o.id).gather(a,u,l)]}case"TensorListStack":{const o=H("tensorListId",r,e,n),a=H("elementShape",r,e,n),l=H("elementDType",r,e,n),u=H("numElements",r,e,n);return[n.getTensorList(o.id).stack(a,l,u)]}case"TensorListFromTensor":{const o=H("tensor",r,e,n),a=H("elementShape",r,e,n),l=H("elementDType",r,e,n),u=XGe(o,a,l);return n.addTensorList(u),[u.idTensor]}case"TensorListConcat":{const o=H("tensorListId",r,e,n),a=n.getTensorList(o.id),l=H("dtype",r,e,n),u=H("elementShape",r,e,n);return[a.concat(l,u)]}case"TensorListPushBack":{const o=H("tensorListId",r,e,n),a=H("tensor",r,e,n),l=n.getTensorList(o.id);return l.pushBack(a),[l.idTensor]}case"TensorListPopBack":{const o=H("tensorListId",r,e,n),a=H("elementShape",r,e,n),l=H("elementDType",r,e,n);return[n.getTensorList(o.id).popBack(a,l)]}case"TensorListSplit":{const o=H("tensor",r,e,n),a=H("elementShape",r,e,n),l=H("lengths",r,e,n),u=ZGe(o,l,a);return n.addTensorList(u),[u.idTensor]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Afe(r,e,n){const[o,a]=H("fusedOps",r,e,n),l=o==="biasadd",u=!l,_=a==="prelu",f=o==="fusedbatchnorm",h=H("numArgs",r,e,n);if(l){if(_&&h!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!_&&l&&h!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(f)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const d=H("strides",r,e,n),m=mD(r,e,n),g=H("dataFormat",r,e,n).toUpperCase(),y=H("dilations",r,e,n);let[w,E]=H("args",r,e,n);u&&(E=w,w=void 0);const A=H("leakyreluAlpha",r,e,n);return{stride:d,pad:m,dataFormat:g,dilations:y,biasArg:w,preluArg:E,activationFunc:a,leakyreluAlpha:A}}const t8e=(r,e,n)=>{switch(r.op){case"Conv1D":{const o=H("stride",r,e,n),a=H("pad",r,e,n),l=H("dataFormat",r,e,n).toUpperCase(),u=H("dilation",r,e,n);return[Rce(H("x",r,e,n),H("filter",r,e,n),o,a,l,u)]}case"Conv2D":{const o=H("strides",r,e,n),a=mD(r,e,n),l=H("dataFormat",r,e,n).toUpperCase(),u=H("dilations",r,e,n);return[d2(H("x",r,e,n),H("filter",r,e,n),[o[1],o[2]],a,l,[u[1],u[2]])]}case"_FusedConv2D":{const{stride:o,pad:a,dataFormat:l,dilations:u,biasArg:_,preluArg:f,activationFunc:h,leakyreluAlpha:d}=Afe(r,e,n);return[N_e({x:H("x",r,e,n),filter:H("filter",r,e,n),strides:[o[1],o[2]],pad:a,dataFormat:l,dilations:[u[1],u[2]],bias:_,activation:h,preluActivationWeights:f,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:o,pad:a,dataFormat:l,dilations:u,biasArg:_,preluArg:f,activationFunc:h,leakyreluAlpha:d}=Afe(r,e,n);return[R_e({x:H("x",r,e,n),filter:H("filter",r,e,n),strides:[o[1],o[2]],pad:a,dataFormat:l,dilations:[u[1],u[2]],bias:_,activation:h,preluActivationWeights:f,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const o=H("outputShape",r,e,n),a=H("strides",r,e,n),l=mD(r,e,n);return[Bce(H("x",r,e,n),H("filter",r,e,n),o,[a[1],a[2]],l)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const o=H("strides",r,e,n),a=mD(r,e,n),l=H("dilations",r,e,n),u=H("dataFormat",r,e,n).toUpperCase();return[JL(H("input",r,e,n),H("filter",r,e,n),[o[1],o[2]],a,u,[l[1],l[2]])]}case"Conv3D":{const o=H("strides",r,e,n),a=H("pad",r,e,n),l=H("dataFormat",r,e,n).toUpperCase(),u=H("dilations",r,e,n);return[Fce(H("x",r,e,n),H("filter",r,e,n),[o[1],o[2],o[3]],a,l,[u[1],u[2],u[3]])]}case"AvgPool":{const o=H("strides",r,e,n),a=H("pad",r,e,n),l=H("kernelSize",r,e,n);return[eq(H("x",r,e,n),[l[1],l[2]],[o[1],o[2]],a)]}case"MaxPool":{const o=H("strides",r,e,n),a=H("pad",r,e,n),l=H("kernelSize",r,e,n);return[hq(H("x",r,e,n),[l[1],l[2]],[o[1],o[2]],a)]}case"MaxPoolWithArgmax":{const o=H("strides",r,e,n),a=H("pad",r,e,n),l=H("kernelSize",r,e,n),u=H("includeBatchInIndex",r,e,n),{result:_,indexes:f}=r_e(H("x",r,e,n),[l[1],l[2]],[o[1],o[2]],a,u);return[_,f]}case"AvgPool3D":{const o=H("strides",r,e,n),a=H("pad",r,e,n),l=H("kernelSize",r,e,n);return[Tce(H("x",r,e,n),[l[1],l[2],l[3]],[o[1],o[2],o[3]],a)]}case"MaxPool3D":{const o=H("strides",r,e,n),a=H("pad",r,e,n),l=H("kernelSize",r,e,n);return[n_e(H("x",r,e,n),[l[1],l[2],l[3]],[o[1],o[2],o[3]],a)]}case"Dilation2D":{const o=H("strides",r,e,n),a=H("pad",r,e,n),l=H("dilations",r,e,n),u=o[1],_=o[2],f=l[1],h=l[2];return[jce(H("x",r,e,n),H("filter",r,e,n),[u,_],a,[f,h],"NHWC")]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n8e=(r,e,n)=>{switch(r.op){case"Fill":{const o=H("shape",r,e,n),a=H("dtype",r,e,n),l=H("value",r,e,n);return[m2(o,l,a)]}case"LinSpace":{const o=H("start",r,e,n),a=H("stop",r,e,n),l=H("num",r,e,n);return[Xce(o,a,l)]}case"Multinomial":{const o=H("logits",r,e,n),a=H("numSamples",r,e,n),l=H("seed",r,e,n);return[a_e(o,a,l)]}case"OneHot":{const o=H("indices",r,e,n),a=H("depth",r,e,n),l=H("onValue",r,e,n),u=H("offValue",r,e,n);return[HL(o,a,l,u)]}case"Ones":return[Ng(H("shape",r,e,n),H("dtype",r,e,n))];case"OnesLike":return[s_e(H("x",r,e,n))];case"RandomUniform":return[wq(H("shape",r,e,n),H("minval",r,e,n),H("maxval",r,e,n),H("dtype",r,e,n))];case"Range":{const o=H("start",r,e,n),a=H("stop",r,e,n),l=H("step",r,e,n);return[u1(o,a,l,H("dtype",r,e,n))]}case"TruncatedNormal":{const o=H("shape",r,e,n),a=H("mean",r,e,n),l=H("stdDev",r,e,n),u=H("seed",r,e,n);return[C_e(o,a,l,H("dtype",r,e,n),u)]}case"Zeros":return[Mg(H("shape",r,e,n),H("dtype",r,e,n))];case"ZerosLike":return[hc(H("x",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iK(r,e,n){const o=H("boxes",r,e,n),a=H("scores",r,e,n),l=H("maxOutputSize",r,e,n),u=H("iouThreshold",r,e,n),_=H("scoreThreshold",r,e,n),f=H("softNmsSigma",r,e,n);return{boxes:o,scores:a,maxOutputSize:l,iouThreshold:u,scoreThreshold:_,softNmsSigma:f}}const r8e=async(r,e,n)=>{switch(r.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:a,maxOutputSize:l,iouThreshold:u,scoreThreshold:_,softNmsSigma:f}=iK(r,e,n),h=await Wk.nonMaxSuppressionWithScoreAsync(o,a,l,u,_,f);return[h.selectedIndices,h.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:a,maxOutputSize:l,iouThreshold:u,scoreThreshold:_}=iK(r,e,n),f=H("padToMaxOutputSize",r,e,n),h=await Wk.nonMaxSuppressionPaddedAsync(o,a,l,u,_,f);return[h.selectedIndices,h.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:a,maxOutputSize:l,iouThreshold:u,scoreThreshold:_}=iK(r,e,n);return[await Wk.nonMaxSuppressionAsync(o,a,l,u,_)]}case"Where":{const o=Vi(H("condition",r,e,n),"bool"),a=[await Iq(o)];return o.dispose(),a}case"ListDiff":return g_e(H("x",r,e,n),H("y",r,e,n));default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i8e=(r,e,n)=>{switch(r.op){case"TopKV2":{const o=H("x",r,e,n),a=H("k",r,e,n),l=H("sorted",r,e,n),u=E_e(o,a,l);return[u.values,u.indices]}case"Unique":{const o=H("x",r,e,n),a=Aq(o);return[a.values,a.indices]}case"UniqueV2":{const o=H("x",r,e,n),a=H("axis",r,e,n),l=Aq(o,a);return[l.values,l.indices]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o8e=(r,e,n)=>{switch(r.op){case"Const":return e[r.name];case"PlaceholderWithDefault":const o=H("default",r,e,n);return[Pl(r.name,e,n)||o];case"Placeholder":return[Pl(r.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const h=H("x",r,e,n);return[$m(h)]}case"IdentityN":return H("x",r,e,n).map(h=>$m(h));case"Snapshot":const a=H("x",r,e,n);return[$m(a)];case"Shape":return[i_(H("x",r,e,n).shape,"int32")];case"ShapeN":return H("x",r,e,n).map(h=>i_(h.shape));case"Size":return[Rr(H("x",r,e,n).size,"int32")];case"Rank":return[Rr(H("x",r,e,n).rank,"int32")];case"NoOp":return[Rr(1)];case"Print":const l=H("x",r,e,n),u=H("data",r,e,n),_=H("message",r,e,n),f=H("summarize",r,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(_);for(let h=0;h<u.length;h++)console.log(Array.prototype.slice.call(u[h].dataSync()).slice(0,f));return[l];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class a8e{constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=Rr(0),this.tensorMap=new Map,Th(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Rr(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const o=await e.data();return this.tensorMap.forEach(a=>a.dispose()),this.tensorMap.clear(),vr(()=>{const a=Rg(n),l=o.length,u=a.length;re(l===u,()=>`The number of elements doesn't match, keys has ${l} elements, the values has ${u} elements.`);for(let _=0;_<l;_++){const f=o[_],h=a[_];Th(h),this.tensorMap.set(f,h)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const o=await e.data();return vr(()=>{const a=[];for(let l=0;l<o.length;l++){const u=o[l],_=this.findWithDefault(u,n);a.push(_)}return Rh(a)})}findWithDefault(e,n){const o=this.tensorMap.get(e);return o!=null?o:n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s8e=async(r,e,n,o)=>{switch(r.op){case"HashTable":case"HashTableV2":{const a=H("keyDType",r,e,n),l=H("valueDType",r,e,n),u=new a8e(a,l);return o.addHashTable(r.name,u),[u.handle]}case"LookupTableImport":case"LookupTableImportV2":{const a=H("tableHandle",r,e,n,o),l=H("keys",r,e,n),u=H("values",r,e,n);return[await o.getHashTableById(a.id).import(l,u)]}case"LookupTableFind":case"LookupTableFindV2":{const a=H("tableHandle",r,e,n,o),l=H("keys",r,e,n),u=H("defaultValue",r,e,n);return[await o.getHashTableById(a.id).find(l,u)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=H("tableHandle",r,e,n,o);return[o.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l8e=(r,e,n)=>{switch(r.op){case"ResizeBilinear":{const o=H("images",r,e,n),a=H("size",r,e,n),l=H("alignCorners",r,e,n),u=H("halfPixelCenters",r,e,n);return[Wk.resizeBilinear(o,[a[0],a[1]],l,u)]}case"ResizeNearestNeighbor":{const o=H("images",r,e,n),a=H("size",r,e,n),l=H("alignCorners",r,e,n),u=H("halfPixelCenters",r,e,n);return[Wk.resizeNearestNeighbor(o,[a[0],a[1]],l,u)]}case"CropAndResize":{const o=H("image",r,e,n),a=H("boxes",r,e,n),l=H("boxInd",r,e,n),u=H("cropSize",r,e,n),_=H("method",r,e,n),f=H("extrapolationValue",r,e,n);return[Wk.cropAndResize(o,a,l,u,_,f)]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u8e=(r,e,n)=>{switch(r.op){case"Equal":return[rq(H("a",r,e,n),H("b",r,e,n))];case"NotEqual":return[vq(H("a",r,e,n),H("b",r,e,n))];case"Greater":return[v2(H("a",r,e,n),H("b",r,e,n))];case"GreaterEqual":return[aq(H("a",r,e,n),H("b",r,e,n))];case"Less":return[Jce(H("a",r,e,n),H("b",r,e,n))];case"LessEqual":return[QL(H("a",r,e,n),H("b",r,e,n))];case"LogicalAnd":return[g2(H("a",r,e,n),H("b",r,e,n))];case"LogicalNot":return[fq(H("a",r,e,n))];case"LogicalOr":return[pq(H("a",r,e,n),H("b",r,e,n))];case"Select":case"SelectV2":return[Uk(H("condition",r,e,n),H("a",r,e,n),H("b",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c8e=(r,e,n)=>{switch(r.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[bi(H("a",r,e,n),H("b",r,e,n),H("transposeA",r,e,n),H("transposeB",r,e,n))];case"Einsum":return[Wce(H("equation",r,e,n),...H("tensors",r,e,n))];case"Transpose":return[u2(H("x",r,e,n),H("perm",r,e,n))];case"_FusedMatMul":const[o,a]=H("fusedOps",r,e,n),l=o==="biasadd",u=a==="prelu",_=H("numArgs",r,e,n),f=H("leakyreluAlpha",r,e,n);if(l){if(u&&_!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&_!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[h,d]=H("args",r,e,n);return[P_e({a:H("a",r,e,n),b:H("b",r,e,n),transposeA:H("transposeA",r,e,n),transposeB:H("transposeB",r,e,n),bias:h,activation:a,preluActivationWeights:d,leakyreluAlpha:f})];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _8e=(r,e,n)=>{switch(r.op){case"FusedBatchNorm":case"FusedBatchNormV2":return[i1(H("x",r,e,n),H("mean",r,e,n),H("variance",r,e,n),H("offset",r,e,n),H("scale",r,e,n),H("epsilon",r,e,n))];case"FusedBatchNormV3":return[i1(H("x",r,e,n),H("mean",r,e,n),H("variance",r,e,n),H("offset",r,e,n),H("scale",r,e,n),H("epsilon",r,e,n))];case"LRN":return[Yce(H("x",r,e,n),H("radius",r,e,n),H("bias",r,e,n),H("alpha",r,e,n),H("beta",r,e,n))];case"Softmax":return[b_e(H("x",r,e,n))];case"LogSoftmax":return[Zce(H("x",r,e,n))];case"SparseToDense":return[Nq(H("sparseIndices",r,e,n),H("outputShape",r,e,n),H("sparseValues",r,e,n),H("defaultValue",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f8e=(r,e,n)=>{switch(r.op){case"Max":{const u=H("axis",r,e,n),_=H("keepDims",r,e,n);return[jk(H("x",r,e,n),u,_)]}case"Mean":{const u=H("axis",r,e,n),_=H("keepDims",r,e,n);return[y2(H("x",r,e,n),u,_)]}case"Min":{const u=H("axis",r,e,n),_=H("keepDims",r,e,n);return[eD(H("x",r,e,n),u,_)]}case"Sum":{const u=H("axis",r,e,n),_=H("keepDims",r,e,n);return[io(H("x",r,e,n),u,_)]}case"All":{const u=H("axis",r,e,n),_=H("keepDims",r,e,n);return[yce(H("x",r,e,n),u,_)]}case"Any":{const u=H("axis",r,e,n),_=H("keepDims",r,e,n);return[kce(H("x",r,e,n),u,_)]}case"ArgMax":{const u=H("axis",r,e,n);return[$ce(H("x",r,e,n),u)]}case"ArgMin":{const u=H("axis",r,e,n);return[bce(H("x",r,e,n),u)]}case"Prod":{const u=H("axis",r,e,n),_=H("keepDims",r,e,n);return[kq(H("x",r,e,n),u,_)]}case"Cumsum":{const u=H("axis",r,e,n),_=H("exclusive",r,e,n),f=H("reverse",r,e,n);return[Oce(H("x",r,e,n),u,_,f)]}case"Bincount":const o=H("x",r,e,n),a=H("weights",r,e,n),l=H("size",r,e,n);return[nq(o,a,l)];case"DenseBincount":{const u=H("x",r,e,n),_=H("weights",r,e,n),f=H("size",r,e,n),h=H("binaryOutput",r,e,n);return[zce(u,_,f,h)]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p8e=(r,e,n)=>{switch(r.op){case"ConcatV2":case"Concat":{const o=H("n",r,e,n),a=H("axis",r,e,n);let l=H("tensors",r,e,n);return l=l.slice(0,o),[al(l,a)]}case"Gather":{const o=H("x",r,e,n),a=H("indices",r,e,n);return[XL(o,Vi(a,"int32"),0)]}case"GatherV2":{const o=H("axis",r,e,n),a=H("batchDims",r,e,n),l=H("x",r,e,n),u=H("indices",r,e,n);return[XL(l,Vi(u,"int32"),o,a)]}case"Reverse":{const o=H("dims",r,e,n),a=[];for(let u=0;u<o.length;u++)o[u]&&a.push(u);const l=H("x",r,e,n);return[ym(l,a)]}case"ReverseV2":{const o=H("axis",r,e,n),a=H("x",r,e,n);return[ym(a,o)]}case"Slice":{const o=H("begin",r,e,n),a=H("size",r,e,n);return[qi(H("x",r,e,n),o,a)]}case"StridedSlice":{const o=H("begin",r,e,n),a=H("end",r,e,n),l=H("strides",r,e,n),u=H("beginMask",r,e,n),_=H("endMask",r,e,n),f=H("ellipsisMask",r,e,n),h=H("newAxisMask",r,e,n),d=H("shrinkAxisMask",r,e,n),m=H("x",r,e,n);return[x_e(m,o,a,l,u,_,f,h,d)]}case"Pack":return vr(()=>{const o=H("axis",r,e,n),a=H("tensors",r,e,n),l=a[0].shape,u=_1(a[0]).shape,_=a.map(f=>{const h=Bo(f.shape,l);if(!h&&!Bo(_1(f).shape,u))throw new Error("the input tensors shape does not match");return h?f:lt(f,l)});return[Rh(_,o)]});case"Unpack":{const o=H("axis",r,e,n),a=H("tensor",r,e,n);return Rg(a,o)}case"Tile":{const o=H("reps",r,e,n);return[o1(H("x",r,e,n),o)]}case"Split":case"SplitV":{const o=H("axis",r,e,n),a=H("numOrSizeSplits",r,e,n),l=H("x",r,e,n);return c1(l,a,o)}case"ScatterNd":{const o=H("indices",r,e,n),a=H("values",r,e,n),l=H("shape",r,e,n);return[T_e(o,a,l)]}case"GatherNd":{const o=H("x",r,e,n),a=H("indices",r,e,n);return[I_e(o,a)]}case"SparseToDense":{const o=H("sparseIndices",r,e,n),a=H("outputShape",r,e,n),l=H("sparseValues",r,e,n),u=H("defaultValue",r,e,n);return[Nq(o,l,a,l.dtype===u.dtype?u:Vi(u,l.dtype))]}default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h8e=(r,e,n)=>{switch(r.op){case"SparseFillEmptyRows":{const{outputIndices:o,outputValues:a,emptyRowIndicator:l,reverseIndexMap:u}=x2.sparseFillEmptyRows(H("indices",r,e,n),H("values",r,e,n),H("denseShape",r,e,n),H("defaultValue",r,e,n));return[o,a,l,u]}case"SparseReshape":{const{outputIndices:o,outputShape:a}=x2.sparseReshape(H("inputIndices",r,e,n),H("inputShape",r,e,n),H("newShape",r,e,n));return[o,a]}case"SparseSegmentMean":return[x2.sparseSegmentMean(H("data",r,e,n),H("indices",r,e,n),H("segmentIds",r,e,n))];case"SparseSegmentSum":return[x2.sparseSegmentSum(H("data",r,e,n),H("indices",r,e,n),H("segmentIds",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d8e=(r,e,n)=>{switch(r.op){case"FFT":return[tD(H("x",r,e,n))];case"IFFT":return[b2(H("x",r,e,n))];case"RFFT":return[nD(H("x",r,e,n))];case"IRFFT":return[Eq(H("x",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m8e=(r,e,n)=>{switch(r.op){case"StringNGrams":{const{nGrams:o,nGramsSplits:a}=sD.stringNGrams(H("data",r,e,n),H("dataSplits",r,e,n),H("separator",r,e,n),H("nGramWidths",r,e,n),H("leftPad",r,e,n),H("rightPad",r,e,n),H("padWidth",r,e,n),H("preserveShortSequences",r,e,n));return[o,a]}case"StringSplit":{const{indices:o,values:a,shape:l}=sD.stringSplit(H("input",r,e,n),H("delimiter",r,e,n),H("skipEmpty",r,e,n));return[o,a,l]}case"StringToHashBucketFast":return[sD.stringToHashBucketFast(H("input",r,e,n),H("numBuckets",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v8e=(r,e,n)=>{switch(r.op){case"Cast":return[Vi(H("x",r,e,n),H("dtype",r,e,n))];case"ExpandDims":{const o=H("axis",r,e,n);return[Ig(H("x",r,e,n),o)]}case"Squeeze":{const o=H("axis",r,e,n);return[_1(H("x",r,e,n),o)]}case"Reshape":return[lt(H("x",r,e,n),H("shape",r,e,n))];case"MirrorPad":return[i_e(H("x",r,e,n),H("padding",r,e,n),H("mode",r,e,n))];case"PadV2":case"Pad":return[s1(H("x",r,e,n),H("padding",r,e,n),H("constantValue",r,e,n))];case"SpaceToBatchND":{const o=H("blockShape",r,e,n),a=H("paddings",r,e,n);return[gq(H("x",r,e,n),o,a)]}case"BatchToSpaceND":{const o=H("blockShape",r,e,n),a=H("crops",r,e,n);return[tq(H("x",r,e,n),o,a)]}case"DepthToSpace":{const o=H("blockSize",r,e,n),a=H("dataFormat",r,e,n).toUpperCase();return[Uce(H("x",r,e,n),o,a)]}case"BroadcastTo":return[h2(H("x",r,e,n),H("shape",r,e,n))];case"BroadcastArgs":return[Ice(H("s0",r,e,n),H("s1",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tfe(r,e,n,o){const a=((l,u,_)=>{switch(l.category){case"arithmetic":return vr(()=>qGe(l,u,_));case"basic_math":return vr(()=>KGe(l,u,_));case"control":return e8e(l,u,_);case"convolution":return vr(()=>t8e(l,u,_));case"creation":return vr(()=>n8e(l,u,_));case"dynamic":return r8e(l,u,_);case"evaluation":return vr(()=>i8e(l,u,_));case"image":return vr(()=>l8e(l,u,_));case"graph":return vr(()=>o8e(l,u,_));case"logical":return vr(()=>u8e(l,u,_));case"matrices":return vr(()=>c8e(l,u,_));case"normalization":return vr(()=>_8e(l,u,_));case"reduction":return vr(()=>f8e(l,u,_));case"slice_join":return vr(()=>p8e(l,u,_));case"sparse":return vr(()=>h8e(l,u,_));case"spectral":return vr(()=>d8e(l,u,_));case"string":return vr(()=>m8e(l,u,_));case"transformation":return vr(()=>v8e(l,u,_));case"hash_table":return s8e(l,u,_,o);case"custom":const f=bfe(l.op);if(f&&f.customExecutor)return f.customExecutor(new VGe(l,u,_));throw TypeError(`Custom op ${l.op} is not registered.`);default:throw TypeError(`Unknown op '${l.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(r,e,n);return Hx(a)?a.then(l=>[].concat(l)):[].concat(a)}class Ife{constructor(e={},n={},o={},a={}){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=o,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const o=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(o))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mfe(r,e,n,o){const a=new Set,l=[];let u=null,_=null;const f=new Set,h=Object.keys(r).map(g=>dc(g)[0]);let d=[];o!=null&&(d=o.map(g=>dc(g.name)[0]));const m=[...e];for(;m.length>0;){const g=m.pop();if((Nfe(g)||b8e(g)||w8e(g))&&u==null&&(u=g,_=u.children.map(y=>y.name).filter(y=>a.has(y))),a.add(g.name),n[g.name]==null&&h.indexOf(g.name)===-1&&d.indexOf(g.name)===-1){if(g.inputs.length===0){l.push(g.name);continue}g.inputs.forEach(y=>{f.has(y.name)||(f.add(y.name),m.push(y))})}}return{inputs:r,outputs:e,usedNodes:a,missingInputs:l,dynamicNode:u,syncInputs:_}}function g8e(r,e,n){const{usedNodes:o,inputs:a}=n,l=[],u=Object.keys(a).map(d=>dc(d)[0]).map(d=>r.nodes[d]),_=r.initNodes;u.forEach(d=>{o.has(d.name)&&l.push(d)}),r.weights.forEach(d=>{o.has(d.name)&&l.push(d)}),_!=null&&_.forEach(d=>{o.has(d.name)&&l.push(d)});const f=new Set,h=[];for(;l.length>0;){const d=l.pop();f.add(d.name),e[d.name]||h.push(d),d.children.forEach(m=>{!f.has(m.name)&&o.has(m.name)&&m.inputs.every(g=>f.has(g.name))&&l.push(m)})}return h}const y8e=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],k8e=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],$8e=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function Nfe(r){return y8e.indexOf(r.op)>=0}function b8e(r){return k8e.indexOf(r.op)>=0}function w8e(r){return $8e.indexOf(r.op)>=0}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vD{constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(o=>{this._functionExecutorMap[o]=new vD(e.functions[o],this)})}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(o=>e[o].map(a=>a.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}getCompilationKey(e,n){const o=e.map(l=>l.name).sort(),a=n.map(l=>l.name).sort();return o.join(this.SEPERATOR)+"--"+a.join(this.SEPERATOR)}compile(e,n){const o=Mfe(e,n,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:l,syncInputs:u}=o;if(l!=null)throw new Error(`This execution contains the node '${l.name}', which has the dynamic op '${l.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${u}]`);if(a.length>0){const _=n.map(h=>h.name),f=Object.keys(e);throw new Error(`Cannot compute the outputs [${_}] from the provided inputs [${f}]. Missing the following inputs: [${a}]`)}return g8e(this.graph,this.weightMap,o)}execute(e,n){e=this.mapInputs(e);const o=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const a=o.map(m=>this.graph.nodes[dc(m)[0]]),l=n.map(m=>dc(m)[0]);let u=l.map(m=>this.graph.nodes[m]);this.resetIntermediateTensors(),u.length===0&&(u=this._outputs);const _=this.getCompilationKey(a,u);let f=this.compiledMap.get(_);f==null&&(f=this.compile(e,u),this.compiledMap.set(_,f));const h={},d={};return vr(()=>{const m=new Ife(this.weightMap,h,d,this.functionExecutorMap),g=Object.assign({},this.weightMap);Object.keys(e).forEach(E=>{const[A,S]=dc(E),C=[];C[S]=e[E],g[A]=C});const y=this.getFrozenTensorIds(g),w={};for(let E=0;E<f.length;E++){const A=f[E];if(!g[A.name]){const S=Tfe(A,g,m,this._resourceManager);if(Hx(S))throw new Error(`The execution of the op '${A.op}' returned a promise. Please use model.executeAsync() instead.`);g[A.name]=S,this.checkTensorForDisposal(A.name,A,g,m,y,l,w)}}return this.parent==null&&m.dispose(y),n.map(E=>Pl(E,g,m))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(o=>e[o]).map(o=>o.map(a=>a.id)));return new Set(n)}checkTensorForDisposal(e,n,o,a,l,u,_){n.category==="control"||u.indexOf(e)!==-1||(o[e].forEach(f=>{f!=null&&(_[f.id]=(_[f.id]||0)+n.children.length)}),n.inputs.forEach(f=>{if(f.category!=="control"){const h=aGe(f.name,o,a);h!=null&&h.forEach(d=>{if(d&&!d.kept&&!l.has(d.id)){const m=_[d.id];if(m===1){if(!this.keepTensorForDebug)d.dispose();else{const[g,y]=Ph(n.name,a);this.intermediateTensors[g]?this.intermediateTensors[g][y]=d:(this.intermediateTensors[g]=[],this.intermediateTensors[g][y]=d)}delete _[d.id]}else m!=null&&_[d.id]--}})}}))}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){!this.intermediateTensors||(Object.keys(this.intermediateTensors).forEach(e=>this.intermediateTensors[e].forEach(n=>n.dispose())),this.disposeTensorsMap())}disposeTensorsMap(){!this.tensorsMap||Object.keys(this.tensorsMap).forEach(e=>{this.tensorsMap[e].forEach(o=>{o&&!o.kept&&!o.isDisposed&&!this.keepIds.has(o.id)&&o.dispose()})})}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach(n=>n.dispose()),delete this.intermediateTensors[e]}async _executeAsync(e,n,o=!1,a={},l={}){o||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=qe().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){console.warn(d.message)}this.resetIntermediateTensors();const u=new Ife(this.weightMap,a,l,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,u,n,o);const _=n.map(d=>Pl(d,this.tensorsMap,u)),f=_.map(d=>d.id),h=Object.keys(e).map(d=>e[d].id);return this.keepIds=new Set([...f,...h,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),this.parent==null&&u.dispose(this.keepIds),_}async executeFunctionAsync(e,n,o){const a=e.reduce((l,u,_)=>(l[this.inputs[_].name]=u,l),{});return this._executeAsync(a,this.outputNodes,!0,n,o)}async executeWithControlFlow(e,n,o,a){const l=Object.keys(e),u=l.map(R=>this.graph.nodes[dc(R)[0]]),_=o.map(R=>dc(R)[0]);let f=_.map(R=>this.graph.nodes[R]);f.length===0&&(f=this._outputs);const{usedNodes:h,missingInputs:d,dynamicNode:m,syncInputs:g}=Mfe(e,f,this.weightMap,this._initNodes),y=[...u,...this.graph.weights,...this._initNodes||[]].map(R=>({node:R,contexts:n.currentContext})),w=Object.assign({},this.weightMap);Object.keys(e).forEach(R=>{const[P,D]=dc(R),G=[];G[D]=e[R],w[P]=G});const E={},A=this.getFrozenTensorIds(w),S={};for(;y.length>0;){const R=this.processStack(u,y,n,w,S,A,_,E,h);await Promise.all(R)}m==null&&!a&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const C=f.filter(R=>!Nfe(R)&&!Pl(R.name,w,n)).map(R=>R.name);if(C.length>0){let R="";throw m!=null&&(R=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${g}]`),new Error(`Cannot compute the outputs [${C}] from the provided inputs [${l}]. Consider providing the following inputs: [${d}]. ${R}`)}return w}processStack(e,n,o,a,l,u,_,f,h){const d=[];for(;n.length>0;){const m=n.pop();o.currentContext=m.contexts;let g="";if(m.node.op==="Enter"&&H("isConstant",m.node,a,o)&&([g]=Ph(m.node.name,o)),a[m.node.name]==null){const y=Tfe(m.node,a,o,this._resourceManager);g||([g]=Ph(m.node.name,o));const w=o.currentContext;Hx(y)?d.push(y.then(E=>(a[g]=E,o.currentContext=w,this.checkTensorForDisposal(g,m.node,a,o,u,_,f),this.processChildNodes(m.node,n,o,a,l,h),E))):(a[g]=y,this.checkTensorForDisposal(g,m.node,a,o,u,_,f),this.processChildNodes(m.node,n,o,a,l,h))}else this.processChildNodes(m.node,n,o,a,l,h)}return d}processChildNodes(e,n,o,a,l,u){e.children.forEach(_=>{const[f]=Ph(_.name,o);l[f]||!u.has(_.name)||(_.op==="Merge"?_.inputNames.some(h=>!!Pl(h,a,o))&&(l[f]=!0,n.push({contexts:o.currentContext,node:_})):_.inputNames.every(h=>!!Pl(h,a,o))&&(l[f]=!0,n.push({contexts:o.currentContext,node:_})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const o=e[n],[a]=dc(n),l=this.graph.nodes[a];if(l.attrParams.shape&&l.attrParams.shape.value){const u=l.attrParams.shape.value,_=u.length===o.shape.length&&o.shape.every((f,h)=>u[h]===-1||u[h]===f);re(_,()=>`The shape of dict['${l.name}'] provided in model.execute(dict) must be [${u}], but was [${o.shape}]`)}l.attrParams.dtype&&l.attrParams.dtype.value&&re(o.dtype===l.attrParams.dtype.value,()=>`The dtype of dict['${l.name}'] provided in model.execute(dict) must be ${l.attrParams.dtype.value}, but was ${o.dtype}`)})}mapInputs(e){const n={};for(const o in e)if(this._signature!=null&&this._signature.inputs!=null&&this._signature.inputs[o]!=null){const a=this._signature.inputs[o];n[a.name]=e[o]}else n[o]=e[o];return n}checkInputs(e){const n=Object.keys(e).filter(o=>{const[a]=dc(o);return this.graph.nodes[a]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>this._signature!=null&&this._signature.outputs!=null&&this._signature.outputs[n]!=null?this._signature.outputs[n].name:n,{})}checkOutputs(e){e.forEach(n=>{const[o]=dc(n);if(!this.graph.nodes[o])throw new Error(`The output '${n}' is not found in the graph`)})}}class x8e{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S8e="?tfjs-format=file",E8e="model.json";class Rfe{constructor(e,n={}){this.modelUrl=e,this.loadOptions=n,this.version="n/a",n==null&&(this.loadOptions={}),this.resourceManager=new x8e}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=O9(e,this.loadOptions);else{const n=Fue(e,this.loadOptions);if(n.length===0)n.push(O9(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}async load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=await this.handler.load();return this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let o;this.artifacts.userDefinedMetadata!=null&&this.artifacts.userDefinedMetadata.signature!=null?o=this.artifacts.userDefinedMetadata.signature:o=this.artifacts.signature,this.signature=o,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const a=A9(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new vD(wfe.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const l=wfe.Instance.transformGraph(e.modelInitializer);this.initializer=new vD(l),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,n){if(typeof e=="string"){const o=Bue(e);if(o.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(o.length>1)throw new Error(`Found more than one (${o.length}) save handlers for URL '${e}'`);e=o[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,n){return this.execute(e,this.outputNodes)}normalizeInputs(e){if(!(e instanceof ya)&&!Array.isArray(e))return e;if(e=Array.isArray(e)?e:[e],e.length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce((n,o,a)=>(n[o]=e[a],n),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,n){e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const o=this.executor.execute(e,n);return o.length>1?o:o[0]}async executeAsync(e,n){e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const o=await this.executor.executeAsync(e,n);return o.length>1?o:o[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,o)=>(n[o]=[e[o]],n),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function C8e(r,e={}){if(r==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&r.load==null&&(r.endsWith("/")||(r=r+"/"),r=`${r}${E8e}${S8e}`);const n=new Rfe(r,e);return await n.load(),n}/** @license See the LICENSE file. */const A8e="3.12.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var T8e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",GraphModel:Rfe,loadGraphModel:C8e,deregisterOp:oGe,registerOp:iGe,version_converter:A8e}),I8e=G5(T8e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vk={},oK={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Pfe(r,e){Vk[r]=e}function Bh(r){if(!(r in Vk)){const n=N8e(r);if(n!==null)Vk[r]=n;else return console.log("Could not get context for WebGL version",r),null}const e=Vk[r];return e==null||e.isContextLost()?(delete Vk[r],Bh(r)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),Vk[r])}function M8e(r){if(typeof OffscreenCanvas!="undefined"&&r===2)return new OffscreenCanvas(300,150);if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function N8e(r){if(r!==1&&r!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const e=M8e(r);return e.addEventListener("webglcontextlost",n=>{n.preventDefault(),delete Vk[r]},!1),r===1?e.getContext("webgl",oK)||e.getContext("experimental-webgl",oK):e.getContext("webgl2",oK)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var A2;(function(r){r[r.DENSE=0]="DENSE",r[r.SHARED_BATCH=1]="SHARED_BATCH"})(A2||(A2={}));var o_;(function(r){r[r.RENDER=0]="RENDER",r[r.UPLOAD=1]="UPLOAD",r[r.PIXELS=2]="PIXELS",r[r.DOWNLOAD=3]="DOWNLOAD"})(o_||(o_={}));var Bs;(function(r){r[r.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",r[r.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",r[r.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",r[r.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",r[r.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Bs||(Bs={}));function T2(r,e){return[e,r]}function R8e(r,e){return r*e}function gD(r){const e=zt(r),n=Math.ceil(e/4);return xL(n)}function h1(r,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(r/2))]}function P8e(r,e){const[n,o]=h1(r,e);return n*o*4}function aK(r,e){const n=r;let o,a,l,u,_,f,h,d,m,g;return qe().getNumber("WEBGL_VERSION")===2?(o=n.R32F,a=n.R16F,l=n.RGBA16F,u=n.RGBA32F,_=n.RED,h=4,d=1,m=n.HALF_FLOAT,g=n.FLOAT,f=n.RGBA8):(o=r.RGBA,a=r.RGBA,l=r.RGBA,u=n.RGBA,_=r.RGBA,h=4,d=4,m=e!=null?e.HALF_FLOAT_OES:null,g=r.FLOAT,f=r.RGBA),{internalFormatFloat:o,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:l,internalFormatPackedFloat:u,textureFormatFloat:_,downloadTextureFormat:f,downloadUnpackNumChannels:h,defaultNumChannels:d,textureTypeHalfFloat:m,textureTypeFloat:g}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ln(r,e){const n=e();return qe().getBool("DEBUG")&&B8e(r),n}function B8e(r){const e=r.getError();if(e!==r.NO_ERROR)throw new Error("WebGL Error: "+Ffe(r,e))}const F8e=596e-10,L8e=65504;function Bfe(r){return!!(qe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||r===0||F8e<Math.abs(r)&&Math.abs(r)<L8e)}function Ffe(r,e){switch(e){case r.NO_ERROR:return"NO_ERROR";case r.INVALID_ENUM:return"INVALID_ENUM";case r.INVALID_VALUE:return"INVALID_VALUE";case r.INVALID_OPERATION:return"INVALID_OPERATION";case r.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case r.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case r.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function I2(r,e){return bm(r,()=>r.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function Lfe(r,e){const n=bm(r,()=>r.createShader(r.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(ln(r,()=>r.shaderSource(n,e)),ln(r,()=>r.compileShader(n)),r.getShaderParameter(n,r.COMPILE_STATUS)===!1)throw console.log(r.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function Dfe(r,e){const n=bm(r,()=>r.createShader(r.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(ln(r,()=>r.shaderSource(n,e)),ln(r,()=>r.compileShader(n)),r.getShaderParameter(n,r.COMPILE_STATUS)===!1)throw O8e(e,r.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const D8e=/ERROR: [0-9]+:([0-9]+):/g;function O8e(r,e){const n=D8e.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(r);return}const o=+n[1],a=r.split(`
`),l=a.length.toString().length+2,u=a.map((m,g)=>Ek((g+1).toString(),l)+m);let _=0;for(let m=0;m<u.length;m++)_=Math.max(u[m].length,_);const f=u.slice(0,o-1),h=u.slice(o-1,o),d=u.slice(o);console.log(f.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${Ek(h[0],_)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join(`
`))}function Ofe(r){return bm(r,()=>r.createProgram(),"Unable to create WebGLProgram.")}function zfe(r,e){if(ln(r,()=>r.linkProgram(e)),r.getProgramParameter(e,r.LINK_STATUS)===!1)throw console.log(r.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function yD(r,e){if(ln(r,()=>r.validateProgram(e)),r.getProgramParameter(e,r.VALIDATE_STATUS)===!1)throw console.log(r.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function Ufe(r,e){const n=bm(r,()=>r.createBuffer(),"Unable to create WebGLBuffer");return ln(r,()=>r.bindBuffer(r.ARRAY_BUFFER,n)),ln(r,()=>r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW)),n}function jfe(r,e){const n=bm(r,()=>r.createBuffer(),"Unable to create WebGLBuffer");return ln(r,()=>r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n)),ln(r,()=>r.bufferData(r.ELEMENT_ARRAY_BUFFER,e,r.STATIC_DRAW)),n}function z8e(){return qe().getNumber("WEBGL_VERSION")===2?1:4}function Gfe(r){return bm(r,()=>r.createTexture(),"Unable to create WebGLTexture.")}function Wfe(r,e){const n=qe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(r<=0||e<=0){const o=`[${r}x${e}]`;throw new Error("Requested texture size "+o+" is invalid.")}if(r>n||e>n){const o=`[${r}x${e}]`,a=`[${n}x${n}]`;throw new Error("Requested texture size "+o+" greater than WebGL maximum on this browser / GPU "+a+".")}}function Hfe(r){return bm(r,()=>r.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function sK(r,e,n,o,a,l,u){const _=r.getAttribLocation(e,n);return _===-1?!1:(ln(r,()=>r.bindBuffer(r.ARRAY_BUFFER,o)),ln(r,()=>r.vertexAttribPointer(_,a,r.FLOAT,!1,l,u)),ln(r,()=>r.enableVertexAttribArray(_)),!0)}function Vfe(r,e,n){Yfe(r,n),ln(r,()=>r.activeTexture(r.TEXTURE0+n)),ln(r,()=>r.bindTexture(r.TEXTURE_2D,e))}function U8e(r,e){Yfe(r,e),ln(r,()=>r.activeTexture(r.TEXTURE0+e)),ln(r,()=>r.bindTexture(r.TEXTURE_2D,null))}function qfe(r,e,n){return bm(r,()=>r.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function Kfe(r,e,n){return r.getUniformLocation(e,n)}function Jfe(r,e,n,o){ln(r,()=>Vfe(r,e,o)),ln(r,()=>r.uniform1i(n,o))}function j8e(r){ln(r,()=>r.bindFramebuffer(r.FRAMEBUFFER,null)),ln(r,()=>r.viewport(0,0,r.canvas.width,r.canvas.height)),ln(r,()=>r.scissor(0,0,r.canvas.width,r.canvas.height))}function kD(r,e,n){ln(r,()=>r.bindFramebuffer(r.FRAMEBUFFER,n)),ln(r,()=>r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0))}function lK(r,e){ln(r,()=>r.bindFramebuffer(r.FRAMEBUFFER,e)),ln(r,()=>r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0))}function M2(r){const e=r.checkFramebufferStatus(r.FRAMEBUFFER);if(e!==r.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Xfe(r,e))}function Xfe(r,e){switch(e){case r.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case r.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case r.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case r.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function bm(r,e,n){const o=ln(r,()=>e());if(o==null)throw new Error(n);return o}function Yfe(r,e){const n=r.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,o=e+r.TEXTURE0;if(o<r.TEXTURE0||o>n){const a=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${a}.`)}}function qk(r,e=2){return zt(r.slice(0,r.length-e))}function Kk(r){if(r.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[r.length>1?r[r.length-2]:1,r[r.length-1]]}function $D(r){let e=[1,1,1];return r.length===0||r.length===1&&r[0]===1||(e=[qk(r),...Kk(r)]),e}function Qfe(r,e=!1){let n=qe().getNumber("WEBGL_MAX_TEXTURE_SIZE");e&&(n=n*2,r=r.map((a,l)=>l>=r.length-2?yW(r[l]):r[l]),r.length===1&&(r=[2,r[0]])),r.length!==2&&(r=pm(r).newShape);let o=zt(r);if(r.length<=1&&o<=n)return[1,o];if(r.length===2&&r[0]<=n&&r[1]<=n)return r;if(r.length===3&&r[0]*r[1]<=n&&r[2]<=n)return[r[0]*r[1],r[2]];if(r.length===3&&r[0]<=n&&r[1]*r[2]<=n)return[r[0],r[1]*r[2]];if(r.length===4&&r[0]*r[1]*r[2]<=n&&r[3]<=n)return[r[0]*r[1]*r[2],r[3]];if(r.length===4&&r[0]<=n&&r[1]*r[2]*r[3]<=n)return[r[0],r[1]*r[2]*r[3]];if(e){const a=qk(r);let l=2,u=2;return r.length&&([l,u]=Kk(r)),o=a*(l/2)*(u/2),xL(o).map(_=>_*2)}return xL(o)}function bD(r){return r%2==0}function N2(r,e){if(r=r.slice(-2),e=e.slice(-2),Bo(r,e)||!r.length||!e.length||r[0]===0||r[1]===0||e[0]===0||e[1]===0)return!0;if(r.length!==e.length){const n=r.slice(-1)[0],o=e.slice(-1)[0];if(n===o||bD(n)&&bD(o)&&(r[0]===1||e[0]===1))return!0}return r[1]===e[1]&&bD(r[0])&&bD(e[0])}let wD,xD;function Zfe(r){if(wD==null){const e=Bh(r);wD=e.getParameter(e.MAX_TEXTURE_SIZE)}return wD}function G8e(){wD=null}function W8e(){xD=null}function epe(r){if(xD==null){const e=Bh(r);xD=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,xD)}function tpe(r){if(r===0)return 0;let e;const n=Bh(r);return a_(n,"EXT_disjoint_timer_query_webgl2")&&r===2?e=2:a_(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function a_(r,e){return r.getExtension(e)!=null}function uK(r){try{if(Bh(r)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function npe(r){if(r===0)return!1;const e=Bh(r);if(r===1){if(!a_(e,"OES_texture_float"))return!1}else if(!a_(e,"EXT_color_buffer_float"))return!1;return cK(e)}function rpe(r){if(r===0)return!1;const e=Bh(r);if(r===1){if(!a_(e,"OES_texture_float")||!a_(e,"WEBGL_color_buffer_float"))return!1}else{if(a_(e,"EXT_color_buffer_float"))return cK(e);const o="EXT_color_buffer_half_float";if(a_(e,o)){const a=e.getExtension(o);return H8e(e,a)}return!1}return cK(e)}function cK(r){const e=aK(r),n=r.createTexture();r.bindTexture(r.TEXTURE_2D,n);const o=1,a=1;r.texImage2D(r.TEXTURE_2D,0,e.internalFormatFloat,o,a,0,e.textureFormatFloat,e.textureTypeFloat,null);const l=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,l),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n,0);const u=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(n),r.deleteFramebuffer(l),u}function H8e(r,e){const n=aK(r,e),o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o);const a=1,l=1;r.texImage2D(r.TEXTURE_2D,0,n.internalFormatHalfFloat,a,l,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const u=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,u),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,o,0);const _=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(o),r.deleteFramebuffer(u),_}function ipe(r){return r!==2?!1:Bh(r).fenceSync!=null}function d1(r,e){Array.isArray(r)||(r=[r]),r.forEach(n=>{n!=null&&re(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}var V8e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",callAndCheck:ln,canBeRepresented:Bfe,getWebGLErrorMessage:Ffe,getExtensionOrThrow:I2,createVertexShader:Lfe,createFragmentShader:Dfe,createProgram:Ofe,linkProgram:zfe,validateProgram:yD,createStaticVertexBuffer:Ufe,createStaticIndexBuffer:jfe,getNumChannels:z8e,createTexture:Gfe,validateTextureSize:Wfe,createFramebuffer:Hfe,bindVertexBufferToProgramAttribute:sK,bindTextureUnit:Vfe,unbindTextureUnit:U8e,getProgramUniformLocationOrThrow:qfe,getProgramUniformLocation:Kfe,bindTextureToProgramUniformSampler:Jfe,bindCanvasToFramebuffer:j8e,bindColorTextureToFramebuffer:kD,unbindColorTextureFromFramebuffer:lK,validateFramebuffer:M2,getFramebufferErrorMessage:Xfe,getBatchDim:qk,getRowsCols:Kk,getShapeAs3D:$D,getTextureShapeFromLogicalShape:Qfe,isReshapeFree:N2,getWebGLMaxTextureSize:Zfe,resetMaxTextureSize:G8e,resetMaxTexturesInShader:W8e,getMaxTexturesInShader:epe,getWebGLDisjointQueryTimerVersion:tpe,hasExtension:a_,isWebGLVersionEnabled:uK,isCapableOfRenderingToFloatTexture:npe,isDownloadFloatTextureEnabled:rpe,isWebGLFenceEnabled:ipe,assertNotComplex:d1});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gn=qe();Gn.registerFlag("HAS_WEBGL",()=>Gn.getNumber("WEBGL_VERSION")>0);Gn.registerFlag("WEBGL_VERSION",()=>uK(2)?2:uK(1)?1:0);Gn.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Gn.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Gn.get("WEBGL_VERSION")===2);Gn.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Gn.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Gn.registerFlag("WEBGL_PACK",()=>Gn.getBool("HAS_WEBGL"));Gn.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Gn.getBool("WEBGL_PACK"));Gn.registerFlag("WEBGL_PACK_CLIP",()=>Gn.getBool("WEBGL_PACK"));Gn.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Gn.getBool("WEBGL_PACK"));Gn.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Gn.getBool("WEBGL_PACK"));Gn.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Gn.getBool("WEBGL_PACK"));Gn.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Gn.getBool("WEBGL_PACK"));Gn.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Gn.getBool("WEBGL_PACK"));Gn.registerFlag("WEBGL_PACK_REDUCE",()=>Gn.getBool("WEBGL_PACK"));Gn.registerFlag("WEBGL_LAZILY_UNPACK",()=>Gn.getBool("WEBGL_PACK"));Gn.registerFlag("WEBGL_CONV_IM2COL",()=>Gn.getBool("WEBGL_PACK"));Gn.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>Zfe(Gn.getNumber("WEBGL_VERSION")));Gn.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>epe(Gn.getNumber("WEBGL_VERSION")));Gn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const r=Gn.getNumber("WEBGL_VERSION");return r===0?0:tpe(r)});Gn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Gn.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!S9());Gn.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>npe(Gn.getNumber("WEBGL_VERSION")));Gn.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Gn.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Gn.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Gn.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>rpe(Gn.getNumber("WEBGL_VERSION")));Gn.registerFlag("WEBGL_FENCE_API_ENABLED",()=>ipe(Gn.getNumber("WEBGL_VERSION")));Gn.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Gn.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Gn.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,r=>{if(r<0&&r!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${r}.`)});Gn.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>S9()?1:-1,r=>{if(r<0&&r!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${r}.`)});Gn.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Gn.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Gn.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Gn.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bl(){let r,e,n,o,a,l,u,_,f,h;return qe().getNumber("WEBGL_VERSION")===2?(r="#version 300 es",e="in",n="out",o="in",a="texture",l="outputColor",u="out vec4 outputColor;",_=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,f="",h=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(r="",e="attribute",n="varying",o="varying",a="texture2D",l="gl_FragColor",u="",_=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,f=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,h=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:r,attribute:e,varyingVs:n,varyingFs:o,texture2D:a,output:l,defineOutput:u,defineSpecialNaN:_,defineSpecialInf:f,defineRound:h}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jk(r,e,n="index"){const o=Ps(e);return o.map((a,l)=>{const u=`int ${r[l]} = ${n} / ${a}`,_=l===o.length-1?`int ${r[l+1]} = ${n} - ${r[l]} * ${a}`:`index -= ${r[l]} * ${a}`;return`${u}; ${_};`}).join("")}function SD(r,e,n="index"){const o=Ps(e);return o.map((a,l)=>{const u=`int ${r[l]} = ${n} / outShapeStrides[${l}]`,_=l===o.length-1?`int ${r[l+1]} = ${n} - ${r[l]} * outShapeStrides[${l}]`:`index -= ${r[l]} * outShapeStrides[${l}]`;return`${u}; ${_};`}).join("")}function q8e(r,e){const n=r.length,o=r.map(l=>`${e}[${l}]`),a=new Array(n-1);a[n-2]=o[n-1];for(let l=n-3;l>=0;--l)a[l]=`(${a[l+1]} * ${o[l+1]})`;return a}function K8e(r,e,n="index"){const o=r.map((l,u)=>u),a=q8e(o,e);return a.map((l,u)=>{const _=`int ${r[u]} = ${n} / ${a[u]}`,f=u===a.length-1?`int ${r[u+1]} = ${n} - ${r[u]} * ${a[u]}`:`index -= ${r[u]} * ${a[u]}`;return`${_}; ${f};`}).join("")}function _K(r){const e=Ps(r).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function fK(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const ope=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:ape}=kfe;function J8e(r,e,n){const o=[];if(r.forEach(y=>{const w=zt(y.shapeInfo.logicalShape);if(y.shapeInfo.isUniform?o.push(`uniform float ${y.name}${w>1?`[${w}]`:""};`):(o.push(`uniform sampler2D ${y.name};`),o.push(`uniform int offset${y.name};`)),n.enableShapeUniforms){const{uniformShape:E}=pK(n.packedInputs,y.shapeInfo.logicalShape,y.shapeInfo.texShape);switch(E.length){case 1:o.push(`uniform int ${y.name}Shape;`);break;case 2:o.push(`uniform ivec2 ${y.name}Shape;`);break;case 3:o.push(`uniform ivec3 ${y.name}Shape;`);break;case 4:o.push(`uniform ivec4 ${y.name}Shape;`);break}o.push(`uniform ivec2 ${y.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:o.push("uniform int outShape;");break;case 2:o.push("uniform ivec2 outShape;"),o.push("uniform int outShapeStrides;");break;case 3:o.push("uniform ivec3 outShape;"),o.push("uniform ivec2 outShapeStrides;");break;case 4:o.push("uniform ivec4 outShape;"),o.push("uniform ivec3 outShapeStrides;");break}o.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(y=>{o.push(`uniform ${y.type} ${y.name}${y.arrayIndex?`[${y.arrayIndex}]`:""};`)});const a=o.join(`
`),l=r.map(y=>X8e(y,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),u=e.texShape,_=Bl(),f=Z8e(_);let h,d,m=nWe(_);return e.isPacked?(h=Y8e(e.logicalShape,u,n.enableShapeUniforms),d=tWe(_)):(h=Q8e(e.logicalShape,u,n.enableShapeUniforms),d=eWe(_)),n.packedInputs&&(m+=aWe),[m,f,d,a,h,l,n.userCode].join(`
`)}function m1(r,e=!1){const n=r.shapeInfo.logicalShape;switch(n.length){case 0:return gWe(r,e);case 1:return kWe(r,e);case 2:return bWe(r,e);case 3:return xWe(r,e);case 4:return EWe(r,e);case 5:return CWe(r);case 6:return AWe(r);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function spe(r,e){switch(r.shapeInfo.logicalShape.length){case 0:return vWe(r);case 1:return yWe(r,e);case 2:return $We(r,e);case 3:return wWe(r,e);default:return SWe(r,e)}}function X8e(r,e,n=!1,o){let a="";n?a+=spe(r,o):a+=m1(r,o);const l=r.shapeInfo.logicalShape,u=e.logicalShape;return l.length<=u.length&&(n?a+=TWe(r,e):a+=IWe(r,e)),a}function Y8e(r,e,n){switch(r.length){case 0:return lpe();case 1:return sWe(r,e,n);case 2:return dWe(r,e,n);case 3:return uWe(r,e,n);default:return _We(r,e,n)}}function Q8e(r,e,n){switch(r.length){case 0:return lpe();case 1:return lWe(r,e,n);case 2:return mWe(r,e,n);case 3:return cWe(r,e,n);case 4:return fWe(r,e,n);case 5:return pWe(r,e);case 6:return hWe(r,e);default:throw new Error(`${r.length}-D output sampling is not yet supported`)}}function Z8e(r){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${r.texture2D}(textureSampler, uv).r;
    }
  `}function eWe(r){return`
    void setOutput(float val) {
      ${r.output} = vec4(val, 0, 0, 0);
    }
  `}function tWe(r){return`
    void setOutput(vec4 val) {
      ${r.output} = val;
    }
  `}function nWe(r){return`${r.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${r.varyingFs} vec2 resultUV;
    ${r.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${r.defineSpecialNaN}
    ${r.defineSpecialInf}
    ${r.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${rWe}
    ${iWe}
    ${oWe}
  `}const rWe=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,iWe=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,oWe=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,aWe=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function lpe(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function sWe(r,e,n){const o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return o[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${o[1]}.0);
      }
    `:o[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${o[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      return 2 * (resTexRC.x * ${o[1]} + resTexRC.y);
    }
  `}function lWe(r,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function uWe(r,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],a=Math.ceil(r[2]/2),l=a*Math.ceil(r[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      int index = resTexRC.x * ${o[1]} + resTexRC.y;

      int b = index / ${l};
      index -= b * ${l};

      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec3(b, r, c);
    }
  `}function cWe(r,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${SD(["r","c","d"],r)}
    return ivec3(r, c, d);
  }
`;const o=Jk(["r","c","d"],r);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${o}
      return ivec3(r, c, d);
    }
  `}function _We(r,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],a=Math.ceil(r[r.length-1]/2),l=a*Math.ceil(r[r.length-2]/2);let u=l,_="",f="b, r, c";for(let h=2;h<r.length-1;h++)u*=r[r.length-h-1],_=`
      int b${h} = index / ${u};
      index -= b${h} * ${u};
    `+_,f=`b${h}, `+f;return`
    ivec${r.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      int index = resTexRC.x * ${o[1]} + resTexRC.y;

      ${_}

      int b = index / ${l};
      index -= b * ${l};

      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec${r.length}(${f});
    }
  `}function fWe(r,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${SD(["r","c","d","d2"],r)}
      return ivec4(r, c, d, d2);
    }
  `;const o=Jk(["r","c","d","d2"],r);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${o}
      return ivec4(r, c, d, d2);
    }
  `}function pWe(r,e){const n=Jk(["r","c","d","d2","d3"],r);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function hWe(r,e){const n=Jk(["r","c","d","d2","d3","d4"],r);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function dWe(r,e,n){const o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Bo(r,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${o[0]}, ${o[1]}));
      }
    `;const a=Math.ceil(r[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));

      int index = resTexRC.x * ${o[1]} + resTexRC.y;
      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec2(r, c);
    }
  `}function mWe(r,e,n){return Bo(r,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:r[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:r[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${r[1]};
      int c = index - r * ${r[1]};
      return ivec2(r, c);
    }
  `}function Xk(r){return`offset${r}`}function vWe(r){const e=r.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),o=Bl();return`
    vec4 ${n}() {
      return ${o.texture2D}(${e}, halfCR);
    }
  `}function gWe(r,e){const n=r.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1);if(r.shapeInfo.isUniform)return`float ${o}() {return ${n};}`;const[a,l]=r.shapeInfo.texShape;if(a===1&&l===1)return`
      float ${o}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const u=Xk(n);if(e)return`
    float ${o}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${u});
      return sampleTexture(${n}, uv);
    }
  `;const[_,f]=r.shapeInfo.texShape;return`
    float ${o}() {
      vec2 uv = uvFromFlat(${_}, ${f}, ${u});
      return sampleTexture(${n}, uv);
    }
  `}function yWe(r,e){const n=r.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1),a=r.shapeInfo.texShape,l=Bl();if(e)return`
    vec4 ${o}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${l.texture2D}(${n}, uv);
    }
  `;const u=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`
    vec4 ${o}(int index) {
      vec2 uv = packedUVfrom1D(
        ${u[0]}, ${u[1]}, index);
      return ${l.texture2D}(${n}, uv);
    }
  `}function kWe(r,e){const n=r.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1);if(r.shapeInfo.isUniform)return`
      float ${o}(int index) {
        ${v1(r)}
      }
    `;const a=r.shapeInfo.texShape,l=a[0],u=a[1];if(u===1&&l===1)return`
      float ${o}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const _=Xk(n);return u===1?e?`
      float ${o}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${_}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${o}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${_}) + 0.5) / ${l}.0);
        return sampleTexture(${n}, uv);
      }
    `:l===1?e?`
      float ${o}(int index) {
        vec2 uv = vec2((float(index + ${_}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${o}(int index) {
        vec2 uv = vec2((float(index + ${_}) + 0.5) / ${u}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${o}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${_});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${o}(int index) {
      vec2 uv = uvFromFlat(${l}, ${u}, index + ${_});
      return sampleTexture(${n}, uv);
    }
  `}function $We(r,e){const n=r.shapeInfo.logicalShape,o=r.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),l=r.shapeInfo.texShape,u=l[0],_=l[1],f=Bl();if(l!=null&&Bo(n,l))return e?`
      vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);

        return ${f.texture2D}(${o}, uv);
      }
    `:`
      vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${_}.0, ${u}.0);

        return ${f.texture2D}(${o}, uv);
      }
    `;if(e)return`
    vec4 ${a}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${o}TexShape[0]) / 2.0), ceil(float(${o}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${o}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${f.texture2D}(${o}, uv);
    }
  `;const h=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],d=Math.ceil(n[1]/2);return`
    vec4 ${a}(int row, int col) {
      vec2 uv = packedUVfrom2D(${d}, ${h[0]}, ${h[1]}, row, col);
      return ${f.texture2D}(${o}, uv);
    }
  `}function bWe(r,e){const n=r.shapeInfo.logicalShape,o=r.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),l=r.shapeInfo.texShape;if(l!=null&&Bo(n,l)){if(e)return`
      float ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `;const g=l[0],y=l[1];return`
    float ${a}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${y}.0, ${g}.0);
      return sampleTexture(${o}, uv);
    }
  `}const{newShape:u,keptDims:_}=pm(n),f=u;if(f.length<n.length){const g=g1(r,f),y=["row","col"];return`
      ${m1(g,e)}
      float ${a}(int row, int col) {
        return ${a}(${y1(y,_)});
      }
    `}if(r.shapeInfo.isUniform)return`
      float ${a}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${v1(r)}
      }
    `;const h=l[0],d=l[1],m=Xk(o);return d===1?e?`
      float ${a}(int row, int col) {
        float index = dot(vec3(row, col, ${m}), vec3(${o}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${o}TexShape[0]));
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${a}(int row, int col) {
      float index = dot(vec3(row, col, ${m}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${h}.0);
      return sampleTexture(${o}, uv);
    }
  `:h===1?e?`
      float ${a}(int row, int col) {
        float index = dot(vec3(row, col, ${m}), vec3(${o}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${o}TexShape[1]), 0.5);
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${a}(int row, int col) {
      float index = dot(vec3(row, col, ${m}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);
      return sampleTexture(${o}, uv);
    }
  `:e?`
      float ${a}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${o}Shape[1] + col + ${m};
        vec2 uv = uvFromFlat(${o}TexShape[0], ${o}TexShape[1], index);
        return sampleTexture(${o}, uv);
      }
    `:`
  float ${a}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${m};
    vec2 uv = uvFromFlat(${h}, ${d}, index);
    return sampleTexture(${o}, uv);
  }
`}function wWe(r,e){const n=r.shapeInfo.logicalShape,o=r.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),l=r.shapeInfo.texShape,u=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];if(n[0]===1){const g=n.slice(1),y=[1,2],w=g1(r,g),E=["b","row","col"];return`
        ${spe(w,e)}
        vec4 ${a}(int b, int row, int col) {
          return ${a}(${y1(E,y)});
        }
      `}const _=Bl();if(e)return`
    vec4 ${a}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${o}TexShape[0]) / 2.0), ceil(float(${o}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${o}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${o}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${_.texture2D}(${o}, uv);
    }
  `;const f=u[0],h=u[1],d=Math.ceil(n[2]/2),m=d*Math.ceil(n[1]/2);return`
    vec4 ${a}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${f}, ${h}, ${m}, ${d}, b, row, col);
      return ${_.texture2D}(${o}, uv);
    }
  `}function xWe(r,e){const n=r.shapeInfo.logicalShape,o=r.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),l=n[1]*n[2],u=n[2],{newShape:_,keptDims:f}=pm(n),h=_;if(h.length<n.length){const E=g1(r,h),A=["row","col","depth"];return`
        ${m1(E,e)}
        float ${a}(int row, int col, int depth) {
          return ${a}(${y1(A,f)});
        }
      `}if(r.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${l}, ${u}, 1)));
        ${v1(r)}
      }
    `;const d=r.shapeInfo.texShape,m=d[0],g=d[1],y=r.shapeInfo.flatOffset;if(g===l&&y==null)return e?`
      float ${a}(int row, int col, int depth) {
        int stride1 = ${o}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
        float ${a}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${u}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${g}.0, ${m}.0);
          return sampleTexture(${o}, uv);
        }
      `;if(g===u&&y==null)return e?`
      float ${a}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${o}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${a}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${g}.0, ${m}.0);
      return sampleTexture(${o}, uv);
    }
  `;const w=Xk(o);return e?`
    float ${a}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${o}Shape[1] * ${o}Shape[2];
      int stride1 = ${o}Shape[2];
      int index = row * ${l} + col * ${u} + depth + ${w};
      vec2 uv = uvFromFlat(${o}TexShape[0], ${o}TexShape[1], index);
      return sampleTexture(${o}, uv);
    }
    `:`
      float ${a}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${l} + col * ${u} + depth + ${w};
        vec2 uv = uvFromFlat(${m}, ${g}, index);
        return sampleTexture(${o}, uv);
      }
  `}function SWe(r,e){const n=r.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1),a=Bl();if(e)return`
    vec4 ${o}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${a.texture2D}(${n}, uv);
    }
  `;const l=r.shapeInfo.logicalShape,u=l.length,_=r.shapeInfo.texShape,f=[Math.ceil(_[0]/2),Math.ceil(_[1]/2)],h=f[0],d=f[1],m=Math.ceil(l[u-1]/2);let g=m*Math.ceil(l[u-2]/2),y="int b, int row, int col",w=`b * ${g} + (row / 2) * ${m} + (col / 2)`;for(let E=2;E<u-1;E++)y=`int b${E}, `+y,g*=l[u-E-1],w=`b${E} * ${g} + `+w;return`
    vec4 ${o}(${y}) {
      int index = ${w};
      int texR = index / ${d};
      int texC = index - texR * ${d};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}, ${h});
      return ${a.texture2D}(${n}, uv);
    }
  `}function EWe(r,e){const n=r.shapeInfo.logicalShape,o=r.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),l=n[3],u=n[2]*l,_=n[1]*u,{newShape:f,keptDims:h}=pm(n);if(f.length<n.length){const C=g1(r,f),R=["row","col","depth","depth2"];return`
      ${m1(C,e)}
      float ${a}(int row, int col, int depth, int depth2) {
        return ${a}(${y1(R,h)});
      }
    `}if(r.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${_}, ${u}, ${l}, 1)));
        ${v1(r)}
      }
    `;const d=r.shapeInfo.flatOffset,m=r.shapeInfo.texShape,g=m[0],y=m[1],w=`int stride2 = ${o}Shape[3];`,E=`int stride1 = ${o}Shape[2] * stride2;`,A=`int stride0 = ${o}Shape[1] * stride1;`;if(y===_&&d==null)return e?`
      float ${a}(int row, int col, int depth, int depth2) {
        ${w}
        ${E}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${u}, ${l}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${y}.0, ${g}.0);
        return sampleTexture(${o}, uv);
      }
    `;if(y===l&&d==null)return e?`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${o}Shape[1] * ${o}Shape[2], ${o}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${y}.0, ${g}.0);
        return sampleTexture(${o}, uv);
      }
    `;const S=Xk(o);return e?`
    float ${a}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${w}
      ${E}
      ${A}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${o}TexShape[0], ${o}TexShape[1], index + ${S});
      return sampleTexture(${o}, uv);
    }
  `:`
    float ${a}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${_} + col * ${u} +
          depth * ${l} + depth2;
      vec2 uv = uvFromFlat(${g}, ${y}, index + ${S});
      return sampleTexture(${o}, uv);
    }
  `}function CWe(r){const e=r.shapeInfo.logicalShape,n=r.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e[4],l=e[3]*a,u=e[2]*l,_=e[1]*u,{newShape:f,keptDims:h}=pm(e);if(f.length<e.length){const E=g1(r,f),A=["row","col","depth","depth2","depth3"];return`
      ${m1(E)}
      float ${o}(int row, int col, int depth, int depth2, int depth3) {
        return ${o}(${y1(A,h)});
      }
    `}if(r.shapeInfo.isUniform)return`
      float ${o}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${_}, ${u}, ${l}, ${a})) +
          depth3;
        ${v1(r)}
      }
    `;const d=r.shapeInfo.flatOffset,m=r.shapeInfo.texShape,g=m[0],y=m[1];if(y===_&&d==null)return`
      float ${o}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${u}, ${l}, ${a}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${y}.0, ${g}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(y===a&&d==null)return`
      float ${o}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${y}.0, ${g}.0);
        return sampleTexture(${n}, uv);
      }
    `;const w=Xk(n);return`
    float ${o}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${_} + col * ${u} + depth * ${l} +
          depth2 * ${a} + depth3 + ${w};
      vec2 uv = uvFromFlat(${g}, ${y}, index);
      return sampleTexture(${n}, uv);
    }
  `}function AWe(r){const e=r.shapeInfo.logicalShape,n=r.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:a,keptDims:l}=pm(e);if(a.length<e.length){const A=g1(r,a),S=["row","col","depth","depth2","depth3","depth4"];return`
      ${m1(A)}
      float ${o}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${o}(${y1(S,l)});
      }
    `}const u=e[5],_=e[4]*u,f=e[3]*_,h=e[2]*f,d=e[1]*h;if(r.shapeInfo.isUniform)return`
      float ${o}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${d}, ${h}, ${f}, ${_})) +
          dot(
            vec2(depth3, depth4),
            vec2(${u}, 1)));
        ${v1(r)}
      }
    `;const m=r.shapeInfo.flatOffset,g=r.shapeInfo.texShape,y=g[0],w=g[1];if(w===d&&m==null)return`
      float ${o}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${h}, ${f}, ${_}, ${u})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${w}.0, ${y}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(w===u&&m==null)return`
      float ${o}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${w}.0, ${y}.0);
        return sampleTexture(${n}, uv);
      }
    `;const E=Xk(n);return`
    float ${o}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${d} + col * ${h} + depth * ${f} +
          depth2 * ${_} + depth3 * ${u} + depth4 + ${E};
      vec2 uv = uvFromFlat(${y}, ${w}, index);
      return sampleTexture(${n}, uv);
    }
  `}function v1(r){const e=r.name,n=zt(r.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function TWe(r,e){const n=r.name,o=n.charAt(0).toUpperCase()+n.slice(1),a="get"+o+"AtOutCoords",l=r.shapeInfo.logicalShape.length,u=e.logicalShape.length,_=ape(r.shapeInfo.logicalShape,e.logicalShape),f=Ki(u),h=u-l;let d;const m=["x","y","z","w","u","v"];l===0?d="":u<2&&_.length>=1?d="coords = 0;":d=_.map(C=>`coords.${m[C+h]} = 0;`).join(`
`);let g="";u<2&&l>0?g="coords":g=r.shapeInfo.logicalShape.map((C,R)=>`coords.${m[R+h]}`).join(", ");let y="return outputValue;";const E=zt(r.shapeInfo.logicalShape)===1,S=zt(e.logicalShape)===1;if(l===1&&!E&&!S)y=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(E&&!S)u===1?y=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:y=`
        return vec4(outputValue.x);
      `;else if(_.length){const C=l-2,R=l-1;_.indexOf(C)>-1&&_.indexOf(R)>-1?y="return vec4(outputValue.x);":_.indexOf(C)>-1?y="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":_.indexOf(R)>-1&&(y="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${a}() {
      ${f} coords = getOutputCoords();
      ${d}
      vec4 outputValue = get${o}(${g});
      ${y}
    }
  `}function IWe(r,e){const n=r.name,o=n.charAt(0).toUpperCase()+n.slice(1),a="get"+o+"AtOutCoords",l=e.texShape,u=r.shapeInfo.texShape,_=r.shapeInfo.logicalShape.length,f=e.logicalShape.length;if(!r.shapeInfo.isUniform&&_===f&&r.shapeInfo.flatOffset==null&&Bo(u,l))return`
      float ${a}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const h=Ki(f),d=ape(r.shapeInfo.logicalShape,e.logicalShape),m=f-_;let g;const y=["x","y","z","w","u","v"];_===0?g="":f<2&&d.length>=1?g="coords = 0;":g=d.map(E=>`coords.${y[E+m]} = 0;`).join(`
`);let w="";return f<2&&_>0?w="coords":w=r.shapeInfo.logicalShape.map((E,A)=>`coords.${y[A+m]}`).join(", "),`
    float ${a}() {
      ${h} coords = getOutputCoords();
      ${g}
      return get${o}(${w});
    }
  `}function Ki(r){if(r<=1)return"int";if(r===2)return"ivec2";if(r===3)return"ivec3";if(r===4)return"ivec4";if(r===5)return"ivec5";if(r===6)return"ivec6";throw Error(`GPU for rank ${r} is not yet supported`)}function pK(r,e,n){const{newShape:o,keptDims:a}=pm(e),l=e.length,u=r&&l===3&&e[0]===1,_=u?e.slice(1):o,f=!r&&l>1&&!Bo(e,n)&&o.length<l||u;return{useSqueezeShape:f,uniformShape:f?_:e,keptDims:a}}function g1(r,e){const n=JSON.parse(JSON.stringify(r));return n.shapeInfo.logicalShape=e,n}function y1(r,e){return e.map(n=>r[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MWe(r,e,n,o){const a=n.map((P,D)=>{const G={logicalShape:P.shape,texShape:P.isUniform?null:P.texData.texShape,isUniform:P.isUniform,isPacked:P.isUniform?!1:P.texData.isPacked,flatOffset:null};return P.texData!=null&&P.texData.slice!=null&&P.texData.slice.flatOffset>0&&(G.flatOffset=P.texData.slice.flatOffset),{name:e.variableNames[D],shapeInfo:G}}),l=a.map(P=>P.shapeInfo),u={logicalShape:o.shape,texShape:o.texData.texShape,isUniform:!1,isPacked:o.texData.isPacked,flatOffset:null},_=J8e(a,u,e),f=Dfe(r.gl,_),h=r.createProgram(f);let d=null;const m=r.getUniformLocation(h,"NAN",!1);qe().getNumber("WEBGL_VERSION")===1&&(d=r.getUniformLocation(h,"INFINITY",!1));const g=!1,y={},w={},E={};for(let P=0;P<e.variableNames.length;P++){const D=e.variableNames[P];y[D]=r.getUniformLocation(h,D,g),y[`offset${D}`]=r.getUniformLocation(h,`offset${D}`,g),e.enableShapeUniforms&&(w[`${D}Shape`]=r.getUniformLocation(h,`${D}Shape`,g),E[`${D}TexShape`]=r.getUniformLocation(h,`${D}TexShape`,g))}let A,S,C;e.enableShapeUniforms&&(A=r.getUniformLocation(h,"outShape",g),C=r.getUniformLocation(h,"outShapeStrides",g),S=r.getUniformLocation(h,"outTexShape",g));const R=[];return e.customUniforms&&e.customUniforms.forEach((P,D)=>{R[D]=r.getUniformLocation(h,P.name,g)}),{program:e,fragmentShader:f,source:_,webGLProgram:h,uniformLocations:y,customUniformLocations:R,inShapeInfos:l,outShapeInfo:u,infLoc:d,nanLoc:m,inShapesLocations:w,inTexShapesLocations:E,outShapeLocation:A,outShapeStridesLocation:C,outTexShapeLocation:S}}function upe(r,e){if(r.length!==e.length)throw Error(`Binary was compiled with ${r.length} inputs, but was executed with ${e.length} inputs`);r.forEach((n,o)=>{const a=n.logicalShape,l=e[o],u=l.shape;if(!Bo(a,u))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${a} and ${u} must match`);if(n.isUniform&&l.isUniform)return;const _=n.texShape,f=l.isUniform?null:l.texData.texShape;if(!Bo(_,f))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${_} and ${f} must match`)})}function NWe(r,e,n,o,a){e.program.enableShapeUniforms||(upe(e.inShapeInfos,n),upe([e.outShapeInfo],[o]));const l=o.texData.texture,u=o.texData.texShape;o.texData.isPacked?r.setOutputPackedMatrixTexture(l,u[0],u[1]):r.setOutputMatrixTexture(l,u[0],u[1]),r.setProgram(e.webGLProgram),qe().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&r.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&r.gl.uniform1f(e.nanLoc,NaN),n.forEach((f,h)=>{const d=e.program.variableNames[h],m=e.uniformLocations[d],g=e.uniformLocations[`offset${d}`],y=e.inShapesLocations[`${d}Shape`],w=e.inTexShapesLocations[`${d}TexShape`];if(y){const{uniformShape:E}=pK(e.program.packedInputs,f.shape,f.texData.texShape);switch(E.length){case 1:r.gl.uniform1iv(y,new Int32Array(E));break;case 2:r.gl.uniform2iv(y,new Int32Array(E));break;case 3:r.gl.uniform3iv(y,new Int32Array(E));break;case 4:r.gl.uniform4iv(y,new Int32Array(E));break}}if(w&&r.gl.uniform2i(w,f.texData.texShape[0],f.texData.texShape[1]),m!=null){if(f.isUniform){if(zt(f.shape)<2)r.gl.uniform1f(m,f.uniformValues[0]);else{let E=f.uniformValues;E instanceof Float32Array||(E=new Float32Array(E)),r.gl.uniform1fv(m,E)}return}f.texData.slice!=null&&g!=null&&r.gl.uniform1i(g,f.texData.slice.flatOffset),r.setInputMatrixTexture(f.texData.texture,m,h)}});const _=e.outShapeLocation;if(_)switch(o.shape.length){case 1:r.gl.uniform1iv(_,new Int32Array(o.shape));break;case 2:r.gl.uniform2iv(_,new Int32Array(o.shape));break;case 3:r.gl.uniform3iv(_,new Int32Array(o.shape));break;case 4:r.gl.uniform4iv(_,new Int32Array(o.shape));break}if(e.outShapeStridesLocation){const f=Ps(o.shape);switch(o.shape.length){case 2:r.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(f));break;case 3:r.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(f));break;case 4:r.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(f));break}}e.outTexShapeLocation&&r.gl.uniform2i(e.outTexShapeLocation,o.texData.texShape[0],o.texData.texShape[1]),e.program.customUniforms&&a&&e.program.customUniforms.forEach((f,h)=>{const d=e.customUniformLocations[h],m=a[h];if(f.type==="float")r.gl.uniform1fv(d,m);else if(f.type==="vec2")r.gl.uniform2fv(d,m);else if(f.type==="vec3")r.gl.uniform3fv(d,m);else if(f.type==="vec4")r.gl.uniform4fv(d,m);else if(f.type==="int")r.gl.uniform1iv(d,m);else if(f.type==="ivec2")r.gl.uniform2iv(d,m);else if(f.type==="ivec3")r.gl.uniform3iv(d,m);else if(f.type==="ivec4")r.gl.uniform4iv(d,m);else throw Error(`uniform type ${f.type} is not supported yet.`)}),r.executeProgram()}function RWe(r,e,n){let o="";e.concat(n).forEach(u=>{const _=u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0;if(r.enableShapeUniforms&&!u.isUniform){const f=u.texData.texShape,{useSqueezeShape:h,uniformShape:d,keptDims:m}=pK(r.packedInputs,u.shape,f);let g="",y="",w="";if(d.length===1&&r.packedInputs){const D=[Math.ceil(f[0]/2),Math.ceil(f[1]/2)];g=`${D[0]>1}_${D[1]>1}`}else if(d.length===2&&!r.packedInputs)y=`${d[0]>1}_${d[1]>1}`;else if(d.length>2&&!r.packedInputs){const D=Ps(d);w=`${D[0]===f[1]}_${D[D.length-1]===f[1]}`}const E=u.shape.length,A=d.length===2&&Bo(u.shape,f),S=zt(u.shape)===1,C=c2(u.shape,n.shape),R=!r.packedInputs&&E===n.shape.length&&Bo(f,n.texData.texShape),P=r.packedInputs||d.length>2?"":`${f[0]>1}_${f[1]>1}`;o+=`${E}_${R}_${h?m:""}_${d.length}_${S}_${C}_${A}_${g}_${y}_${w}_${P}_${_}`}else{const f=u.isUniform?"uniform":u.texData.texShape;o+=`${u.shape}_${f}_${_}`}});const a=r.userCode;let l=r.constructor.name;return l+="_"+o+"_"+a+`${qe().getNumber("WEBGL_VERSION")}`,l}function Su(r){return qe().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&r<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PWe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=A2.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Bl();this.outputShape=e,this.enableShapeUniforms=Su(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?SD(["r","c","d"],e):Jk(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BWe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=A2.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Bl();this.outputShape=e,this.enableShapeUniforms=Su(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?SD(["r","c","d"],e):Jk(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FWe{constructor(e){this.variableNames=["A"],this.outTexUsage=o_.DOWNLOAD;const n=Bl();this.outputShape=e,this.userCode=`
      ${ope}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LWe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=o_.DOWNLOAD;const n=Bl();this.outputShape=e,this.userCode=`
      ${ope}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DWe{constructor(e,n=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const o=Bl();this.outputShape=e,this.enableShapeUniforms=Su(this.outputShape.length);let a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode=`
      ${this.enableShapeUniforms?fK():_K(e)}

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);

        int r = flatIndex / texShape[1];
        int c = imod(flatIndex, texShape[1]);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
        vec4 values = ${o.texture2D}(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        ${o.output} = vec4(${a}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OWe{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const o=Bl();this.outputShape=e,this.enableShapeUniforms=Su(this.outputShape.length);let a="",l="result";n&&(l="floor(result * 255. + 0.5)");for(let u=0;u<=1;u++)for(let _=0;_<=1;_++){const f=u*2+_;a+=`
          localCoords = coords;
          if(localCoords[2] + ${_} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${_};
          if (localCoords[1] + ${u} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${u};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${o.texture2D}(A, uv);

            if (offset == 0) {
              result[${f}] = values[0];
            } else if (offset == 1) {
              result[${f}] = values[1];
            } else if (offset == 2) {
              result[${f}] = values[2];
            } else {
              result[${f}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?fK():_K(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${a}

          ${o.output} = ${l};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cpe(r){const e=Bl(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return Lfe(r,n)}function _pe(r){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return Ufe(r,e)}function fpe(r){const e=new Uint16Array([0,1,2,2,1,3]);return jfe(r,e)}function R2(r,e,n,o,a,l){Wfe(e,n);const u=Gfe(r),_=r.TEXTURE_2D;return ln(r,()=>r.bindTexture(_,u)),ln(r,()=>r.texParameteri(_,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE)),ln(r,()=>r.texParameteri(_,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE)),ln(r,()=>r.texParameteri(_,r.TEXTURE_MIN_FILTER,r.NEAREST)),ln(r,()=>r.texParameteri(_,r.TEXTURE_MAG_FILTER,r.NEAREST)),qe().getNumber("WEBGL_VERSION")===1?ln(r,()=>r.texImage2D(_,0,o,e,n,0,a,l,null)):ln(r,()=>r.texStorage2D(_,1,o,e,n)),ln(r,()=>r.bindTexture(r.TEXTURE_2D,null)),u}function hK(r){return r.internalFormatFloat}function ppe(r,e,n,o){const[a,l]=T2(e,n);return R2(r,a,l,hK(o),o.textureFormatFloat,r.FLOAT)}function dK(r){return r.internalFormatHalfFloat}function hpe(r,e,n,o){const[a,l]=T2(e,n);return R2(r,a,l,dK(o),o.textureFormatFloat,o.textureTypeHalfFloat)}function mK(r){return r.downloadTextureFormat}function dpe(r,e,n,o){const[a,l]=T2(e,n);return R2(r,a,l,mK(o),r.RGBA,r.UNSIGNED_BYTE)}function vK(r){return r.internalFormatPackedFloat}function mpe(r,e,n,o){const[a,l]=h1(e,n);return R2(r,a,l,vK(o),r.RGBA,r.FLOAT)}function gK(r){return r.internalFormatPackedHalfFloat}function vpe(r,e,n,o){const[a,l]=h1(e,n);return R2(r,a,l,gK(o),r.RGBA,o.textureTypeHalfFloat)}function gpe(r,e,n){const o=0,a=3*4,l=3*4+2*4;return ln(r,()=>r.bindBuffer(r.ARRAY_BUFFER,n)),sK(r,e,"clipSpacePos",n,3,l,o)&&sK(r,e,"uv",n,2,l,a)}function ype(r,e,n,o,a,l){ln(r,()=>r.bindTexture(r.TEXTURE_2D,e));let u,_,f;a instanceof Uint8Array?(u=new Uint8Array(n*o*4),_=r.UNSIGNED_BYTE,f=r.RGBA):(u=new Float32Array(n*o*4),_=r.FLOAT,f=l.internalFormatPackedFloat),u.set(a),qe().getNumber("WEBGL_VERSION")===2?ln(r,()=>r.texSubImage2D(r.TEXTURE_2D,0,0,0,n,o,r.RGBA,_,u)):ln(r,()=>r.texImage2D(r.TEXTURE_2D,0,f,n,o,0,r.RGBA,_,u)),ln(r,()=>r.bindTexture(r.TEXTURE_2D,null))}function kpe(r,e,n){ln(r,()=>r.bindTexture(r.TEXTURE_2D,e)),n.data instanceof Uint8Array?qe().getNumber("WEBGL_VERSION")===2?(ln(r,()=>r.texSubImage2D(r.TEXTURE_2D,0,0,0,n.width,n.height,r.RGBA,r.UNSIGNED_BYTE,n.data)),r.flush()):ln(r,()=>r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n.width,n.height,0,r.RGBA,r.UNSIGNED_BYTE,n.data)):qe().getNumber("WEBGL_VERSION")===2?(ln(r,()=>r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,n)),r.flush()):ln(r,()=>r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n)),ln(r,()=>r.bindTexture(r.TEXTURE_2D,null))}function $pe(r,e,n,o){const a=r.createBuffer();ln(r,()=>r.bindBuffer(r.PIXEL_PACK_BUFFER,a));const _=4*4*e*n;return ln(r,()=>r.bufferData(r.PIXEL_PACK_BUFFER,_,r.STREAM_READ)),ln(r,()=>r.readPixels(0,0,n,e,r.RGBA,r.FLOAT,0)),ln(r,()=>r.bindBuffer(r.PIXEL_PACK_BUFFER,null)),a}function bpe(r,e,n){const o=r,a=new Float32Array(n);return o.bindBuffer(o.PIXEL_PACK_BUFFER,e),o.getBufferSubData(o.PIXEL_PACK_BUFFER,0,a),o.bindBuffer(o.PIXEL_PACK_BUFFER,null),a}function wpe(r,e,n,o){const[a,l]=T2(e,n),u=4,_=new Uint8Array(R8e(e*n,u));return ln(r,()=>r.readPixels(0,0,a,l,o.downloadTextureFormat,r.UNSIGNED_BYTE,_)),new Float32Array(_.buffer)}function xpe(r,e,n,o,a,l,u,_){const f=r,h=new Float32Array(P8e(l,u));return f.bindBuffer(f.PIXEL_PACK_BUFFER,e),f.getBufferSubData(f.PIXEL_PACK_BUFFER,0,h),f.bindBuffer(f.PIXEL_PACK_BUFFER,null),h}function Spe(r,e,n){const o=new Float32Array(e*n*4);return ln(r,()=>r.readPixels(0,0,n,e,r.RGBA,r.FLOAT,o)),o}var zWe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createVertexShader:cpe,createVertexBuffer:_pe,createIndexBuffer:fpe,getInternalFormatForFloat32MatrixTexture:hK,createFloat32MatrixTexture:ppe,getInternalFormatForFloat16MatrixTexture:dK,createFloat16MatrixTexture:hpe,getInternalFormatForUnsignedBytesMatrixTexture:mK,createUnsignedBytesMatrixTexture:dpe,getInternalFormatForPackedMatrixTexture:vK,createPackedMatrixTexture:mpe,getInternalFormatForFloat16PackedMatrixTexture:gK,createFloat16PackedMatrixTexture:vpe,bindVertexProgramAttributeStreams:gpe,uploadDenseMatrixToTexture:ype,uploadPixelDataToTexture:kpe,createBufferFromOutputTexture:$pe,downloadFloat32MatrixFromBuffer:bpe,downloadByteEncodedFloatMatrixFromOutputTexture:wpe,downloadPackedMatrixFromBuffer:xpe,downloadMatrixFromPackedOutputTexture:Spe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Epe{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const n=qe().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,Pfe(n,e)):this.gl=Bh(n);let o="WEBGL_color_buffer_float";const a="EXT_color_buffer_half_float";if(qe().getNumber("WEBGL_VERSION")===1){const l="OES_texture_float",u="OES_texture_half_float";if(this.textureFloatExtension=I2(this.gl,l),a_(this.gl,u))this.textureHalfFloatExtension=I2(this.gl,u);else if(qe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(o),a_(this.gl,a))this.colorBufferHalfFloatExtension=I2(this.gl,a);else if(qe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(o="EXT_color_buffer_float",a_(this.gl,o))this.colorBufferFloatExtension=this.gl.getExtension(o);else if(a_(this.gl,a))this.colorBufferHalfFloatExtension=this.gl.getExtension(a);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=_pe(this.gl),this.indexBuffer=fpe(this.gl),this.framebuffer=Hfe(this.gl),this.textureConfig=aK(this.gl,this.textureHalfFloatExtension)}get debug(){return qe().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;ln(e,()=>e.finish()),ln(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),ln(e,()=>e.deleteFramebuffer(this.framebuffer)),ln(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),ln(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),ln(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),ppe(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),hpe(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),dpe(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),kpe(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,o,a){this.throwIfDisposed(),ype(this.gl,e,n,o,a,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),vpe(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),mpe(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(lK(this.gl,this.framebuffer),this.outputTexture=null),ln(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,o){return this.downloadMatrixDriver(e,()=>wpe(this.gl,n,o,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,o,a,l,u){return xpe(this.gl,e,n,o,a,l,u,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return bpe(this.gl,e,n)}createBufferFromTexture(e,n,o){this.bindTextureToFrameBuffer(e);const a=$pe(this.gl,n,o,this.textureConfig);return this.unbindTextureToFrameBuffer(),a}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,o;if(qe().getBool("WEBGL_FENCE_API_ENABLED")){const a=e,l=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),o=()=>{const u=a.clientWaitSync(l,0,0);return u===a.ALREADY_SIGNALED||u===a.CONDITION_SATISFIED},n=l}else qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),o=()=>this.isQueryAvailable(n,qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):o=()=>!0;return{query:n,isFencePassed:o}}downloadMatrixFromPackedTexture(e,n,o){return this.downloadMatrixDriver(e,()=>Spe(this.gl,n,o))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=cpe(n));const o=Ofe(n);return ln(n,()=>n.attachShader(o,this.vertexShader)),ln(n,()=>n.attachShader(o,e)),zfe(n,o),this.debug&&yD(n,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=gpe(n,this.program,this.vertexBuffer)),o}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&ln(this.gl,()=>this.gl.deleteProgram(e))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&yD(this.gl,this.program),ln(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,o=!0){return this.throwIfDisposed(),o?qfe(this.gl,e,n):Kfe(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),ln(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,o){this.throwIfDisposed(),this.throwIfNoProgram(),Jfe(this.gl,e,n,o)}setOutputMatrixTexture(e,n,o){this.setOutputMatrixTextureDriver(e,o,n)}setOutputPackedMatrixTexture(e,n,o){this.throwIfDisposed();const[a,l]=h1(n,o);this.setOutputMatrixTextureDriver(e,a,l)}setOutputMatrixWriteRegion(e,n,o,a){this.setOutputMatrixWriteRegionDriver(o,e,a,n)}setOutputPackedMatrixWriteRegion(e,n,o,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&yD(this.gl,this.program),M2(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),ln(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),ln(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=I2(this.gl,qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const o=this.gl,a=this.getQueryTimerExtensionWebGL2(),l=o.createQuery();return o.beginQuery(a.TIME_ELAPSED_EXT,l),l}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,o=this.getQueryTimerExtensionWebGL2();n.endQuery(o.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await kW(()=>this.disposed||this.isQueryAvailable(e,qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const o=this.gl;return o.getQueryParameter(e,o.QUERY_RESULT)/1e6}else{const o=this.getQueryTimerExtensionWebGL1();return o.getQueryObjectEXT(e,o.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const o=this.gl,a=this.getQueryTimerExtensionWebGL2(),l=o.getQueryParameter(e,o.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),l&&!this.disjoint}else{const o=this.getQueryTimerExtensionWebGL1(),a=o.getQueryObjectEXT(e,o.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),a&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=UWe(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:o}=this.itemsToPoll[n];o()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),!(this.itemsToPoll.length>1)&&kW(()=>(this.pollItems(),this.itemsToPoll.length===0))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),kD(this.gl,e,this.framebuffer),this.debug&&M2(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(kD(this.gl,this.outputTexture,this.framebuffer),this.debug&&M2(this.gl)):lK(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const o=n();return this.unbindTextureToFrameBuffer(),o}setOutputMatrixTextureDriver(e,n,o){this.throwIfDisposed();const a=this.gl;kD(a,e,this.framebuffer),this.debug&&M2(a),this.outputTexture=e,ln(a,()=>a.viewport(0,0,n,o)),ln(a,()=>a.scissor(0,0,n,o))}setOutputMatrixWriteRegionDriver(e,n,o,a){this.throwIfDisposed(),ln(this.gl,()=>this.gl.scissor(e,n,o,a))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function UWe(r){let e=0;for(;e<r.length&&r[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jWe(r){const e=new Float32Array(r.length);for(let n=0;n<r.length;++n)e[n]=Math.abs(r[n]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z_(r){return(e,n,o,a,l)=>{const u=ui(e,n),_=u.length,f=Ps(u),h=zt(u),d=Sh(l,h),m=e.length,g=n.length,y=Ps(e),w=Ps(n),E=c2(e,u),A=c2(n,u);if(E.length+A.length===0)for(let S=0;S<d.length;++S)d[S]=r(o[S%o.length],a[S%a.length]);else for(let S=0;S<d.length;++S){const C=wW(S,_,f),R=C.slice(-m);E.forEach(z=>R[z]=0);const P=CL(R,m,y),D=C.slice(-g);A.forEach(z=>D[z]=0);const G=CL(D,g,w);d[S]=r(o[P],a[G])}return[d,u]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GWe=Z_((r,e)=>r+e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WWe(r,e,n,o,a){const l=zt(o),u=dm(a,n);for(let _=0;_<r.length;_++){const f=r[_];if(f<0)throw new Error("Input x must be non-negative!");f>=a||(l>0?u[f]+=e[_]:u[f]+=1)}return u}function HWe(r,e,n,o=!1){const a=r.shape[0],l=r.shape[1],u=La([a,n],e.dtype);for(let _=0;_<a;_++)for(let f=0;f<l;f++){const h=r.get(_,f);if(h<0)throw new Error("Input x must be non-negative!");h>=n||(o?u.set(1,_,h):e.size>0?u.set(u.get(_,h)+e.get(_,f),_,h):u.set(u.get(_,h)+1,_,h))}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fg(r){return(e,n,o)=>{const a=Sh(n,e.length);for(let l=0;l<e.length;++l)a[l]=r(e[l],o);return a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VWe=Fg(r=>Math.ceil(r));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qWe(r,e,n,o){const a=t_(n,zt(e));if(o&&n!=="string"){let l=0;r.forEach(u=>{const _=zt(u.shape);a.set(u.vals,l),l+=_})}else{let l=0;r.forEach(u=>{const _=n==="string"?E2(u.vals):u.vals;let f=0;for(let h=0;h<u.shape[0];++h){const d=h*e[1]+l;for(let m=0;m<u.shape[1];++m)a[d+m]=_[f++]}l+=u.shape[1]})}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KWe=Z_((r,e)=>r===e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JWe=Fg(r=>Math.exp(r));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XWe=Fg(r=>Math.expm1(r));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YWe=Fg(r=>Math.floor(r));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QWe(r,e,n,o,a,l,u,_,f){const h=La([o,l],n);for(let d=0;d<o;d++){const m=[];let g=0;for(let y=0;y<a;y++){const w=r[d*a+y];g+=w*u[y],m.push(w)}if(g<0||g>=f/l)throw new Error(`Invalid indices: ${m} does not index into ${_}`);for(let y=0;y<l;y++)h.values[d*l+y]=e.get(...e.indexToLoc(g*l+y))}return h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZWe(r,e,n){const o=La(n,r.dtype);for(let a=0;a<o.size;++a){const u=o.indexToLoc(a).slice(),_=u[0],f=u[2],h=e.locToIndex([_,f]);u[2]=e.values[h];const d=r.locToIndex(u);o.values[a]=r.values[d]}return o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eHe=Z_((r,e)=>r>e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tHe=Z_((r,e)=>r>=e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nHe=Z_((r,e)=>r<e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rHe=Z_((r,e)=>r<=e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iHe(r,e,n){const o=(e-r)/(n-1),a=dm(n,"float32");a[0]=r;for(let l=1;l<a.length;l++)a[l]=a[l-1]+o;return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oHe=Fg(r=>Math.log(r));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aHe(r,e,n,o){const a=Sh(o,zt(n));for(let l=0;l<a.length;++l){const u=l*e;let _=r[u];for(let f=0;f<e;++f){const h=r[u+f];(Number.isNaN(h)||h>_)&&(_=h)}a[l]=_}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sHe=Z_((r,e)=>Math.max(r,e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lHe=Z_((r,e)=>Math.min(r,e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cpe=Z_((r,e)=>r*e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uHe(r,e,n){const o=Nk(-1,n);return Cpe([],e,o,r,n)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cHe=Z_((r,e)=>r!==e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _He(r,e,n,o,a){const l=e.length,u=zt(e),_=Ps(e),f=Ps(a),h=Sh(n,zt(a));for(let d=0;d<u;++d){const m=wW(d,l,_),g=new Array(m.length);for(let w=0;w<g.length;w++)g[w]=m[o[w]];const y=CL(g,l,f);h[y]=r[d]}return h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fHe(r,e,n,o){const[a,l]=Mh(r,o),u=op(e,"int32"),_=dm(zt(a),u),f=zt(l);for(let h=0;h<_.length;++h){const d=h*f;let m=1;for(let g=0;g<f;++g)m*=n[d+g];_[h]=m}return{outVals:_,outShape:a,outDtype:u}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pHe(r,e,n,o){const a=r===e,l=r<e&&n<0,u=e<r&&n>1;if(a||l||u)return dm(0,o);const _=Math.abs(Math.ceil((e-r)/n)),f=dm(_,o);e<r&&n===1&&(n=-1),f[0]=r;for(let h=1;h<f.length;h++)f[h]=f[h-1]+n;return f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hHe=Fg(r=>1/Math.sqrt(r));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dHe=Fg(r=>1/(1+Math.exp(-r)));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mHe(r,e,n,o,a){const l=V9(o,e,n),u=zt(n),_=Ps(o);if(l){const m=q9(e,_);return a==="string"?r.slice(m,m+u):r.subarray(m,m+u)}const f=a==="string"?E2(r):r,h=La(o,a,f),d=La(n,a);for(let m=0;m<d.size;++m){const g=d.indexToLoc(m),y=g.map((w,E)=>w+e[E]);d.set(h.get(...y),...g)}return a==="string"?yfe(d.values):d.values}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vHe(r,e,n,o,a,l,u){const _=e[0],f=l[0],h=new Array(f),d=new Array(_),m=e[1];if(f===0){if(_!==0)throw new Error(ofe(_));const A=t_(n,0),S=t_(a,0);return[A,[0,m],S,h,d]}let g=!0,y=0;const w=new Array(f).fill(0);for(let A=0;A<_;++A){const S=r[A*m];if(S<0)throw new Error(afe(A,S));if(S>=f)throw new Error(sfe(A,S,f));++w[S],g=g&&S>=y,y=S}let E=!0;for(let A=0;A<f;++A){const S=w[A]===0;h[A]=S,E=E&&!S,w[A]=Math.max(w[A],1),A>0&&(w[A]+=w[A-1])}if(E&&g){const A=r,S=o;for(let C=0;C<_;++C)d[C]=C;return[A,[_,m],S,h,d]}else{const A=w[f-1],S=t_(n,A*m),C=t_(a,A),R=new Array(f).fill(0);for(let P=0;P<_;++P){const D=r[P*m],G=R[D],z=(D===0?0:w[D-1])+G;R[D]++;for(let V=0;V<m;++V)S[z*m+V]=r[P*m+V];C[z]=o[P],d[P]=z}for(let P=0;P<f;++P)if(R[P]===0){const G=P===0?0:w[P-1];S[G*m+0]=P;for(let z=1;z<m;++z)S[G*m+z]=0;C[G]=u}return[S,[A,m],C,h,d]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gHe(r,e,n,o,a){const l=zt(o),u=e[0],_=a.length,f=[];let h=1,d=-1;for(let A=0;A<_;++A){const S=a[A];if(S===-1){if(d!==-1)throw new Error(lfe(d,A));d=A,f.push(1)}else{if(S<0)throw new Error(ufe(A,S));h*=S,f.push(S)}}if(d!==-1){if(h<=0)throw new Error(cfe());const A=Math.trunc(l/h);if(h*A!==l)throw new Error(_fe(o,f));f[d]=A}if(zt(f)!==l)throw new Error(ffe(o,f));const g=o.length,y=[];if(g>0){y[g-1]=1;for(let A=g-2;A>=0;--A)y[A]=y[A+1]*o[A+1]}const w=[];if(_>0){w[_-1]=1;for(let A=_-2;A>=0;--A)w[A]=w[A+1]*f[A+1]}const E=t_(n,u*_);for(let A=0;A<u;++A){let S=0;for(let C=0;C<g;++C)S+=r[A*g+C]*y[C];for(let C=0;C<_;++C)E[A*_+C]=Math.trunc(S/w[C]),S%=w[C]}return[E,[u,_],f]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yHe(r,e,n,o,a,l=!1,u=0){const _=o.length,f=[e[0],r.length/e[0]],h=f[1],m=_>0?a[_-1]+1:0;if(m<0)throw new Error(Wq());const g=e.slice();g[0]=m;const y=g.reduce((R,P)=>R*P,1),w=t_(n,y);if(_===0)return m>0&&w.fill(u),[w,g];if(m<=0)throw new Error(Wq());let E=0,A=1,S=0,C=a[E];for(;;){let R=0;if(A<_){if(R=a[A],C===R){++A;continue}if(C>=R)throw new Error(pfe())}if(C<0||C>=m)throw new Error(hfe(C,m));C>S&&w.fill(u,S*h,C*h);for(let P=E;P<A;++P){const D=o[P];if(D<0||D>=f[0])throw new Error(dfe(P,o[P],f[0]));for(let G=0;G<h;G++)w[C*h+G]+=r[D*h+G]}if(l)for(let P=0;P<h;P++)w[C*h+P]/=A-E;if(E=A,++A,S=C+1,C=R,A>_)break}return S<m&&w.fill(u,S*h,m*h),[w,g]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kHe=Fg(r=>Math.sqrt(r));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $He=Z_((r,e)=>{const n=r-e;return n*n});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bHe(r,e,n,o){const a=La(r,e.dtype);for(let l=0;l<a.size;l++){const u=a.indexToLoc(l),_=new Array(u.length);for(let f=0;f<_.length;f++)_[f]=u[f]*n[f]+o[f];a.set(e.get(..._),...u)}return a}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wHe{constructor(e,n,o,a,l,u){this.separator=mm(e),this.nGramWidths=n,this.leftPad=mm(o),this.rightPad=mm(a),this.padWidth=l,this.preserveShort=u}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const o=this.getPadWidth(n);return Math.max(0,e+2*o-n+1)}createNGrams(e,n,o,a,l,u){for(let _=0;_<l;++_){const f=this.getPadWidth(u),h=Math.max(0,f-_),d=Math.max(0,f-(l-(_+1))),m=u-(h+d),g=n+(h>0?0:_-f);let y=0;y+=h*this.leftPad.length;for(let C=0;C<m;++C)y+=e[g+C].length;y+=d*this.rightPad.length,y+=(h+d+m-1)*this.separator.length,o[a+_]=new Uint8Array(y);const E=o[a+_];let A=0;const S=C=>C.forEach(R=>E[A++]=R);for(let C=0;C<h;++C)S(this.leftPad),S(this.separator);for(let C=0;C<m-1;++C)S(e[g+C]),S(this.separator);if(m>0){S(e[g+m-1]);for(let C=0;C<d;++C)S(this.separator),S(this.rightPad)}else{for(let C=0;C<d-1;++C)S(this.rightPad),S(this.separator);S(this.rightPad)}}}compute(e,n){const o=e.length,a=n.length;if(a>0){let f=n[0];if(f!==0)throw new Error(`First split value must be 0, got ${f}`);for(let h=1;h<a;++h){let d=n[h]>=f;if(d=d&&n[h]<=o,!d)throw new Error(`Invalid split value ${n[h]}, must be in [${f}, ${o}]`);f=n[h]}if(f!==o)throw new Error(`Last split value must be data size. Expected ${o}, got ${f}`)}const l=a-1,u=t_("int32",a);if(o===0||a===0){const f=new Array(o);for(let h=0;h<=l;++h)u[h]=0;return[f,u]}u[0]=0;for(let f=1;f<=l;++f){const h=n[f]-n[f-1];let d=0;this.nGramWidths.forEach(m=>{d+=this.getNumNGrams(h,m)}),this.preserveShort&&h>0&&d===0&&(d=1),u[f]=u[f-1]+d}const _=new Array(u[l]);for(let f=0;f<l;++f){const h=n[f];let d=u[f];if(this.nGramWidths.forEach(m=>{const g=n[f+1]-n[f],y=this.getNumNGrams(g,m);this.createNGrams(e,h,_,d,y,m),d+=y}),this.preserveShort&&d===u[f]){const m=n[f+1]-n[f];if(m===0)continue;const g=m+2*this.padWidth,y=1;this.createNGrams(e,h,_,d,y,g)}}return[_,u]}}function xHe(r,e,n,o,a,l,u,_){return new wHe(n,o,a,l,u,_).compute(r,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SHe(r,e,n,o){if(!r.length)return;if(e.length===0){for(let l=0;l<r.length;++l)o.push(r.subarray(l,l+1));return}if(e.length===1){const l=e[0];let u=r.indexOf(l);for(;u!==-1;){const _=r.subarray(0,u);(!n||_.length!==0)&&o.push(_),r=r.subarray(u+1),u=r.indexOf(l)}(!n||r.length!==0)&&o.push(r);return}let a=0;for(let l=0;l<r.length+1;l++)if(l===r.length||e.indexOf(r[l])!==-1){const u=r.subarray(a,l);(!n||u.length!==0)&&o.push(u),a=l+1}}function EHe(r,e,n){const o=r.length,a=[];let l=0,u=0;const _=new Array(o);for(let g=0;g<o;++g){const y=a.length;SHe(r[g],e,n,a);const w=a.length-y;_[g]=w,l+=w,u=Math.max(u,w)}const f=t_("int32",l*2),h=new Array(l),d=[o,u];let m=0;for(let g=0;g<o;++g)for(let y=0;y<_[g];++y)f[m*2]=g,f[m*2+1]=y,h[m]=a[m],++m;return[f,h,d]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CHe(r,e){const n=t_("int32",r.length);for(let o=0;o<r.length;++o)n[o]=bue(r[o]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AHe=Z_((r,e)=>r-e);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function THe(r,e){const n=new Array(r.rank);for(let a=0;a<n.length;a++)n[a]=r.shape[a]*e[a];const o=La(n,r.dtype);for(let a=0;a<o.values.length;++a){const l=o.indexToLoc(a),u=new Array(r.rank);for(let f=0;f<u.length;f++)u[f]=l[f]%r.shape[f];const _=r.locToIndex(u);o.values[a]=r.values[_]}return o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P2=(r,e)=>{const n=e.value-r.value;return n===0?r.index-e.index:n};function Ape(r,e,n=0,o=r.length-1){for(;o>n;){if(o-n>600){const _=o-n+1,f=e-n+1,h=Math.log(_),d=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*d*(_-d)/_)*Math.sign(f-_/2),g=Math.max(n,Math.floor(e-f*d/_+m)),y=Math.min(o,Math.floor(e+(_-f)*d/_+m));Ape(r,e,g,y)}const a=r[e];let l=n,u=o;for(_m(r,n,e),P2(r[o],a)>0&&_m(r,n,o);l<u;){for(_m(r,l,u),l++,u--;P2(r[l],a)<0;)l=l+1;for(;P2(r[u],a)>0;)u=u-1}P2(r[n],a)===0?_m(r,n,u):(u=u+1,_m(r,u,o)),u<=e&&(n=u+1),e<=u&&(o=u-1)}}function IHe(r,e,n,o,a){const l=e[e.length-1],[u,_]=[r.length/l,l],f=Sh(n,u*o),h=Sh("int32",u*o);for(let m=0;m<u;m++){const g=m*_,y=r.subarray(g,g+_);let w=new Array(y.length);y.forEach((C,R)=>w[R]={value:C,index:R}),o<w.length&&(Ape(w,o),w=w.slice(0,o)),a&&w.sort(P2);const E=m*o,A=f.subarray(E,E+o),S=h.subarray(E,E+o);for(let C=0;C<o;C++)A[C]=w[C].value,S[C]=w[C].index}const d=e.slice();return d[d.length-1]=o,[La(d,n,f),La(d,"int32",h)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MHe(r,e,n,o){const a=Va(e,n)[0],l=[1,n[0],1];for(let w=0;w<a;w++)l[0]*=n[w];l[1]=n[a];for(let w=a+1;w<n.length;w++)l[2]*=n[w];const u={},_=new Int32Array(n[a]),f=new Xx(l,o,r),h=[],d=l[0]===1&&l[2]===1;for(let w=0;w<n[a];w++){let E;if(d)E=r[w].toString();else{const A=[];for(let S=0;S<l[0];S++)for(let C=0;C<l[2];C++)A.push(f.get(S,w,C));E=A.join(",")}if(u[E]!==void 0)_[w]=u[E];else{const A=Object.keys(u).length;u[E]=A,_[w]=A,h.push(w)}}const m=l.slice();m[1]=Object.keys(u).length;const g=new Xx(m,o);h.forEach((w,E)=>{for(let A=0;A<l[0];A++)for(let S=0;S<l[2];S++)g.set(f.get(A,w,S),A,E,S)});const y=n.slice();return y[a]=m[1],{outputValues:g.values,outputShape:y,indices:_}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var NHe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",simpleAbsImpl:jWe,addImpl:GWe,bincountImpl:WWe,bincountReduceImpl:HWe,ceilImpl:VWe,concatImpl:qWe,equalImpl:KWe,expImpl:JWe,expm1Impl:XWe,floorImpl:YWe,gatherNdImpl:QWe,gatherV2Impl:ZWe,greaterImpl:eHe,greaterEqualImpl:tHe,lessImpl:nHe,lessEqualImpl:rHe,linSpaceImpl:iHe,logImpl:oHe,maxImpl:aHe,maximumImpl:sHe,minimumImpl:lHe,multiplyImpl:Cpe,negImpl:uHe,notEqualImpl:cHe,prodImpl:fHe,rangeImpl:pHe,rsqrtImpl:hHe,sigmoidImpl:dHe,sliceImpl:mHe,sparseFillEmptyRowsImpl:vHe,sparseReshapeImpl:gHe,sparseSegmentReductionImpl:yHe,sqrtImpl:kHe,squaredDifferenceImpl:$He,stridedSliceImpl:bHe,stringNGramsImpl:xHe,stringSplitImpl:EHe,stringToHashBucketFastImpl:CHe,subImpl:AHe,tileImpl:THe,topKImpl:IHe,transposeImpl:_He,uniqueImpl:MHe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:RHe,bincountImpl:Tpe,bincountReduceImpl:PHe,ceilImpl:BHe,concatImpl:FHe,equalImpl:LHe,expImpl:DHe,expm1Impl:OHe,floorImpl:zHe,gatherNdImpl:UHe,gatherV2Impl:jHe,greaterImpl:GHe,greaterEqualImpl:WHe,lessImpl:HHe,lessEqualImpl:VHe,linSpaceImpl:qHe,logImpl:KHe,maxImpl:JHe,maximumImpl:XHe,minimumImpl:YHe,multiplyImpl:QHe,negImpl:ZHe,notEqualImpl:eVe,prodImpl:tVe,rangeImpl:nVe,rsqrtImpl:rVe,sigmoidImpl:iVe,simpleAbsImpl:Ipe,sliceImpl:oVe,sparseFillEmptyRowsImpl:aVe,sparseReshapeImpl:sVe,sparseSegmentReductionImpl:Mpe,sqrtImpl:lVe,stridedSliceImpl:uVe,stringNGramsImpl:cVe,stringSplitImpl:_Ve,stringToHashBucketFastImpl:fVe,subImpl:pVe,tileImpl:hVe,topKImpl:dVe,transposeImpl:yK,uniqueImpl:mVe}=NHe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Npe(r,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${r}.${n}`)}function Fl(r,e){return e===1?[r]:Npe(r,e)}function vVe(r,e){if(r===1)return"rc";let n="";for(let o=0;o<r;o++)n+=e[o],o<r-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gVe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Su(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Fl("rc",this.rank),o=Ki(this.rank),a=this.getOutOfBoundsCondition(n),l=this.getSetup(n),u=this.getOutput(n);this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();

          if(${a}) {
            setOutput(vec4(0));
          } else {
            ${l}

            setOutput(vec4(${u}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let o=0;o<=1;o++)for(let a=0;a<=1;a++){let l=`${o===0?"r":"rp1"}, ${a===0?"c":"cp1"}`;for(let u=2;u<this.rank;u++)l=`${e[e.length-1-u]},`+l;n.push(l)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let o=this.rank-2;o<this.rank;o++)n+=`${e[o]} >= ${this.enableShapeUniforms?`outShape[${o}]`:this.outputShape[o]}`,o<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),o=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],a=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${o};
      bool rEdge = rp1 >= ${a};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc),
              rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1),
              0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rpe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Su(this.outputShape.length);let o="";for(let a=0;a<4;a++){let l="thisRC = rc;";a%2==1&&(l+="thisRC.z += 1;"),a>1&&(l+="thisRC.y += 1;"),o+=`
        ${l}
        ${a>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${a}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${a>0?"}":""}
      `}this.userCode=`
      ${yVe(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?fK():_K(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${o}

        setOutput(result);
      }
    `}}function yVe(r,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?K8e(["r","c","d"],"inputShape"):Jk(["r","c","d"],r)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kVe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,n,o){const a=Bpe(n,o),l=Fpe(e,a,o);l in this.freeTextures||(this.freeTextures[l]=[]),l in this.usedTextures||(this.usedTextures[l]=[]);const u=Ppe(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,o);if(this.freeTextures[l].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=u,this.log();const f=this.freeTextures[l].shift();return this.usedTextures[l].push(f),f}let _;return a===Bs.PACKED_2X2_FLOAT32?_=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===Bs.PACKED_2X2_FLOAT16?_=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===Bs.UNPACKED_FLOAT32?_=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===Bs.UNPACKED_FLOAT16?_=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===Bs.PACKED_4X1_UNSIGNED_BYTE&&(_=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[l].push(_),this.numUsedTextures++,this._numBytesAllocated+=u,this.log(),_}releaseTexture(e,n,o,a){if(this.freeTextures==null)return;const l=Bpe(o,a),u=Fpe(n,l,a);u in this.freeTextures||(this.freeTextures[u]=[]);const _=Ppe(n,l,this.gpgpu.gl,this.gpgpu.textureConfig,a),f=qe().get("WEBGL_DELETE_TEXTURE_THRESHOLD");f!==-1&&this._numBytesAllocated>f?(this.gpgpu.deleteMatrixTexture(e),this._numBytesAllocated-=_):(this.freeTextures[u].push(e),this.numFreeTextures++,this._numBytesFree+=_),this.numUsedTextures--;const h=this.usedTextures[u],d=h.indexOf(e);if(d<0)throw new Error("Cannot release a texture that was never provided by this texture manager");h.splice(d,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function $Ve(r,e){const n=r;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===r.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function Ppe(r,e,n,o,a){const l=bVe(e,o);let u;if(a){const[f,h]=h1(r[0],r[1]);u=f*h}else{const[f,h]=T2(r[0],r[1]);u=f*h}const _=$Ve(n,l);return u*_}function bVe(r,e){switch(r){case Bs.PACKED_2X2_FLOAT32:return vK(e);case Bs.PACKED_2X2_FLOAT16:return gK(e);case Bs.UNPACKED_FLOAT32:return hK(e);case Bs.UNPACKED_FLOAT16:return dK(e);case Bs.PACKED_4X1_UNSIGNED_BYTE:return mK(e);default:throw new Error(`Unknown physical texture type ${r}`)}}function wVe(r){return qe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?r?Bs.PACKED_2X2_FLOAT32:Bs.UNPACKED_FLOAT32:r?Bs.PACKED_2X2_FLOAT16:Bs.UNPACKED_FLOAT16}function Bpe(r,e){if(r===o_.UPLOAD)return Bs.PACKED_2X2_FLOAT32;if(r===o_.RENDER||r==null)return wVe(e);if(r===o_.DOWNLOAD||r===o_.PIXELS)return Bs.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${r}`)}function Fpe(r,e,n){return`${r[0]}_${r[1]}_${e}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lg{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Su(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const lp="if (isnan(x)) return x;",xVe="return x;",Lpe="return abs(x);",SVe="return (x >= 0.0) ? x : (exp(x) - 1.0);",EVe=lp+`
  return (x < 0.0) ? 0.0 : x;
`,CVe=lp+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,ED="return x;",AVe="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TVe="return x;",IVe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,MVe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,NVe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,RVe="return 1.0 / (1.0 + exp(-1.0 * x));";class k1{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Su(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PVe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Su(this.outputShape.length);const n=e.length,o=Fl("rc",n),a=Ki(n),l=vVe(n,o),u=o.slice(-2),_=n<=1?"rc":`vec2(${u.join(",")})`;this.userCode=`
      void main() {
        ${a} rc = getOutputCoords();
        vec4 packedInput = getA(${l});

        setOutput(getChannel(packedInput, ${_}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BVe=Tq,FVe=1e-7,LVe=1e-4,CD={};function DVe(r){return r in CD||(CD[r]={}),CD[r]}const OVe=qe().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),zVe=600;function UVe(){return qe().global.screen==null?1024:qe().global.screen.height*qe().global.screen.width*window.devicePixelRatio*zVe/1024/1024}class B2 extends gW{constructor(e){super();if(this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!qe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(e==null){const n=Bh(qe().getNumber("WEBGL_VERSION"));this.binaryCache=DVe(qe().getNumber("WEBGL_VERSION")),this.gpgpu=new Epe(n),this.canvas=n.canvas,this.gpgpuCreatedLocally=!0}else this.gpgpu=e,this.binaryCache={},this.gpgpuCreatedLocally=!1,this.canvas=e.gl.canvas;this.textureManager=new kVe(this.gpgpu),this.numMBBeforeWarning=UVe(),this.texData=new zle(this,t1())}nextDataId(){return B2.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,n,o){if((qe().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||qe().getBool("DEBUG"))&&this.checkNumericalProblems(e),o==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:n,dtype:o,values:e,usage:o_.UPLOAD,refCount:1}),a}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,o,a,l){if(qe().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:o,dtype:a,values:n,usage:o_.UPLOAD,refCount:l})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:o,dtype:a,complexTensorInfos:l,slice:u,shape:_,isPacked:f}=n;if(u!=null){let g;f?g=new k1(_,ED):g=new Lg(_,ED);const y=this.runWebGLProgram(g,[{dataId:e,shape:_,dtype:a}],a),w=this.readSync(y.dataId);return this.disposeIntermediateTensorInfo(y),w}if(o!=null)return this.convertAndCacheOnCPU(e);if(a==="string")return o;const h=this.activeTimers!=null;let d;h&&(d=V_());let m;if(a==="complex64"){const g=this.readSync(l.real.dataId),y=this.readSync(l.imag.dataId);m=jq(g,y)}else m=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=V_()-d),this.convertAndCacheOnCPU(e,m)}async read(e){if(this.pendingRead.has(e)){const w=this.pendingRead.get(e);return new Promise(E=>w.push(E))}const n=this.texData.get(e),{values:o,shape:a,slice:l,dtype:u,complexTensorInfos:_,isPacked:f}=n;if(l!=null){let w;f?w=new k1(a,ED):w=new Lg(a,ED);const E=this.runWebGLProgram(w,[{dataId:e,shape:a,dtype:u}],u),A=this.read(E.dataId);return this.disposeIntermediateTensorInfo(E),A}if(o!=null)return this.convertAndCacheOnCPU(e);if(qe().getBool("DEBUG")&&!qe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&qe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let h=null,d;if(u!=="complex64"&&qe().get("WEBGL_BUFFER_SUPPORTED")){d=this.decode(e);const w=this.texData.get(d.dataId);h=this.gpgpu.createBufferFromTexture(w.texture,...gD(a))}this.pendingRead.set(e,[]),u!=="complex64"&&await this.gpgpu.createAndWaitForFence();let m;if(u==="complex64"){const w=await Promise.all([this.read(_.real.dataId),this.read(_.imag.dataId)]),E=w[0],A=w[1];m=jq(E,A)}else if(h==null)m=this.getValuesFromTexture(e);else{const w=zt(a);m=this.gpgpu.downloadFloat32MatrixFromBuffer(h,w)}if(d!=null&&this.disposeIntermediateTensorInfo(d),h!=null){const w=this.gpgpu.gl;ln(w,()=>w.deleteBuffer(h))}const g=this.convertAndCacheOnCPU(e,m),y=this.pendingRead.get(e);return this.pendingRead.delete(e),y.forEach(w=>w(g)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&t1().removeDataId(e,this),this.pendingDeletes--),g}bufferSync(e){const n=this.readSync(e.dataId);let o=n;if(e.dtype==="string")try{o=n.map(a=>Jx(a))}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return La(e.shape,e.dtype,o)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const o=e[n];if(!Bfe(o))throw qe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${o} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${o} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:o,isPacked:a}=this.texData.get(e),l=zt(n);if(qe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const g=this.decode(e),y=this.texData.get(g.dataId),w=this.gpgpu.downloadMatrixFromPackedTexture(y.texture,...gD(n)).subarray(0,l);return this.disposeIntermediateTensorInfo(g),w}const u=qe().getBool("WEBGL_PACK")&&a===!0,_=u?$D(n):n,f=u?new LWe(_):new FWe(_),h=this.runWebGLProgram(f,[{shape:_,dtype:o,dataId:e}],"float32"),d=this.texData.get(h.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(d.texture,d.texShape[0],d.texShape[1]).subarray(0,l);return this.disposeIntermediateTensorInfo(h),m}timerAvailable(){return qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}async time(e){const n=this.activeTimers,o=[];let a=!1;this.programTimersStack==null?(this.programTimersStack=o,a=!0):this.activeTimers.push(o),this.activeTimers=o,e();const l=fm(this.activeTimers.map(f=>f.query)).filter(f=>f!=null),u=fm(this.activeTimers.map(f=>f.name)).filter(f=>f!=null);this.activeTimers=n,a&&(this.programTimersStack=null);const _={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};if(qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const f=await Promise.all(l);_.kernelMs=jle(f),_.getExtraProfileInfo=()=>f.map((h,d)=>({name:u[d],ms:h})).map(h=>`${h.name}: ${h.ms}`).join(", ")}else _.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,_}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:V_(),endMs:null}}endTimer(e){return qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=V_(),e)}async getQueryTime(e){if(qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:o}=this.texData.get(e);return o!=null&&(this.disposeData(o.real.dataId,n),this.disposeData(o.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:o,texShape:a,usage:l,isPacked:u,slice:_}=this.texData.get(e),f=_&&_.origDataId||e,h=this.dataRefCount.get(f);h>1?this.dataRefCount.set(f,h-1):(this.dataRefCount.delete(f),n!=null&&(this.numBytesInGPU-=this.computeBytes(a,o),this.textureManager.releaseTexture(n,a,l,u)));const d=this.texData.get(e);d.texture=null,d.texShape=null,d.isPacked=!1,d.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=OVe){return qe().getBool("WEBGL_CPU_FORWARD")&&e.every(o=>this.texData.get(o.dataId).texture==null&&zt(o.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){j_("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return BVe(e.shape,n)}packedUnaryOp(e,n,o){const a=new k1(e.shape,n),l=this.compileAndRun(a,[e],o);return t1().makeTensorFromDataId(l.dataId,l.shape,l.dtype)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const a=Ipe(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,a)}if(qe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Lpe,e.dtype);const n=new Lg(e.shape,Lpe),o=this.compileAndRun(n,[e]);return t1().makeTensorFromDataId(o.dataId,o.shape,o.dtype)}makeTensorInfo(e,n,o){let a;if(n==="string"&&o!=null&&o.length>0&&hm(o[0])){const l=o.map(u=>mm(u));a=this.write(l,e,n)}else a=this.write(o,e,n);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:n}}makeOutput(e,n,o){const{dataId:a}=this.makeTensorInfo(e,n,o);return t1().makeTensorFromDataId(a,e,n,this)}unpackTensor(e){const n=new PVe(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new gVe(e.shape),o=!0;return this.runWebGLProgram(n,[e],e.dtype,null,o)}packedReshape(e,n){const o=[qk(e.shape),...Kk(e.shape)],a={dtype:e.dtype,shape:o,dataId:e.dataId},l=[qk(n),...Kk(n)],u=new Rpe(l,o),_=!0,f=[o],h=this.runWebGLProgram(u,[a],e.dtype,f,_);return{dataId:h.dataId,shape:n,dtype:h.dtype}}decode(e){const n=this.texData.get(e),{isPacked:o,shape:a,dtype:l}=n,u=$D(a);let _;const f=gD(u);o?_=new BWe(u):_=new PWe(u);const h=!0,d=[f],m=this.runWebGLProgram(_,[{shape:u,dtype:l,dataId:e}],l,d,h);return{dtype:l,shape:a,dataId:m.dataId}}runWebGLProgram(e,n,o,a,l=!1){const u=this.makeTensorInfo(e.outputShape,o),_=this.texData.get(u.dataId);if(e.packedOutput&&(_.isPacked=!0),e.outPackingScheme===A2.DENSE){const A=gD(e.outputShape);_.texShape=A.map(S=>S*2)}if(e.outTexUsage!=null&&(_.usage=e.outTexUsage),zt(u.shape)===0)return _.values=Sh(u.dtype,0),u;const f=[],h=n.map(A=>{if(A.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let S=this.texData.get(A.dataId);if(S.texture==null){if(!e.packedInputs&&zt(A.shape)<=qe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:A.shape,texData:null,isUniform:!0,uniformValues:S.values};e.packedInputs&&(S.isPacked=!0,S.shape=A.shape)}if(this.uploadToGPU(A.dataId),!!S.isPacked!=!!e.packedInputs)A=S.isPacked?this.unpackTensor(A):this.packTensor(A),f.push(A),S=this.texData.get(A.dataId);else if(S.isPacked&&!N2(S.shape,A.shape)){const C=A,R=A.shape;A.shape=S.shape,A=this.packedReshape(A,R),f.push(A),S=this.texData.get(A.dataId),C.shape=R}return{shape:A.shape,texData:S,isUniform:!1}});this.uploadToGPU(u.dataId);const d={shape:u.shape,texData:_,isUniform:!1},m=RWe(e,h,d),g=this.getAndSaveBinary(m,()=>MWe(this.gpgpu,e,h,d)),y=this.activeTimers!=null;let w;y&&(w=this.startTimer()),NWe(this.gpgpu,g,h,d,a),f.forEach(A=>this.disposeIntermediateTensorInfo(A)),y&&(w=this.endTimer(w),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(w)}));const E=qe().get("WEBGL_FLUSH_THRESHOLD");if(E>0){const A=V_();A-this.lastGlFlushTime>E&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=A)}if(!qe().getBool("WEBGL_LAZILY_UNPACK")&&_.isPacked&&l===!1){const A=this.unpackTensor(u);return this.disposeIntermediateTensorInfo(u),A}return u}compileAndRun(e,n,o,a,l=!1){return o=o||n[0].dtype,this.runWebGLProgram(e,n,o,a,l)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(qe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement!="undefined"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=vr(()=>{if(!qe().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=qe().getBool("DEBUG");qe().set("DEBUG",!1);const n=this.abs(Rr(1e-8)).dataSync()[0];if(qe().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?FVe:LVe}uploadToGPU(e){const n=this.texData.get(e),{shape:o,dtype:a,values:l,texture:u,usage:_,isPacked:f}=n;if(u!=null)return;const h=this.activeTimers!=null;let d;h&&(d=V_());let m=n.texShape;if(m==null&&(m=Qfe(o,f),n.texShape=m),l!=null){const g=$D(o);let y,w=m[1],E=m[0];const A=l instanceof Uint8Array||l instanceof Uint8ClampedArray;(f||!A)&&([w,E]=h1(m[0],m[1])),f?y=new OWe(g,A):y=new DWe(g,A);const S=A?[E,w]:m,C=this.makeTensorInfo(S,a),R=this.texData.get(C.dataId);A?R.usage=o_.PIXELS:R.usage=o_.UPLOAD,R.texShape=S,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(C.dataId),w,E,l);const P=[[E,w]],D=!0,G=this.runWebGLProgram(y,[C],a,P,D),z=this.texData.get(G.dataId);n.texture=z.texture,n.texShape=z.texShape,n.isPacked=z.isPacked,n.usage=z.usage,this.disposeIntermediateTensorInfo(C),this.texData.delete(G.dataId),n.values=null,h&&(this.uploadWaitMs+=V_()-d)}else{const g=this.acquireTexture(m,_,a,f);n.texture=g}}convertAndCacheOnCPU(e,n){const o=this.texData.get(e),{dtype:a}=o;return this.releaseGPUData(e),n!=null&&(o.values=jVe(n,a)),o.values}acquireTexture(e,n,o,a){if(this.numBytesInGPU+=this.computeBytes(e,o),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const l=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${l} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,a)}computeBytes(e,n){return e[0]*e[1]*SL(n)}}B2.nextDataId=0;function jVe(r,e){if(e==="float32"||e==="complex64")return r;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(r.length):new Uint8Array(r.length);for(let o=0;o<n.length;++o)n[o]=Math.round(r[o]);return n}else throw new Error(`Unknown dtype ${e}`)}/** @license See the LICENSE file. */const GVe="3.12.0";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dpe(){qe().set("WEBGL_FORCE_F16_TEXTURES",!0)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */E9()&&dce("webgl",()=>new B2,2);const WVe={forceHalfFloat:Dpe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ope=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class $1{constructor(e,n,o){this.variableNames=["A","B"],this.outputShape=ui(n,o),this.enableShapeUniforms=Su(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AD=`
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;
`;class F2{constructor(e,n,o,a=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=ui(n,o);const l=this.outputShape.length;this.enableShapeUniforms=Su(l);let u="";if(a)if(l===0||zt(this.outputShape)===1)u=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(u=`
          ${Ki(l)} coords = getOutputCoords();
        `,l===1)this.enableShapeUniforms?u+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:u+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const f=Fl("coords",l);this.enableShapeUniforms?u+=`
            bool nextRowOutOfBounds =
              (${f[l-2]} + 1) >= outShape[${l} - 2];
            bool nextColOutOfBounds =
              (${f[l-1]} + 1) >= outShape[${l} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:u+=`
            bool nextRowOutOfBounds =
              (${f[l-2]} + 1) >= ${this.outputShape[l-2]};
            bool nextColOutOfBounds =
              (${f[l-1]} + 1) >= ${this.outputShape[l-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${u}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mc(r){const{inputs:e,backend:n}=r,{x:o}=e;return n.incRef(o.dataId),{dataId:o.dataId,shape:o.shape,dtype:o.dtype}}const HVe={kernelName:IL,backendName:"webgl",kernelFunc:mc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dg(r){const{inputs:e,backend:n}=r,{real:o,imag:a}=e,l=n.makeTensorInfo(o.shape,"complex64"),u=n.texData.get(l.dataId),_=mc({inputs:{x:o},backend:n}),f=mc({inputs:{x:a},backend:n});return u.complexTensorInfos={real:_,imag:f},l}const VVe={kernelName:KW,backendName:"webgl",kernelFunc:Dg};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zpe="return (a < 0.) ? b * a : a;",Upe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function qVe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{alpha:l}=o,u=n.makeTensorInfo([],"float32",Nk(l,"float32")),_=qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new F2(Upe,a.shape,u.shape):new $1(zpe,a.shape,u.shape),f=n.runWebGLProgram(_,[a,u],"float32");return n.disposeIntermediateTensorInfo(u),f}const KVe={kernelName:FH,backendName:"webgl",kernelFunc:qVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jpe="return (a < 0.) ? b * a : a;",Gpe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function JVe(r){const{inputs:e,backend:n}=r,{x:o,alpha:a}=e,l=qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new F2(Gpe,o.shape,a.shape):new $1(jpe,o.shape,a.shape);return n.runWebGLProgram(l,[o,a],"float32")}const XVe={kernelName:hV,backendName:"webgl",kernelFunc:JVe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wpe="if (isnan(x)) return x;",YVe=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`,QVe=`
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;
`;function ri({opSnippet:r,packedOpSnippet:e,cpuKernelImpl:n,dtype:o}){return({inputs:a,backend:l})=>{const{x:u}=a,_=l,f=o||u.dtype;if(_.shouldExecuteOnCPU([u])&&n!=null){const m=_.texData.get(u.dataId),g=n(m.values,f);return _.makeTensorInfo(u.shape,f,g)}const h=qe().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let d;return h?d=new k1(u.shape,e):d=new Lg(u.shape,r),_.runWebGLProgram(d,[u],f)}}function Fs({opSnippet:r,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:o=!1,cpuKernelImpl:a,dtype:l}){return({inputs:u,backend:_})=>{const{a:f,b:h}=u,d=_;if(o&&f.dtype==="complex64"){const w=d.texData.get(f.dataId),E=d.texData.get(h.dataId),[A,S]=[[w.complexTensorInfos.real,E.complexTensorInfos.real],[w.complexTensorInfos.imag,E.complexTensorInfos.imag]].map(R=>{const[P,D]=R,G={dataId:P.dataId,dtype:P.dtype,shape:f.shape},z={dataId:D.dataId,dtype:D.dtype,shape:h.shape},V=new $1(r,f.shape,h.shape);return d.runWebGLProgram(V,[G,z],op(P.dtype,D.dtype))}),C=Dg({inputs:{real:A,imag:S},backend:d});return d.disposeIntermediateTensorInfo(A),d.disposeIntermediateTensorInfo(S),C}const m=l||op(f.dtype,h.dtype);if((f.dtype==="string"||h.dtype==="string"||d.shouldExecuteOnCPU([f,h]))&&a!=null){const w=d.texData.get(f.dataId).values,E=d.texData.get(h.dataId).values,A=f.dtype==="string"?E2(w):w,S=f.dtype==="string"?E2(E):E,[C,R]=a(f.shape,h.shape,A,S,m),P=d.makeTensorInfo(R,m),D=d.texData.get(P.dataId);return D.values=C,P}const g=qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let y;return g?y=new F2(e,f.shape,h.shape,n):y=new $1(r,f.shape,h.shape),d.runWebGLProgram(y,[f,h],m)}}function TD(r,e=!1){if(r==="linear")return e?TVe:xVe;if(r==="relu")return e?MVe:EVe;if(r==="elu")return e?IVe:SVe;if(r==="relu6")return e?NVe:CVe;if(r==="prelu")return e?Gpe:jpe;if(r==="leakyrelu")return e?Upe:zpe;if(r==="sigmoid")return e?RVe:AVe;throw new Error(`Activation ${r} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hpe{constructor(e,n,o,a=!1,l=!1,u=!1,_=null,f=!1,h=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o,this.enableShapeUniforms=Su(this.outputShape.length);const d=a?e[1]:e[2],m=Math.ceil(d/2),g=a?"i * 2, rc.y":"rc.y, i * 2",y=l?"rc.z, i * 2":"i * 2, rc.z",w=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],E=l?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let A="",S="";_&&(f?A=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${_}
        }`:h?A=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${_}
        }`:A=`vec4 activation(vec4 x) {
          ${_}
        }`,S="result = activation(result);");const C=u?"result += getBiasAtOutCoords();":"";u&&this.variableNames.push("bias"),f&&this.variableNames.push("preluActivationWeights"),h&&this.variableNames.push("leakyreluAlpha");let R="rc.x",P="rc.x";e[0]<n[0]?R=`int(min(float(rc.x), ${e[0]-1}.))`:n[0]<e[0]&&(P=`int(min(float(rc.x), ${n[0]-1}.))`),this.userCode=`
      ${A}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${m}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < ${m}; i++) {
          int batchA = ${R};
          int batchB = ${P};
          vec4 a = getMatrixA(batchA, ${g});
          vec4 b = getMatrixB(batchB, ${y});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${w[0]} * ${E[0]});
          result += (${w[1]} * ${E[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${C}

        ${S}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vpe={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class qpe{constructor(e,n,o){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=ui(n,o),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kpe="return a * b;";function kK(r){const{inputs:e,backend:n}=r,{a:o,b:a}=e,l=op(o.dtype,a.dtype);if(o.dtype==="complex64"){const _=n.texData.get(o.dataId),f=n.texData.get(a.dataId),h=new qpe(Vpe.REAL,o.shape,a.shape),d=new qpe(Vpe.IMAG,o.shape,a.shape),m=[{dataId:_.complexTensorInfos.real.dataId,dtype:_.complexTensorInfos.real.dtype,shape:o.shape},{dataId:_.complexTensorInfos.imag.dataId,dtype:_.complexTensorInfos.imag.dtype,shape:o.shape},{dataId:f.complexTensorInfos.real.dataId,dtype:f.complexTensorInfos.real.dtype,shape:a.shape},{dataId:f.complexTensorInfos.imag.dataId,dtype:f.complexTensorInfos.imag.dtype,shape:a.shape}],g=n.runWebGLProgram(h,m,"float32"),y=n.runWebGLProgram(d,m,"float32"),w=Dg({inputs:{real:g,imag:y},backend:n});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),w}if(n.shouldExecuteOnCPU([o,a])){const _=n.texData.get(o.dataId),f=n.texData.get(a.dataId),[h,d]=QHe(o.shape,a.shape,_.values,f.values,l),m=n.makeTensorInfo(d,l),g=n.texData.get(m.dataId);return g.values=h,m}let u;return qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?u=new F2(Kpe,o.shape,a.shape):u=new $1(Kpe,o.shape,a.shape),n.runWebGLProgram(u,[o,a],l)}const ZVe={kernelName:rV,backendName:"webgl",kernelFunc:kK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e9e(r,e,n){const o=[qk(r.shape),...Kk(r.shape)],a={dtype:r.dtype,shape:o,dataId:r.dataId},l=[qk(e),...Kk(e)],u=new Rpe(l,o),_=!0,f=[o],h=n.runWebGLProgram(u,[a],r.dtype,f,_);return{dataId:h.dataId,shape:e,dtype:h.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function on(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{shape:l}=o,u=n,_=zt(a.shape),f=Gle(l,_),h=zt(f);re(_===h,()=>`The new shape (${f}) has ${h} elements and the old shape (${a.shape}) has ${_} elements. The new shape and old shape must have the same number of elements.`);const d=u.texData.get(a.dataId);return d.isPacked&&!N2(a.shape,f)&&!(d.texture!==null&&N2(d.shape,f))?e9e(a,f,u):(u.incRef(a.dataId),{dataId:a.dataId,shape:f,dtype:a.dtype})}const t9e={kernelName:kV,backendName:"webgl",kernelFunc:on};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Jpe{constructor(e,n){this.variableNames=["x"];const{windowSize:o,batchSize:a,inSize:l,outSize:u}=e;this.outputShape=[a,u];const _=Math.floor(o/4)*4,f=o%4;let h="sumValue += dot(values, ones);";if(n!=null){const m=1/n;h=`sumValue += dot(values * ${Sk(m)?m.toPrecision(2):m}, ones);`}let d="";l%o>0&&(d=`
        if (inIdx < 0 || inIdx >= ${l}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${d}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${o};

        float sumValue = 0.0;

        for (int i = 0; i < ${_}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${h}
        }

        int inIdx = inOffset + ${_};
        if (${f===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${h}
        } else if (${f===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${h}
        } else if (${f===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${h}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class n9e{constructor(e,n){this.variableNames=["x"];const{windowSize:o,batchSize:a,inSize:l,outSize:u}=e;this.outputShape=[a,u];let _="0.0",f="";n==="prod"?_="1.0":n==="min"?(_="1.0 / 1e-20",f="min"):n==="max"&&(_="-1.0 / 1e-20",f="max");let h=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?h="sumValue":n==="prod"?h="prodValue":n==="all"?h="allValue":n==="any"&&(h="anyValue");const d=Math.floor(o/4)*4,m=o%4;let g=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${f}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${f}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,y="vec4";n==="all"?(_="1.0",g=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,y="bvec4"):n==="any"&&(_="0.0",g=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,y="bvec4");let w="";l%o>0&&(w=`
        if (inIdx < 0 || inIdx >= ${l}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${_};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${w}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${o};

        vec4 minMaxValue = vec4(${_});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${d}; i += 4) {
          int inIdx = inOffset + i;
          ${y} values = ${y}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${g}
        }

        int inIdx = inOffset + ${d};
        if (${m===1}) {
          ${y} values = ${y}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${g}
        } else if (${m===2}) {
          ${y} values = ${y}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${g}
        } else if (${m===3}) {
          ${y} values = ${y}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${g}
        }
        setOutput(${h});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r9e(r){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:r[1],o=hD(n);e.push({inSize:n,windowSize:o,outSize:Math.ceil(n/o)})}return e}function Yk(r,e,n,o){const a=r9e(r.shape);let l=r;for(let u=0;u<a.length;u++){const{inSize:_,windowSize:f,outSize:h}=a[u];let d,m;n==="mean"?d=u===0?new Jpe({windowSize:f,inSize:_,batchSize:r.shape[0],outSize:h},_):new Jpe({windowSize:f,inSize:_,batchSize:r.shape[0],outSize:h}):d=new n9e({windowSize:f,inSize:_,batchSize:r.shape[0],outSize:h},n),m=l,l=o.runWebGLProgram(d,[l],e),m.dataId!==r.dataId&&o.disposeIntermediateTensorInfo(m)}return l}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i9e{constructor(e,n){this.variableNames=["A"];const o=new Array(e.length);for(let u=0;u<o.length;u++)o[u]=e[n[u]];this.outputShape=o,this.rank=o.length;const a=Ki(this.rank),l=o9e(n);this.userCode=`
    void main() {
      ${a} resRC = getOutputCoords();
      setOutput(getA(${l}));
    }
    `}}function o9e(r){const e=r.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],o=new Array(e);for(let a=0;a<r.length;a++)o[r[a]]=n[a];return o.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class a9e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const o=new Array(e.length);for(let d=0;d<o.length;d++)o[d]=e[n[d]];if(this.outputShape=o,this.rank=o.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const a=Ki(this.rank),l=Npe("rc",this.rank),u=new Array(this.rank);for(let d=0;d<n.length;d++)u[n[d]]=l[d];const _=`vec2(${u.slice(-2).join()})`,f=`++${l[this.rank-1]} < ${o[this.rank-1]}`,h=`getChannel(getA(${u.join()}), ${_})`;this.userCode=`
    void main() {
      ${a} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${h};
      if(${f}) {
        result[1] = ${h};
      }
      --${l[this.rank-1]};
      if(++${l[this.rank-2]} < ${o[this.rank-2]}) {
        result[2] = ${h};
        if(${f}) {
          result[3] = ${h};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ID(r,e,n){const o=qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new a9e(r.shape,e):new i9e(r.shape,e);return n.runWebGLProgram(o,[r],r.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s9e(r,e,n,o){const a=e,l=r.shape.length,u=Va(a,r.shape);let _=u;const f=K_(_,l),h=f!=null;let d=r;h&&(d=ID(r,f,o),_=J_(_.length,l)),sp("sum",_,l);const[m,g]=Mh(d.shape,_);let y=m;n&&(y=r_(m,u));const w=zt(g),A=zt(r.shape)/w,S=on({inputs:{x:d},attrs:{shape:[A,w]},backend:o}),C=jL(r.dtype),R=Yk(S,C,"sum",o),P=on({inputs:{x:R},attrs:{shape:y},backend:o});return o.disposeIntermediateTensorInfo(S),o.disposeIntermediateTensorInfo(R),h&&o.disposeIntermediateTensorInfo(d),P}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MD(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{axis:l,keepDims:u}=o;return s9e(a,l,u,n)}const l9e={kernelName:LV,backendName:"webgl",kernelFunc:MD};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ll(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{perm:l}=o,u=n,_=a.shape.length,f=new Array(_);for(let d=0;d<f.length;d++)f[d]=a.shape[l[d]];let h;if(u.shouldExecuteOnCPU([a])){const m=u.texData.get(a.dataId).values,g=yK(m,a.shape,a.dtype,l,f);h=u.makeTensorInfo(f,a.dtype);const y=u.texData.get(h.dataId);y.values=g}else h=ID(a,l,u);return h}const u9e={kernelName:n9,backendName:"webgl",kernelFunc:Ll};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xpe=1e3;function ND({a:r,b:e,transposeA:n,transposeB:o,backend:a,bias:l=null,preluActivationWeights:u=null,leakyreluAlpha:_=0,activation:f=null}){const h=r.shape.length,d=e.shape.length,m=n?r.shape[h-2]:r.shape[h-1],g=o?e.shape[d-1]:e.shape[d-2],y=n?r.shape[h-1]:r.shape[h-2],w=o?e.shape[d-2]:e.shape[d-1],E=r.shape.slice(0,-2),A=e.shape.slice(0,-2),S=zt(E),C=zt(A),P=ui(r.shape.slice(0,-2),e.shape.slice(0,-2)).concat([y,w]);re(m===g,()=>`Error in matMul: inner shapes (${m}) and (${g}) of Tensors with shapes ${r.shape} and ${e.shape} and transposeA=${n} and transposeB=${o} must match.`);const D=n?[S,m,y]:[S,y,m],G=o?[C,w,g]:[C,g,w],z=on({inputs:{x:r},backend:a,attrs:{shape:D}}),V=on({inputs:{x:e},backend:a,attrs:{shape:G}}),X=[z,V],ne=Math.max(S,C),Y=n?z.shape[1]:z.shape[2],ue=l!=null,_e=u!=null,ge=f==="leakyrelu",$e=f!=null?TD(f,!0):null,xe=ue||_e||ge||$e!=null;let Ie;if((y===1||w===1)&&Y>Xpe&&xe===!1){let gt=z,Je=V;n&&(gt=Ll({inputs:{x:z},backend:a,attrs:{perm:[0,2,1]}}),X.push(gt)),o&&(Je=Ll({inputs:{x:V},backend:a,attrs:{perm:[0,2,1]}}),X.push(Je));const ve=w!==1,He=w===1;let Ge=gt;ve&&(Ge=on({inputs:{x:gt},backend:a,attrs:{shape:[ne,Y,1]}}),X.push(Ge));const kt=w===1?2:1;let an=Je;He&&(an=on({inputs:{x:Je},backend:a,attrs:{shape:[ne,1,Y]}}),X.push(an));const ot=kK({inputs:{a:Ge,b:an},backend:a});Ie=MD({inputs:{x:ot},backend:a,attrs:{axis:kt,keepDims:!0}}),X.push(ot)}else{const gt=op(r.dtype,e.dtype),Je=new Hpe(D,G,[ne,y,w],n,o,ue,$e,_e,ge),ve=[z,V];if(l!=null&&ve.push(l),_e&&ve.push(u),ge){const He=a.makeTensorInfo([],"float32",Nk(_,"float32"));ve.push(He),X.push(He)}Ie=a.runWebGLProgram(Je,ve,gt)}const tt=on({inputs:{x:Ie},backend:a,attrs:{shape:P}});X.push(Ie);for(const gt of X)a.disposeIntermediateTensorInfo(gt);return tt}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c9e(r){const{inputs:e,backend:n,attrs:o}=r,{a,b:l,bias:u,preluActivationWeights:_}=e,{transposeA:f,transposeB:h,activation:d,leakyreluAlpha:m}=o;return ND({a,b:l,transposeA:f,transposeB:h,backend:n,bias:u,preluActivationWeights:_,leakyreluAlpha:m,activation:d})}const _9e={kernelName:RL,backendName:"webgl",kernelFunc:c9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ype="return abs(x);";function f9e(r){const{inputs:e,backend:n}=r,{x:o}=e;if(n.shouldExecuteOnCPU([o])&&o.dtype!=="complex64"){const l=n.texData.get(o.dataId),u=Ipe(l.values);return n.makeTensorInfo(o.shape,o.dtype,u)}let a;return qe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?a=new k1(o.shape,Ype):a=new Lg(o.shape,Ype),n.runWebGLProgram(a,[o],o.dtype)}const p9e={kernelName:CW,backendName:"webgl",kernelFunc:f9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h9e=lp+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,d9e=ri({opSnippet:h9e}),m9e={kernelName:AW,backendName:"webgl",kernelFunc:d9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v9e=lp+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,g9e=ri({opSnippet:v9e}),y9e={kernelName:TW,backendName:"webgl",kernelFunc:g9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qpe="return a + b;",k9e=Fs({opSnippet:Qpe,packedOpSnippet:Qpe,supportsComplex:!0,cpuKernelImpl:RHe}),$9e={kernelName:AL,backendName:"webgl",kernelFunc:k9e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b9e{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((l,u)=>`T${u}`);const o=[];this.variableNames.forEach(l=>{o.push(`float v${l} = get${l}AtOutCoords();`)});const a=this.variableNames.map(l=>`v${l}`).join(" + ");this.userCode=`
      void main() {
        ${o.join(`
        `)}

        float result = ${a};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class w9e{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((l,u)=>`T${u}`);const o=[];this.variableNames.forEach(l=>{o.push(`vec4 v${l} = get${l}AtOutCoords();`)});const a=this.variableNames.map(l=>`v${l}`).join(" + ");this.userCode=`
      void main() {
        ${o.join(`
        `)}

        vec4 result = ${a};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RD(r){const{inputs:e,backend:n}=r,o=e;if(o.length===1)return mc({inputs:{x:o[0]},backend:n});if(o.length>qe().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const f=Math.floor(o.length/2),h=RD({inputs:o.slice(0,f),backend:n}),d=RD({inputs:o.slice(f),backend:n});return RD({inputs:[h,d],backend:n})}const a=o.map(f=>f.dtype).reduce((f,h)=>op(f,h)),l=o.map(f=>f.shape),_=qe().getBool("WEBGL_PACK")?new w9e(o[0].shape,l):new b9e(o[0].shape,l);return n.runWebGLProgram(_,o,a)}const x9e={kernelName:IW,backendName:"webgl",kernelFunc:RD};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S9e(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{axis:l,keepDims:u}=o,_=a.shape.length,f=Va(l,a.shape);let h=f;const d=K_(h,_);let m=a;d!=null&&(m=Ll({inputs:{x:a},backend:n,attrs:{perm:d}}),h=J_(h.length,_)),sp("all",h,_);const[g,y]=Mh(m.shape,h),w=zt(y),E=on({inputs:{x:m},backend:n,attrs:{shape:[-1,w]}}),A=Yk(E,E.dtype,"all",n);let S;if(u){const C=r_(g,f);S=on({inputs:{x:A},backend:n,attrs:{shape:C}})}else S=on({inputs:{x:A},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(E),n.disposeIntermediateTensorInfo(A),d!=null&&n.disposeIntermediateTensorInfo(m),S}const E9e={kernelName:MW,backendName:"webgl",kernelFunc:S9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C9e(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{axis:l,keepDims:u}=o,_=a.shape.length,f=Va(l,a.shape);let h=f;const d=K_(h,_);let m=a;d!=null&&(m=Ll({inputs:{x:a},backend:n,attrs:{perm:d}}),h=J_(h.length,_)),sp("any",h,_);const[g,y]=Mh(m.shape,h),w=zt(y),E=on({inputs:{x:m},backend:n,attrs:{shape:[-1,w]}}),A=Yk(E,E.dtype,"any",n);let S;if(u){const C=r_(g,f);S=on({inputs:{x:A},backend:n,attrs:{shape:C}})}else S=on({inputs:{x:A},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(E),n.disposeIntermediateTensorInfo(A),d!=null&&n.disposeIntermediateTensorInfo(m),S}const A9e={kernelName:NW,backendName:"webgl",kernelFunc:C9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class T9e{constructor(e,n,o){this.variableNames=["A"];const{windowSize:a,batchSize:l,outSize:u}=e;o||this.variableNames.push("bestIndicesA"),this.outputShape=[l,u];const _=n==="max"?">":"<",f=o?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${a};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${a}; i++) {
          int inIdx = ${f};
          float candidate = getA(batch, inIdx);
          if (candidate ${_} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class I9e{constructor(e,n,o,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,re(e.length>2,()=>`Packed arg${o.charAt(0).toUpperCase()+o.slice(1)} supports only inputs with rank above 2.`);const l=e[e.length-1],u=Math.ceil(l/n);this.outputShape=e.slice(0,-1),u>1&&this.outputShape.push(u),a||this.variableNames.push("bestIndicesA");const _=this.outputShape,f=_.length,h=Ki(f),d=Fl("coords",f);let m,g;if(u===1){g=f+1;const V=Ki(g);m=`
        ${V} sourceLocR = ${V}(${d.join()}, 0);
        ++${d[f-1]};
        ${V} sourceLocG = ${V}(${d.join()}, 0);
        ++${d[f-2]};
        ${V} sourceLocA = ${V}(${d.join()}, 0);
        --${d[f-1]};
        ${V} sourceLocB = ${V}(${d.join()}, 0);
        --${d[f-2]};`}else g=f,m=`
        ${h} sourceLocR = coords;
        ++${d[f-1]};
        ${h} sourceLocG = coords;
        ++${d[f-2]};
        ${h} sourceLocA = coords;
        --${d[f-1]};
        ${h} sourceLocB = coords;
        --${d[f-2]};`;const y=["x","y","z","w","u","v"].slice(0,g),w="."+y[g-1],E=y.map(V=>"int "+V),A=Fl("sourceLocR",g-1).concat("inIdx.r"),S=Fl("sourceLocG",g-1).concat("inIdx.g"),C=Fl("sourceLocB",g-1).concat("inIdx.b"),R=Fl("sourceLocA",g-1).concat("inIdx.a"),P=o==="max"?"greaterThan":"lessThan",D=a?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${A.join()}),
                             getBestIndicesAChannel(${S.join()}),
                             getBestIndicesAChannel(${C.join()}),
                             getBestIndicesAChannel(${R.join()})));`,G=`vec4(
            getAChannel(${A.join()}),
            hasNextCol ? getAChannel(${S.join()}) : 0.,
            hasNextRow ? getAChannel(${C.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${R.join()}) : 0.)`,z=a?"":`
      float getBestIndicesAChannel(${E.join()}) {
        return getChannel(getBestIndicesA(${y.join()}),
                                          vec2(${y.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${E.join()}) {
        return getChannel(getA(${y.join()}),
                               vec2(${y.slice(-2).join()}));
      }
      ${z}
      void main() {
        ${h} coords = getOutputCoords();
        bool hasNextCol = ${d[f-1]} < ${_[f-1]-1};
        bool hasNextRow = ${d[f-2]} < ${_[f-2]-1};
        ${m}
        ivec4 srcIdx = ivec4(sourceLocR${w}, sourceLocG${w},
          sourceLocB${w}, sourceLocA${w}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${G};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${D}
          vec4 candidate = ${G};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${P}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zpe(r,e,n,o=null){let a=e.shape[0],l=e.shape[1];o!=null&&(a=o.shape[0],l=o.shape[1]);const u=hD(l),_={windowSize:u,inSize:l,batchSize:a,outSize:Math.ceil(l/u)},f=new T9e(_,n,o==null),h=[e];o!=null&&h.push(o);const d=r.runWebGLProgram(f,h,"int32");if(d.shape[1]===1)return d;const m=Zpe(r,e,n,d);return r.disposeIntermediateTensorInfo(d),m}function ehe(r,e,n,o=null){const a=o!=null?o.shape:e.shape,l=a[a.length-1],u=hD(l),_=new I9e(a,u,n,o==null),f=o==null?[e]:[e,o],h=r.runWebGLProgram(_,f,"int32");if(h.shape.length===e.shape.length){const d=ehe(r,e,n,h);return r.disposeIntermediateTensorInfo(h),d}return h}function the(r,e,n,o){const a=[n];if(sp("arg"+o.charAt(0).toUpperCase()+o.slice(1),a,e.shape.length),!qe().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const l=[],u=r.texData.get(e.dataId),_=u!==null&&u.isPacked;let f=e;_&&(f=r.unpackTensor(e),l.push(f));const[h,d]=Mh(f.shape,a),m=zt(d),g=on({inputs:{x:f},backend:r,attrs:{shape:[-1,m]}});l.push(g);const y=Zpe(r,g,o);l.push(y);const w=on({inputs:{x:y},backend:r,attrs:{shape:h}});return l.forEach(E=>r.disposeIntermediateTensorInfo(E)),w}return ehe(r,e,o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M9e(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{axis:l}=o;let u=Va(l,a.shape);const _=K_(u,a.shape.length);let f=a;const h=[];_!=null&&(f=Ll({inputs:{x:a},backend:n,attrs:{perm:_}}),h.push(f),u=J_(u.length,f.shape.length)),sp("argMax",[u[0]],f.shape.length);const d=the(n,f,u[0],"max");return h.forEach(m=>n.disposeIntermediateTensorInfo(m)),d}const N9e={kernelName:RW,backendName:"webgl",kernelFunc:M9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R9e(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{axis:l}=o;let u=Va(l,a.shape);const _=K_(u,a.shape.length);let f=a;const h=[];_!=null&&(f=Ll({inputs:{x:a},backend:n,attrs:{perm:_}}),h.push(f),u=J_(u.length,f.shape.length)),sp("argMin",[u[0]],f.shape.length);const d=the(n,f,u[0],"min");return h.forEach(m=>n.disposeIntermediateTensorInfo(m)),d}const P9e={kernelName:PW,backendName:"webgl",kernelFunc:R9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B9e=lp+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,F9e=ri({opSnippet:B9e}),L9e={kernelName:BW,backendName:"webgl",kernelFunc:F9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D9e=lp+"return log(x + sqrt(x * x + 1.0));",O9e=ri({opSnippet:D9e}),z9e={kernelName:FW,backendName:"webgl",kernelFunc:O9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U9e=lp+`
  return atan(x);
`,j9e=ri({opSnippet:U9e}),G9e={kernelName:LW,backendName:"webgl",kernelFunc:j9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W9e=YVe+`
  return atan(a, b);
`,H9e=`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  `+QVe+`
  return result;
`,V9e=Fs({opSnippet:W9e,packedOpSnippet:H9e}),q9e={kernelName:OW,backendName:"webgl",kernelFunc:V9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K9e=lp+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,J9e=ri({opSnippet:K9e}),X9e={kernelName:DW,backendName:"webgl",kernelFunc:J9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class L2{constructor(e,n,o,a=!1,l=!1){if(this.variableNames=["x"],n==="avg"&&o)throw new Error("Cannot compute positions for average pool.");const u=e.filterWidth,_=e.strideHeight,f=e.strideWidth,h=e.dilationHeight,d=e.dilationWidth,m=e.effectiveFilterHeight,g=e.effectiveFilterWidth,y=e.padInfo.top,w=e.padInfo.left;this.outputShape=e.outShape;const E=n==="avg",A=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,S=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let C="0.0";if(E||(C="-1.0 / 1e-20"),o){const V=">=";this.userCode=`
        const ivec2 strides = ivec2(${_}, ${f});
        const ivec2 pads = ivec2(${y}, ${w});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${m};
              wR += ${h}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${g};
                wC += ${d}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${V} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${a?l?A:S:`wR * ${g} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const R="max";let P=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(P="avgValue / count");const D=Math.floor(u/4)*4,G=u%4,z=`
      if (${E}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${R}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${_}, ${f});
      const ivec2 pads = ivec2(${y}, ${w});
      const float initializationValue = ${C};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${C});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${m};
            wR += ${h}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${D}; wC += 4) {
            int xC = xCCorner + wC * ${d};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              getValue(batch, xR, xC + 2 * ${d}, d),
              getValue(batch, xR, xC + 3 * ${d}, d)
            );

            ${z}
          }

          int xC = xCCorner + ${D};
          if (${G===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${z}
          } else if (${G===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              initializationValue,
              initializationValue
            );

            ${z}
          } else if (${G===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${d}, d),
              getValue(batch, xR, xC + 2 * ${d}, d),
              initializationValue
            );

            ${z}
          }
        }
        setOutput(${P});
      }
    `}}class $K{constructor(e,n,o,a=!1,l=!1){if(this.variableNames=["x"],n==="avg"&&o)throw new Error("Cannot compute positions for average pool.");const u=e.filterWidth,_=e.strideDepth,f=e.strideHeight,h=e.strideWidth,d=e.dilationDepth,m=e.dilationHeight,g=e.dilationWidth,y=e.effectiveFilterDepth,w=e.effectiveFilterHeight,E=e.effectiveFilterWidth,A=e.padInfo.front,S=e.padInfo.top,C=e.padInfo.left;this.outputShape=e.outShape;const R=n==="avg";let P="0.0";if(R||(P="-1.0 / 1e-20"),o){const ne=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${_}, ${f}, ${h});
        const ivec3 pads = ivec3(${A}, ${S}, ${C});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${y};
              wD += ${d}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${w};
                wR += ${m}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${E};
                  wC += ${g}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${ne} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${a?l?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${w} * ${E} +
                      wR * ${E} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const D="max";let G=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(G="avgValue / count");const z=Math.floor(u/4)*4,V=u%4,X=`
      if (${R}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${D}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${_}, ${f}, ${h});
      const ivec3 pads = ivec3(${A}, ${S}, ${C});
      const float initializationValue = ${P};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${P});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${y};
            wD += ${d}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${w};
            wR += ${m}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${z}; wC += 4) {
              int xC = xCCorner + wC * ${g};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${g}, ch),
                getValue(batch, xD, xR, xC + 2 * ${g}, ch),
                getValue(batch, xD, xR, xC + 3 * ${g}, ch)
              );

              ${X}
            }

            int xC = xCCorner + ${z};
            if (${V===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${X}
            } else if (${V===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${g}, ch),
                initializationValue,
                initializationValue
              );

              ${X}
            } else if (${V===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${g}, ch),
                getValue(batch, xD, xR, xC + 2 * ${g}, ch),
                initializationValue
              );

              ${X}
            }
          }
          setOutput(${G});
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y9e(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e;d1(a,"avgPool");const{filterSize:l,strides:u,pad:_,dimRoundingMode:f}=o,h=1;re(pc(u,h),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${u} and dilations '${h}'`);const d=Dk(a.shape,l,u,h,_,f);if(d.filterWidth===1&&d.filterHeight===1&&Bo(d.inShape,d.outShape))return mc({inputs:{x:a},backend:n});const m=new L2(d,"avg",!1);return n.runWebGLProgram(m,[a],"float32")}const Q9e={kernelName:zW,backendName:"webgl",kernelFunc:Y9e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z9e(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{filterSize:l,strides:u,pad:_,dimRoundingMode:f,dataFormat:h}=o,d=[1,1,1],m=_2(a.shape,l,u,d,_,f,h),g=new $K(m,"avg",!1);return n.runWebGLProgram(g,[a],"float32")}const eqe={kernelName:UW,backendName:"webgl",kernelFunc:Z9e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tqe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,o=e.filterWidth,a=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,_=e.dilationWidth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,d=f-1-e.padInfo.top,m=h-1-e.padInfo.left,g=1/(n*o);this.userCode=`
      const ivec2 pads = ivec2(${d}, ${m});
      const float avgMultiplier = float(${g});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${f};
            wR += ${u}) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${h};
            wC+= ${_}) {
            float dyC = float(dyCCorner + wC) / ${l}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class nqe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,o=e.filterHeight,a=e.filterWidth,l=e.strideDepth,u=e.strideHeight,_=e.strideWidth,f=e.dilationDepth,h=e.dilationHeight,d=e.dilationWidth,m=e.effectiveFilterDepth,g=e.effectiveFilterHeight,y=e.effectiveFilterWidth,w=m-1-e.padInfo.front,E=g-1-e.padInfo.top,A=y-1-e.padInfo.left,S=1/(n*o*a);this.userCode=`
      const ivec3 pads = ivec3(${w}, ${E}, ${A});
      const float avgMultiplier = float(${S});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${m};
            wD += ${f}) {
          float dyD = float(dyDCorner + wD) / ${l}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${g};
              wR += ${h}) {
            float dyR = float(dyRCorner + wR) / ${u}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${y};
                wC += ${d}) {
              float dyC = float(dyCCorner + wC) / ${_}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rqe(r){const{inputs:e,backend:n,attrs:o}=r,{dy:a,input:l}=e,u=l,{filterSize:_,strides:f,pad:h,dimRoundingMode:d}=o,m=[1,1,1],g=_2(u.shape,_,f,m,h,d),y=new nqe(g);return n.runWebGLProgram(y,[a],u.dtype)}const iqe={kernelName:tue,backendName:"webgl",kernelFunc:rqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oqe(r){const{inputs:e,backend:n,attrs:o}=r,{dy:a,input:l}=e,u=l;d1([a,l],"avgPoolGrad");const{filterSize:_,strides:f,pad:h}=o,d=Dk(u.shape,_,f,1,h),m=new tqe(d);return n.runWebGLProgram(m,[a],u.dtype)}const aqe={kernelName:eue,backendName:"webgl",kernelFunc:oqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sqe(r){const{inputs:e,backend:n,attrs:o}=r,{a,b:l}=e,{transposeA:u,transposeB:_}=o;return ND({a,b:l,transposeA:u,transposeB:_,backend:n})}const lqe={kernelName:jW,backendName:"webgl",kernelFunc:sqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uqe{constructor(e,n,o,a,l,u){this.outputShape=[],this.variableNames=["x","mean","variance"],ui(e,n),ui(e,o);let _="0.0";a!=null&&(ui(e,a),this.variableNames.push("offset"),_="getOffsetAtOutCoords()");let f="1.0";l!=null&&(ui(e,l),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${_};
        float scale = ${f};
        float inv = scale * inversesqrt(variance + float(${u}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cqe{constructor(e,n,o,a,l,u){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],ui(e,n),ui(e,o);let _="vec4(0.0)";a!=null&&(ui(e,a),this.variableNames.push("offset"),_="getOffsetAtOutCoords()");let f="vec4(1.0)";l!=null&&(ui(e,l),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${_};
        vec4 scale = ${f};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${u}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _qe=({inputs:r,backend:e,attrs:n})=>{const{x:o,mean:a,variance:l,offset:u,scale:_}=r;re(a.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),re(u==null||a.shape.length===u.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),re(_==null||a.shape.length===_.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:f}=n;f==null&&(f=.001);const h=[o,a,l];let d=null;u!=null&&(d=u.shape,h.push(u));let m=null;_!=null&&(m=_.shape,h.push(_));const g=qe().getBool("WEBGL_PACK_NORMALIZATION")?new cqe(o.shape,a.shape,l.shape,d,m,f):new uqe(o.shape,a.shape,l.shape,d,m,f);return e.runWebGLProgram(g,h,h[0].dtype)},fqe={kernelName:EH,backendName:"webgl",kernelFunc:_qe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pqe{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=Ki(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const o=hqe(this.rank);let a;const l=e.map((u,_)=>`sourceLoc.${bK[_]} = start[${_}] + coords.${bK[_]};`);a=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${l.join(`
`)}
      `,this.userCode=`
      void main() {
        ${a}
        setOutput(getSource(${o}));
      }
    `}}const bK=["x","y","z","w","u","v"];function hqe(r){if(r===1)return"sourceLoc";if(r<=6)return bK.slice(0,r).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${r} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dqe{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Ki(this.rank),o=Fl("coords",this.rank),a=Fl("sourceLoc",this.rank),l=this.rank===1?"sourceLoc":`vec2(${a.slice(-2).join()})`,u=`getChannel(getSource(${a.join()}), ${l})`,_=`
      result.x = ${u};
      if (++${o[this.rank-1]} < ${e[this.rank-1]}) {
        ++${a[this.rank-1]};
        result.y = ${u};
        --${a[this.rank-1]};
      }
    `,f=this.rank===1?"":`
      --${o[this.rank-1]};
      if (++${o[this.rank-2]} < ${e[this.rank-2]}) {
        ++${a[this.rank-2]};
        result.z = ${u};
        if (++${o[this.rank-1]} < ${e[this.rank-1]}) {
          ++${a[this.rank-1]};
          result.w = ${u};
        }
      }
    `,h=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((d,m)=>`start[${m}]`).join()});`:e.map((d,m)=>`${a[m]} = ${o[m]} + start[${m}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${h}
        vec4 result = vec4(0.);
        ${_}
        ${f}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mqe(r,e,n,o){const a=o.texData.get(r.dataId),l=o.makeTensorInfo(n,r.dtype),u=o.texData.get(l.dataId);Object.assign(u,a),u.refCount=1,u.shape=n,u.dtype=r.dtype;let _=q9(e,Ps(r.shape));a.slice&&(_+=a.slice.flatOffset),u.slice={flatOffset:_,origDataId:a.slice&&a.slice.origDataId||r.dataId};const f=o.dataRefCount.get(u.slice.origDataId)||1;return o.dataRefCount.set(u.slice.origDataId,f+1),l}function b1(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{begin:l,size:u}=o,[_,f]=lce(a,l,u);if(Que(a,_,f),zt(f)===0)return n.makeTensorInfo(f,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||a.dtype==="string"){const m=n.texData.get(a.dataId),g=oVe(m.values,_,f,a.shape,a.dtype);return n.makeTensorInfo(f,a.dtype,g)}const{isPacked:h}=n.texData.get(a.dataId),d=V9(a.shape,_,f);if(h||!d){const m=qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new dqe(f):new pqe(f),g=[_];return n.runWebGLProgram(m,[a],a.dtype,g)}return n.uploadToGPU(a.dataId),mqe(a,_,f,n)}const vqe={kernelName:IV,backendName:"webgl",kernelFunc:b1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gqe=r=>{const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{blockShape:l,crops:u}=o;re(a.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const _=l.reduce((C,R)=>C*R),f=Oq(a.shape,l,_),h=zq(f.length,l.length),d=Uq(a.shape,l,_),m=U_e(u,l.length),g=j_e(d,u,l.length),y=[],w=on({inputs:{x:a},backend:n,attrs:{shape:f}}),E=Ll({inputs:{x:w},backend:n,attrs:{perm:h}}),A=on({inputs:{x:E},backend:n,attrs:{shape:d}}),S=b1({inputs:{x:A},backend:n,attrs:{begin:m,size:g}});return y.push(w),y.push(E),y.push(A),y.forEach(C=>n.disposeIntermediateTensorInfo(C)),S},yqe={kernelName:GW,backendName:"webgl",kernelFunc:gqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kqe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,weights:l}=e,{size:u}=o,_=n.readSync(a.dataId),f=n.readSync(l.dataId),h=Tpe(_,f,l.dtype,l.shape,u);return n.makeTensorInfo([u],l.dtype,h)}const $qe={kernelName:WW,backendName:"webgl",kernelFunc:kqe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bqe(r){const{inputs:e,backend:n}=r,{s0:o,s1:a}=e,l=n.readSync(o.dataId),u=n.readSync(a.dataId),_=ui(Array.from(l),Array.from(u));return n.makeTensorInfo([_.length],"int32",Int32Array.from(_))}const wqe={kernelName:HW,backendName:"webgl",kernelFunc:bqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xqe="return float(a != b);",nhe=Fs({opSnippet:xqe,cpuKernelImpl:eVe,dtype:"bool"}),Sqe={kernelName:oV,backendName:"webgl",kernelFunc:nhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D2(r){const{inputs:e,backend:n}=r,{input:o}=e,a=n.texData.get(o.dataId);return mc({inputs:{x:a.complexTensorInfos.real},backend:n})}const Eqe={kernelName:vV,backendName:"webgl",kernelFunc:D2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cqe="return float(int(x));";function Aqe(r,e){const n=new Lg(r.shape,Cqe),o=e.runWebGLProgram(n,[r],"int32");return{dataId:o.dataId,shape:o.shape,dtype:o.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wK(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{dtype:l}=o;if(l==="complex64"){if(a.dtype==="complex64")return mc({inputs:{x:a},backend:n});const u=Mg(a.shape),_=wK({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),f=Dg({inputs:{real:_,imag:u},backend:n});return u.dispose(),n.disposeIntermediateTensorInfo(_),f}if(a.dtype==="complex64"){const u=D2({inputs:{input:a},backend:n}),_=wK({inputs:{x:u},backend:n,attrs:{dtype:l}});return n.disposeIntermediateTensorInfo(u),_}if(!Vle(a.dtype,l)){const u=mc({inputs:{x:a},backend:n});return{dataId:u.dataId,shape:u.shape,dtype:l}}if(l==="int32")return Aqe(a,n);if(l==="bool"){const u=n.makeTensorInfo([],"bool",Sh("bool",1)),f=nhe({inputs:{a,b:u},backend:n});return n.disposeIntermediateTensorInfo(u),f}throw new Error(`Error in Cast: failed to cast ${a.dtype} to ${l}`)}const Tqe={kernelName:TL,backendName:"webgl",kernelFunc:wK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rhe="return ceil(x);",Iqe=ri({opSnippet:rhe,packedOpSnippet:rhe,cpuKernelImpl:BHe}),Mqe={kernelName:VW,backendName:"webgl",kernelFunc:Iqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Nqe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rqe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pqe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{clipValueMin:l,clipValueMax:u}=o;let _;qe().getBool("WEBGL_PACK_CLIP")?_=new Rqe(a.shape):_=new Nqe(a.shape);const f=[[l],[u]];return n.runWebGLProgram(_,[a],a.dtype,f)}const Bqe={kernelName:qW,backendName:"webgl",kernelFunc:Pqe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Fqe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ihe(r,e){return{dataId:e.dataId,dtype:e.dtype,shape:r.shape}}function Lqe(r){const{inputs:e,backend:n}=r,{x:o}=e,a=n.texData.get(o.dataId),l=new Fqe(o.shape),u=[ihe(o,a.complexTensorInfos.real),ihe(o,a.complexTensorInfos.imag)];return n.runWebGLProgram(l,u,u[0].dtype)}const Dqe={kernelName:JW,backendName:"webgl",kernelFunc:Lqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Oqe{constructor(e){this.outputShape=[],this.outputShape=Hk(e,1),this.variableNames=e.map((u,_)=>`T${_}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let u=1;u<n.length;u++)n[u]=n[u-1]+e[u][1];const o=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let u=1;u<n.length;u++){const _=n[u-1];o.push(`else if (yC < ${n[u]}) setOutput(getT${u}(yR, yC-${_}));`)}const a=n.length,l=n[n.length-1];o.push(`else setOutput(getT${a}(yR, yC-${l}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${o.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zqe{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Hk(e,n);const o=this.outputShape,a=o.length,l=Ki(a),u=Fl("coords",a),_=["x","y","z","w","u","v"].slice(0,a);this.variableNames=e.map((E,A)=>`T${A}`);const f=new Array(e.length-1);f[0]=e[0][n];for(let E=1;E<f.length;E++)f[E]=f[E-1]+e[E][n];const h=_[n],d=_.slice(-2),m=_.join();let g=`if (${h} < ${f[0]}) {
        return getChannel(
            getT0(${m}), vec2(${d.join()}));
        }`;for(let E=1;E<f.length;E++){const A=f[E-1];g+=`
        if (${h} < ${f[E]}  && ${h} >= ${f[E-1]}) {
          return getChannel(
            getT${E}(${PD(_,h,A)}),
            vec2(${PD(d,h,A)}));
        }`}const y=f.length,w=f[f.length-1];g+=`
        return getChannel(
          getT${y}(${PD(_,h,w)}),
          vec2(${PD(d,h,w)}));`,this.userCode=`
      float getValue(${_.map(E=>"int "+E)}) {
        ${g}
      }

      void main() {
        ${l} coords = getOutputCoords();
        vec4 result = vec4(getValue(${u}), 0., 0., 0.);

        ${u[a-1]} = ${u[a-1]} + 1;
        if (${u[a-1]} < ${o[a-1]}) {
          result.g = getValue(${u});
        }

        ${u[a-2]} = ${u[a-2]} + 1;
        if (${u[a-2]} < ${o[a-2]}) {
          result.a = getValue(${u});
        }

        ${u[a-1]} = ${u[a-1]} - 1;
        if (${u[a-2]} < ${o[a-2]} &&
            ${u[a-1]} < ${o[a-1]}) {
          result.b = getValue(${u});
        }
        setOutput(result);
      }
    `}}function PD(r,e,n){const o=r.indexOf(e);return r.map((l,u)=>u===o?`${l} - ${n}`:l).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BD(r){const{inputs:e,backend:n}=r,{input:o}=e,a=n.texData.get(o.dataId);return mc({inputs:{x:a.complexTensorInfos.imag},backend:n})}const Uqe={kernelName:NH,backendName:"webgl",kernelFunc:BD};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w1(r,e,n){const o=r[0].dtype;if(o==="complex64"){const d=r.map(E=>D2({inputs:{input:E},backend:n})),m=r.map(E=>BD({inputs:{input:E},backend:n})),g=w1(d,e,n),y=w1(m,e,n),w=Dg({inputs:{real:g,imag:y},backend:n});return d.forEach(E=>n.disposeIntermediateTensorInfo(E)),m.forEach(E=>n.disposeIntermediateTensorInfo(E)),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),w}let a=n.shouldExecuteOnCPU(r);if(o==="string"&&(a=!0),a){const d=r.map(S=>{const C=zt(S.shape.slice(e));return on({inputs:{x:S},backend:n,attrs:{shape:[-1,C]}})}),m=d.map(S=>({vals:n.readSync(S.dataId),shape:S.shape})),g=Hk(d.map(S=>S.shape),1),y=d[0].shape[0]===1,w=FHe(m,g,o,y),E=Hk(r.map(S=>S.shape),e),A=n.makeTensorInfo(E,o,w);return d.forEach(S=>n.disposeIntermediateTensorInfo(S)),A}if(r.length>qe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const d=Math.floor(r.length/2),m=w1(r.slice(0,d),e,n),g=w1(r.slice(d),e,n),y=w1([m,g],e,n);return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),y}if(qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&r[0].shape.length>1){const d=new zqe(r.map(m=>m.shape),e);return n.runWebGLProgram(d,r,o)}const{tensors2D:l,outShape:u}=jqe(r,e,n),_=new Oqe(l.map(d=>d.shape)),f=n.runWebGLProgram(_,l,o);l.forEach(d=>n.disposeIntermediateTensorInfo(d));const h=on({inputs:{x:f},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(f),h}function jqe(r,e,n){const o=Hk(r.map(l=>l.shape),e);return{tensors2D:r.map(l=>on({inputs:{x:l},attrs:{shape:[-1,zt(l.shape.slice(e))]},backend:n})),outShape:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ohe(r){const{inputs:e,backend:n,attrs:o}=r,{axis:a}=o,l=Va(a,e[0].shape)[0],u=Hk(e.map(h=>h.shape),l);if(zt(u)===0)return n.makeTensorInfo(u,e[0].dtype,[]);const _=e.filter(h=>zt(h.shape)>0);if(_.length===1)return mc({inputs:{x:_[0]},backend:n});const f=_.map(h=>h.shape);return O_e(f,l),w1(_,l,n)}const Gqe={kernelName:XW,backendName:"webgl",kernelFunc:ohe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ahe{constructor(e,n=!1,o=null,a=!1,l=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const u=e.padInfo.top,_=e.padInfo.left,f=e.strideHeight,h=e.strideWidth,d=e.dilationHeight,m=e.dilationWidth,g=e.filterHeight,y=e.filterWidth,w=Math.floor(e.inChannels/4)*4,E=e.inChannels%4,A=e.dataFormat==="channelsLast",S=A?1:2,C=A?2:3,R=A?3:1;let P="",D="";o&&(a?P=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:l?P=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:P=`
          float activation(float x) {
            ${o}
          }
        `,D="result = activation(result);");const G=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${P}

      const ivec2 strides = ivec2(${f}, ${h});
      const ivec2 pads = ivec2(${u}, ${_});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${R}];

        ivec2 xRCCorner =
            ivec2(coords[${S}], coords[${C}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${g}; wR++) {
          int xR = xRCorner + wR * ${d};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${y}; wC++) {
            int xC = xCCorner + wC * ${m};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${w}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${A}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${E===1}) {

              if (${A}) {
                dotProd +=
                    getX(batch, xR, xC, ${w}) *
                    getW(wR, wC, ${w}, d2);
              } else {
                dotProd +=
                    getX(batch, ${w}, xR, xC) *
                    getW(wR, wC, ${w}, d2);
              }

            } else if (${E===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${w}, d2),
                getW(wR, wC, ${w} + 1, d2)
              );

              if (${A}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${w}),
                  getX(batch, xR, xC, ${w} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${w}, xR, xC),
                  getX(batch, ${w} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${E===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${w}, d2),
                getW(wR, wC, ${w} + 1, d2),
                getW(wR, wC, ${w} + 2, d2)
              );

              if (${A}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${w}),
                  getX(batch, xR, xC, ${w} + 1),
                  getX(batch, xR, xC, ${w} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${w}, xR, xC),
                  getX(batch, ${w} + 1, xR, xC),
                  getX(batch, ${w} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${G}
        ${D}
        setOutput(result);
      }
    `}}class Wqe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,o=e.padInfo.top,a=e.padInfo.left,l=e.strideDepth,u=e.strideHeight,_=e.strideWidth,f=e.dilationDepth,h=e.dilationHeight,d=e.dilationWidth,m=e.filterDepth,g=e.filterHeight,y=e.filterWidth,w=Math.floor(e.inChannels/4)*4,E=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${l}, ${u}, ${_});
      const ivec3 pads = ivec3(${n}, ${o}, ${a});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${m}; wF++) {
          int xF = xFCorner + wF * ${f};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${g}; wR++) {
            int xR = xRCorner + wR * ${h};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${y}; wC++) {
              int xC = xCCorner + wC * ${d};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${w}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${E===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${w}) *
                  getW(wF, wR, wC, ${w}, d2);
              } else if (${E===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${w}),
                  getX(batch, xF, xR, xC, ${w} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${w}, d2),
                  getW(wF, wR, wC, ${w} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${E===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${w}),
                  getX(batch, xF, xR, xC, ${w} + 1),
                  getX(batch, xF, xR, xC, ${w} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${w}, d2),
                  getW(wF, wR, wC, ${w} + 1, d2),
                  getW(wF, wR, wC, ${w} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hqe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Su(this.outputShape.length);const{dataFormat:o}=n,a=Bl(),l=o==="channelsLast",u=l?0:1,_=l?1:2,f=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":`if(blockIndex < ${e[1]} && pos < ${e[0]}) {`;let h="";for(let d=0;d<=1;d++)for(let m=0;m<=1;m++)h+=`
          blockIndex = rc.y + ${m};
          pos = rc.x + ${d};

          ${f}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${u}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${_}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${l}) {
                  innerDims = vec2(d1, ch);
                  result[${d*2+m}] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${d*2+m}] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${h}

        ${a.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function she({x:r,filter:e,convInfo:n,backend:o,bias:a=null,preluActivationWeights:l=null,leakyreluAlpha:u=0,activation:_=null}){const f=r.shape,h=o.texData.get(r.dataId),d=n.inChannels,m=f[0]*f[1]*f[2],g=n.outChannels,y=n.dataFormat==="channelsLast",w=!1,E=!1;let A;const S=[];if(!((m===1||g===1)&&d>Xpe)&&h.isPacked&&y&&h.texture!=null&&f[2]%2!=0&&Bo(h.shape.slice(-3),f.slice(-3))){const P=f[0]*f[1]*(f[2]+1),D={dataId:r.dataId,shape:[1,P,n.inChannels],dtype:r.dtype},G=h.shape;h.shape=h.shape.slice(),h.shape[h.shape.length-2]++,re(N2(h.shape,D.shape),()=>`packed reshape ${h.shape} to ${D.shape} isn't free`);const z=on({inputs:{x:e},backend:o,attrs:{shape:[1,n.inChannels,n.outChannels]}});S.push(z);const V=ND({a:D,b:z,backend:o,transposeA:w,transposeB:E,bias:a,activation:_,preluActivationWeights:l,leakyreluAlpha:u}),X=o.texData.get(V.dataId);re(X.isPacked,()=>"batchMatMul result is expected to be packed"),h.shape=G,X.shape=n.outShape,A=mc({inputs:{x:V},backend:o}),A.shape=n.outShape,S.push(V)}else{const P=y?f[0]*f[1]*f[2]:f[0]*f[2]*f[3],D=on({inputs:{x:r},backend:o,attrs:{shape:[1,P,n.inChannels]}}),G=on({inputs:{x:e},backend:o,attrs:{shape:[1,n.inChannels,n.outChannels]}}),z=ND({a:D,b:G,transposeA:w,transposeB:E,backend:o,bias:a,activation:_,preluActivationWeights:l,leakyreluAlpha:u});A=on({inputs:{x:z},backend:o,attrs:{shape:n.outShape}}),S.push(D),S.push(G),S.push(z)}for(const P of S)o.disposeIntermediateTensorInfo(P);return A}function lhe({x:r,filter:e,convInfo:n,backend:o,bias:a=null,preluActivationWeights:l=null,leakyreluAlpha:u=0,activation:_=null}){const{filterWidth:f,filterHeight:h,inChannels:d,outWidth:m,outHeight:g,dataFormat:y}=n,w=y==="channelsLast",E=f*h*d,A=g*m,S=[E,A],C=!0,R=!1,P=[],D=on({inputs:{x:r},backend:o,attrs:{shape:r.shape.slice(1)}}),G=on({inputs:{x:e},backend:o,attrs:{shape:[1,E,zt(e.shape)/E]}});P.push(D),P.push(G);const z=new Hqe(S,n),V=[D.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],X=o.runWebGLProgram(z,[D],"float32",V),ne=on({inputs:{x:X},backend:o,attrs:{shape:[1,S[0],S[1]]}});P.push(X),P.push(ne);const Y=a!=null,ue=l!=null,_e=_==="leakyrelu",ge=_?TD(_,!0):null,$e=new Hpe(ne.shape,G.shape,[1,A,n.outChannels],C,R,Y,ge,ue,_e),xe=[ne,G];if(a&&xe.push(a),ue&&xe.push(l),_e){const Je=o.makeTensorInfo([],"float32",Nk(u,"float32"));xe.push(Je),P.push(Je)}const Ie=o.runWebGLProgram($e,xe,"float32"),tt=w?[1,g,m,n.outChannels]:[1,n.outChannels,g,m],gt=on({inputs:{x:Ie},backend:o,attrs:{shape:tt}});P.push(Ie);for(const Je of P)o.disposeIntermediateTensorInfo(Je);return gt}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vqe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,filter:l}=e,{strides:u,pad:_,dataFormat:f,dilations:h,dimRoundingMode:d}=o,m=r1(f),g=n_(a.shape,l.shape,u,h,_,d,!1,m);let y;if(g.filterHeight===1&&g.filterWidth===1&&g.dilationHeight===1&&g.dilationWidth===1&&g.strideHeight===1&&g.strideWidth===1&&(g.padInfo.type==="SAME"||g.padInfo.type==="VALID"))y=she({x:a,filter:l,convInfo:g,backend:n});else if(qe().getBool("WEBGL_CONV_IM2COL")&&a.shape[0]===1)y=lhe({x:a,filter:l,convInfo:g,backend:n});else{const E=new ahe(g);y=n.runWebGLProgram(E,[a,l],"float32")}const w=on({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return n.disposeIntermediateTensorInfo(y),w}const qqe={kernelName:YW,backendName:"webgl",kernelFunc:Vqe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Kqe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,o=e.strideWidth,a=e.padInfo.top,l=e.padInfo.left,u=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${a};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${o} - ${l};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              if (${u}) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Jqe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,o=e.filterWidth,a=e.strideHeight,l=e.strideWidth,u=e.dataFormat==="channelsLast",_=n-1-e.padInfo.top,f=o-1-e.padInfo.left,h=u?1:2,d=u?2:3,m=u?3:1;this.userCode=`
      const ivec2 pads = ivec2(${_}, ${f});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${m}];

        ivec2 dyCorner = ivec2(coords[${h}], coords[${d}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${l}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${o} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${u}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Xqe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=e.padInfo.front,u=e.padInfo.top,_=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${l};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${o} - ${u};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${a} - ${_};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Yqe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,o=e.filterHeight,a=e.filterWidth,l=e.strideDepth,u=e.strideHeight,_=e.strideWidth,f=n-1-e.padInfo.front,h=o-1-e.padInfo.top,d=a-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${f}, ${h}, ${d});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${l}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${o}; wR++) {
            float dyR = float(dyRCorner + wR) / ${u}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${o} - 1 - wR;

            for (int wC = 0; wC < ${a}; wC++) {
              float dyC = float(dyCCorner + wC) / ${_}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${a} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qqe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,dy:l}=e,{strides:u,pad:_,dataFormat:f,dimRoundingMode:h,filterShape:d}=o,m=r1(f),g=n_(a.shape,d,u,1,_,h,!1,m),y=new Kqe(g);return n.runWebGLProgram(y,[a,l],"float32")}const Zqe={kernelName:QW,backendName:"webgl",kernelFunc:Qqe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eKe(r){const{inputs:e,backend:n,attrs:o}=r,{dy:a,filter:l}=e,{inputShape:u,strides:_,pad:f,dataFormat:h,dimRoundingMode:d}=o,m=r1(h),g=n_(u,l.shape,_,1,f,d,!1,m),y=new Jqe(g);return n.runWebGLProgram(y,[a,l],"float32")}const tKe={kernelName:ZW,backendName:"webgl",kernelFunc:eKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nKe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,filter:l}=e,{strides:u,pad:_,dilations:f}=o,h=f2(a.shape,l.shape,u,f,_),d=new Wqe(h);return n.runWebGLProgram(d,[a,l],"float32")}const rKe={kernelName:eH,backendName:"webgl",kernelFunc:nKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iKe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,dy:l}=e,{strides:u,pad:_,filterShape:f}=o,h=f2(a.shape,f,u,1,_),d=new Xqe(h);return n.runWebGLProgram(d,[a,l],"float32")}const oKe={kernelName:nue,backendName:"webgl",kernelFunc:iKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aKe(r){const{inputs:e,backend:n,attrs:o}=r,{dy:a,filter:l}=e,{pad:u,strides:_,inputShape:f}=o,h=f2(f,l.shape,_,1,u),d=new Yqe(h);return n.runWebGLProgram(d,[a,l],"float32")}const sKe={kernelName:tH,backendName:"webgl",kernelFunc:aKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lKe=Wpe+`
  return cos(x);
`,uKe=ri({opSnippet:lKe}),cKe={kernelName:nH,backendName:"webgl",kernelFunc:uKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Ke=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,fKe=ri({opSnippet:_Ke}),pKe={kernelName:rH,backendName:"webgl",kernelFunc:fKe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hKe{constructor(e,n,o,a,l){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[u,_,f,h]=e,[d]=n,[m,g]=o;this.outputShape=[d,m,g,h];const y=a==="bilinear"?1:0,[w,E]=[`${_-1}.0`,`${f-1}.0`],[A,S,C]=m>1?[`${(_-1)/(m-1)}`,"(y2-y1) * height_ratio",`y1*${w} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${w}`],[R,P,D]=g>1?[`${(f-1)/(g-1)}`,"(x2-x1) * width_ratio",`x1*${E} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${E}`];this.userCode=`
      const float height_ratio = float(${A});
      const float width_ratio = float(${R});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${u}) {
          return;
        }

        float height_scale = ${S};
        float width_scale = ${P};

        float in_y = ${C};
        if( in_y < 0.0 || in_y > ${w} ) {
          setOutput(float(${l}));
          return;
        }
        float in_x = ${D};
        if( in_x < 0.0 || in_x > ${E} ) {
          setOutput(float(${l}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${y} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dKe=r=>{const{inputs:e,backend:n,attrs:o}=r,{image:a,boxes:l,boxInd:u}=e,{cropSize:_,method:f,extrapolationValue:h}=o,d=new hKe(a.shape,l.shape,_,f,h);return n.runWebGLProgram(d,[a,l,u],"float32")},mKe={kernelName:oH,backendName:"webgl",kernelFunc:dKe};class uhe{constructor(e,n,o){this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=e;const a=e.length,l=n?"0.0":`getX(${che(a,"coords")})`,u=e[e.length-1];let _="",f="";n?(_=o?`end != ${u-1}`:"end != 0",f=o?"end + 1":"end - 1"):(_=o?`end + pow2 < ${u}`:"end >= pow2",f=o?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Ki(a)} coords = getOutputCoords();
        int end = ${_he(a,"coords")};
        float val = ${l};
        int pow2 = int(pow(2.0, index));
        if (${_}) {
          int idx = ${f};
          ${_he(a,"coords")} = idx;
          val += getX(${che(a,"coords")});
        }
        setOutput(val);
      }
    `}}function che(r,e){if(r===1)return`${e}`;if(r===2)return`${e}.x, ${e}.y`;if(r===3)return`${e}.x, ${e}.y, ${e}.z`;if(r===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw Error(`Cumulative sum for rank ${r} is not yet supported`)}function _he(r,e){if(r===1)return`${e}`;if(r===2)return`${e}.y`;if(r===3)return`${e}.z`;if(r===4)return`${e}.w`;throw Error(`Cumulative sum for rank ${r} is not yet supported`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vKe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{axis:l,exclusive:u,reverse:_}=o,f=a.shape.length,h=K_([l],f);let d=a;h!=null&&(d=Ll({inputs:{x:a},backend:n,attrs:{perm:h}}));const m=J_(1,f)[0];if(m!==f-1)throw new Error(`WebGL cumsum shader expects an inner-most axis=${a.shape.length-1} but got axis=${l}`);const g=d.shape[m];let y=mc({inputs:{x:d},backend:n});for(let w=0;w<=Math.ceil(Math.log2(g))-1;w++){const E=new uhe(d.shape,!1,_),A=[[w]],S=y;y=n.runWebGLProgram(E,[y],y.dtype,A),n.disposeIntermediateTensorInfo(S)}if(u){const w=new uhe(d.shape,u,_),E=y;y=n.runWebGLProgram(w,[y],y.dtype),n.disposeIntermediateTensorInfo(E)}if(h!=null){const w=_q(h),E=Ll({inputs:{x:y},backend:n,attrs:{perm:w}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(d),E}return y}const gKe={kernelName:iH,backendName:"webgl",kernelFunc:vKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yKe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,weights:l}=e,{size:u,binaryOutput:_}=o;if(a.shape.length===1){const f=n.readSync(a.dataId),h=n.readSync(l.dataId),d=Tpe(f,h,l.dtype,l.shape,u);return n.makeTensorInfo([u],l.dtype,d)}else if(a.shape.length===2){const f=n.bufferSync(a),h=n.bufferSync(l),d=PHe(f,h,u,_);return n.makeTensorInfo(d.shape,l.dtype,d.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}const kKe={kernelName:aH,backendName:"webgl",kernelFunc:yKe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $Ke{constructor(e,n,o){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=o,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bKe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{blockSize:l,dataFormat:u}=o,_=a.shape[0],f=u==="NHWC"?a.shape[1]:a.shape[2],h=u==="NHWC"?a.shape[2]:a.shape[3],d=u==="NHWC"?a.shape[3]:a.shape[1],m=f*l,g=h*l,y=d/(l*l),w=u==="NHWC"?[_,m,g,y]:[_,y,m,g],E=new $Ke(w,l,u);return n.runWebGLProgram(E,[a],a.dtype)}const wKe={kernelName:sH,backendName:"webgl",kernelFunc:bKe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fhe{constructor(e,n=!1,o=null,a=!1,l=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Su(this.outputShape.length);const u=e.filterHeight,_=e.filterWidth,f=e.outChannels/e.inChannels;let h="",d="";o&&(a?h=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:l?h=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:h=`
          float activation(float x) {
            ${o}
          }
        `,d="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${h}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${f};
        int q = d2 - d1 * ${f};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${u}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${_}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${m}
        ${d}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class phe{constructor(e,n=!1,o=null,a=!1,l=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Su(this.outputShape.length);const u=e.outChannels/e.inChannels,_=e.padInfo.left,f=e.strideWidth,h=e.dilationWidth,d=e.filterHeight,m=e.filterWidth,g=m;let y=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let S=0;S<m;S++)y+=`
          vec4 xTexelC${S*2};
          int xTexelC${S*2}Ready;
          vec4 xTexelC${S*2+1};
          int xTexelC${S*2+1}Ready;
          vec4 xC${S};`;y+=`
    for (int r = 0; r < ${d}; r++) {
      `;for(let S=0;S<m;S++)y+=`
          xTexelC${S*2} = vec4(0.0);
          xTexelC${S*2}Ready = 0;
          xTexelC${S*2+1} = vec4(0.0);
          xTexelC${S*2+1}Ready = 0;
          xC${S} = vec4(0.0);`;y+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let S=0;S<(g+1)/2;S++){const C=S*2;if(y+=`
          xC = xCCorner + ${C*h};
          `,f===1){if(C<m&&(_%2==1?(y+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C}Ready == 0) {
                  xTexelC${C} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${C}.zw = vec2(0.0);
                  }
                  xTexelC${C}Ready = 1;
                }
              `,h===1&&C>0?y+=`
                xC${C} = vec4(xTexelC${C-2}.zw, xTexelC${C}.xy);
                `:y+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${C} = vec4(previous.zw, xTexelC${C}.xy);
                  } else {
                    xC${C} = vec4(0.0, 0.0, xTexelC${C}.xy);
                  }
                  `):y+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${C}Ready == 0) {
                  xTexelC${C} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${C}.zw = vec2(0.0);
                  }
                  xTexelC${C}Ready = 1;
                }

                xC${C} = xTexelC${C};
                `,C+1<m)){const R=_%2==0?yW(h):h;h%2==0&&_%2==1||h%2!=0&&_%2!=1?(y+=`
                  xCOffset = xC + imod(pads[1], 2) + ${R};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C+1}Ready == 0) {
                    xTexelC${C+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${C+1}.zw = vec2(0.0);
                    }
                    xTexelC${C+1}Ready = 1;
                  }
                  `,h>1&&(y+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C}Ready == 0) {
                      xTexelC${C} = getX(batch, xR, xCOffset, d1);
                      xTexelC${C}Ready = 1;
                    }
                    `),y+=`
                  xC${C+1} = vec4(xTexelC${C}.zw, xTexelC${C+1}.xy);
                  `):R===1?y+=`
                    xC${C+1} = xTexelC${C};
                    `:y+=`
                    xCOffset = xC + ${R};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C+1}Ready == 0) {
                      xTexelC${C+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${C+1}.zw = vec2(0.0);
                      }
                      xTexelC${C+1}Ready = 1;
                    }

                    xC${C+1} = xTexelC${C+1};
                    `}}else C<m&&(_%2==1?(y+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C}Ready == 0) {
                  xTexelC${C} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${C}.zw = vec2(0.0);
                  }
                  xTexelC${C}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${C+1}Ready == 0) {
                  xTexelC${C+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${C+1}.zw = vec2(0.0);
                  }
                  xTexelC${C+1}Ready = 1;
                }

                xC${C} = vec4(xTexelC${C}.zw, xTexelC${C+1}.zw);
              `,C+1<m&&(y+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${C+1} = vec4(xTexelC${C+1}.xy, final.xy);
                `)):(y+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${C}Ready == 0) {
                  xTexelC${C} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${C}.zw = vec2(0.0);
                  }
                  xTexelC${C}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${C+1}Ready == 0) {
                  xTexelC${C+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${C+1}.zw = vec2(0.);
                  }
                  xTexelC${C+1}Ready = 1;
                }

                xC${C} = vec4(
                  xTexelC${C}.xy, xTexelC${C+1}.xy);
              `,C+1<m&&(y+=`
                  xC${C+1} = vec4(xTexelC${C}.zw, xTexelC${C+1}.zw);
                `)));C<m&&(y+=`
            wTexel = getW(r, ${C}, d1, q);
            dotProd += xC${C} * vec4(wTexel.xz, wTexel.xz);
          `,C+1<m&&(y+=`
              wTexel = getW(r, ${C+1}, d1, q);
              dotProd += xC${C+1} * vec4(wTexel.xz, wTexel.xz);
            `))}y+=`
    }
  `,y+=`
      }
    `;let w="",E="";o&&(a?w=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:l?w=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:w=`vec4 activation(vec4 x) {
          ${o}
        }`,E="result = activation(result);");const A=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${w}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${u};
        int q = d2 - d1 * ${u};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${y}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${A}
        ${E}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xKe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,filter:l}=e,{strides:u,pad:_,dilations:f,dimRoundingMode:h}=o;let d=f;d==null&&(d=[1,1]),re(pc(u,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${u} and dilations '${d}'`);const m=n_(a.shape,l.shape,u,d,_,h,!0);let g;qe().getBool("WEBGL_PACK_DEPTHWISECONV")&&m.strideWidth<=2&&m.outChannels/m.inChannels==1?g=new phe(m):g=new fhe(m);const y=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]];return n.runWebGLProgram(g,[a,l],"float32",y)}const SKe={kernelName:lH,backendName:"webgl",kernelFunc:xKe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EKe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,o=e.strideWidth,a=e.padInfo.top,l=e.padInfo.left,u=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${u} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${a};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${o} - ${l};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class CKe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,o=e.filterWidth,a=e.strideHeight,l=e.strideWidth,u=n-1-e.padInfo.top,_=o-1-e.padInfo.left,f=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${u}, ${_});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${l}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${o} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${f}; dm++) {
              int d2 = d1 * ${f} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AKe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,dy:l}=e,{strides:u,dilations:_,pad:f,dimRoundingMode:h,filterShape:d}=o,m=n_(a.shape,d,u,_,f,h,!0),g=new EKe(m);return n.runWebGLProgram(g,[a,l],"float32")}const TKe={kernelName:uH,backendName:"webgl",kernelFunc:AKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IKe(r){const{inputs:e,backend:n,attrs:o}=r,{dy:a,filter:l}=e,{strides:u,dilations:_,pad:f,dimRoundingMode:h,inputShape:d}=o,m=n_(d,l.shape,u,_,f,h,!0),g=new CKe(m);return n.runWebGLProgram(g,[a,l],"float32")}const MKe={kernelName:cH,backendName:"webgl",kernelFunc:IKe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NKe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RKe(r){const{inputs:e,backend:n}=r,{x:o}=e,a=[...o.shape,...o.shape],l=zt(o.shape),u=on({inputs:{x:o},backend:n,attrs:{shape:[l]}}),_=new NKe(l),f=n.runWebGLProgram(_,[u],u.dtype),h=on({inputs:{x:f},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(f),h}const PKe={kernelName:_H,backendName:"webgl",kernelFunc:RKe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BKe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:o,padInfo:a,strideHeight:l,strideWidth:u,filterHeight:_,filterWidth:f,dilationHeight:h,dilationWidth:d}=e,{top:m,left:g}=a;this.userCode=`
      const ivec2 strides = ivec2(${l}, ${u});
      const ivec2 pads = ivec2(${m}, ${g});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${_}; h++) {
          int hIn = hBeg + h * ${h};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${f}; w++) {
              int wIn = wBeg + w * ${d};

              if (wIn >= 0 && wIn < ${o}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FKe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,filter:l}=e,{strides:u,pad:_,dilations:f}=o,h=Ace(a.shape,l.shape,u,_,"NHWC",f);let d;const m=new BKe(h);d=n.runWebGLProgram(m,[a,l],"float32");const g=on({inputs:{x:d},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(d),g}const LKe={kernelName:fH,backendName:"webgl",kernelFunc:FKe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DKe(r){const{inputs:e,backend:n,attrs:o}=r,{equation:a}=o,l=e,{allDims:u,summedDims:_,idDims:f}=Z_e(a,l.length);tfe(u.length,f,l);const{path:h,steps:d}=nfe(_,f),m=d.length;let g=null,y=u.length;const w=[];for(let E=0;E<m;++E){for(const A of d[E]){const{permutationIndices:S,expandDims:C}=efe(y,f[A]);let R;rfe(S)?R=l[A]:(R=Ll({inputs:{x:l[A]},backend:n,attrs:{perm:S}}),w.push(R));const P=R.shape.slice();for(let D=0;D<C.length;++D)P.splice(C[D],0,1);Bo(R.shape,P)||(R=on({inputs:{x:R},backend:n,attrs:{shape:P}}),w.push(R)),g===null?g=R:(g=kK({inputs:{a:R,b:g},backend:n}),w.push(g))}E<m-1&&(h[E]>=0&&(g=MD({inputs:{x:g},backend:n,attrs:{axis:h[E]-(u.length-y),keepDims:!1}}),w.push(g)),y--)}for(const E of w)E!==g&&n.disposeIntermediateTensorInfo(E);return g}const OKe={kernelName:hH,backendName:"webgl",kernelFunc:DKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zKe="return (x >= 0.0) ? x : (exp(x) - 1.0);",UKe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,jKe=ri({opSnippet:zKe,packedOpSnippet:UKe}),GKe={kernelName:dH,backendName:"webgl",kernelFunc:jKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WKe="return (b >= 1.0) ? a : a * (b + 1.0);",HKe=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,VKe=r=>{const{inputs:e,backend:n}=r,{dy:o,y:a}=e,l=qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new F2(HKe,o.shape,a.shape):new $1(WKe,o.shape,a.shape);return n.runWebGLProgram(l,[o,a],o.dtype)},qKe={kernelName:rue,backendName:"webgl",kernelFunc:VKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KKe=`
  return vec4(equal(a, b));
`,JKe="return float(a == b);",XKe=Fs({opSnippet:JKe,packedOpSnippet:KKe,dtype:"bool",cpuKernelImpl:LHe}),YKe={kernelName:vH,backendName:"webgl",kernelFunc:XKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QKe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${H_e};
  float a1 = ${V_e};
  float a2 = ${q_e};
  float a3 = ${K_e};
  float a4 = ${J_e};
  float a5 = ${X_e};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,ZKe=ri({opSnippet:QKe}),eJe={kernelName:mH,backendName:"webgl",kernelFunc:ZKe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hhe="return exp(x);",dhe=ri({opSnippet:hhe,packedOpSnippet:hhe,cpuKernelImpl:DHe,dtype:"float32"}),tJe={kernelName:gH,backendName:"webgl",kernelFunc:dhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xK(r){const{inputs:e,attrs:n,backend:o}=r,{dim:a}=n,{input:l}=e,u=l.shape.length,_=l.shape.slice();let f=a;return a<0&&(re(-(u+1)<=a,()=>`Axis must be in the interval [${-(u+1)}, ${u}]`),f=u+a+1),_.splice(f,0,1),on({inputs:{x:l},backend:o,attrs:{shape:_}})}const nJe={kernelName:yH,backendName:"webgl",kernelFunc:xK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mhe="return exp(x) - 1.0;",rJe=ri({opSnippet:mhe,packedOpSnippet:mhe,cpuKernelImpl:OHe}),iJe={kernelName:kH,backendName:"webgl",kernelFunc:rJe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vhe{constructor(e,n,o){this.variableNames=["real","imag"];const a=n[1];this.outputShape=n;const l=o?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,u=o?`${a}.0`:"1.0";let _;if(e==="real")_="return real * expR - imag * expI;";else if(e==="imag")_="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${l};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${_}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${a});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${a}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${u};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ghe(r,e,n){const o=n.texData.get(r.dataId),a=zt(r.shape),l=r.shape[r.shape.length-1],u=a/l,_=on({inputs:{x:r},backend:n,attrs:{shape:[u,l]}}),f=_.shape,h=new vhe("real",f,e),d=new vhe("imag",f,e),m=[{dataId:o.complexTensorInfos.real.dataId,dtype:o.complexTensorInfos.real.dtype,shape:f},{dataId:o.complexTensorInfos.imag.dataId,dtype:o.complexTensorInfos.imag.dtype,shape:f}],g=n.runWebGLProgram(h,m,"float32"),y=n.runWebGLProgram(d,m,"float32"),w=Dg({inputs:{real:g,imag:y},backend:n});n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y);const E=on({inputs:{x:w},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(_),n.disposeIntermediateTensorInfo(w),E}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oJe(r){const{inputs:e,backend:n}=r,{input:o}=e;return ghe(o,!1,n)}const aJe={kernelName:$H,backendName:"webgl",kernelFunc:oJe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sJe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O2(r){const{backend:e,attrs:n}=r,{shape:o,value:a}=n;let{dtype:l}=n;if(l=l||e2(a),l==="string"){const u=t_(l,zt(o));return u.fill(a),e.makeTensorInfo(o,l,u)}else{const u=new sJe(o,a),_=[[a]];return e.runWebGLProgram(u,[],l,_)}}const lJe={kernelName:bH,backendName:"webgl",kernelFunc:O2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uJe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cJe={kernelName:wH,backendName:"webgl",kernelFunc:({inputs:r,backend:e})=>{const{image:n}=r,o=e,a=new uJe(n.shape);return o.runWebGLProgram(a,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yhe="return floor(x);",_Je=ri({opSnippet:yhe,packedOpSnippet:yhe,cpuKernelImpl:zHe}),fJe={kernelName:xH,backendName:"webgl",kernelFunc:_Je};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pJe=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,hJe=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,dJe=Fs({opSnippet:pJe,packedOpSnippet:hJe,dtype:"int32"}),mJe={kernelName:SH,backendName:"webgl",kernelFunc:dJe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vJe{constructor(e){this.variableNames=["A"];const n=Bl(),[o,a]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}.0, ${o}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gJe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=Bl(),[o,a]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${a}.0, ${o}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yJe={kernelName:NL,backendName:"webgl",kernelFunc:kJe};let x1;function kJe(r){const{inputs:e,backend:n,attrs:o}=r;let{pixels:a}=e;const{numChannels:l}=o,u=typeof HTMLVideoElement!="undefined"&&a instanceof HTMLVideoElement,_=typeof HTMLImageElement!="undefined"&&a instanceof HTMLImageElement,[f,h]=u?[a.videoWidth,a.videoHeight]:[a.width,a.height],d=[h,f],m=[h,f,l];(_||u)&&(x1==null&&(x1=document.createElement("canvas").getContext("2d")),x1.canvas.width=f,x1.canvas.height=h,x1.drawImage(a,0,0,f,h),a=x1.canvas);const g=n.makeTensorInfo(d,"int32");n.texData.get(g.dataId).usage=o_.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(g.dataId),a);const y=qe().getBool("WEBGL_PACK")?new gJe(m):new vJe(m),w=n.runWebGLProgram(y,[g],"int32");return n.disposeData(g.dataId),w}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Je(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,filter:l,bias:u,preluActivationWeights:_}=e,{strides:f,pad:h,dataFormat:d,dilations:m,dimRoundingMode:g,activation:y,leakyreluAlpha:w}=o,E=r1(d),A=n_(a.shape,l.shape,f,m,h,g,!1,E);let S;const C=[];if(A.filterHeight===1&&A.filterWidth===1&&A.dilationHeight===1&&A.dilationWidth===1&&A.strideHeight===1&&A.strideWidth===1&&(A.padInfo.type==="SAME"||A.padInfo.type==="VALID"))S=she({x:a,filter:l,convInfo:A,backend:n,bias:u,activation:y,preluActivationWeights:_,leakyreluAlpha:w});else if(qe().getBool("WEBGL_CONV_IM2COL")&&a.shape[0]===1)S=lhe({x:a,filter:l,convInfo:A,backend:n,bias:u,activation:y,preluActivationWeights:_,leakyreluAlpha:w});else{const P=u!=null,D=_!=null,G=y==="leakyrelu",z=y?TD(y,!1):null,V=new ahe(A,P,z,D,G),X=[a,l];if(u&&X.push(u),_&&X.push(_),G){const ne=n.makeTensorInfo([],"float32",Nk(w,"float32"));X.push(ne),C.push(ne)}S=n.runWebGLProgram(V,X,"float32")}const R=on({inputs:{x:S},backend:n,attrs:{shape:A.outShape}});return C.push(S),C.forEach(P=>n.disposeIntermediateTensorInfo(P)),R}const bJe={kernelName:PL,backendName:"webgl",kernelFunc:$Je};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wJe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,filter:l,bias:u,preluActivationWeights:_}=e,{strides:f,pad:h,dilations:d,dimRoundingMode:m,activation:g,leakyreluAlpha:y}=o,w=[];let E=d;E==null&&(E=[1,1]),re(pc(f,E),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${f} and dilations '${E}'`);const A=n_(a.shape,l.shape,f,E,h,m,!0),S=qe().getBool("WEBGL_PACK_DEPTHWISECONV")&&A.strideWidth<=2&&A.outChannels/A.inChannels==1,C=g?TD(g,S):null,R=[a,l],P=u!=null,D=_!=null,G=g==="leakyrelu";if(P&&R.push(u),D&&R.push(_),G){const ne=n.makeTensorInfo([],"float32",Nk(y,"float32"));R.push(ne),w.push(ne)}let z;S?z=new phe(A,P,C,D,G):z=new fhe(A,P,C,D,G);const V=[[A.padInfo.top,A.padInfo.left],[A.strideHeight,A.strideWidth],[A.dilationHeight,A.dilationWidth],[A.inHeight,A.inWidth]],X=n.runWebGLProgram(z,R,"float32",V);return w.forEach(ne=>n.disposeIntermediateTensorInfo(ne)),X}const xJe={kernelName:BL,backendName:"webgl",kernelFunc:wJe};class SJe{constructor(e,n,o){this.sliceDim=e,this.strides=n,this.variableNames=["x","indices"],this.outputShape=o;const a=Ki(n.length),l=Ki(o.length),u=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        ${a} strides = ${a}(${this.strides});
         void main() {
          ${l} coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < ${this.sliceDim}; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * ${u};
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EJe(r){const{inputs:e,backend:n}=r,{params:o,indices:a}=e,l=a.shape,u=l[l.length-1],_=zt(o.shape),[f,h,d,m]=j9(o,a),g=on({inputs:{x:a},backend:n,attrs:{shape:[h,u]}}),y=on({inputs:{x:o},backend:n,attrs:{shape:[zt(o.shape)/d,d]}});if(n.shouldExecuteOnCPU([o,a])||o.dtype==="string"){const S=n.readSync(a.dataId),C=n.bufferSync(o),R=UHe(S,C,o.dtype,h,u,d,m,o.shape,_);return n.makeTensorInfo(f,o.dtype,R.values)}const w=new SJe(u,m,[h,d]),E=n.runWebGLProgram(w,[y,g],y.dtype),A=on({inputs:{x:E},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(E),A}const CJe={kernelName:AH,backendName:"webgl",kernelFunc:EJe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AJe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const o=Ki(this.rank),a=TJe(e);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        setOutput(getA(${a}));
      }
    `}}function TJe(r,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[];for(let a=0;a<r.length;a++)a===2?o.push("int(getIndices(resRC.x, resRC.z))"):o.push(`${n[a]}`);return o.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function khe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,indices:l}=e,{axis:u,batchDims:_}=o,f=Va(u,a.shape)[0],h=n.readSync(l.dataId),d=a.shape[f];for(let P=0;P<h.length;++P){const D=h[P];re(D<=d-1&&D>=0,()=>`GatherV2: the index value ${D} is not in [0, ${d-1}]`)}const m=gfe(a,l,f,_),g=zt(l.shape),y=[],w=on({inputs:{x:a},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),E=on({inputs:{x:l},backend:n,attrs:{shape:[m.batchSize,g/m.batchSize]}});y.push(w),y.push(E);const A=[m.batchSize,m.outerSize,g/m.batchSize,m.sliceSize];if(n.shouldExecuteOnCPU([a,l])||a.dtype==="string"){const P=n.bufferSync(E),D=n.bufferSync(w),G=jHe(D,P,A);return y.forEach(z=>n.disposeIntermediateTensorInfo(z)),n.makeTensorInfo(m.outputShape,G.dtype,G.values)}const S=new AJe(w.shape,A),C=n.runWebGLProgram(S,[w,E],w.dtype);y.push(C);const R=on({inputs:{x:C},backend:n,attrs:{shape:m.outputShape}});return y.forEach(P=>n.disposeIntermediateTensorInfo(P)),R}const IJe={kernelName:CH,backendName:"webgl",kernelFunc:khe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MJe="return float(a > b);",NJe=`
  return vec4(greaterThan(a, b));
`,RJe=Fs({opSnippet:MJe,packedOpSnippet:NJe,cpuKernelImpl:GHe,dtype:"bool"}),PJe={kernelName:TH,backendName:"webgl",kernelFunc:RJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BJe="return float(a >= b);",FJe=`
  return vec4(greaterThanEqual(a, b));
`,LJe=Fs({opSnippet:BJe,packedOpSnippet:FJe,dtype:"bool",cpuKernelImpl:WHe}),DJe={kernelName:IH,backendName:"webgl",kernelFunc:LJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OJe(r){const{inputs:e,backend:n}=r,{input:o}=e;return ghe(o,!0,n)}const zJe={kernelName:MH,backendName:"webgl",kernelFunc:OJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UJe="return float(!isnan(x) && !isinf(x));",jJe=ri({opSnippet:UJe,dtype:"bool"}),GJe={kernelName:RH,backendName:"webgl",kernelFunc:jJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WJe="return float(isinf(x));",HJe=ri({opSnippet:WJe,dtype:"bool"}),VJe={kernelName:PH,backendName:"webgl",kernelFunc:HJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qJe="return float(isnan(x));",KJe=ri({opSnippet:qJe,dtype:"bool"}),JJe={kernelName:BH,backendName:"webgl",kernelFunc:KJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XJe="return float(a < b);",YJe=`
  return vec4(lessThan(a, b));
`,QJe=Fs({opSnippet:XJe,packedOpSnippet:YJe,cpuKernelImpl:HHe,dtype:"bool"}),ZJe={kernelName:LH,backendName:"webgl",kernelFunc:QJe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eXe="return float(a <= b);",tXe=`
  return vec4(lessThanEqual(a, b));
`,nXe=Fs({opSnippet:eXe,packedOpSnippet:tXe,cpuKernelImpl:VHe,dtype:"bool"}),rXe={kernelName:DH,backendName:"webgl",kernelFunc:nXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iXe(r){const{backend:e,attrs:n}=r,{start:o,stop:a,num:l}=n,u=qHe(o,a,l);return e.makeTensorInfo([u.length],"float32",u)}const oXe={kernelName:OH,backendName:"webgl",kernelFunc:iXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aXe=`if (x < 0.0) return NAN;
  return log(x);`,sXe=`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,lXe=ri({opSnippet:aXe,packedOpSnippet:sXe,cpuKernelImpl:KHe}),uXe={kernelName:zH,backendName:"webgl",kernelFunc:lXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cXe="return log(1.0 + x);",_Xe=ri({opSnippet:cXe}),fXe={kernelName:UH,backendName:"webgl",kernelFunc:_Xe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pXe="return float(a >= 1.0 && b >= 1.0);",hXe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,dXe=Fs({opSnippet:pXe,packedOpSnippet:hXe,dtype:"bool"}),mXe={kernelName:jH,backendName:"webgl",kernelFunc:dXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vXe="return float(!(x >= 1.0));",gXe=ri({opSnippet:vXe}),yXe={kernelName:GH,backendName:"webgl",kernelFunc:gXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kXe="return float(a >= 1.0 || b >= 1.0);",$Xe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,bXe=Fs({opSnippet:kXe,packedOpSnippet:$Xe,dtype:"bool"}),wXe={kernelName:WH,backendName:"webgl",kernelFunc:bXe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xXe{constructor(e,n,o,a,l){this.variableNames=["x"],this.outputShape=[];const u=n,_=e[3]-1;this.outputShape=e;let f;const h=`float(${o}) + float(${a}) * sum`;l===.5?f=`inversesqrt(${h})`:l===1?f=`1.0/(${h})`:f=`exp(log(${h}) * float(-${l}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${u}; j <= ${u}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${_}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${f};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SXe{constructor(e,n,o,a,l){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const u=n,_=e[3]-1;this.outputShape=e;let f;const h=`float(${o}) + float(${a}) * sum`;l===.5?f=`inversesqrt(${h})`:l===1?f=`1.0/(${h})`:f=`exp(log(${h}) * float(-${l}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${u};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${u}; j <= ${u}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${_}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${f};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EXe=r=>{const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{depthRadius:l,bias:u,alpha:_,beta:f}=o,h=qe().getBool("WEBGL_PACK_NORMALIZATION")?new SXe(a.shape,l,u,_,f):new xXe(a.shape,l,u,_,f);return n.runWebGLProgram(h,[a],a.dtype)},CXe={kernelName:HH,backendName:"webgl",kernelFunc:EXe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AXe{constructor(e,n,o,a,l){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=o,this.alpha=a,this.beta=l,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${a}) * norm + float(${o});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${a})
                * float(${l})
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${l});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TXe=r=>{const{inputs:e,backend:n,attrs:o}=r,{x:a,y:l,dy:u}=e,{depthRadius:_,bias:f,alpha:h,beta:d}=o,m=new AXe(a.shape,_,f,h,d);return n.runWebGLProgram(m,[a,l,u],a.dtype)},IXe={kernelName:iue,backendName:"webgl",kernelFunc:TXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MXe(r,e,n,o){const a=zt(e),u=zt(r.shape)/a,_=on({inputs:{x:r},attrs:{shape:[u,a]},backend:o}),f=Yk(_,r.dtype,"max",o),h=on({inputs:{x:f},attrs:{shape:n},backend:o});return o.disposeIntermediateTensorInfo(_),o.disposeIntermediateTensorInfo(f),h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $he(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{reductionIndices:l,keepDims:u}=o,_=a.shape.length,f=Va(l,a.shape);let h=f;const d=K_(h,_),m=d!=null,g=n.shouldExecuteOnCPU([a]);let y=a;if(m){if(g){const R=n.texData.get(y.dataId).values,P=new Array(_);for(let z=0;z<P.length;z++)P[z]=a.shape[d[z]];const D=yK(R,a.shape,a.dtype,d,P);y=n.makeTensorInfo(P,a.dtype);const G=n.texData.get(y.dataId);G.values=D}else y=ID(a,d,n);h=J_(h.length,_)}sp("max",h,_);const[w,E]=Mh(y.shape,h);let A=w;u&&(A=r_(w,f));let S;if(g){const R=n.texData.get(y.dataId).values,P=JHe(R,zt(E),A,a.dtype);S=n.makeTensorInfo(A,a.dtype);const D=n.texData.get(S.dataId);D.values=P}else S=MXe(y,E,A,n);return m&&n.disposeIntermediateTensorInfo(y),S}const NXe={kernelName:VH,backendName:"webgl",kernelFunc:$he};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RXe=Ope+`
  return max(a, b);
`,PXe=`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  `+AD+`
  return result;
`,BXe=Fs({opSnippet:RXe,packedOpSnippet:PXe,cpuKernelImpl:XHe}),FXe={kernelName:qH,backendName:"webgl",kernelFunc:BXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LXe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e;d1(a,"maxPool");const{filterSize:l,strides:u,pad:_,dimRoundingMode:f}=o,h=1;re(pc(u,h),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${u} and dilations '${h}'`);const d=Dk(a.shape,l,u,h,_,f);if(d.filterWidth===1&&d.filterHeight===1&&Bo(d.inShape,d.outShape))return mc({inputs:{x:a},backend:n});const m=new L2(d,"max",!1);return n.runWebGLProgram(m,[a],a.dtype)}const DXe={kernelName:KH,backendName:"webgl",kernelFunc:LXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OXe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{filterSize:l,strides:u,pad:_,dataFormat:f,dimRoundingMode:h}=o,d=[1,1,1],m=_2(a.shape,l,u,d,_,h,f),g=new $K(m,"max",!1);return n.runWebGLProgram(g,[a],a.dtype)}const zXe={kernelName:JH,backendName:"webgl",kernelFunc:OXe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UXe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,_=l-1-e.padInfo.top,f=u-1-e.padInfo.left,h=l*u-1;this.userCode=`
      const ivec2 pads = ivec2(${_}, ${f});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
          wR += ${a}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u}; wC++) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${h} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${u} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class jXe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,o=e.strideHeight,a=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,_=e.dilationWidth,f=e.effectiveFilterDepth,h=e.effectiveFilterHeight,d=e.effectiveFilterWidth,m=f-1-e.padInfo.front,g=h-1-e.padInfo.top,y=d-1-e.padInfo.left,w=f*h*d-1;this.userCode=`
      const ivec3 pads = ivec3(${m}, ${g}, ${y});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${f};
           wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${h};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${d};
                wC += ${_}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${w} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${h} * ${d} +
                  wR * ${d} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GXe(r){const{inputs:e,backend:n,attrs:o}=r,{dy:a,input:l}=e,u=l,{filterSize:_,strides:f,pad:h,dimRoundingMode:d}=o,m=[1,1,1],g=_2(u.shape,_,f,m,h,d),y=new $K(g,"max",!0),w=n.runWebGLProgram(y,[u],u.dtype),E=new jXe(g),A=n.runWebGLProgram(E,[a,w],u.dtype);return n.disposeIntermediateTensorInfo(w),A}const WXe={kernelName:aue,backendName:"webgl",kernelFunc:GXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HXe(r){const{inputs:e,backend:n,attrs:o}=r,{dy:a,input:l,output:u}=e,_=l;d1([l,u],"maxPoolGrad");const{filterSize:f,strides:h,pad:d,dimRoundingMode:m}=o,g=Dk(_.shape,f,h,1,d,m),y=!0,w=new L2(g,"max",y),E=n.runWebGLProgram(w,[_],_.dtype),A=new UXe(g),S=n.runWebGLProgram(A,[a,E],_.dtype);return n.disposeIntermediateTensorInfo(E),S}const VXe={kernelName:oue,backendName:"webgl",kernelFunc:HXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qXe(r,e,n,o){let a=new L2(n,"max",!1);const l=o.runWebGLProgram(a,[r],"float32");a=new L2(n,"max",!0,!0,e);const u=o.runWebGLProgram(a,[r],"float32");return[l,u]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KXe={kernelName:XH,backendName:"webgl",kernelFunc:({inputs:r,attrs:e,backend:n})=>{const{x:o}=r,{filterSize:a,strides:l,pad:u,includeBatchInIndex:_}=e,f=n;re(o.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${o.shape.length}.`);const h=[1,1];re(pc(l,h),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${l} and dilations '${h}'`);const d=Dk(o.shape,a,l,h,u),[m,g]=qXe(o,_,d,f);return[m,g]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JXe(r,e,n,o){const a=zt(e),u=zt(r.shape)/a,_=on({inputs:{x:r},attrs:{shape:[u,a]},backend:o}),f=Yk(_,"float32","mean",o),h=on({inputs:{x:f},attrs:{shape:n},backend:o});return o.disposeIntermediateTensorInfo(_),o.disposeIntermediateTensorInfo(f),h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XXe={kernelName:YH,backendName:"webgl",kernelFunc:({inputs:r,attrs:e,backend:n})=>{const{x:o}=r,{keepDims:a,axis:l}=e,u=n,_=o.shape.length,f=Va(l,o.shape);let h=f;const d=K_(h,_),m=d!=null,g=u.shouldExecuteOnCPU([o]),y=[];let w=o;if(m){if(g){const P=u.texData.get(w.dataId).values,D=new Array(_);for(let V=0;V<D.length;V++)D[V]=o.shape[d[V]];const G=yK(P,o.shape,o.dtype,d,D);w=u.makeTensorInfo(D,o.dtype);const z=u.texData.get(w.dataId);z.values=G}else w=ID(o,d,u);y.push(w),h=J_(h.length,_)}sp("sum",h,_);const[E,A]=Mh(w.shape,h);let S=E;a&&(S=r_(E,f));const C=JXe(w,A,S,u);for(const R of y)u.disposeIntermediateTensorInfo(R);return C}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YXe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{axis:l,keepDims:u}=o,_=a.shape.length,f=Va(l,a.shape);let h=f;const d=K_(h,_);let m=a;d!=null&&(m=Ll({inputs:{x:a},backend:n,attrs:{perm:d}}),h=J_(h.length,a.shape.length)),sp("min",h,_);const[g,y]=Mh(m.shape,h),w=zt(y),E=on({inputs:{x:m},backend:n,attrs:{shape:[-1,w]}}),A=Yk(E,E.dtype,"min",n);let S;if(u){const C=r_(g,f);S=on({inputs:{x:A},backend:n,attrs:{shape:C}})}else S=on({inputs:{x:A},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(E),n.disposeIntermediateTensorInfo(A),d!=null&&n.disposeIntermediateTensorInfo(m),S}const QXe={kernelName:QH,backendName:"webgl",kernelFunc:YXe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZXe=Ope+`
  return min(a, b);
`,eYe=`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  `+AD+`
  return result;
`,tYe=Fs({opSnippet:ZXe,packedOpSnippet:eYe,cpuKernelImpl:YHe}),nYe={kernelName:ZH,backendName:"webgl",kernelFunc:tYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rYe{constructor(e,n,o){this.variableNames=["x"],this.outputShape=n.map((d,m)=>d[0]+e[m]+d[1]);const a=e.length,l=Ki(a),u=n.map(d=>d[0]).join(","),_=n.map((d,m)=>d[0]+e[m]).join(","),f=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),h=o==="reflect"?0:1;if(a===1){this.userCode=`
        int start = ${u};
        int end = ${_};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${h};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${h};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${l} start = ${l}(${u});
      ${l} end = ${l}(${_});

      void main() {
        ${l} outC = getOutputCoords();
        for (int i = 0; i < ${a}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${h};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${h};
          }
        }
        ${l} coords = outC - start;
        setOutput(getX(${f}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iYe{constructor(e,n,o){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((w,E)=>w[0]+e[E]+w[1]);const a=e.length,l=Ki(a),u=n.map(w=>w[0]).join(","),_=n.map((w,E)=>w[0]+e[E]).join(","),f=Fl("rc",a),h=Fl("source",a),d=`${f[a-1]} < ${this.outputShape[a-1]}`,m=a===1?"source":`vec2(${h.slice(-2).join()})`,g=o==="reflect"?0:1;let y="";if(a===1){const w=`
        ${l} source = rc;
        if (source < start) {
          source = start * 2 - source - ${g};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${g};
        }
        source -= start;
      `;y=`
        ${l} rc = outputLoc;
        ${w}
        result[0] = getChannel(getX(${h.join()}), ${m});
        ${f[a-1]} += 1;
        if(${d}) {
          ${w}
          result[1] = getChannel(getX(${h.join()}), ${m});
        }
      `}else{const w=`
        ${l} source = rc;
        ${l} lt = ${l}(lessThan(source, start));
        ${l} gte = ${l}(greaterThanEqual(source, end));
        ${l} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${g}) +
                gte * ((end - 1) * 2 - source + ${g});
        source -= start;
      `;y=`
        ${l} rc = outputLoc;
        ${w}
        result[0] = getChannel(getX(${h.join()}), ${m});
        ${f[a-1]} += 1;
        if(${d}) {
          ${w}
          result[1] = getChannel(getX(${h.join()}), ${m});
        }
        rc = outputLoc;
        ${f[a-2]} += 1;
        if(${f[a-2]} < ${this.outputShape[a-2]}) {
          ${w}
          result[2] = getChannel(getX(${h.join()}), ${m});
          ${f[a-1]} += 1;
          if(${d}) {
            ${w}
            result[3] = getChannel(getX(${h.join()}), ${m});
          }
        }
      `}this.userCode=`
      const ${l} start = ${l}(${u});
      const ${l} end = ${l}(${_});

      void main() {
        ${l} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${y}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oYe=({inputs:r,backend:e,attrs:n})=>{const{x:o}=r,{paddings:a,mode:l}=n,u=qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new iYe(o.shape,a,l):new rYe(o.shape,a,l);return e.runWebGLProgram(u,[o],o.dtype)},aYe={kernelName:eV,backendName:"webgl",kernelFunc:oYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sYe=`if (b == 0.0) return NAN;
  return mod(a, b);`,lYe=`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  `+AD+`
  return result;
`,uYe=Fs({opSnippet:sYe,packedOpSnippet:lYe}),cYe={kernelName:tV,backendName:"webgl",kernelFunc:uYe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Ye{constructor(e,n,o){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,o],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fYe=`
if (a == b) {
  return 1.0;
};
return a / b;`,pYe=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,bhe=Fs({opSnippet:fYe,packedOpSnippet:pYe,checkOutOfBounds:!0}),hYe={kernelName:pH,backendName:"webgl",kernelFunc:bhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const whe="return a - b;",xhe=Fs({opSnippet:whe,packedOpSnippet:whe,supportsComplex:!0,cpuKernelImpl:pVe}),dYe={kernelName:YV,backendName:"webgl",kernelFunc:xhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function She(r){const{inputs:e,backend:n,attrs:o}=r,{logits:a}=e,{dim:l}=o,u=Va([l],a.shape),_=$he({inputs:{x:a},backend:n,attrs:{reductionIndices:u,keepDims:!1}}),f=r_(_.shape,u),h=on({inputs:{x:_},backend:n,attrs:{shape:f}}),d=xhe({inputs:{a,b:h},backend:n}),m=dhe({inputs:{x:d},backend:n}),g=MD({inputs:{x:m},backend:n,attrs:{axis:u,keepDims:!1}}),y=on({inputs:{x:g},backend:n,attrs:{shape:f}}),w=bhe({inputs:{a:m,b:y},backend:n});return n.disposeIntermediateTensorInfo(_),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),w}const mYe={kernelName:zV,backendName:"webgl",kernelFunc:She};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vYe(r){const{inputs:e,backend:n,attrs:o}=r,{logits:a}=e,{numSamples:l,seed:u,normalized:_}=o,f=_?a:She({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),h=f.shape[0],d=f.shape[1],m=new _Ye(h,d,l),g=[[u]],y=n.runWebGLProgram(m,[f],"int32",g);return _||n.disposeIntermediateTensorInfo(f),y}const gYe={kernelName:nV,backendName:"webgl",kernelFunc:vYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ehe="return -x;";function yYe(r){const{inputs:e,backend:n}=r,{x:o}=e;if(n.shouldExecuteOnCPU([o])){const l=n.texData.get(o.dataId),[u,_]=ZHe(l.values,o.shape,o.dtype);return n.makeTensorInfo(_,o.dtype,u)}let a;return qe().getBool("WEBGL_PACK_UNARY_OPERATIONS")?a=new k1(o.shape,Ehe):a=new Lg(o.shape,Ehe),n.runWebGLProgram(a,[o],o.dtype)}const kYe={kernelName:iV,backendName:"webgl",kernelFunc:yYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Ye=Pq;function bYe(r){j_("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:o}=r,{boxes:a,scores:l}=e,{maxOutputSize:u,iouThreshold:_,scoreThreshold:f}=o,h=n.readSync(a.dataId),d=n.readSync(l.dataId),{selectedIndices:m}=$Ye(h,d,u,_,f);return n.makeTensorInfo([m.length],"int32",new Int32Array(m))}const wYe={kernelName:aV,backendName:"webgl",kernelFunc:bYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xYe=Bq;function SYe(r){j_("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:o}=r,{boxes:a,scores:l}=e,{maxOutputSize:u,iouThreshold:_,scoreThreshold:f,padToMaxOutputSize:h}=o,d=n.readSync(a.dataId),m=n.readSync(l.dataId),{selectedIndices:g,validOutputs:y}=xYe(d,m,u,_,f,h);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([],"int32",new Int32Array([y]))]}const EYe={kernelName:sV,backendName:"webgl",kernelFunc:SYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CYe=Fq;function AYe(r){j_("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:o}=r,{boxes:a,scores:l}=e,{maxOutputSize:u,iouThreshold:_,scoreThreshold:f,softNmsSigma:h}=o,d=n.readSync(a.dataId),m=n.readSync(l.dataId),g=u,y=_,w=f,E=h,{selectedIndices:A,selectedScores:S}=CYe(d,m,g,y,w,E);return[n.makeTensorInfo([A.length],"int32",new Int32Array(A)),n.makeTensorInfo([S.length],"float32",new Float32Array(S))]}const TYe={kernelName:lV,backendName:"webgl",kernelFunc:AYe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IYe{constructor(e,n,o,a){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${a}), float(${o}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MYe=r=>{const{inputs:e,backend:n,attrs:o}=r,{indices:a}=e,{depth:l,onValue:u,offValue:_}=o,f=zt(a.shape),h=new IYe(f,l,u,_),d=on({inputs:{x:a},backend:n,attrs:{shape:[f]}}),m=n.runWebGLProgram(h,[d],a.dtype);n.disposeIntermediateTensorInfo(d);const g=[...a.shape,l],y=on({inputs:{x:m},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(m),y},NYe={kernelName:cV,backendName:"webgl",kernelFunc:MYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FD(r){const{inputs:e,backend:n}=r,{x:o}=e;if(o.dtype==="complex64"){const a=D2({inputs:{input:o},backend:n}),l=FD({inputs:{x:a},backend:n}),u=BD({inputs:{input:o},backend:n}),_=FD({inputs:{x:u},backend:n}),f=Dg({inputs:{real:l,imag:_},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(_),f}else return O2({attrs:{shape:o.shape,dtype:o.dtype,value:o.dtype==="string"?"":0},backend:n})}const RYe={kernelName:a9,backendName:"webgl",kernelFunc:FD};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Che(r){const{inputs:e,backend:n}=r,{x:o}=e;if(o.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(o.dtype==="complex64"){const a=D2({inputs:{input:o},backend:n}),l=Che({inputs:{x:a},backend:n}),u=BD({inputs:{input:o},backend:n}),_=FD({inputs:{x:u},backend:n}),f=Dg({inputs:{real:l,imag:_},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(_),f}else return O2({attrs:{shape:o.shape,dtype:o.dtype,value:1},backend:n})}const PYe={kernelName:uV,backendName:"webgl",kernelFunc:Che};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BYe(r){const{inputs:e,backend:n,attrs:o}=r,{axis:a}=o;if(e.length===1)return xK({inputs:{input:e[0]},backend:n,attrs:{dim:a}});const l=e[0].shape,u=e[0].dtype;e.forEach(d=>{il(l,d.shape,"All tensors passed to stack must have matching shapes"),re(u===d.dtype,()=>"All tensors passed to stack must have matching dtypes")});const _=[],f=e.map(d=>{const m=xK({inputs:{input:d},backend:n,attrs:{dim:a}});return _.push(m),m}),h=ohe({inputs:f,backend:n,attrs:{axis:a}});return _.forEach(d=>n.disposeIntermediateTensorInfo(d)),h}const FYe={kernelName:_V,backendName:"webgl",kernelFunc:BYe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LYe{constructor(e,n,o){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((h,d)=>h[0]+e[d]+h[1]);const a=e.length,l=Ki(a),u=n.map(h=>h[0]).join(","),_=n.map((h,d)=>h[0]+e[d]).join(","),f=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);if(a===1){this.userCode=`
        int start = ${u};
        int end = ${_};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${l} start = ${l}(${u});
      ${l} end = ${l}(${_});

      void main() {
        ${l} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${l} coords = outC - start;
          setOutput(getX(${f}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DYe{constructor(e,n,o){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((E,A)=>E[0]+e[A]+E[1]);const a=e.length,l=Ki(a),u=n.map(E=>E[0]).join(","),_=n.map((E,A)=>E[0]+e[A]).join(","),f=Fl("rc",a),h=Fl("source",a),d=`${f[a-1]} < ${this.outputShape[a-1]}`,m=a===1?"source":`vec2(${h.slice(-2).join()})`,g=[`${l} rc = outputLoc;`,`${f[a-1]} += 1;
       if(${d}) {
      `,a===1?"":`}
       rc = outputLoc;
       ${f[a-2]} += 1;
       if(${f[a-2]} < ${this.outputShape[a-2]}) {`,a===1?"":`  ${f[a-1]} += 1;
         if(${d}) {`],y=a===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let w="";for(let E=0,A=a===1?2:4;E<A;E++)w+=`
        ${g[E]}
        if (${y}) {
          result[${E}] = float(value);
        } else {
          ${l} source = rc - start;
          result[${E}] = getChannel(getX(${h.join()}), ${m});
        }
      `;w+=a===1?"} ":"}}",this.userCode=`
      const ${l} start = ${l}(${u});
      const ${l} end = ${l}(${_});

      void main() {
        ${l} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${w}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ahe=r=>{const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{paddings:l,constantValue:u}=o;if(zt(a.shape)===0){const h=l.map((d,m)=>d[0]+a.shape[m]+d[1]);return O2({backend:n,attrs:{shape:h,value:u,dtype:a.dtype}})}const _=qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new DYe(a.shape,l,u):new LYe(a.shape,l,u),f=[[u]];return n.runWebGLProgram(_,[a],a.dtype,f)},OYe={kernelName:fV,backendName:"webgl",kernelFunc:Ahe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zYe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,UYe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  `+AD+`
  return result;
`,jYe=Fs({opSnippet:zYe,packedOpSnippet:UYe}),GYe={kernelName:pV,backendName:"webgl",kernelFunc:jYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WYe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{axis:l,keepDims:u}=o,_=a.shape.length,f=[],h=Va(l,a.shape);let d=h;const m=K_(d,_);let g=a;m!=null&&(g=Ll({inputs:{x:a},backend:n,attrs:{perm:m}}),d=J_(d.length,_),f.push(g)),sp("prod",d,_);let y;if(n.shouldExecuteOnCPU([g])){const w=n.texData.get(g.dataId).values,{outVals:E,outShape:A,outDtype:S}=tVe(g.shape,g.dtype,w,d);y=n.makeTensorInfo(A,S,E)}else{const[w,E]=Mh(g.shape,d),A=zt(E),S=on({inputs:{x:g},backend:n,attrs:{shape:[-1,A]}}),C=jL(a.dtype),R=Yk(S,C,"prod",n);y=on({inputs:{x:R},backend:n,attrs:{shape:w}}),f.push(S),f.push(R)}if(u){f.push(y);const w=r_(y.shape,h);y=on({inputs:{x:y},backend:n,attrs:{shape:w}})}return f.forEach(w=>n.disposeIntermediateTensorInfo(w)),y}const HYe={kernelName:dV,backendName:"webgl",kernelFunc:WYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const The=r=>{const{backend:e,attrs:n}=r,{start:o,stop:a,step:l,dtype:u}=n,_=nVe(o,a,l,u);return e.makeTensorInfo([_.length],u,_)},VYe={kernelName:mV,backendName:"webgl",kernelFunc:The};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qYe="return 1.0 / x;",KYe=ri({opSnippet:qYe}),JYe={kernelName:gV,backendName:"webgl",kernelFunc:KYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XYe=lp+`
  return (x < 0.0) ? 0.0 : x;
`,YYe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,QYe=ri({opSnippet:XYe,packedOpSnippet:YYe}),ZYe={kernelName:yV,backendName:"webgl",kernelFunc:QYe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eQe=lp+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,tQe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,nQe=ri({opSnippet:eQe,packedOpSnippet:tQe}),rQe={kernelName:wV,backendName:"webgl",kernelFunc:nQe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iQe{constructor(e,n,o,a,l){this.variableNames=["A"],this.outputShape=[];const[u,_,f,h]=e;this.outputShape=[u,n,o,h];const d=[a&&n>1?_-1:_,a&&o>1?f-1:f],m=[a&&n>1?n-1:n,a&&o>1?o-1:o];let g;l?g="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":g="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${d[0]/m[0]},
          ${d[1]/m[1]});
      const vec2 inputShapeRC = vec2(${_}.0, ${f}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${g};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oQe{constructor(e,n,o,a,l){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[u,_,f,h]=e;this.outputShape=[u,n,o,h];const d=[a&&n>1?_-1:_,a&&o>1?f-1:f],m=[a&&n>1?n-1:n,a&&o>1?o-1:o];let g;l?g="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":g="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${d[0]/m[0]},
          ${d[1]/m[1]},
          ${d[1]/m[1]});
      const vec3 inputShapeRC = vec3(${_}.0, ${f}.0,
                                     ${f}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${g};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${h-1};
        bool hasNextRow = coords.z < ${o-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aQe(r){const{inputs:e,backend:n,attrs:o}=r,{images:a}=e,{alignCorners:l,halfPixelCenters:u,size:_}=o,[f,h]=_,d=qe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new oQe(a.shape,f,h,l,u):new iQe(a.shape,f,h,l,u);return n.runWebGLProgram(d,[a],"float32")}const sQe={kernelName:bV,backendName:"webgl",kernelFunc:aQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lQe{constructor(e,n,o){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,a,l]=n,[,u,_]=e,f=[o&&u>1?a-1:a,o&&_>1?l-1:l],h=[o&&u>1?u-1:u,o&&_>1?_-1:_],d=f[0]/h[0],m=f[1]/h[1],g=1/d,y=1/m,w=Math.ceil(g)*2+2,E=Math.ceil(y)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${d});
        const float widthScale = float(${m});

        const float invHeightScale = float(${g});
        const float invWidthScale = float(${y});

        const int winHeight = int(${w});
        const int winWidth = int(${E});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${u}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${_}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${a-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${l-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uQe(r){const{inputs:e,backend:n,attrs:o}=r,{images:a,dy:l}=e,{alignCorners:u}=o,_=new lQe(l.shape,a.shape,u);return n.runWebGLProgram(_,[l],l.dtype)}const cQe={kernelName:lue,backendName:"webgl",kernelFunc:uQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Qe{constructor(e,n,o,a,l){this.variableNames=["A"],this.outputShape=[];const[u,_,f,h]=e;this.outputShape=[u,n,o,h];const d=[a&&n>1?_-1:_,a&&o>1?f-1:f],m=[a&&n>1?n-1:n,a&&o>1?o-1:o],g=a?"0.5":"0.0";let y;l?y="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":y="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${d[0]/m[0]},
          ${d[1]/m[1]});
      const vec2 inputShapeRC = vec2(${_}.0, ${f}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${y};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${g})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fQe{constructor(e,n,o,a,l){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[u,_,f,h]=e;this.outputShape=[u,n,o,h];const d=[a&&n>1?_-1:_,a&&o>1?f-1:f],m=[a&&n>1?n-1:n,a&&o>1?o-1:o],g=a?"0.5":"0.0";let y;l?y="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":y="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${d[0]/m[0]},
          ${d[1]/m[1]},
          ${d[1]/m[1]});
      const vec3 inputShapeRC = vec3(${_}.0, ${f}.0,
                                     ${f}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${y};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${g})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${h-1};
        bool hasNextRow = coords.z < ${o-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pQe(r){const{inputs:e,backend:n,attrs:o}=r,{images:a}=e,{alignCorners:l,halfPixelCenters:u,size:_}=o,[f,h]=_,d=qe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new fQe(a.shape,f,h,l,u):new _Qe(a.shape,f,h,l,u);return n.runWebGLProgram(d,[a],a.dtype)}const hQe={kernelName:$V,backendName:"webgl",kernelFunc:pQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dQe{constructor(e,n,o){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,a,l]=n,[,u,_]=e,f=[o&&u>1?a-1:a,o&&_>1?l-1:l],h=[o&&u>1?u-1:u,o&&_>1?_-1:_],d=f[0]/h[0],m=f[1]/h[1],g=1/d,y=1/m,w=Math.ceil(g)*2+2,E=Math.ceil(y)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${d});
        const float widthScale = float(${m});

        const float invHeightScale = float(${g});
        const float invWidthScale = float(${y});

        const int winHeight = int(${w});
        const int winWidth = int(${E});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${u}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${_}) {
              continue;
            }

            float sourceFracRow =
              float(${f[0]}) *
                (float(dyR) / float(${h[0]}));

            float sourceFracCol =
                float(${f[1]}) *
                  (float(dyC) / float(${h[1]}));

            int sourceNearestRow = int(min(
                float(int(${a}) - 1),
                ${o} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${l}) - 1),
                ${o} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mQe(r){const{inputs:e,backend:n,attrs:o}=r,{images:a,dy:l}=e,{alignCorners:u}=o,_=new dQe(l.shape,a.shape,u);return n.runWebGLProgram(_,[l],l.dtype)}const vQe={kernelName:sue,backendName:"webgl",kernelFunc:mQe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gQe{constructor(e,n){this.variableNames=["x"];const o=e.length;if(o>4)throw new Error(`WebGL backend: Reverse of rank-${o} tensor is not yet supported`);if(this.outputShape=e,o===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const a=_=>n.indexOf(_)!==-1&&e[_]!==1?`${e[_]} - coords[${_}] - 1`:`coords[${_}]`,l=e.map((_,f)=>a(f)).join(","),u=Ki(o);this.userCode=`
      void main() {
        ${u} coords = getOutputCoords();
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yQe{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const o=e.length;if(o>4)throw new Error(`WebGL backend: Reverse of rank-${o} tensor is not yet supported`);this.outputShape=e;const a=Fl("rc",o),l=`${a[o-1]} + 1 < ${this.outputShape[o-1]}`,u=`${a[o-2]} + 1 < ${this.outputShape[o-2]}`,_=Ki(o);o===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${l}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${_} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${f(a.slice())};
          if(${l}){
            result.g = ${h(a.slice())};
          }
          if(${u}) {
            result.b = ${d(a.slice())};
            if(${l}) {
              result.a = ${m(a.slice())};
            }
          }
          setOutput(result);
        }
    `;function f(w){return g(w)}function h(w){return w[o-1]="("+w[o-1]+" + 1)",g(w)}function d(w){return w[o-2]="("+w[o-2]+" + 1)",g(w)}function m(w){return w[o-1]="("+w[o-1]+" + 1)",w[o-2]="("+w[o-2]+" + 1)",g(w)}function g(w){const E=e.map((C,R)=>y(R,w)),A=E.join(","),S=E.slice(-2).join(",");return`getChannel(getX(${A}), vec2(${S}))`}function y(w,E){return n.indexOf(w)!==-1&&e[w]!==1?`${e[w]} - ${E[w]} - 1`:`${E[w]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kQe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{dims:l}=o,u=a.shape.length,_=Va(l,a.shape);if(u===0)return mc({inputs:{x:a},backend:n});const f=qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yQe(a.shape,_):new gQe(a.shape,_);return n.runWebGLProgram(f,[a],a.dtype)}const $Qe={kernelName:xV,backendName:"webgl",kernelFunc:kQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bQe{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const o=e[1],a=e[2];this.outputShape=e;let l="";typeof n=="number"?l=`float outputValue = ${n.toFixed(2)};`:l=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${l}
          if(coordX >= 0 && coordX < ${a} && coordY >= 0 && coordY < ${o}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wQe={kernelName:l9,backendName:"webgl",kernelFunc:({inputs:r,attrs:e,backend:n})=>{const{image:o}=r,{radians:a,fillValue:l,center:u}=e,_=n,f=new bQe(o.shape,l),[h,d]=z_e(u,o.shape[1],o.shape[2]),m=[[h,d,Math.sin(a),Math.cos(a)]];return _.runWebGLProgram(f,[o],o.dtype,m)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xQe=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,SQe=ri({opSnippet:xQe}),EQe={kernelName:SV,backendName:"webgl",kernelFunc:SQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CQe="return inversesqrt(x);",AQe=ri({opSnippet:CQe,cpuKernelImpl:rVe}),TQe={kernelName:EV,backendName:"webgl",kernelFunc:AQe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ihe{constructor(e,n,o,a,l,u,_=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=u;const f=Ki(l.length),h=Ki(u.length);let d="";o===1?d="i":o===2&&(d="i, j");const m=`getIndices(${d})`;let g="";a===1?g="i":a===2&&(g="i, coords[1]");const y=`getUpdates(${g})`,w=n>1?"strides[j]":"strides";this.userCode=`
        ${f} strides = ${f}(${l});

        void main() {
          ${h} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${m});
              flattenedIndex += index * ${w};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${y};
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IQe(r){const{inputs:e,backend:n,attrs:o}=r,{indices:a,updates:l}=e,{shape:u}=o,{sliceRank:_,numUpdates:f,sliceSize:h,strides:d,outputSize:m}=VL(l,a,u),g=[m/h,h];if(m===0)return n.makeTensorInfo(u,a.dtype);const y=on({inputs:{x:a},backend:n,attrs:{shape:[f,_]}}),w=on({inputs:{x:l},backend:n,attrs:{shape:[f,h]}}),E=n.makeTensorInfo([],"float32",new Float32Array([0])),A=new Ihe(f,_,y.shape.length,w.shape.length,d,g),S=n.runWebGLProgram(A,[w,y,E],w.dtype),C=on({inputs:{x:S},backend:n,attrs:{shape:u}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(E),C}const MQe={kernelName:CV,backendName:"webgl",kernelFunc:IQe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NQe{constructor(e,n,o){this.variableNames=["c","a","b"],this.outputShape=n;let a,l;if(o>4)throw Error(`Where for rank ${o} is not yet supported`);if(o===1)l="resRC",a="resRC";else{const _=["resRC.x","resRC.y","resRC.z","resRC.w"],f=[],h=[];for(let d=0;d<n.length;d++)h.push(`${_[d]}`),d<e&&f.push(`${_[d]}`);a=f.join(),l=h.join()}const u=Ki(o);this.userCode=`
      void main() {
        ${u} resRC = getOutputCoords();
        float cVal = getC(${a});
        if (cVal >= 1.0) {
          setOutput(getA(${l}));
        } else {
          setOutput(getB(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RQe(r){const{inputs:e,backend:n}=r,{condition:o,t:a,e:l}=e,u=new NQe(o.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(u,[o,a,l],op(a.dtype,l.dtype))}const PQe={kernelName:AV,backendName:"webgl",kernelFunc:RQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BQe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${G_e};
  float scale = ${W_e};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,FQe=ri({opSnippet:BQe}),LQe={kernelName:TV,backendName:"webgl",kernelFunc:FQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mhe="return 1.0 / (1.0 + exp(-1.0 * x));",DQe=ri({opSnippet:Mhe,packedOpSnippet:Mhe,cpuKernelImpl:iVe}),OQe={kernelName:PV,backendName:"webgl",kernelFunc:DQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zQe=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,UQe=ri({opSnippet:zQe}),jQe={kernelName:RV,backendName:"webgl",kernelFunc:UQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GQe=Wpe+`
  return sin(x);
`,WQe=ri({opSnippet:GQe}),HQe={kernelName:MV,backendName:"webgl",kernelFunc:WQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VQe=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,qQe=ri({opSnippet:VQe}),KQe={kernelName:NV,backendName:"webgl",kernelFunc:qQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JQe=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,XQe=ri({opSnippet:JQe}),YQe={kernelName:BV,backendName:"webgl",kernelFunc:XQe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QQe=r=>{const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{blockShape:l,paddings:u}=o;re(a.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const _=l.reduce((S,C)=>S*C),f=[[0,0]];f.push(...u);for(let S=1+l.length;S<a.shape.length;++S)f.push([0,0]);const h=[],d=Ahe({inputs:{x:a},backend:n,attrs:{paddings:f,constantValue:0}}),m=Oq(d.shape,l,_,!1),g=zq(m.length,l.length,!1),y=Uq(d.shape,l,_,!1),w=on({inputs:{x:d},backend:n,attrs:{shape:m}}),E=Ll({inputs:{x:w},backend:n,attrs:{perm:g}}),A=on({inputs:{x:E},backend:n,attrs:{shape:y}});return h.push(d),h.push(w),h.push(E),h.forEach(S=>n.disposeIntermediateTensorInfo(S)),A},ZQe={kernelName:DV,backendName:"webgl",kernelFunc:QQe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eZe(r){const{inputs:e,backend:n}=r,{indices:o,values:a,denseShape:l,defaultValue:u}=e;if(l.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${l.shape}`);if(o.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${o.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${a.shape}`);if(u.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${u.shape}`);const _=n.readSync(o.dataId),f=n.readSync(a.dataId),h=n.readSync(l.dataId),d=n.readSync(u.dataId)[0],[m,g,y,w,E]=aVe(_,o.shape,o.dtype,f,a.dtype,h,d);return[n.makeTensorInfo(g,o.dtype,m),n.makeTensorInfo([g[0]],a.dtype,y),n.makeTensorInfo([w.length],"bool",new Uint8Array(w.map(A=>Number(A)))),n.makeTensorInfo([E.length],o.dtype,new Int32Array(E))]}const tZe={kernelName:UV,backendName:"webgl",kernelFunc:eZe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nZe(r){const{inputs:e,backend:n}=r,{inputIndices:o,inputShape:a,newShape:l}=e;if(o.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${o.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${a.shape}`);if(l.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${l.shape}`);const u=Array.from(n.readSync(a.dataId)),_=n.readSync(o.dataId),f=Array.from(n.readSync(l.dataId)),[h,d,m]=sVe(_,o.shape,o.dtype,u,f);return[n.makeTensorInfo(d,o.dtype,h),n.makeTensorInfo([m.length],l.dtype,new Int32Array(m))]}const rZe={kernelName:jV,backendName:"webgl",kernelFunc:nZe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iZe(r){const{inputs:e,backend:n}=r,{data:o,indices:a,segmentIds:l}=e;if(o.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${a.shape}`);if(l.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${l.shape}`);const u=n.readSync(o.dataId),_=n.readSync(a.dataId),f=n.readSync(l.dataId),[h,d]=Mpe(u,o.shape,o.dtype,_,f,!0);return n.makeTensorInfo(d,o.dtype,h)}const oZe={kernelName:GV,backendName:"webgl",kernelFunc:iZe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aZe(r){const{inputs:e,backend:n}=r,{data:o,indices:a,segmentIds:l}=e;if(o.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${a.shape}`);if(l.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${l.shape}`);const u=n.readSync(o.dataId),_=n.readSync(a.dataId),f=n.readSync(l.dataId),[h,d]=Mpe(u,o.shape,o.dtype,_,f);return n.makeTensorInfo(d,o.dtype,h)}const sZe={kernelName:WV,backendName:"webgl",kernelFunc:aZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lZe(r){const{inputs:e,backend:n,attrs:o}=r,{sparseIndices:a,sparseValues:l,defaultValue:u}=e,{outputShape:_}=o,{sliceRank:f,numUpdates:h,strides:d,outputSize:m}=VL(l,a,_),g=!1,y=new Ihe(h,f,a.shape.length,l.shape.length,d,[m,1],g),w=n.runWebGLProgram(y,[l,a,u],l.dtype),E=on({inputs:{x:w},backend:n,attrs:{shape:_}});return n.disposeIntermediateTensorInfo(w),E}const uZe={kernelName:HV,backendName:"webgl",kernelFunc:lZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cZe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{numOrSizeSplits:l,axis:u}=o,_=Va(u,a.shape)[0],f=ife(a,l,_),h=a.shape.length,d=new Array(h).fill(0),m=a.shape.slice();return f.map(g=>{const y=[...m];y[_]=g;const w=b1({inputs:{x:a},backend:n,attrs:{begin:d,size:y}});return d[_]+=g,w})}const _Ze={kernelName:OV,backendName:"webgl",kernelFunc:cZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nhe="return sqrt(x);",fZe=ri({opSnippet:Nhe,packedOpSnippet:Nhe,cpuKernelImpl:lVe}),pZe={kernelName:FV,backendName:"webgl",kernelFunc:fZe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hZe="return x * x;",dZe=ri({opSnippet:hZe}),mZe={kernelName:uue,backendName:"webgl",kernelFunc:dZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rhe="return (a - b) * (a - b);",vZe=Fs({opSnippet:Rhe,packedOpSnippet:Rhe}),gZe={kernelName:VV,backendName:"webgl",kernelFunc:vZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yZe({inputs:r,attrs:e,backend:n}){const{x:o}=r,a=lp+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,l=new Lg(o.shape,a);return n.runWebGLProgram(l,[o],o.dtype)}const kZe={kernelName:s9,backendName:"webgl",kernelFunc:yZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $Ze{constructor(e,n,o){this.variableNames=["x"],this.outputShape=o;const a=o.length,l=Ki(o.length),u=Ki(o.length);let _="";if(a===1)_="coords * strides + begin";else{let f=0;_=o.map((h,d)=>(f++,o.length===1?`coords * strides[${d}] + begin[${d}]`:`coords[${f-1}] * strides[${d}] + begin[${d}]`)).join(",")}this.userCode=`
      ${l} begin = ${l}(${e});
      ${l} strides = ${l}(${n});

      void main() {
        ${u} coords = getOutputCoords();
        setOutput(getX(${_}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bZe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{begin:l,end:u,strides:_,beginMask:f,endMask:h,ellipsisMask:d,newAxisMask:m,shrinkAxisMask:g}=o,{finalShapeSparse:y,finalShape:w,isIdentity:E,sliceDim0:A,isSimpleSlice:S,begin:C,end:R,strides:P}=uce(a.shape,l,u,_,f,h,d,m,g);let D;if(E)D=on({inputs:{x:a},backend:n,attrs:{shape:w}});else if(A||S){re(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const z=Zue(C,R,P),V=b1({inputs:{x:a},backend:n,attrs:{begin:C,size:z}});D=on({inputs:{x:V},backend:n,attrs:{shape:w}}),n.disposeIntermediateTensorInfo(V)}else if(n.shouldExecuteOnCPU([a])){const V=n.readSync(a.dataId),X=La(a.shape,a.dtype,V),ne=uVe(y,X,P,C);D=n.makeTensorInfo(w,a.dtype,ne.values)}else{const V=new $Ze(C,P,y);D=n.runWebGLProgram(V,[a],a.dtype)}const G=on({inputs:{x:D},backend:n,attrs:{shape:w}});return n.disposeIntermediateTensorInfo(D),G}const wZe={kernelName:qV,backendName:"webgl",kernelFunc:bZe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xZe(r){const{inputs:e,backend:n,attrs:o}=r,{separator:a,nGramWidths:l,leftPad:u,rightPad:_,padWidth:f,preserveShortSequences:h}=o,{data:d,dataSplits:m}=e,g=n.readSync(d.dataId),y=n.readSync(m.dataId),[w,E]=cVe(g,y,a,l,u,_,f,h);return[n.makeTensorInfo([w.length],"string",w),n.makeTensorInfo(m.shape,"int32",E)]}const SZe={kernelName:KV,backendName:"webgl",kernelFunc:xZe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EZe(r){const{inputs:e,backend:n,attrs:o}=r,{skipEmpty:a}=o,{input:l,delimiter:u}=e;if(l.dtype!=="string")throw new Error("Input must be of datatype string");if(l.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${l.shape}`);if(u.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${u.shape}`);const _=n.readSync(l.dataId),f=n.readSync(u.dataId)[0],[h,d,m]=_Ve(_,f,a),g=d.length;return[n.makeTensorInfo([g,2],"int32",h),n.makeTensorInfo([g],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(m))]}const CZe={kernelName:JV,backendName:"webgl",kernelFunc:EZe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AZe(r){const{inputs:e,backend:n,attrs:o}=r,{numBuckets:a}=o,{input:l}=e;if(l.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const u=n.readSync(l.dataId),_=fVe(u,a);return n.makeTensorInfo(l.shape,"int32",_)}const TZe={kernelName:XV,backendName:"webgl",kernelFunc:AZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IZe="return tan(x);",MZe=ri({opSnippet:IZe}),NZe={kernelName:QV,backendName:"webgl",kernelFunc:MZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RZe=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,PZe=ri({opSnippet:RZe}),BZe={kernelName:ZV,backendName:"webgl",kernelFunc:PZe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FZe{constructor(e,n){this.variableNames=["A"];const o=new Array(e.length);for(let u=0;u<o.length;u++)o[u]=e[u]*n[u];this.outputShape=o,this.rank=o.length;const a=Ki(this.rank),l=LZe(e);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        setOutput(getA(${l}));
      }
    `}}function LZe(r){const e=r.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${r[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],o=[];for(let a=0;a<r.length;a++)o.push(`imod(${n[a]}, ${r[a]})`);return o.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Phe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{reps:l}=o;if(a.dtype==="string"||a.shape.length>5){const f=n.readSync(a.dataId),h=a.dtype==="string"?f.map(g=>Jx(g)):f,d=La(a.shape,a.dtype,h),m=hVe(d,l);return n.makeTensorInfo(m.shape,m.dtype,m.values)}const u=new FZe(a.shape,l);return n.runWebGLProgram(u,[a],a.dtype)}const DZe={kernelName:ML,backendName:"webgl",kernelFunc:Phe};class OZe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class zZe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qk(r,e){e!==null&&r.disposeIntermediateTensorInfo(e)}function Bhe(r){let e=1;for(;e<r;)e*=2;return e}function UZe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a}=e,{k:l,sorted:u}=o,_=qe().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),f=qe().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),h=a.shape,d=h[h.length-1];if(n.shouldExecuteOnCPU([a])||d<_||l>f){const ne=n.readSync(a.dataId),[Y,ue]=dVe(ne,h,a.dtype,l,u);return[n.makeTensorInfo(Y.shape,Y.dtype,Y.values),n.makeTensorInfo(ue.shape,ue.dtype,ue.values)]}if(l===0)return h[h.length-1]=0,[n.makeTensorInfo(h,a.dtype,[]),n.makeTensorInfo(h,"int32",[])];if(d===1)return[a,O2({attrs:{shape:h,dtype:"int32",value:0},backend:n})];const m=n.texData.get(a.dataId),g=m!==null&&m.isPacked,y=g?n.unpackTensor(a):a,E=zt(h)/d,A=on({inputs:{x:y},attrs:{shape:[E,d]},backend:n});g&&Qk(n,y);const S=Bhe(l),C=Bhe(d);let R=null;const P=()=>R===null?[A,A]:[A,R],D=(ne,Y,ue)=>{const _e=P(),ge=new OZe(ue),xe=[[d],[R===null?1:0],[Number.NEGATIVE_INFINITY],[ne],[Y]],Ie=R;R=n.runWebGLProgram(ge,_e,"int32",xe),Qk(n,Ie)};for(let ne=1;ne<S;ne*=2){const Y=ne*2;for(let ue=ne;ue>=1;ue/=2)D(Y,ue,[E,C])}for(let ne=C;ne>S;ne/=2){const Y=P(),ue=new zZe([E,ne/2]),ge=[[d],[R===null?1:0],[S]],$e=R;R=n.runWebGLProgram(ue,Y,"int32",ge),Qk(n,$e);const xe=S/2,Ie=xe*2;for(let tt=xe;tt>=1;tt/=2)D(Ie,tt,R.shape)}let G=R;R=b1({inputs:{x:R},backend:n,attrs:{begin:0,size:[E,l]}}),Qk(n,G);let z=khe({inputs:{x:A,indices:R},backend:n,attrs:{axis:1,batchDims:1}});Qk(n,A);const V=h.slice(0,-1);V.push(l),G=R,R=on({inputs:{x:R},attrs:{shape:V},backend:n}),Qk(n,G);const X=z;return z=on({inputs:{x:z},attrs:{shape:V},backend:n}),Qk(n,X),[z,R]}const jZe={kernelName:e9,backendName:"webgl",kernelFunc:UZe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GZe{constructor(e,n,o,a,l,u){this.variableNames=["Image","Transforms"],this.outputShape=u;const _=o==="nearest"?1:2;let f;switch(a){case"constant":f=1;break;case"reflect":f=2;break;case"wrap":f=3;break;case"nearest":f=4;break;default:f=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${f} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${f} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${f} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${l});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${l});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${_} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WZe(r){const{inputs:e,backend:n,attrs:o}=r,{image:a,transforms:l}=e,{interpolation:u,fillMode:_,fillValue:f,outputShape:h}=o,[d,m,g,y]=a.shape,[w,E]=h!=null?h:[m,g],A=[d,w,E,y],S=new GZe(m,g,u,_,f,A);return n.runWebGLProgram(S,[a,l],"float32")}const HZe={kernelName:t9,backendName:"webgl",kernelFunc:WZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VZe(r){const{inputs:e,attrs:n,backend:o}=r,{axis:a}=n,{x:l}=e;d1(l,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const u=o.readSync(l.dataId),{outputValues:_,outputShape:f,indices:h}=mVe(u,a,l.shape,l.dtype);return[o.makeTensorInfo(f,l.dtype,_),o.makeTensorInfo([h.length],"int32",h)]}const qZe={kernelName:r9,backendName:"webgl",kernelFunc:VZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KZe(r){const{inputs:e,backend:n,attrs:o}=r,{value:a}=e;let{axis:l}=o;l<0&&(l+=a.shape.length);const u=a,_=u.shape.length,f=a.shape[l],h=new Array(_-1);let d=0;for(let E=0;E<_;E++)E!==l&&(h[d++]=u.shape[E]);const m=[],g=new Array(_).fill(0),y=u.shape.slice();y[l]=1;const w=new Array(f);for(let E=0;E<w.length;E++){g[l]=E;const A=b1({inputs:{x:u},backend:n,attrs:{begin:g,size:y}}),S=on({inputs:{x:A},backend:n,attrs:{shape:h}});w[E]=S,m.push(A)}return m.forEach(E=>n.disposeIntermediateTensorInfo(E)),w}const JZe={kernelName:i9,backendName:"webgl",kernelFunc:KZe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XZe{constructor(e,n){this.variableNames=["x","segmentIds"];const o=e.windowSize,a=e.batchSize,l=e.inSize,u=e.numSegments,_=u*Math.ceil(l/o);this.outputShape=[a,_];const f="0.0",h="sumValue",d=Math.floor(o/4)*4,m=o%4,g=`
        sumValue += dot(values, segFilter);
    `;let y="";l%o>0&&(y=`
        if (inIdx < 0 || inIdx >= ${l}) {
          return initializationValue;
        }
      `);let w="";l%o>0&&(w=`
        if (inIdx < 0 || inIdx >= ${l}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${f};

      float getValue(int batch, int inIdx) {
        ${y}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${w}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${u})) * float(${o}));
        int currentSeg = int(mod(float(outIdx), float(${u})));

        float sumValue = 0.0;

        for (int i = 0; i < ${d}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${g}
        }

        int inIdx = inOffset + ${d};
        if (${m===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${g}
        } else if (${m===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${g}
        } else if (${m===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${g}
        }
        setOutput(${h});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YZe(r){const{inputs:e,backend:n,attrs:o}=r,{x:a,segmentIds:l}=e,{numSegments:u}=o,_=a.shape.length,f=[];let h=0;const d=K_([h],_);let m=a;d!=null&&(m=Ll({inputs:{x:a},backend:n,attrs:{perm:d}}),f.push(m),h=J_(1,_)[0]);const g=vfe(m.shape,h,u),y=zt([m.shape[h]]),w=on({inputs:{x:m},backend:n,attrs:{shape:[-1,y]}});f.push(w);const E=jL(a.dtype),A=(P,D,G,z,V)=>{const X=P.shape[0],ne=P.shape[1],Y=mfe(ne,V),ue={windowSize:Y,inSize:ne,batchSize:X,numSegments:V},_e=new XZe(ue,D),ge=n.compileAndRun(_e,[P,G],z);if(f.push(ge),ge.shape[1]===V)return ge;const $e=The({backend:n,attrs:{start:0,stop:V,step:1,dtype:"float32"}}),xe=Phe({inputs:{x:$e},backend:n,attrs:{reps:[ne/Y]}});return f.push($e),f.push(xe),A(ge,D,xe,z,V)},S=A(w,"unsortedSegmentSum",l,E,u),C=on({inputs:{x:S},backend:n,attrs:{shape:g}});let R=C;if(d!=null){f.push(C);const P=_q(d);R=Ll({inputs:{x:R},backend:n,attrs:{perm:P}})}return f.forEach(P=>n.disposeIntermediateTensorInfo(P)),R}const QZe={kernelName:o9,backendName:"webgl",kernelFunc:YZe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZZe=[CXe,IXe,_9e,p9e,m9e,y9e,$9e,x9e,E9e,A9e,N9e,P9e,L9e,z9e,q9e,G9e,X9e,eqe,Q9e,iqe,aqe,lqe,fqe,yqe,$qe,wqe,Tqe,Mqe,Bqe,Dqe,VVe,Gqe,Zqe,tKe,qqe,oKe,sKe,rKe,cKe,pKe,mKe,gKe,kKe,wKe,TKe,MKe,SKe,PKe,LKe,OKe,GKe,qKe,YKe,eJe,tJe,nJe,iJe,aJe,lJe,cJe,fJe,mJe,yJe,bJe,xJe,CJe,IJe,PJe,DJe,HVe,zJe,Uqe,GJe,VJe,JJe,KVe,ZJe,rXe,oXe,fXe,uXe,mXe,yXe,wXe,NXe,zXe,DXe,WXe,VXe,KXe,FXe,XXe,QXe,nYe,aYe,cYe,gYe,ZVe,kYe,wYe,EYe,TYe,Sqe,NYe,PYe,FYe,OYe,GYe,XVe,HYe,VYe,Eqe,hYe,JYe,rQe,ZYe,t9e,sQe,cQe,hQe,vQe,$Qe,wQe,EQe,TQe,MQe,PQe,LQe,OQe,jQe,HQe,KQe,vqe,mYe,YQe,ZQe,tZe,rZe,oZe,sZe,uZe,_Ze,pZe,mZe,gZe,kZe,wZe,SZe,CZe,TZe,dYe,l9e,NZe,BZe,DZe,jZe,HZe,u9e,qZe,JZe,QZe,RYe];for(const r of ZZe)c9(r);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var eet=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",version_webgl:GVe,MathBackendWebGL:B2,setWebGLContext:Pfe,GPGPUContext:Epe,gpgpu_util:zWe,webgl_util:V8e,forceHalfFloat:Dpe,webgl:WVe}),tet=G5(eet);(function(r,e){(function(n,o){o(r.exports,nGe,I8e,tet)})(C0,function(n,o,a,l){je.prototype=Object.create(yi.prototype),je.prototype.constructor=je,wr.prototype=Object.create(Hn.prototype),wr.prototype.constructor=wr,$o.prototype=Object.create(ao.prototype),$o.prototype.constructor=$o,aa.prototype=Object.create(ao.prototype),aa.prototype.constructor=aa,or.prototype=Object.create(aa.prototype),or.prototype.constructor=or,Bi.prototype=Object.create(ao.prototype),Bi.prototype.constructor=Bi,vc.prototype=Object.create(_$.prototype),vc.prototype.constructor=vc,zl.prototype=Object.create(s_.prototype),zl.prototype.constructor=zl,ka.prototype=Object.create($o.prototype),ka.prototype.constructor=ka,__.prototype=Object.create(Du.prototype),__.prototype.constructor=__,pp.prototype=Object.create(yi.prototype),pp.prototype.constructor=pp,gc.prototype=Object.create(jl.prototype),gc.prototype.constructor=gc,yc.prototype=Object.create(jl.prototype),yc.prototype.constructor=yc,Hl.prototype=Object.create(Gh.prototype),Hl.prototype.constructor=Hl,lf.prototype=Object.create(yi.prototype),lf.prototype.constructor=lf,rd.prototype=Object.create(Error.prototype),rd.prototype.constructor=rd,Vl.prototype=Object.create(rd.prototype),Vl.prototype.constructor=Vl,h_.prototype=Object.create(ql.prototype),h_.prototype.constructor=h_,Jh.prototype=Object.create(ev.prototype),Jh.prototype.constructor=Jh,Xh.prototype=Object.create(Nu.prototype),Xh.prototype.constructor=Xh,wi.prototype=Object.create(Jl.prototype),wi.prototype.constructor=wi,hl.prototype=Object.create(Xl.prototype),hl.prototype.constructor=hl,Pn.prototype=Object.create(ao.prototype),Pn.prototype.constructor=Pn,Yr.prototype=Object.create(Pn.prototype),Yr.prototype.constructor=Yr,Yl.prototype=Object.create(Pn.prototype),Yl.prototype.constructor=Yl,Qh.prototype=Object.create(Yl.prototype),Qh.prototype.constructor=Qh,g_.prototype=Object.create(Yl.prototype),g_.prototype.constructor=g_,Pu.prototype=Object.create(Pn.prototype),Pu.prototype.constructor=Pu,ff.prototype=Object.create(ji.prototype),ff.prototype.constructor=ff,gi.prototype=Object.create(Yr.prototype),gi.prototype.constructor=gi,vp.prototype=Object.create(Qh.prototype),vp.prototype.constructor=vp,gs.prototype=Object.create(ff.prototype),gs.prototype.constructor=gs,Xi.prototype=Object.create(Yl.prototype),Xi.prototype.constructor=Xi,ky.prototype=Object.create(ml.prototype),ky.prototype.constructor=ky,pf.prototype=Object.create(Qh.prototype),pf.prototype.constructor=pf,Do.prototype=Object.create(gs.prototype),Do.prototype.constructor=Do,Zh.prototype=Object.create(Xi.prototype),Zh.prototype.constructor=Zh,Gi.prototype=Object.create(vl.prototype),Gi.prototype.constructor=Gi,kp.prototype=Object.create(vl.prototype),kp.prototype.constructor=kp,rv.prototype=Object.create(vl.prototype),rv.prototype.constructor=rv,ki.prototype=Object.create(Error.prototype),ki.prototype.constructor=ki,G$.prototype=Object.create(ki.prototype),G$.prototype.constructor=G$,at.prototype=Object.create(lS.prototype),at.prototype.constructor=at,Iy.prototype=Object.create(Du.prototype),Iy.prototype.constructor=Iy,Za.prototype=Object.create(ki.prototype),Za.prototype.constructor=Za,co.prototype=Object.create(Za.prototype),co.prototype.constructor=co,id.prototype=Object.create(Za.prototype),id.prototype.constructor=id,My.prototype=Object.create(Za.prototype),My.prototype.constructor=My,od.prototype=Object.create(Za.prototype),od.prototype.constructor=od,Ny.prototype=Object.create(Za.prototype),Ny.prototype.constructor=Ny,Ry.prototype=Object.create(Za.prototype),Ry.prototype.constructor=Ry,Py.prototype=Object.create(Za.prototype),Py.prototype.constructor=Py,By.prototype=Object.create(rd.prototype),By.prototype.constructor=By,Fy.prototype=Object.create(co.prototype),Fy.prototype.constructor=Fy,Ly.prototype=Object.create(Za.prototype),Ly.prototype.constructor=Ly,Dy.prototype=Object.create(Za.prototype),Dy.prototype.constructor=Dy,Oy.prototype=Object.create(Za.prototype),Oy.prototype.constructor=Oy,CS.prototype=Object.create(Uy.prototype),CS.prototype.constructor=CS,ru.prototype=Object.create($o.prototype),ru.prototype.constructor=ru,tb.prototype=Object.create(Ec.prototype),tb.prototype.constructor=tb,kl.prototype=Object.create(ru.prototype),kl.prototype.constructor=kl,nb.prototype=Object.create(Ec.prototype),nb.prototype.constructor=nb,Ou.prototype=Object.create(ru.prototype),Ou.prototype.constructor=Ou,rb.prototype=Object.create(Ec.prototype),rb.prototype.constructor=rb,zu.prototype=Object.create(ji.prototype),zu.prototype.constructor=zu,TS.prototype=Object.create(ad.prototype),TS.prototype.constructor=TS,IS.prototype=Object.create(ad.prototype),IS.prototype.constructor=IS,MS.prototype=Object.create(ad.prototype),MS.prototype.constructor=MS,ib.prototype=Object.create($s.prototype),ib.prototype.constructor=ib,ob.prototype=Object.create($s.prototype),ob.prototype.constructor=ob,ab.prototype=Object.create($s.prototype),ab.prototype.constructor=ab,sd.prototype=Object.create(aa.prototype),sd.prototype.constructor=sd,ld.prototype=Object.create(ao.prototype),ld.prototype.constructor=ld,ud.prototype=Object.create(aa.prototype),ud.prototype.constructor=ud,bl.prototype=Object.create(ji.prototype),bl.prototype.constructor=bl,_d.prototype=Object.create(aa.prototype),_d.prototype.constructor=_d,fd.prototype=Object.create(ao.prototype),fd.prototype.constructor=fd,pd.prototype=Object.create(aa.prototype),pd.prototype.constructor=pd,BS.prototype=Object.create(qy.prototype),BS.prototype.constructor=BS,yf.prototype=Object.create(co.prototype),yf.prototype.constructor=yf,Gy.prototype=Object.create(yf.prototype),Gy.prototype.constructor=Gy,Wy.prototype=Object.create(yf.prototype),Wy.prototype.constructor=Wy,Vy.prototype=Object.create(Ac.prototype),Vy.prototype.constructor=Vy,FS.prototype=Object.create(Ac.prototype),FS.prototype.constructor=FS,Qi.prototype=Object.create(Ac.prototype),Qi.prototype.constructor=Qi,LS.prototype=Object.create(Qi.prototype),LS.prototype.constructor=LS,DS.prototype=Object.create(Qi.prototype),DS.prototype.constructor=DS,OS.prototype=Object.create(Qi.prototype),OS.prototype.constructor=OS,zS.prototype=Object.create(Qi.prototype),zS.prototype.constructor=zS,US.prototype=Object.create(Qi.prototype),US.prototype.constructor=US,jS.prototype=Object.create(Qi.prototype),jS.prototype.constructor=jS,GS.prototype=Object.create(Qi.prototype),GS.prototype.constructor=GS,WS.prototype=Object.create(Qi.prototype),WS.prototype.constructor=WS,HS.prototype=Object.create(Qi.prototype),HS.prototype.constructor=HS,w_.prototype=Object.create(Ac.prototype),w_.prototype.constructor=w_,VS.prototype=Object.create(w_.prototype),VS.prototype.constructor=VS,qS.prototype=Object.create(w_.prototype),qS.prototype.constructor=qS,KS.prototype=Object.create(w_.prototype),KS.prototype.constructor=KS,JS.prototype=Object.create(w_.prototype),JS.prototype.constructor=JS,x_.prototype=Object.create(Ac.prototype),x_.prototype.constructor=x_,XS.prototype=Object.create(x_.prototype),XS.prototype.constructor=XS,dd.prototype=Object.create(za.prototype),dd.prototype.constructor=dd,md.prototype=Object.create(za.prototype),md.prototype.constructor=md,uv.prototype=Object.create(ws.prototype),uv.prototype.constructor=uv,S_.prototype=Object.create(vd.prototype),S_.prototype.constructor=S_,di.prototype=Object.create(S_.prototype),di.prototype.constructor=di,xa.prototype=Object.create(S_.prototype),xa.prototype.constructor=xa,Tp.prototype=Object.create(vd.prototype),Tp.prototype.constructor=Tp,es.prototype=Object.create(Tp.prototype),es.prototype.constructor=es,Ip.prototype=Object.create(Yo.prototype),Ip.prototype.constructor=Ip,Uu.prototype=Object.create(di.prototype),Uu.prototype.constructor=Uu,ju.prototype=Object.create(di.prototype),ju.prototype.constructor=ju,Gu.prototype=Object.create(di.prototype),Gu.prototype.constructor=Gu,Wu.prototype=Object.create(di.prototype),Wu.prototype.constructor=Wu,Hu.prototype=Object.create(di.prototype),Hu.prototype.constructor=Hu,Vu.prototype=Object.create(di.prototype),Vu.prototype.constructor=Vu,qu.prototype=Object.create(di.prototype),qu.prototype.constructor=qu,Ku.prototype=Object.create(di.prototype),Ku.prototype.constructor=Ku,Mp.prototype=Object.create(xs.prototype),Mp.prototype.constructor=Mp,Np.prototype=Object.create(xs.prototype),Np.prototype.constructor=Np,Rp.prototype=Object.create(xs.prototype),Rp.prototype.constructor=Rp,Pp.prototype=Object.create(xs.prototype),Pp.prototype.constructor=Pp,Bp.prototype=Object.create(xs.prototype),Bp.prototype.constructor=Bp,Fp.prototype=Object.create(xs.prototype),Fp.prototype.constructor=Fp,Lp.prototype=Object.create(xs.prototype),Lp.prototype.constructor=Lp,Dp.prototype=Object.create(xs.prototype),Dp.prototype.constructor=Dp,Ss.prototype=Object.create(nr.prototype),Ss.prototype.constructor=Ss,yd.prototype=Object.create(UI.prototype),yd.prototype.constructor=yd,tE.prototype=Object.create(y4.prototype),tE.prototype.constructor=tE,nE.prototype=Object.create(y4.prototype),nE.prototype.constructor=nE,rE.prototype=Object.create(Op.prototype),rE.prototype.constructor=rE,oE.prototype=Object.create(Op.prototype),oE.prototype.constructor=oE,Ci.prototype=Object.create(zp.prototype),Ci.prototype.constructor=Ci,ou.prototype=Object.create(zp.prototype),ou.prototype.constructor=ou,xo.prototype=Object.create(zp.prototype),xo.prototype.constructor=xo,E_.prototype=Object.create(ou.prototype),E_.prototype.constructor=E_,Gs.prototype=Object.create(ou.prototype),Gs.prototype.constructor=Gs,bd.prototype=Object.create(So.prototype),bd.prototype.constructor=bd,wd.prototype=Object.create(So.prototype),wd.prototype.constructor=wd,Up.prototype=Object.create(yf.prototype),Up.prototype.constructor=Up,e0.prototype=Object.create(Up.prototype),e0.prototype.constructor=e0,t0.prototype=Object.create(Up.prototype),t0.prototype.constructor=t0,Sd.prototype=Object.create(Du.prototype),Sd.prototype.constructor=Sd,Nb.prototype=Object.create(Du.prototype),Nb.prototype.constructor=Nb,Oi.prototype=Object.create(Dr.prototype),Oi.prototype.constructor=Oi,wl.prototype=Object.create(Dr.prototype),wl.prototype.constructor=wl,Ai.prototype=Object.create(Vr.prototype),Ai.prototype.constructor=Ai,_r.prototype=Object.create(Ss.prototype),_r.prototype.constructor=_r,Es.prototype=Object.create(_r.prototype),Es.prototype.constructor=Es,Nc.prototype=Object.create(_r.prototype),Nc.prototype.constructor=Nc,Rc.prototype=Object.create(Es.prototype),Rc.prototype.constructor=Rc,pv.prototype=Object.create(yi.prototype),pv.prototype.constructor=pv,Ju.prototype=Object.create(Ti.prototype),Ju.prototype.constructor=Ju,cr.prototype=Object.create(Ss.prototype),cr.prototype.constructor=cr,Gp.prototype=Object.create(cr.prototype),Gp.prototype.constructor=Gp,Pc.prototype=Object.create(cr.prototype),Pc.prototype.constructor=Pc,Oo.prototype=Object.create(cr.prototype),Oo.prototype.constructor=Oo,Bc.prototype=Object.create(Jt.prototype),Bc.prototype.constructor=Bc,C_.prototype=Object.create(Bc.prototype),C_.prototype.constructor=C_,_n.prototype=Object.create(Ot.prototype),_n.prototype.constructor=_n,fn.prototype=Object.create(Ot.prototype),fn.prototype.constructor=fn,wf.prototype=Object.create(yi.prototype),wf.prototype.constructor=wf,a0.prototype=Object.create(yi.prototype),a0.prototype.constructor=a0,Lb.prototype=Object.create(yi.prototype),Lb.prototype.constructor=Lb,Sl.prototype=Object.create(Zo.prototype),Sl.prototype.constructor=Sl,Fc.prototype=Object.create(Vs.prototype),Fc.prototype.constructor=Fc,s0.prototype=Object.create(yi.prototype),s0.prototype.constructor=s0,$v.prototype=Object.create(yi.prototype),$v.prototype.constructor=$v,l0.prototype=Object.create(ki.prototype),l0.prototype.constructor=l0,Id.prototype=Object.create(yi.prototype),Id.prototype.constructor=Id,On.prototype=Object.create(Jt.prototype),On.prototype.constructor=On,Rd.prototype=Object.create(Ue.prototype),Rd.prototype.constructor=Rd,Pd.prototype=Object.create(Ue.prototype),Pd.prototype.constructor=Pd,dr.prototype=Object.create(Jt.prototype),dr.prototype.constructor=dr,Zn.prototype=Object.create(dr.prototype),Zn.prototype.constructor=Zn,Ct.prototype=Object.create(dr.prototype),Ct.prototype.constructor=Ct,St.prototype=Object.create(dr.prototype),St.prototype.constructor=St,Lt.prototype=Object.create(Jt.prototype),Lt.prototype.constructor=Lt,Mi.prototype=Object.create(Jt.prototype),Mi.prototype.constructor=Mi,zn.prototype=Object.create(Jt.prototype),zn.prototype.constructor=zn,$t.prototype=Object.create(Jt.prototype),$t.prototype.constructor=$t,dn.prototype=Object.create(Jt.prototype),dn.prototype.constructor=dn,Ea.prototype=Object.create(N_.prototype),Ea.prototype.constructor=Ea,jo.prototype=Object.create(N_.prototype),jo.prototype.constructor=jo,Ca.prototype=Object.create(N_.prototype),Ca.prototype.constructor=Ca,Bf.prototype=Object.create(Ca.prototype),Bf.prototype.constructor=Bf,Jp.prototype=Object.create(Ca.prototype),Jp.prototype.constructor=Jp,Xp.prototype=Object.create(Ca.prototype),Xp.prototype.constructor=Xp,Yp.prototype=Object.create(Ca.prototype),Yp.prototype.constructor=Yp,Qp.prototype=Object.create(Ca.prototype),Qp.prototype.constructor=Qp,Zp.prototype=Object.create(tw.prototype),Zp.prototype.constructor=Zp,eh.prototype=Object.create(tw.prototype),eh.prototype.constructor=eh,Ao.prototype=Object.create(nw.prototype),Ao.prototype.constructor=Ao,To.prototype=Object.create(nw.prototype),To.prototype.constructor=To,Sn.prototype=Object.create(Jt.prototype),Sn.prototype.constructor=Sn,Mv.prototype=Object.create(yi.prototype),Mv.prototype.constructor=Mv;function u(t){var i=t.length;switch(i){case 0:return Da();case 1:return Zt(t[0]);default:return P(t)}}function _(t){return new E1(gt(t))}function f(t){return new wi(0,D(t))}function h(t){return new wi(0,G(t))}function d(t,i){return i.isEmpty_0_k$()?new Float32Array(0):Fme(t,i._get_start__0_k$(),i._get_endInclusive__0_k$()+1|0)}function m(t){var i=t.length;switch(i){case 0:return Da();case 1:return Zt(t[0]);default:return z(t)}}function g(t){for(var i=0,s=t,c=0,p=s.length;c<p;){var v=s[c];c=c+1|0,i=i+v}return i}function y(t){var i;e:{i=t.length===0;break e}if(i)return null;var s=t[0],c=1,p=V(t);if(c<=p)do{var v=c;c=c+1|0;var k=t[v],x;e:{var T=s;x=Math.min(T,k);break e}s=x}while(v!==p);return s}function w(t){var i;e:{i=t.length===0;break e}if(i)return null;var s=t[0],c=1,p=V(t);if(c<=p)do{var v=c;c=c+1|0;var k=t[v],x;e:{var T=s;x=Math.max(T,k);break e}s=x}while(v!==p);return s}function E(t,i,s,c,p,v,k){return X(t,$y(),i,s,c,p,v,k).toString()}function A(t,i,s,c,p,v,k,x,T){return(x&1)!=0&&(i=", "),(x&2)!=0&&(s=""),(x&4)!=0&&(c=""),(x&8)!=0&&(p=-1),(x&16)!=0&&(v="..."),(x&32)!=0&&(k=null),E(t,i,s,c,p,v,k)}function S(t){var i=t.length;switch(i){case 0:return c_();case 1:return Zr(t[0]);default:return ne(t,rO(xi(t.length)))}}function C(t,i){if(i==null){var s=0,c=t.length-1|0;if(s<=c)do{var p=s;if(s=s+1|0,t[p]==null)return p}while(s<=c)}else{var v=0,k=t.length-1|0;if(v<=k)do{var x=v;if(v=v+1|0,xt(i,t[x]))return x}while(v<=k)}return-1}function R(t){var i=t.length,s;switch(i){case 0:throw $_("Array is empty.");case 1:s=t[0];break;default:throw sn("Array has more than one element.")}return s}function P(t){return gy(o$(t))}function D(t){return t.length-1|0}function G(t){return t.length-1|0}function z(t){for(var i=Wr(t.length),s=t,c=0,p=s.length;c<p;){var v=s[c];c=c+1|0,i.add_2bq_k$(v),F()}return i}function V(t){return t.length-1|0}function X(t,i,s,c,p,v,k,x){i.append_v1o70a_k$(c),F();var T=0,N=t,B=0,L=N.length;e:for(;B<L;){var O=N[B];if(B=B+1|0,T=T+1|0,T>1&&(i.append_v1o70a_k$(s),F()),v<0?!0:T<=v)x!=null?(i.append_v1o70a_k$(x(O)),F()):(i.append_v1o70a_k$(O.toString()),F());else break e}return(v>=0?T>v:!1)&&(i.append_v1o70a_k$(k),F()),i.append_v1o70a_k$(p),F(),i}function ne(t,i){for(var s=t,c=0,p=s.length;c<p;){var v=s[c];c=c+1|0,i.add_2bq_k$(v),F()}return i}function Y(t,i){return $e(t,i)>=0}function ue(t,i,s,c,p,v,k){return xe(t,$y(),i,s,c,p,v,k).toString()}function _e(t,i,s,c,p,v,k,x,T){return(x&1)!=0&&(i=", "),(x&2)!=0&&(s=""),(x&4)!=0&&(c=""),(x&8)!=0&&(p=-1),(x&16)!=0&&(v="..."),(x&32)!=0&&(k=null),ue(t,i,s,c,p,v,k)}function ge(t,i){return C(t,i)>=0}function $e(t,i){var s=0,c=t.length-1|0;if(s<=c)do{var p=s;if(s=s+1|0,i===t[p])return p}while(s<=c);return-1}function xe(t,i,s,c,p,v,k,x){i.append_v1o70a_k$(c),F();var T=0,N=t,B=0,L=N.length;e:for(;B<L;){var O=N[B];if(B=B+1|0,T=T+1|0,T>1&&(i.append_v1o70a_k$(s),F()),v<0?!0:T<=v)kc(i,O,x);else break e}return(v>=0?T>v:!1)&&(i.append_v1o70a_k$(k),F()),i.append_v1o70a_k$(p),F(),i}function Ie(t){return t.length-1|0}function tt(t){this._$this_withIndex=t}tt.prototype.invoke_0_k$=function(){return lI(this._$this_withIndex)},tt.$metadata$={kind:"class",interfaces:[]};function gt(t){var i=new tt(t);return function(){return i.invoke_0_k$()}}function Je(t){return yt(t,eO(xi(so(t,12))))}function ve(t){for(var i=mO(t._get_size__0_k$()),s=0,c=t.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$(),v=s;s=v+1|0,i[v]=p}return i}function He(t,i,s,c,p,v,k){return nn(t,$y(),i,s,c,p,v,k).toString()}function Ge(t,i,s,c,p,v,k,x,T){return(x&1)!=0&&(i=", "),(x&2)!=0&&(s=""),(x&4)!=0&&(c=""),(x&8)!=0&&(p=-1),(x&16)!=0&&(v="..."),(x&32)!=0&&(k=null),He(t,i,s,c,p,v,k)}function kt(t,i){if(Ce(t,Si))return et(t,i);var s=Di();return Cu(s,t),F(),Cu(s,i),F(),s}function an(t){if(Ce(t,Si)){var i=t._get_size__0_k$(),s;switch(i){case 0:s=Da();break;case 1:var c;Ce(t,Hr)?c=t.get_ha5a7z_k$(0):c=t.iterator_0_k$().next_0_k$(),s=Zt(c);break;default:s=Qn(t);break}return s}return jg(Kn(t))}function ot(t,i){var s;e:{var c=t.iterator_0_k$(),p=i.iterator_0_k$(),v;t:{var k=so(t,10),x=so(i,10);v=Math.min(k,x);break t}for(var T=Wr(v);c.hasNext_0_k$()?p.hasNext_0_k$():!1;){var N;t:{var B=c.next_0_k$(),L=p.next_0_k$();N=Le(B,L);break t}T.add_2bq_k$(N),F()}s=T;break e}return s}function Mn(t,i){return pr(t,i,i,!0)}function mn(t){if(t.isEmpty_0_k$())throw $_("List is empty.");return t.get_ha5a7z_k$(0)}function Gt(t){if(Ce(t,Si)){var i=t._get_size__0_k$(),s;switch(i){case 0:s=c_();break;case 1:var c;Ce(t,Hr)?c=t.get_ha5a7z_k$(0):c=t.iterator_0_k$().next_0_k$(),s=Zr(c);break;default:s=yt(t,rO(xi(t._get_size__0_k$())));break}return s}return f$(yt(t,ude()))}function An(t){if(t.isEmpty_0_k$())throw $_("List is empty.");return t.get_ha5a7z_k$(cp(t))}function Pr(t){for(var i=new Float32Array(t._get_size__0_k$()),s=0,c=t.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$(),v=s;s=v+1|0,i[v]=p}return i}function et(t,i){if(Ce(i,Si)){var s=Wr(t._get_size__0_k$()+i._get_size__0_k$()|0);return s.addAll_dxd4eo_k$(t),F(),s.addAll_dxd4eo_k$(i),F(),s}else{var c=gy(t);return Cu(c,i),F(),c}}function mt(t){var i=t;if(Ce(i,Hr))return mn(t);var s=t.iterator_0_k$();if(!s.hasNext_0_k$())throw $_("Collection is empty.");return s.next_0_k$()}function yt(t,i){for(var s=t.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$();i.add_2bq_k$(c),F()}return i}function nn(t,i,s,c,p,v,k,x){i.append_v1o70a_k$(c),F();var T=0,N=t.iterator_0_k$();e:for(;N.hasNext_0_k$();){var B=N.next_0_k$();if(T=T+1|0,T>1&&(i.append_v1o70a_k$(s),F()),v<0?!0:T<=v)kc(i,B,x);else break e}return(v>=0?T>v:!1)&&(i.append_v1o70a_k$(k),F()),i.append_v1o70a_k$(p),F(),i}function Mt(t,i,s,c,p,v,k,x,T,N){return(T&2)!=0&&(s=", "),(T&4)!=0&&(c=""),(T&8)!=0&&(p=""),(T&16)!=0&&(v=-1),(T&32)!=0&&(k="..."),(T&64)!=0&&(x=null),nn(t,i,s,c,p,v,k,x)}function Qn(t){return gy(t)}function Kn(t){return Ce(t,Si)?Qn(t):yt(t,Di())}function pr(t,i,s,c){I1(i,s);var p;if(Ce(t,U$)?p=Ce(t,Hr):p=!1,p){var v=t._get_size__0_k$(),k=(v/s|0)+(v%s==0?0:1)|0,x=Wr(k),T=0;e:for(;0<=T?T<v:!1;){var N=it(i,v-T|0);if(N<i?!c:!1)break e;var B;t:{var L;n:{var O=Wr(N);{var W=0;if(W<N)do{var K=W;W=W+1|0;{var q;r:{q=t.get_ha5a7z_k$(K+T|0);break r}O.add_2bq_k$(q),F()}}while(W<N)}L=O;break n}B=L;break t}x.add_2bq_k$(B),F(),T=T+s|0}return x}var Q=Di();{var ee=V2(t.iterator_0_k$(),i,s,c,!1),ie;e:{ie=ee;break e}for(var fe=ie;fe.hasNext_0_k$();){var le=fe.next_0_k$();Q.add_2bq_k$(le),F()}}return Q}function ci(t,i){if(Ce(t,Si)){if(t._get_size__0_k$()<=1)return an(t);var s;e:{var c;t:{var p=t;c=Ht(p);break t}var v=c,k=uo(v)?v:M();Bme(k,i),s=k;break e}return ES(s)}var x;e:{var T=Kn(t);Fe(T,i),x=T;break e}return x}function he(t){var i=t;if(Ce(i,Hr))return ae(t);var s=t.iterator_0_k$();if(!s.hasNext_0_k$())throw $_("Collection is empty.");var c=s.next_0_k$();if(s.hasNext_0_k$())throw sn("Collection has more than one element.");return c}function ae(t){var i=t._get_size__0_k$(),s;switch(i){case 0:throw $_("List is empty.");case 1:s=t.get_ha5a7z_k$(0);break;default:throw sn("List has more than one element.")}return s}function _t(t){return t._get_size__0_k$()===1?t.get_ha5a7z_k$(0):null}function ft(t){return t.isEmpty_0_k$()?null:t.get_ha5a7z_k$(t._get_size__0_k$()-1|0)}function yn(t){var i=t.iterator_0_k$();if(!i.hasNext_0_k$())return null;for(var s=i.next_0_k$();i.hasNext_0_k$();){var c=i.next_0_k$();iv(s,c)>0&&(s=c)}return s}function vn(t){var i;e:{var s;t:{var c;n:{var p=t.toString();c=p;break n}var v=c.toUpperCase();s=v;break t}i=s;break e}var k=i;if(k.length>1){var x;if(t.equals(new pe(329)))x=k;else{var T;e:{var N=kn(k,0),B;t:{var L;n:{var O;r:{O=k;break r}L=O.substring(1);break n}var W=L,K;n:{K=W;break n}B=K.toLowerCase();break t}var q=B;T=N.toString()+q;break e}x=T}return x}return jde(t).toString()}function be(t,i){return i<=j()._MIN_VALUE_5?$T()._EMPTY:gf(t,i-1|0)}function wt(t,i){return t<i?i:t}function it(t,i){return t>i?i:t}function Wt(t,i){return dy().fromClosedRange_fcwjfj_k$(t,i,-1)}function Dt(t,i,s){if(i>s)throw sn("Cannot coerce value to an empty range: maximum "+s+" is less than minimum "+i+".");return t<i?i:t>s?s:t}function me(t,i){return of(i>0,i),dy().fromClosedRange_fcwjfj_k$(t._first_1,t._last,t._step_1>0?i:-i|0)}function We(t,i){return new T1(t,i)}function Tt(t){return jg(qn(t))}function Ln(t){var i;e:{i=new Jo(t);break e}return i}function qn(t){return oo(t,Di())}function oo(t,i){for(var s=t.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$();i.add_2bq_k$(c),F()}return i}function Jo(t){this._$this_asIterable=t}Jo.prototype.iterator_2_0_k$=function(){var t;e:{t=this._$this_asIterable.iterator_0_k$();break e}return t},Jo.prototype.iterator_0_k$=function(){return this.iterator_2_0_k$()},Jo.$metadata$={simpleName:"<no name provided>_1",kind:"class",interfaces:[tu]};function wm(t,i){var s=LD(i),c;if(s==null)c=null;else{var p;e:{var v;t:{v=t._get_size__0_k$()+s|0;break t}p=v;break e}c=p}var k=c,x=rO(xi(k==null?pt(t._get_size__0_k$(),2):k));return x.addAll_dxd4eo_k$(t),F(),Cu(x,i),F(),x}function Ls(t,i){{var s=i>=0;if(!s){var c;e:{c="Requested character count "+i+" is less than zero.";break e}var p=c;throw sn(Bt(p))}}return sl(t,wt(t.length-i|0,0))}function sl(t,i){{var s=i>=0;if(!s){var c;e:{c="Requested character count "+i+" is less than zero.";break e}var p=c;throw sn(Bt(p))}}var v;e:{var k=it(i,t.length),x;t:{x=t;break t}v=x.substring(0,k);break e}return v}function ef(t){var i=sr(t),s;switch(i){case 0:throw $_("Char sequence is empty.");case 1:s=kn(t,0);break;default:throw sn("Char sequence has more than one element.")}return s}function Zk(t,i){{var s=i>=0;if(!s){var c;e:{c="Requested character count "+i+" is less than zero.";break e}var p=c;throw sn(Bt(p))}}var v;e:{var k=it(i,t.length),x;t:{x=t;break t}v=x.substring(k);break e}return v}function e$(t){for(var i=hT(t._get_size__0_k$()),s=0,c=t.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$()._data,v=s;s=v+1|0,E$(i,v,p)}return i}function up(t){this._this$0=t}up.prototype.invoke_2bq_k$=function(t){return t===this._this$0?"(this Collection)":ed(t)},up.prototype.invoke_20e8_k$=function(t){return this.invoke_2bq_k$((t==null?!0:Re(t))?t:M())},up.$metadata$={kind:"class",interfaces:[]};function ao(){}ao.prototype.contains_2bq_k$=function(t){var i;e:{var s;if(Ce(this,Si)?s=this.isEmpty_0_k$():s=!1,s){i=!1;break e}for(var c=this.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$(),v;t:{v=xt(p,t);break t}if(v){i=!0;break e}}i=!1;break e}return i},ao.prototype.containsAll_dxd4eo_k$=function(t){var i;e:{var s;if(Ce(t,Si)?s=t.isEmpty_0_k$():s=!1,s){i=!0;break e}for(var c=t.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$(),v;t:{v=this.contains_2bq_k$(p);break t}if(!v){i=!1;break e}}i=!0;break e}return i},ao.prototype.isEmpty_0_k$=function(){return this._get_size__0_k$()===0},ao.prototype.toString=function(){return Ge(this,", ","[","]",0,null,t$(this),24)},ao.prototype.toArray=function(){return Li(this)},ao.$metadata$={simpleName:"AbstractCollection",kind:"class",interfaces:[Si]};function t$(t){var i=new up(t);return function(s){return i.invoke_2bq_k$(s)}}function xm(t){return t._state=kr(),t.computeNext_sv8swh_k$(),t._state.equals(st())}function s_(){this._state=er(),this._nextValue=null}s_.prototype.hasNext_0_k$=function(){{var t=!this._state.equals(kr());if(!t){var i;e:{i="Failed requirement.";break e}var s=i;throw sn(Bt(s))}}var c=this._state;return c.equals(Wn())?!1:c.equals(st())?!0:xm(this)},s_.prototype.next_0_k$=function(){if(!this.hasNext_0_k$())throw js();this._state=er();var t=this._nextValue;return(t==null?!0:Re(t))?t:M()},s_.prototype.setNext_iav7o_k$=function(t){this._nextValue=t,this._state=st()},s_.prototype.done_sv8swh_k$=function(){this._state=Wn()},s_.$metadata$={simpleName:"AbstractIterator",kind:"class",interfaces:[Jr]};var Og,zg,Ug,oe,Oe;function Xe(){if(Oe)return F();Oe=!0,Og=new je("Ready",0),zg=new je("NotReady",1),Ug=new je("Done",2),oe=new je("Failed",3)}function je(t,i){yi.call(this,t,i)}je.$metadata$={simpleName:"State",kind:"class",interfaces:[]};function st(){return Xe(),Og}function er(){return Xe(),zg}function Wn(){return Xe(),Ug}function kr(){return Xe(),oe}function Hn(t){this._$this=t,this._index=0}Hn.prototype._set_index__majfzk_k$=function(t){this._index=t},Hn.prototype.hasNext_0_k$=function(){return this._index<this._$this._get_size__0_k$()},Hn.prototype.next_0_k$=function(){if(!this.hasNext_0_k$())throw js();var t=this,i=t._index;return t._index=i+1|0,this._$this.get_ha5a7z_k$(i)},Hn.$metadata$={simpleName:"IteratorImpl",kind:"class",interfaces:[Jr]};function wr(t,i){this._$this_0=t,Hn.call(this,t),gr().checkPositionIndex_rvwcgf_k$(i,this._$this_0._get_size__0_k$()),this._set_index__majfzk_k$(i)}wr.$metadata$={simpleName:"ListIteratorImpl",kind:"class",interfaces:[hy]};function ir(){xr=this}ir.prototype.checkElementIndex_rvwcgf_k$=function(t,i){if(t<0?!0:t>=i)throw b_("index: "+t+", size: "+i)},ir.prototype.checkPositionIndex_rvwcgf_k$=function(t,i){if(t<0?!0:t>i)throw b_("index: "+t+", size: "+i)},ir.prototype.checkRangeIndexes_zd700_k$=function(t,i,s){if(t<0?!0:i>s)throw b_("fromIndex: "+t+", toIndex: "+i+", size: "+s);if(t>i)throw sn("fromIndex: "+t+" > toIndex: "+i)},ir.prototype.checkBoundsIndexes_zd700_k$=function(t,i,s){if(t<0?!0:i>s)throw b_("startIndex: "+t+", endIndex: "+i+", size: "+s);if(t>i)throw sn("startIndex: "+t+" > endIndex: "+i)},ir.prototype.orderedHashCode_dxd51x_k$=function(t){for(var i=1,s=t.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$(),p=pt(31,i),v=c,k=v==null?null:ur(v);i=p+(k==null?0:k)|0}return i},ir.prototype.orderedEquals_tuq55s_k$=function(t,i){if(t._get_size__0_k$()!==i._get_size__0_k$())return!1;for(var s=i.iterator_0_k$(),c=t.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$(),v=s.next_0_k$();if(!xt(p,v))return!1}return!0},ir.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var xr;function gr(){return xr==null&&new ir,xr}function $o(){gr(),ao.call(this)}$o.prototype.iterator_0_k$=function(){return new Hn(this)},$o.prototype.indexOf_2bq_k$=function(t){var i;e:{for(var s=0,c=this.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$(),v;t:{v=xt(p,t);break t}if(v){i=s;break e}var k=s;s=k+1|0,F()}i=-1;break e}return i},$o.prototype.listIterator_ha5a7z_k$=function(t){return new wr(this,t)},$o.prototype.equals=function(t){return t===this?!0:(t!=null?Ce(t,Hr):!1)?gr().orderedEquals_tuq55s_k$(this,t):!1},$o.prototype.hashCode=function(){return gr().orderedHashCode_dxd51x_k$(this)},$o.$metadata$={simpleName:"AbstractList",kind:"class",interfaces:[Hr]};function Ar(t){this._$entryIterator=t}Ar.prototype.hasNext_0_k$=function(){return this._$entryIterator.hasNext_0_k$()},Ar.prototype.next_0_k$=function(){return this._$entryIterator.next_0_k$()._get_key__0_k$()},Ar.$metadata$={kind:"class",interfaces:[Jr]};function Eu(t){this._$entryIterator_0=t}Eu.prototype.hasNext_0_k$=function(){return this._$entryIterator_0.hasNext_0_k$()},Eu.prototype.next_0_k$=function(){return this._$entryIterator_0.next_0_k$()._get_value__0_k$()},Eu.$metadata$={kind:"class",interfaces:[Jr]};function Qr(t,i){return i===t?"(this Map)":ed(i)}function qa(t,i){var s;e:{for(var c=t._get_entries__0_k$(),p=c.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$(),k;t:{k=xt(v._get_key__0_k$(),i);break t}if(k){s=v;break e}}s=null;break e}return s}function Br(){ii=this}Br.prototype.entryHashCode_4vm2wp_k$=function(t){var i;e:{var s;t:{var c=t._get_key__0_k$(),p=c==null?null:ur(c),v=p==null?0:p,k=t._get_value__0_k$(),x=k==null?null:ur(k);s=v^(x==null?0:x);break t}i=s;break e}return i},Br.prototype.entryToString_4vm2wp_k$=function(t){var i;e:{var s;t:{s=""+t._get_key__0_k$()+"="+t._get_value__0_k$();break t}i=s;break e}return i},Br.prototype.entryEquals_caydzc_k$=function(t,i){return(i!=null?Ce(i,nu):!1)&&xt(t._get_key__0_k$(),i._get_key__0_k$())?xt(t._get_value__0_k$(),i._get_value__0_k$()):!1},Br.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var ii;function oa(){return ii==null&&new Br,ii}function or(t){this._this$0_0=t,aa.call(this)}or.prototype.contains_2bw_k$=function(t){return this._this$0_0.containsKey_2bw_k$(t)},or.prototype.contains_2bq_k$=function(t){return(t==null?!0:Re(t))?this.contains_2bw_k$((t==null?!0:Re(t))?t:M()):!1},or.prototype.iterator_0_k$=function(){var t=this._this$0_0._get_entries__0_k$().iterator_0_k$();return new Ar(t)},or.prototype._get_size__0_k$=function(){return this._this$0_0._get_size__0_k$()},or.$metadata$={kind:"class",interfaces:[]};function bo(t){this._this$0_1=t}bo.prototype.invoke_4v0zae_k$=function(t){return this._this$0_1.toString_4v0zae_k$(t)},bo.prototype.invoke_20e8_k$=function(t){return this.invoke_4v0zae_k$((t!=null?Ce(t,nu):!1)?t:M())},bo.$metadata$={kind:"class",interfaces:[]};function Bi(t){this._this$0_2=t,ao.call(this)}Bi.prototype.contains_2c7_k$=function(t){return this._this$0_2.containsValue_2c7_k$(t)},Bi.prototype.contains_2bq_k$=function(t){return(t==null?!0:Re(t))?this.contains_2c7_k$((t==null?!0:Re(t))?t:M()):!1},Bi.prototype.iterator_0_k$=function(){var t=this._this$0_2._get_entries__0_k$().iterator_0_k$();return new Eu(t)},Bi.prototype._get_size__0_k$=function(){return this._this$0_2._get_size__0_k$()},Bi.$metadata$={kind:"class",interfaces:[]};function ji(){oa(),this.__keys=null,this.__values=null}ji.prototype.containsKey_2bw_k$=function(t){return qa(this,t)!=null},ji.prototype.containsValue_2c7_k$=function(t){var i;e:{var s=this._get_entries__0_k$(),c;if(Ce(s,Si)?c=s.isEmpty_0_k$():c=!1,c){i=!1;break e}for(var p=s.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$(),k;t:{k=xt(v._get_value__0_k$(),t);break t}if(k){i=!0;break e}}i=!1;break e}return i},ji.prototype.containsEntry_7gsh9e_k$=function(t){if(!(t!=null?Ce(t,nu):!1))return!1;var i=t._get_key__0_k$(),s=t._get_value__0_k$(),c;e:{c=(Ce(this,wo)?this:M()).get_2bw_k$(i);break e}var p=c;if(!xt(s,p))return!1;var v;if(p==null){var k;e:{k=(Ce(this,wo)?this:M()).containsKey_2bw_k$(i);break e}v=!k}else v=!1;return!v},ji.prototype.equals=function(t){if(t===this)return!0;if(!(t!=null?Ce(t,wo):!1)||this._get_size__0_k$()!==t._get_size__0_k$())return!1;var i;e:{var s=t._get_entries__0_k$(),c;if(Ce(s,Si)?c=s.isEmpty_0_k$():c=!1,c){i=!0;break e}for(var p=s.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$(),k;t:{k=this.containsEntry_7gsh9e_k$(v);break t}if(!k){i=!1;break e}}i=!0;break e}return i},ji.prototype.get_2bw_k$=function(t){var i=qa(this,t);return i==null?null:i._get_value__0_k$()},ji.prototype.hashCode=function(){return ur(this._get_entries__0_k$())},ji.prototype.isEmpty_0_k$=function(){return this._get_size__0_k$()===0},ji.prototype._get_size__0_k$=function(){return this._get_entries__0_k$()._get_size__0_k$()},ji.prototype._get_keys__0_k$=function(){if(this.__keys==null){var t=this;t.__keys=new or(this)}return Ei(this.__keys)},ji.prototype.toString=function(){var t=this._get_entries__0_k$();return Ge(t,", ","{","}",0,null,ll(this),24)},ji.prototype.toString_4v0zae_k$=function(t){return Qr(this,t._get_key__0_k$())+"="+Qr(this,t._get_value__0_k$())},ji.prototype._get_values__0_k$=function(){if(this.__values==null){var t=this;t.__values=new Bi(this)}return Ei(this.__values)},ji.$metadata$={simpleName:"AbstractMap",kind:"class",interfaces:[wo]};function ll(t){var i=new bo(t);return function(s){return i.invoke_4v0zae_k$(s)}}function Fh(){n$=this}Fh.prototype.unorderedHashCode_dxd51x_k$=function(t){for(var i=0,s=t.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$(),p=i,v=c,k=v==null?null:ur(v);i=p+(k==null?0:k)|0}return i},Fh.prototype.setEquals_qlktm2_k$=function(t,i){if(t._get_size__0_k$()!==i._get_size__0_k$())return!1;var s;e:{s=t.containsAll_dxd4eo_k$(i);break e}return s},Fh.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var n$;function Sm(){return n$==null&&new Fh,n$}function aa(){Sm(),ao.call(this)}aa.prototype.equals=function(t){return t===this?!0:(t!=null?Ce(t,ys):!1)?Sm().setEquals_qlktm2_k$(this,t):!1},aa.prototype.hashCode=function(){return Sm().unorderedHashCode_dxd51x_k$(this)},aa.$metadata$={simpleName:"AbstractSet",kind:"class",interfaces:[ys]};function Da(){return U2()}function Ji(t){return t.length>0?ES(t):Da()}function Lh(t){return gf(0,t._get_size__0_k$()-1|0)}function cp(t){return t._get_size__0_k$()-1|0}function jg(t){var i=t._get_size__0_k$();switch(i){case 0:return Da();case 1:return Zt(t.get_ha5a7z_k$(0));default:return t}}function Tr(){tf=this,this._serialVersionUID=new at(-1478467534,-1720727600)}Tr.prototype.equals=function(t){var i;return(t!=null?Ce(t,Hr):!1)?i=t.isEmpty_0_k$():i=!1,i},Tr.prototype.hashCode=function(){return 1},Tr.prototype.toString=function(){return"[]"},Tr.prototype._get_size__0_k$=function(){return 0},Tr.prototype.isEmpty_0_k$=function(){return!0},Tr.prototype.contains_5jd3j5_k$=function(t){return!1},Tr.prototype.contains_2bq_k$=function(t){return!1},Tr.prototype.containsAll_lwol4p_k$=function(t){return t.isEmpty_0_k$()},Tr.prototype.containsAll_dxd4eo_k$=function(t){return this.containsAll_lwol4p_k$(t)},Tr.prototype.get_ha5a7z_k$=function(t){throw b_("Empty list doesn't contain element at index "+t+".")},Tr.prototype.iterator_0_k$=function(){return i$()},Tr.$metadata$={simpleName:"EmptyList",kind:"object",interfaces:[Hr,y_,U$]};var tf;function U2(){return tf==null&&new Tr,tf}function r$(){Dh=this}r$.prototype.hasNext_0_k$=function(){return!1},r$.prototype.next_0_k$=function(){throw js()},r$.$metadata$={simpleName:"EmptyIterator",kind:"object",interfaces:[hy]};var Dh;function i$(){return Dh==null&&new r$,Dh}function o$(t){return new Dl(t,!1)}function Em(t){return t.length===0?Di():gy(new Dl(t,!0))}function S1(){throw CJ("Index overflow has happened.")}function Dl(t,i){this._values=t,this._isVarargs=i}Dl.prototype._get_size__0_k$=function(){return this._values.length},Dl.prototype.isEmpty_0_k$=function(){var t;e:{var i=this._values;t=i.length===0;break e}return t},Dl.prototype.contains_2c5_k$=function(t){return ge(this._values,t)},Dl.prototype.contains_2bq_k$=function(t){return(t==null?!0:Re(t))?this.contains_2c5_k$((t==null?!0:Re(t))?t:M()):!1},Dl.prototype.containsAll_dxd41r_k$=function(t){var i;e:{var s;if(Ce(t,Si)?s=t.isEmpty_0_k$():s=!1,s){i=!0;break e}for(var c=t.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$(),v;t:{v=this.contains_2c5_k$(p);break t}if(!v){i=!1;break e}}i=!0;break e}return i},Dl.prototype.containsAll_dxd4eo_k$=function(t){return this.containsAll_dxd41r_k$(t)},Dl.prototype.iterator_0_k$=function(){return lI(this._values)},Dl.$metadata$={simpleName:"ArrayAsCollection",kind:"class",interfaces:[Si]};function ul(t,i){this._index_0=t,this._value=i}ul.prototype.toString=function(){return"IndexedValue(index="+this._index_0+", value="+this._value+")"},ul.prototype.hashCode=function(){var t=this._index_0;return t=pt(t,31)+(this._value==null?0:ur(this._value))|0,t},ul.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof ul))return!1;var i=t instanceof ul?t:M();return!(this._index_0!==i._index_0||!xt(this._value,i._value))},ul.$metadata$={simpleName:"IndexedValue",kind:"class",interfaces:[]};function so(t,i){var s;return Ce(t,Si)?s=t._get_size__0_k$():s=i,s}function E1(t){this._iteratorFactory=t}E1.prototype.iterator_0_k$=function(){return new a$(this._iteratorFactory())},E1.$metadata$={simpleName:"IndexingIterable",kind:"class",interfaces:[tu]};function LD(t){var i;return Ce(t,Si)?i=t._get_size__0_k$():i=null,i}function a$(t){this._iterator=t,this._index_1=0}a$.prototype.hasNext_0_k$=function(){return this._iterator.hasNext_0_k$()},a$.prototype.next_0_k$=function(){var t=this,i=t._index_1;return t._index_1=i+1|0,new ul(Ae(i),this._iterator.next_0_k$())},a$.$metadata$={simpleName:"IndexingIterator",kind:"class",interfaces:[Jr]};function C1(t,i){if(Ce(t,s$))return t.getOrImplicitDefault_2bw_k$(i);var s;e:{var c=t.get_2bw_k$(i);if(c==null?!t.containsKey_2bw_k$(i):!1)throw $_("Key "+i+" is missing in the map.");s=(c==null?!0:Re(c))?c:M();break e}return s}function s$(){}s$.$metadata$={simpleName:"MapWithDefault",kind:"interface",interfaces:[wo]};function l_(t){return t.length>0?j2(t,hf(xi(t.length))):Ds()}function Ds(){var t=G2();return Ce(t,wo)?t:M()}function Cm(t){if(Ce(t,Si)){var i=t._get_size__0_k$(),s;switch(i){case 0:s=Ds();break;case 1:var c;Ce(t,Hr)?c=t.get_ha5a7z_k$(0):c=t.iterator_0_k$().next_0_k$(),s=pi(c);break;default:s=u$(t,hf(xi(t._get_size__0_k$())));break}return s}return OD(u$(t,Ql()))}function DD(t,i){var s;e:{var c=nO(t);c.putAll_nn707j_k$(i),s=c;break e}return s}function Am(t){return nO(t)}function j2(t,i){var s;e:{u_(i,t),s=i;break e}return s}function Os(){l$=this,this._serialVersionUID_0=new at(-888910638,1920087921)}Os.prototype.equals=function(t){var i;return(t!=null?Ce(t,wo):!1)?i=t.isEmpty_0_k$():i=!1,i},Os.prototype.hashCode=function(){return 0},Os.prototype.toString=function(){return"{}"},Os.prototype._get_size__0_k$=function(){return 0},Os.prototype.isEmpty_0_k$=function(){return!0},Os.prototype.containsKey_wi7j7l_k$=function(t){return!1},Os.prototype.containsKey_2bw_k$=function(t){return(t==null?!0:Re(t))?this.containsKey_wi7j7l_k$((t==null?!0:Re(t))?t:M()):!1},Os.prototype.get_wi7j7l_k$=function(t){return null},Os.prototype.get_2bw_k$=function(t){return(t==null?!0:Re(t))?this.get_wi7j7l_k$((t==null?!0:Re(t))?t:M()):null},Os.prototype._get_entries__0_k$=function(){return Wg()},Os.prototype._get_keys__0_k$=function(){return Wg()},Os.prototype._get_values__0_k$=function(){return U2()},Os.$metadata$={simpleName:"EmptyMap",kind:"object",interfaces:[wo,y_]};var l$;function G2(){return l$==null&&new Os,l$}function u$(t,i){var s;e:{c$(i,t),s=i;break e}return s}function OD(t){var i=t._get_size__0_k$(),s;switch(i){case 0:s=Ds();break;case 1:var c;e:{c=t;break e}s=c;break;default:s=t;break}return s}function u_(t,i){for(var s=i,c=0,p=s.length;c<p;){var v=s[c];c=c+1|0;var k=v.component1_0_k$(),x=v.component2_0_k$();t.put_1q9pf_k$(k,x),F()}}function c$(t,i){for(var s=i.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$(),p=c.component1_0_k$(),v=c.component2_0_k$();t.put_1q9pf_k$(p,v),F()}}function A1(t){var i;e:{var s=ZD(xi(t.length));u_(s,t),i=s;break e}return i}function Gg(t,i){return C1(t,i)}function Ka(t,i){return W2(t,i,!0)}function Cu(t,i){var s=i;if(Ce(s,Si))return t.addAll_dxd4eo_k$(i);for(var c=!1,p=i.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$();t.add_2bq_k$(v)&&(c=!0)}return c}function W2(t,i,s){if(!Ce(t,U$))return nf(Ce(t,sI)?t:M(),i,s);var c=0,p=0,v=cp(t);if(p<=v)do{var k=p;p=p+1|0;var x=t.get_ha5a7z_k$(k);if(i(x)!==s){c!==k&&(t.set_ddb1qf_k$(c,x),F());var T=c;c=T+1|0,F()}}while(k!==v);if(c<t._get_size__0_k$()){var N=cp(t);if(c<=N)do{var B=N;N=N+-1|0,t.removeAt_ha5a7z_k$(B),F()}while(B!==c);return!0}else return!1}function nf(t,i,s){var c=!1;e:{for(var p=t.iterator_0_k$();p.hasNext_0_k$();)i(p.next_0_k$())===s&&(p.remove_sv8swh_k$(),c=!0);F();break e}return c}function Tm(t){var i;if(t.isEmpty_0_k$())throw $_("List is empty.");return i=t.removeAt_ha5a7z_k$(cp(t)),i}function cl(){}cl.$metadata$={simpleName:"Sequence",kind:"interface",interfaces:[]};function _$(){}_$.$metadata$={simpleName:"SequenceScope",kind:"class",interfaces:[]};function zD(t){var i=new vc;return i._nextStep=Vme(t,i,i),i}function UD(t){if(t.hasNext_0_k$())return t.next_0_k$();throw js()}function Ol(t){var i=t._state_0;switch(i){case 4:return js();case 5:return At("Iterator has failed.");default:return At("Unexpected state of the iterator: "+t._state_0)}}function vc(){_$.call(this),this._state_0=0,this._nextValue_0=null,this._nextIterator=null,this._nextStep=null}vc.prototype.hasNext_0_k$=function(){for(;;){var t=this._state_0;switch(t){case 0:break;case 1:if(Ei(this._nextIterator).hasNext_0_k$())return this._state_0=2,!0;this._nextIterator=null;break;case 4:return!1;case 3:case 2:return!0;default:throw Ol(this)}this._state_0=5;var i=Ei(this._nextStep);this._nextStep=null;e:{var s;t:{s=Hm(F());break t}i.resumeWith_bnunh2_k$(s);break e}}},vc.prototype.next_0_k$=function(){var t=this._state_0;switch(t){case 0:case 1:return UD(this);case 2:return this._state_0=1,Ei(this._nextIterator).next_0_k$();case 3:this._state_0=0;var i=this._nextValue_0,s=(i==null?!0:Re(i))?i:M();return this._nextValue_0=null,s;default:throw Ol(this)}},vc.prototype.yield_iav7o_k$=function(t,i){this._nextValue_0=t,this._state_0=3;var s;e:{var c=i;this._nextStep=c,s=_l();break e}return s},vc.prototype.resumeWith_6zvzl9_k$=function(t){e:{w$(t);var i=Iu(t);(i==null?!0:Re(i))||M();break e}this._state_0=4},vc.prototype.resumeWith_bnunh2_k$=function(t){return this.resumeWith_6zvzl9_k$(t)},vc.prototype._get_context__0_k$=function(){return M1()},vc.$metadata$={simpleName:"SequenceBuilderIterator",kind:"class",interfaces:[Jr,rf]};function Oh(t){this._this$0_3=t,this._iterator_0=this._this$0_3._sequence.iterator_0_k$()}Oh.prototype.next_0_k$=function(){return this._this$0_3._transformer(this._iterator_0.next_0_k$())},Oh.prototype.hasNext_0_k$=function(){return this._iterator_0.hasNext_0_k$()},Oh.$metadata$={kind:"class",interfaces:[Jr]};function T1(t,i){this._sequence=t,this._transformer=i}T1.prototype.iterator_0_k$=function(){return new Oh(this)},T1.$metadata$={simpleName:"TransformingSequence",kind:"class",interfaces:[cl]};function Kr(t){return t.length>0?S(t):c_()}function c_(){return Wg()}function f$(t){var i=t._get_size__0_k$();switch(i){case 0:return c_();case 1:return Zr(t.iterator_0_k$().next_0_k$());default:return t}}function Ja(){Im=this,this._serialVersionUID_1=new at(1993859828,793161749)}Ja.prototype.equals=function(t){var i;return(t!=null?Ce(t,ys):!1)?i=t.isEmpty_0_k$():i=!1,i},Ja.prototype.hashCode=function(){return 0},Ja.prototype.toString=function(){return"[]"},Ja.prototype._get_size__0_k$=function(){return 0},Ja.prototype.isEmpty_0_k$=function(){return!0},Ja.prototype.contains_5jd3j5_k$=function(t){return!1},Ja.prototype.contains_2bq_k$=function(t){return!1},Ja.prototype.containsAll_lwol4p_k$=function(t){return t.isEmpty_0_k$()},Ja.prototype.containsAll_dxd4eo_k$=function(t){return this.containsAll_lwol4p_k$(t)},Ja.prototype.iterator_0_k$=function(){return i$()},Ja.$metadata$={simpleName:"EmptySet",kind:"object",interfaces:[ys,y_]};var Im;function Wg(){return Im==null&&new Ja,Im}function H2(t){return ne(t,eO(xi(t.length)))}function I1(t,i){{var s=t>0?i>0:!1;if(!s){var c;e:{c=t!==i?"Both size "+t+" and step "+i+" must be greater than zero.":"size "+t+" must be greater than zero.";break e}var p=c;throw sn(Bt(p))}}}function V2(t,i,s,c,p){return t.hasNext_0_k$()?zD(_p(i,s,t,p,c,null)):i$()}function Mm(t,i){var s;e:{s=ca(Array(t),null);break e}return ka.call(i,s,0),i}function Au(t){return Mm(t,Object.create(ka.prototype))}function zl(t){this._this$0_4=t,s_.call(this),this._count=this._this$0_4._size,this._index_2=this._this$0_4._startIndex}zl.prototype.computeNext_sv8swh_k$=function(){if(this._count===0)this.done_sv8swh_k$();else{var t=this._this$0_4._buffer[this._index_2];this.setNext_iav7o_k$((t==null?!0:Re(t))?t:M());var i=this,s;e:{var c=this._index_2;s=(c+1|0)%this._this$0_4._capacity;break e}i._index_2=s;var p=this,v=p._count;p._count=v-1|0,F()}},zl.$metadata$={kind:"class",interfaces:[]};function ka(t,i){$o.call(this),this._buffer=t;{var s=i>=0;if(!s){var c;e:{c="ring buffer filled size should not be negative but it is "+i;break e}var p=c;throw sn(Bt(p))}}{var v=i<=this._buffer.length;if(!v){var k;e:{k="ring buffer filled size: "+i+" cannot be larger than the buffer size: "+this._buffer.length;break e}var x=k;throw sn(Bt(x))}}this._capacity=this._buffer.length,this._startIndex=0,this._size=i}ka.prototype._get_size__0_k$=function(){return this._size},ka.prototype.get_ha5a7z_k$=function(t){gr().checkElementIndex_rvwcgf_k$(t,this._size);var i;e:{var s=this._startIndex;i=(s+t|0)%this._capacity;break e}var c=this._buffer[i];return(c==null?!0:Re(c))?c:M()},ka.prototype.isFull_0_k$=function(){return this._size===this._capacity},ka.prototype.iterator_0_k$=function(){return new zl(this)},ka.prototype.toArray_gjotr5_k$=function(t){var i;t.length<this._size?i=Sc(t,this._size):i=uo(t)?t:M();for(var s=i,c=this._size,p=0,v=this._startIndex;p<c?v<this._capacity:!1;){var k=p,x=this._buffer[v];s[k]=(x==null?!0:Re(x))?x:M();var T=p;p=T+1|0,F();var N=v;v=N+1|0,F()}for(v=0;p<c;){var B=p,L=this._buffer[v];s[B]=(L==null?!0:Re(L))?L:M();var O=p;p=O+1|0,F();var W=v;v=W+1|0,F()}return s.length>this._size&&(s[this._size]=null),uo(s)?s:M()},ka.prototype.toArray_0_k$=function(){var t;e:{var i=this._size;t=ca(Array(i),null);break e}return this.toArray_gjotr5_k$(t)},ka.prototype.toArray=function(){return this.toArray_0_k$()},ka.prototype.expanded_ha5a7z_k$=function(t){var i=it((this._capacity+(this._capacity>>1)|0)+1|0,t),s;if(this._startIndex===0)s=Sc(this._buffer,i);else{var c;e:{c=ca(Array(i),null);break e}s=this.toArray_gjotr5_k$(c)}var p=s;return new ka(p,this._size)},ka.prototype.add_iav7o_k$=function(t){if(this.isFull_0_k$())throw At("ring buffer is full");var i;e:{var s=this._startIndex,c=this._size;i=(s+c|0)%this._capacity;break e}this._buffer[i]=t;var p=this,v=p._size;p._size=v+1|0,F()},ka.prototype.removeFirst_majfzk_k$=function(t){{var i=t>=0;if(!i){var s;e:{s="n shouldn't be negative but it is "+t;break e}var c=s;throw sn(Bt(c))}}{var p=t<=this._size;if(!p){var v;e:{v="n shouldn't be greater than the buffer size: n = "+t+", size = "+this._size;break e}var k=v;throw sn(Bt(k))}}if(t>0){var x=this._startIndex,T;e:{T=(x+t|0)%this._capacity;break e}var N=T;x>N?(MO(this._buffer,null,x,this._capacity),MO(this._buffer,null,0,N)):MO(this._buffer,null,x,N),this._startIndex=N;var B=this;B._size=B._size-t|0}},ka.$metadata$={simpleName:"RingBuffer",kind:"class",interfaces:[U$]};function __(t,i,s,c,p,v){this._$size=t,this._$step=i,this._$iterator=s,this._$reuseBuffer=c,this._$partialWindows=p,Du.call(this,v)}__.prototype.invoke_n3jau0_k$=function(t,i){var s=this.create_drpbnn_k$(t,i);return s._result_0=F(),s._exception_0=null,s.doResume_0_k$()},__.prototype.doResume_0_k$=function(){var t=this._result_0;e:do try{var i=this._state_2;switch(i){case 0:if(this._exceptionState=21,this._bufferInitialCapacity0=it(this._$size,1024),this._gap1=this._$step-this._$size|0,this._gap1>=0){this._buffer2=Wr(this._bufferInitialCapacity0),this._skip3=0;var s=this;s._tmp0_iterator4=this._$iterator,this._state_2=12;continue e}else{this._buffer5=Au(this._bufferInitialCapacity0);var c=this;c._tmp1_iterator6=this._$iterator,this._state_2=1;continue e}break;case 1:if(!this._tmp1_iterator6.hasNext_0_k$()){this._state_2=5;continue e}if(this._e7=this._tmp1_iterator6.next_0_k$(),this._buffer5.add_iav7o_k$(this._e7),this._buffer5.isFull_0_k$())if(this._buffer5._size<this._$size){this._buffer5=this._buffer5.expanded_ha5a7z_k$(this._$size),this._state_2=1;continue e}else{this._state_2=2;continue e}else{this._state_2=4;continue e}break;case 2:if(this._state_2=3,t=this._$this$iterator.yield_iav7o_k$(this._$reuseBuffer?this._buffer5:gy(this._buffer5),this),t===_l())return t;continue e;case 3:this._buffer5.removeFirst_majfzk_k$(this._$step),this._state_2=4;continue e;case 4:this._state_2=1;continue e;case 5:if(this._$partialWindows){this._state_2=6;continue e}else{this._state_2=11;continue e}break;case 6:if(!(this._buffer5._size>this._$step)){this._state_2=8;continue e}if(this._state_2=7,t=this._$this$iterator.yield_iav7o_k$(this._$reuseBuffer?this._buffer5:gy(this._buffer5),this),t===_l())return t;continue e;case 7:this._buffer5.removeFirst_majfzk_k$(this._$step),this._state_2=6;continue e;case 8:var p=this;if(p._tmp1_isNotEmpty_08=this._buffer5,this._tmp1_isNotEmpty_08.isEmpty_0_k$()){this._state_2=10;continue e}else{if(this._state_2=9,t=this._$this$iterator.yield_iav7o_k$(this._buffer5,this),t===_l())return t;continue e}break;case 9:this._state_2=10;continue e;case 10:this._state_2=11;continue e;case 11:this._state_2=20;continue e;case 12:if(!this._tmp0_iterator4.hasNext_0_k$()){this._state_2=16;continue e}if(this._e9=this._tmp0_iterator4.next_0_k$(),this._skip3>0){this._skip3=this._skip3-1|0,this._state_2=12;continue e}else{this._state_2=13;continue e}break;case 13:if(this._buffer2.add_2bq_k$(this._e9),F(),this._buffer2._get_size__0_k$()===this._$size){if(this._state_2=14,t=this._$this$iterator.yield_iav7o_k$(this._buffer2,this),t===_l())return t;continue e}else{this._state_2=15;continue e}break;case 14:this._$reuseBuffer?this._buffer2.clear_sv8swh_k$():this._buffer2=Wr(this._$size),this._skip3=this._gap1,this._state_2=15;continue e;case 15:this._state_2=12;continue e;case 16:var v=this;if(v._tmp0_isNotEmpty_010=this._buffer2,this._tmp0_isNotEmpty_010.isEmpty_0_k$()){this._state_2=19;continue e}else if(this._$partialWindows?!0:this._buffer2._get_size__0_k$()===this._$size){if(this._state_2=17,t=this._$this$iterator.yield_iav7o_k$(this._buffer2,this),t===_l())return t;continue e}else{this._state_2=18;continue e}break;case 17:this._state_2=18;continue e;case 18:this._state_2=19;continue e;case 19:this._state_2=20;continue e;case 20:return F();case 21:throw this._exception_0}}catch(k){if(this._exceptionState===21)throw k;this._state_2=this._exceptionState,this._exception_0=k}while(!0)},__.prototype.create_drpbnn_k$=function(t,i){var s=new __(this._$size,this._$step,this._$iterator,this._$reuseBuffer,this._$partialWindows,i);return s._$this$iterator=t,s},__.$metadata$={kind:"class",interfaces:[],suspendArity:1};function _p(t,i,s,c,p,v){var k=new __(t,i,s,c,p,v),x=function(T,N){return k.invoke_n3jau0_k$(T,N)};return x.$arity=1,x}function fp(t,i){return t===i?0:t==null?-1:i==null?1:iv((t!=null?Mme(t):!1)?t:M(),i)}function rf(){}rf.$metadata$={simpleName:"Continuation",kind:"interface",interfaces:[]};function Nm(){p$=this}Nm.$metadata$={simpleName:"Key",kind:"object",interfaces:[Hg]};var p$;function q2(){return p$==null&&new Nm,p$}function Hg(){}Hg.$metadata$={simpleName:"Key",kind:"interface",interfaces:[]};function Vg(){}Vg.$metadata$={simpleName:"CoroutineContext",kind:"interface",interfaces:[]};function Rm(){h$=this,this._serialVersionUID_2=new at(0,0)}Rm.prototype.get_9uvjra_k$=function(t){return null},Rm.prototype.hashCode=function(){return 0},Rm.prototype.toString=function(){return"EmptyCoroutineContext"},Rm.$metadata$={simpleName:"EmptyCoroutineContext",kind:"object",interfaces:[Vg,y_]};var h$;function M1(){return h$==null&&new Rm,h$}function _l(){return m$()}var qg,Pm;function d$(){if(Pm)return F();Pm=!0,qg=new pp("COROUTINE_SUSPENDED",0),new pp("UNDECIDED",1),new pp("RESUMED",2)}function pp(t,i){yi.call(this,t,i)}pp.$metadata$={simpleName:"CoroutineSingletons",kind:"class",interfaces:[]};function m$(){return d$(),qg}function gc(){zh=this,jl.call(this),this._defaultRandom=dde()}gc.prototype.nextBits_ha5a7z_k$=function(t){return this._defaultRandom.nextBits_ha5a7z_k$(t)},gc.prototype.nextInt_0_k$=function(){return this._defaultRandom.nextInt_0_k$()},gc.prototype.nextBytes_b1bk5f_k$=function(t){return this._defaultRandom.nextBytes_b1bk5f_k$(t)},gc.prototype.nextBytes_ha5a7z_k$=function(t){return this._defaultRandom.nextBytes_ha5a7z_k$(t)},gc.prototype.nextBytes_irqg4d_k$=function(t,i,s){return this._defaultRandom.nextBytes_irqg4d_k$(t,i,s)},gc.$metadata$={simpleName:"Default",kind:"object",interfaces:[y_]};var zh;function Ul(){return zh==null&&new gc,zh}function jl(){Ul()}jl.prototype.nextInt_0_k$=function(){return this.nextBits_ha5a7z_k$(32)},jl.prototype.nextBytes_irqg4d_k$=function(t,i,s){{var c=(0<=i?i<=t.length:!1)&&0<=s?s<=t.length:!1;if(!c){var p;e:{p="fromIndex ("+i+") or toIndex ("+s+") are out of range: 0.."+t.length+".";break e}var v=p;throw sn(Bt(v))}}{var k=i<=s;if(!k){var x;e:{x="fromIndex ("+i+") must be not greater than toIndex ("+s+").";break e}var T=x;throw sn(Bt(T))}}var N=(s-i|0)/4|0,B=i;{var L=0;if(L<N)do{L=L+1|0;{var O=this.nextInt_0_k$();t[B]=hi(O),t[B+1|0]=hi(O>>>8),t[B+2|0]=hi(O>>>16),t[B+3|0]=hi(O>>>24),B=B+4|0}}while(L<N)}var W=s-B|0,K=this.nextBits_ha5a7z_k$(pt(W,8)),q=0;if(q<W)do{var Q=q;q=q+1|0,t[B+Q|0]=hi(K>>>pt(Q,8))}while(q<W);return t},jl.prototype.nextBytes_b1bk5f_k$=function(t){return this.nextBytes_irqg4d_k$(t,0,t.length)},jl.prototype.nextBytes_ha5a7z_k$=function(t){return this.nextBytes_b1bk5f_k$(new Int8Array(t))},jl.$metadata$={simpleName:"Random",kind:"class",interfaces:[]};function Bm(t){return Fm(t,t>>31)}function f_(t,i){return t>>>(32-i|0)&(-i|0)>>31}function N1(t,i,s){return yc.call(s,t,i,0,0,~t,t<<10^i>>>4),s}function Fm(t,i){return N1(t,i,Object.create(yc.prototype))}function R1(){Kg=this,this._serialVersionUID_3=new at(0,0)}R1.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var Kg;function Fo(){return Kg==null&&new R1,Kg}function yc(t,i,s,c,p,v){Fo(),jl.call(this),this._x=t,this._y=i,this._z=s,this._w=c,this._v=p,this._addend=v;{var k=(this._x|this._y|this._z|this._w|this._v)!=0;if(!k){var x;e:{x="Initial state must have at least one non-zero element.";break e}var T=x;throw sn(Bt(T))}}{var N=0;if(N<64)do N=N+1|0,this.nextInt_0_k$(),F();while(N<64)}}yc.prototype.nextInt_0_k$=function(){var t=this._x;t=t^t>>>2,this._x=this._y,this._y=this._z,this._z=this._w;var i=this._v;this._w=i,t=t^t<<1^i^i<<4,this._v=t;var s=this;return s._addend=s._addend+362437|0,t+this._addend|0},yc.prototype.nextBits_ha5a7z_k$=function(t){return f_(this.nextInt_0_k$(),t)},yc.$metadata$={simpleName:"XorWowRandom",kind:"class",interfaces:[y_]};function of(t,i){if(!t)throw sn("Step must be positive, was: "+i+".")}function hp(){}hp.$metadata$={simpleName:"KClassifier",kind:"interface",interfaces:[]};function kc(t,i,s){s!=null?(t.append_v1o70a_k$(s(i)),F()):(i==null?!0:gI(i))?(t.append_v1o70a_k$(i),F()):i instanceof pe?(t.append_wi8o78_k$(i),F()):(t.append_v1o70a_k$(ed(i)),F())}function Jg(t,i,s){if(t.equals(i))return!0;if(!s)return!1;var c=cO(t),p=cO(i),v;if(c.equals(p))v=!0;else{var k;e:{var x;t:{var T;n:{var N;r:{var B=c.toString();N=B;break r}var L=N.toLowerCase();T=L;break n}x=T;break t}k=kn(x,0);break e}var O=k,W;e:{var K;t:{var q;n:{var Q;r:{var ee=p.toString();Q=ee;break r}var ie=Q.toLowerCase();q=ie;break n}K=q;break t}W=kn(K,0);break e}v=O.equals(W)}return v}function K2(t){return vn(t)}function P1(t){return J2(t,"")}function J2(t,i){var s=Q2(t),c;e:{var p;t:{var v;n:{for(var k=Di(),x=s.iterator_0_k$();x.hasNext_0_k$();){var T=x.next_0_k$();jh(T)&&(k.add_2bq_k$(T),F())}v=k;break n}p=v;break t}var N=p,B;t:{for(var L=Wr(so(N,10)),O=N.iterator_0_k$();O.hasNext_0_k$();){var W=O.next_0_k$();L.add_2bq_k$(v$(W)),F()}B=L;break t}c=B;break e}var K=yn(c),q=K==null?0:K,Q;e:{var ee=t.length+pt(i.length,s._get_size__0_k$())|0,ie=B1(i),fe=cp(s),le;t:{var Se;n:{for(var Ee=Di(),Te=0,Me=s.iterator_0_k$();Me.hasNext_0_k$();){var Ne=Me.next_0_k$();{var Pe=Te;Te=Pe+1|0;var Ye=Ae(Pe),Ke;r:{var nt;if((Ye===0?!0:Ye===fe)?q$(Ne):!1)nt=null;else{var Ze;i:{Ze=Zk(Ne,q);break i}var ct=Ze,ht;if(ct==null)ht=null;else{var bt;i:{bt=ie(ct);break i}ht=bt}var It=ht;nt=It==null?Ne:It}Ke=nt;break r}var Nt=Ke;if(Nt!=null){r:{Ee.add_2bq_k$(Nt),F();break r}F()}F()}}Se=Ee;break n}le=Se;break t}var Rt=le,Xt=YT(ee);Q=Mt(Rt,Xt,`
`,null,null,0,null,null,124).toString();break e}return Q}function v$(t){var i;e:{var s;t:{var c=0,p=sr(t)-1|0;if(c<=p)do{var v=c;c=c+1|0;var k;n:{var x=kn(t,v);k=!zde(x);break n}if(k){s=v;break t}}while(c<=p);s=-1;break t}var T=s,N;t:{N=T===-1?t.length:T;break t}i=N;break e}return i}function B1(t){var i,s;e:{s=sr(t)===0;break e}return s?i=Xg():i=Tu(t),i}function af(){}af.prototype.invoke_6wfw3l_k$=function(t){return t},af.prototype.invoke_20e8_k$=function(t){return this.invoke_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},af.$metadata$={kind:"class",interfaces:[]};function Lm(t){this._$indent=t}Lm.prototype.invoke_6wfw3l_k$=function(t){return this._$indent+t},Lm.prototype.invoke_20e8_k$=function(t){return this.invoke_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},Lm.$metadata$={kind:"class",interfaces:[]};function Xg(){var t=new af;return function(i){return t.invoke_6wfw3l_k$(i)}}function Tu(t){var i=new Lm(t);return function(s){return i.invoke_6wfw3l_k$(s)}}function Uh(t){return Xa(t,10)}function lo(t){return Oa(t,10)}function Oa(t,i){W$(i),F();var s=t.length;if(s===0)return null;var c,p,v,k=kn(t,0);if(k.compareTo_wi8o78_k$(new pe(48))<0){if(s===1)return null;if(c=1,k.equals(new pe(45)))p=!0,v=j()._MIN_VALUE_5;else if(k.equals(new pe(43)))p=!1,v=-j()._MAX_VALUE_5|0;else return null}else c=0,p=!1,v=-j()._MAX_VALUE_5|0;var x=(-j()._MAX_VALUE_5|0)/36|0,T=x,N=0,B=c;if(B<s)do{var L=B;B=B+1|0;var O=QT(kn(t,L),i);if(O<0)return null;if(N<T)if(T===x){if(T=v/i|0,N<T)return null}else return null;if(N=pt(N,i),N<(v+O|0))return null;N=N-O|0}while(B<s);return p?N:-N|0}function Xa(t,i){W$(i),F();var s=t.length;if(s===0)return null;var c,p,v,k=kn(t,0);if(k.compareTo_wi8o78_k$(new pe(48))<0){if(s===1)return null;if(c=1,k.equals(new pe(45)))p=!0,ks(),v=new at(0,-2147483648);else if(k.equals(new pe(43)))p=!1,ks(),v=new at(-1,2147483647).unaryMinus_0_k$();else return null}else c=0,p=!1,ks(),v=new at(-1,2147483647).unaryMinus_0_k$();var x;e:{ks();var T=new at(-1,2147483647).unaryMinus_0_k$();x=T.div_wiekkq_k$(new at(36,0));break e}var N=x,B=N,L=new at(0,0),O=c;if(O<s)do{var W=O;O=O+1|0;var K=QT(kn(t,W),i);if(K<0)return null;if(L.compareTo_wiekkq_k$(B)<0)if(B.equals(N)){var q;e:{q=v.div_wiekkq_k$(Yi(i));break e}if(B=q,L.compareTo_wiekkq_k$(B)<0)return null}else return null;var Q;e:{var ee=L;Q=ee.times_wiekkq_k$(Yi(i));break e}L=Q;var ie=L,fe;e:{fe=v.plus_wiekkq_k$(Yi(K));break e}if(ie.compareTo_wiekkq_k$(fe)<0)return null;var le;e:{var Se=L;le=Se.minus_wiekkq_k$(Yi(K));break e}L=le}while(O<s);return p?L:L.unaryMinus_0_k$()}function g$(t){return F1(t,10)}function Yg(t){return L1(t,10)}function sa(t){throw IJ("Invalid number format: '"+t+"'")}function F1(t,i){var s=Oa(t,i),c;if(s==null)return null;c=s;var p=c;return(p<Yh()._MIN_VALUE_3?!0:p>Yh()._MAX_VALUE_3)?null:hi(p)}function L1(t,i){var s=Oa(t,i),c;if(s==null)return null;c=s;var p=c;return(p<b()._MIN_VALUE_4?!0:p>b()._MAX_VALUE_4)?null:Ty(p)}function jh(t){return!q$(t)}function dp(t,i,s){return Bt(Z2(gI(t)?t:M(),i,s))}function p_(t,i,s,c){if(i.length===1){var p=i[0],v;e:{v=sr(p)===0;break e}if(!v)return G1(t,p,s,c)}var k;e:{var x=Ln(W1(t,i,0,s,c,2)),T;t:{for(var N=Wr(so(x,10)),B=x.iterator_0_k$();B.hasNext_0_k$();){var L=B.next_0_k$(),O;n:{O=ey(t,L);break n}N.add_2bq_k$(O),F()}T=N;break t}k=T;break e}return k}function Dm(t,i,s,c,p,v){return(p&2)!=0&&(s=!1),(p&4)!=0&&(c=0),p_(t,i,s,c)}function Om(t,i){if(H1(t,i,!1,2)){var s;e:{var c=sr(i),p;t:{p=t;break t}s=p.substring(c);break e}return s}return t}function D1(t,i,s,c){var p;if((c?!1:i.length===1)?p=typeof t=="string":p=!1,p){var v=R(i),k;e:{var x=t,T;t:{var N=v.toString(),B;n:{B=x;break n}T=B.lastIndexOf(N,s);break t}k=T;break e}return k}var L=it(s,Ya(t));if(0<=L)do{var O=L;L=L+-1|0;var W=kn(t,O),K;e:{for(var q=i,Q=0,ee=q.length;Q<ee;){var ie=q[Q];Q=Q+1|0;var fe;t:{fe=Jg(ie,W,c);break t}if(fe){K=!0;break e}}K=!1;break e}if(K)return O}while(0<=L);return-1}function O1(t,i,s,c,p,v){return(p&2)!=0&&(s=Ya(t)),(p&4)!=0&&(c=!1),D1(t,i,s,c)}function X2(t,i,s,c){var p,v;if(c?v=!0:v=typeof t!="string",v){var k;e:{k=wy([i]);break e}p=D1(t,k,s,c)}else{var x;e:{var T=t,N;t:{var B=i.toString(),L;n:{L=T;break n}N=L.lastIndexOf(B,s);break t}x=N;break e}p=x}return p}function zm(t,i,s,c,p,v){return(p&2)!=0&&(s=Ya(t)),(p&4)!=0&&(c=!1),X2(t,i,s,c)}function Qg(t,i){var s;e:{var c=i._get_start__0_k$(),p=i._get_endInclusive__0_k$()+1|0,v;t:{v=t;break t}s=v.substring(c,p);break e}return s}function Y2(t,i,s){return sr(t)>0?Jg(kn(t,Ya(t)),i,s):!1}function Zg(t,i,s,c,p){return(c&2)!=0&&(s=!1),Y2(t,i,s)}function z1(t,i,s,c){if(i.length===1)return G1(t,i[0].toString(),s,c);var p;e:{var v=Ln(WD(t,i,0,s,c,2)),k;t:{for(var x=Wr(so(v,10)),T=v.iterator_0_k$();T.hasNext_0_k$();){var N=T.next_0_k$(),B;n:{B=ey(t,N);break n}x.add_2bq_k$(B),F()}k=x;break t}p=k;break e}return p}function U1(t,i,s,c,p,v){return(p&2)!=0&&(s=!1),(p&4)!=0&&(c=0),z1(t,i,s,c)}function Q2(t){return Tt(tT(t))}function y$(t,i,s,c){var p,v;if(c?v=!0:v=typeof t!="string",v){var k;e:{k=wy([i]);break e}p=nT(t,k,s,c)}else{var x;e:{var T=t,N;t:{var B=i.toString(),L;n:{L=T;break n}N=L.indexOf(B,s);break t}x=N;break e}p=x}return p}function j1(t,i,s,c,p,v){return(p&2)!=0&&(s=0),(p&4)!=0&&(c=!1),y$(t,i,s,c)}function Z2(t,i,s){if(i<0)throw sn("Desired length "+i+" is less than zero.");if(i<=sr(t))return Sy(t,0,sr(t));var c=YT(i),p=1,v=i-sr(t)|0;if(p<=v)do{var k=p;p=p+1|0,c.append_wi8o78_k$(s),F()}while(k!==v);return c.append_v1o70a_k$(t),F(),c}function G1(t,i,s,c){Gl(c);var p=0,v=ms(t,i,p,s);if(v===-1?!0:c===1)return Zt(Bt(t));var k=c>0,x=Wr(k?it(c,10):10);e:do{var T;t:{var N=p,B=v;T=Bt(Sy(t,N,B));break t}if(x.add_2bq_k$(T),F(),p=v+i.length|0,k?x._get_size__0_k$()===(c-1|0):!1)break e;v=ms(t,i,p,s)}while(v!==-1);var L;e:{var O=p,W=sr(t);L=Bt(Sy(t,O,W));break e}return x.add_2bq_k$(L),F(),x}function ey(t,i){return Bt(Sy(t,i._get_start__0_k$(),i._get_endInclusive__0_k$()+1|0))}function eT(t,i,s,c,p){Gl(p);var v=ES(i);return new Um(t,s,p,Y1(v,c))}function W1(t,i,s,c,p,v,k){return(v&2)!=0&&(s=0),(v&4)!=0&&(c=!1),(v&8)!=0&&(p=0),eT(t,i,s,c,p)}function jD(t,i,s){var c,p;return s?p=!1:p=typeof t=="string",p?c=typeof i=="string":c=!1,c?V$(t,i,!1,2):jm(t,0,i,0,sr(i),s)}function H1(t,i,s,c,p){return(c&2)!=0&&(s=!1),jD(t,i,s)}function Ya(t){return sr(t)-1|0}function GD(t,i,s,c,p){return Gl(p),new Um(t,s,p,aT(i,c))}function WD(t,i,s,c,p,v,k){return(v&2)!=0&&(s=0),(v&4)!=0&&(c=!1),(v&8)!=0&&(p=0),GD(t,i,s,c,p)}function tT(t){return K1(t,[`\r
`,`
`,"\r"],!1,0,6)}function nT(t,i,s,c){var p;if((c?!1:i.length===1)?p=typeof t=="string":p=!1,p){var v=R(i),k;e:{var x=t,T;t:{var N=v.toString(),B;n:{B=x;break n}T=B.indexOf(N,s);break t}k=T;break e}return k}var L=wt(s,0),O=Ya(t);if(L<=O)do{var W=L;L=L+1|0;var K=kn(t,W),q;e:{for(var Q=i,ee=0,ie=Q.length;ee<ie;){var fe=Q[ee];ee=ee+1|0;var le;t:{le=Jg(fe,K,c);break t}if(le){q=!0;break e}}q=!1;break e}if(q)return W}while(W!==O);return-1}function Gl(t){var i=t>=0,s;if(!i){var c;e:{c="Limit must be non-negative, but was "+t;break e}var p=c;throw sn(Bt(p))}return s}function ms(t,i,s,c){var p,v;if(c?v=!0:v=typeof t!="string",v){var k=sr(t);p=k$(t,i,s,k,c,!1,16)}else{var x;e:{var T=t,N;t:{N=T;break t}x=N.indexOf(i,s);break e}p=x}return p}function V1(t,i,s,c,p,v){return(p&2)!=0&&(s=0),(p&4)!=0&&(c=!1),ms(t,i,s,c)}function q1(t){if(t._nextSearchIndex<0)t._nextState=0,t._nextItem=null;else{var i,s;if(t._this$0_5._limit>0){var c=t;c._counter=c._counter+1|0,s=c._counter>=t._this$0_5._limit}else s=!1;if(s?i=!0:i=t._nextSearchIndex>sr(t._this$0_5._input),i)t._nextItem=gf(t._currentStartIndex,Ya(t._this$0_5._input)),t._nextSearchIndex=-1;else{var p=t._this$0_5._getNextMatch(t._this$0_5._input,t._nextSearchIndex);if(p==null)t._nextItem=gf(t._currentStartIndex,Ya(t._this$0_5._input)),t._nextSearchIndex=-1;else{var v=p,k=v.component1_0_k$(),x=v.component2_0_k$();t._nextItem=be(t._currentStartIndex,k),t._currentStartIndex=k+x|0,t._nextSearchIndex=t._currentStartIndex+(x===0?1:0)|0}}t._nextState=1}}function ty(t){this._this$0_5=t,this._nextState=-1,this._currentStartIndex=Dt(this._this$0_5._startIndex_0,0,sr(this._this$0_5._input)),this._nextSearchIndex=this._currentStartIndex,this._nextItem=null,this._counter=0}ty.prototype.next_0_k$=function(){if(this._nextState===-1&&q1(this),this._nextState===0)throw js();var t=this._nextItem,i=t instanceof wi?t:M();return this._nextItem=null,this._nextState=-1,i},ty.prototype.hasNext_0_k$=function(){return this._nextState===-1&&q1(this),this._nextState===1},ty.$metadata$={kind:"class",interfaces:[Jr]};function Um(t,i,s,c){this._input=t,this._startIndex_0=i,this._limit=s,this._getNextMatch=c}Um.prototype.iterator_0_k$=function(){return new ty(this)},Um.$metadata$={simpleName:"DelimitedRangesSequence",kind:"class",interfaces:[cl]};function rT(t,i,s,c,p){if(c?!1:i._get_size__0_k$()===1){var v=he(i),k;p?k=X1(t,v,s,!1,4):k=V1(t,v,s,!1,4);var x=k;return x<0?null:Le(x,v)}var T=p?Wt(it(s,Ya(t)),0):gf(wt(s,0),sr(t));if(typeof t=="string"){var N=T._first_1,B=T._last,L=T._step_1;if((L>0?N<=B:!1)?!0:L<0?B<=N:!1)do{var O=N;N=N+L|0;var W;e:{for(var K=i.iterator_0_k$();K.hasNext_0_k$();){var q=K.next_0_k$(),Q;t:{Q=tI(q,0,t,O,q.length,c);break t}if(Q){W=q;break e}}W=null;break e}var ee=W;if(ee!=null)return Le(O,ee)}while(O!==B)}else{var ie=T._first_1,fe=T._last,le=T._step_1;if((le>0?ie<=fe:!1)?!0:le<0?fe<=ie:!1)do{var Se=ie;ie=ie+le|0;var Ee;e:{for(var Te=i.iterator_0_k$();Te.hasNext_0_k$();){var Me=Te.next_0_k$(),Ne;t:{Ne=jm(Me,0,t,Se,Me.length,c);break t}if(Ne){Ee=Me;break e}}Ee=null;break e}var Pe=Ee;if(Pe!=null)return Le(Se,Pe)}while(Se!==fe)}return null}function jm(t,i,s,c,p,v){if(((c<0?!0:i<0)?!0:i>(sr(t)-p|0))?!0:c>(sr(s)-p|0))return!1;var k=0;if(k<p)do{var x=k;if(k=k+1|0,!Jg(kn(t,i+x|0),kn(s,c+x|0),v))return!1}while(k<p);return!0}function iT(t,i,s,c){var p=W1(t,i,0,s,c,2);return We(p,sf(t))}function K1(t,i,s,c,p,v){return(p&2)!=0&&(s=!1),(p&4)!=0&&(c=0),iT(t,i,s,c)}function J1(t,i,s,c,p,v){var k=v?Wt(it(s,Ya(t)),wt(c,0)):gf(wt(s,0),it(c,sr(t))),x;if(typeof t=="string"?x=typeof i=="string":x=!1,x){var T=k._first_1,N=k._last,B=k._step_1;if((B>0?T<=N:!1)?!0:B<0?N<=T:!1)do{var L=T;if(T=T+B|0,tI(i,0,t,L,sr(i),p))return L}while(L!==N)}else{var O=k._first_1,W=k._last,K=k._step_1;if((K>0?O<=W:!1)?!0:K<0?W<=O:!1)do{var q=O;if(O=O+K|0,jm(i,0,t,q,sr(i),p))return q}while(q!==W)}return-1}function k$(t,i,s,c,p,v,k,x){return(k&16)!=0&&(v=!1),J1(t,i,s,c,p,v)}function oT(t,i,s,c){var p,v;if(c?v=!0:v=typeof t!="string",v)p=J1(t,i,s,0,c,!0);else{var k;e:{var x=t,T;t:{T=x;break t}k=T.lastIndexOf(i,s);break e}p=k}return p}function X1(t,i,s,c,p,v){return(p&2)!=0&&(s=Ya(t)),(p&4)!=0&&(c=!1),oT(t,i,s,c)}function ny(t,i){this._$delimitersList=t,this._$ignoreCase=i}ny.prototype.invoke_w2qdfo_k$=function(t,i){var s=rT(t,this._$delimitersList,i,this._$ignoreCase,!1),c;if(s==null)c=null;else{var p;e:{var v;t:{v=Le(s._first,s._second.length);break t}p=v;break e}c=p}return c},ny.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?gI(t):!1)?t:M();return this.invoke_w2qdfo_k$(s,(i!=null?typeof i=="number":!1)?i:M())},ny.$metadata$={kind:"class",interfaces:[]};function ry(t,i){this._$delimiters=t,this._$ignoreCase_0=i}ry.prototype.invoke_w2qdfo_k$=function(t,i){var s;e:{var c=nT(t,this._$delimiters,i,this._$ignoreCase_0),p;t:{p=c<0?null:Le(c,1);break t}s=p;break e}return s},ry.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?gI(t):!1)?t:M();return this.invoke_w2qdfo_k$(s,(i!=null?typeof i=="number":!1)?i:M())},ry.$metadata$={kind:"class",interfaces:[]};function iy(t){this._$this_splitToSequence=t}iy.prototype.invoke_em8bnc_k$=function(t){return ey(this._$this_splitToSequence,t)},iy.prototype.invoke_20e8_k$=function(t){return this.invoke_em8bnc_k$(t instanceof wi?t:M())},iy.$metadata$={kind:"class",interfaces:[]};function Y1(t,i){var s=new ny(t,i);return function(c,p){return s.invoke_w2qdfo_k$(c,p)}}function aT(t,i){var s=new ry(t,i);return function(c,p){return s.invoke_w2qdfo_k$(c,p)}}function sf(t){var i=new iy(t);return function(s){return i.invoke_em8bnc_k$(s)}}var Wl;function Gh(){}Gh.$metadata$={simpleName:"DeepRecursiveScope",kind:"class",interfaces:[]};function oy(t,i){return new Hl(t._block,i).runCallLoop_0_k$()}function ay(t){this._block=t}ay.$metadata$={simpleName:"DeepRecursiveFunction",kind:"class",interfaces:[]};function Hl(t,i){Gh.call(this);var s=this;s._function=Ime(t,2)?t:M(),this._value_0=i;var c=this;c._cont=Ce(this,rf)?this:M(),this._result=Wl}Hl.prototype._get_context__0_k$=function(){return M1()},Hl.prototype.resumeWith_lbesfg_k$=function(t){this._cont=null,this._result=t},Hl.prototype.resumeWith_bnunh2_k$=function(t){return this.resumeWith_lbesfg_k$(t)},Hl.prototype.callRecursive_2c5_k$=function(t,i){var s;e:{var c=i,p=this;p._cont=Ce(c,rf)?c:M(),this._value_0=t,s=_l();break e}return s},Hl.prototype.runCallLoop_0_k$=function(){for(;;){var t=this._result,i=this._cont,s;if(i==null){var c;e:{var p=new bc(t)instanceof bc?t:M();w$(p);var v=Iu(p);c=(v==null?!0:Re(v))?v:M();break e}return c}else s=i;var k=s;if(xt(new bc(Wl),new bc(t))){var x;try{var T;e:{var N=this._function,B=this._value_0,L;t:{L=N;break t}T=L(this,B,k);break e}x=T}catch(Q){if(Q instanceof Error){e:{var O;t:{O=Hm(b$(Q));break t}k.resumeWith_bnunh2_k$(O);break e}continue}else throw Q}var W=x;if(W!==_l()){e:{var K=(W==null?!0:Re(W))?W:M(),q;t:{q=Hm(K);break t}k.resumeWith_bnunh2_k$(q);break e}}}else this._result=Wl,k.resumeWith_bnunh2_k$(t)}},Hl.$metadata$={simpleName:"DeepRecursiveScopeImpl",kind:"class",interfaces:[rf]};function sT(){var t;e:{var i=_l();t=Hm(i);break e}return t}function Wh(){}Wh.$metadata$={simpleName:"Lazy",kind:"interface",interfaces:[]};var lT,uT;function Q1(){if(uT)return F();uT=!0,new lf("SYNCHRONIZED",0),lT=new lf("PUBLICATION",1),new lf("NONE",2)}function lf(t,i){yi.call(this,t,i)}lf.$metadata$={simpleName:"LazyThreadSafetyMode",kind:"class",interfaces:[]};function Gm(t){this._initializer=t,this.__value=eS()}Gm.prototype._get_value__0_k$=function(){this.__value===eS()&&(this.__value=Ei(this._initializer)(),this._initializer=null);var t=this.__value;return(t==null?!0:Re(t))?t:M()},Gm.prototype.isInitialized_0_k$=function(){return this.__value!==eS()},Gm.prototype.toString=function(){return this.isInitialized_0_k$()?ed(this._get_value__0_k$()):"Lazy value not initialized yet."},Gm.$metadata$={simpleName:"UnsafeLazyImpl",kind:"class",interfaces:[Wh,y_]};function Z1(){$$=this}Z1.$metadata$={simpleName:"UNINITIALIZED_VALUE",kind:"object",interfaces:[]};var $$;function eS(){return $$==null&&new Z1,$$}function Wm(){return Q1(),lT}function Hm(t){return t}function Iu(t){return t}function HD(t){var i=Iu(t);return i instanceof $c}function cT(t){var i=Iu(t),s;return i instanceof $c?s=Iu(t)._exception:s=null,s}function _T(t){var i=Iu(t),s;return i instanceof $c?s=Bt(Iu(t)):s="Success("+Iu(t)+")",s}function $c(t){this._exception=t}$c.prototype.equals=function(t){var i;return t instanceof $c?i=xt(this._exception,t._exception):i=!1,i},$c.prototype.hashCode=function(){return ur(this._exception)},$c.prototype.toString=function(){return"Failure("+this._exception+")"},$c.$metadata$={simpleName:"Failure",kind:"class",interfaces:[y_]};function fT(t){return t==null?0:ur(t)}function pT(t,i){if(!(i instanceof bc))return!1;var s=i instanceof bc?i._value_1:M();return!!xt(t,s)}function bc(t){this._value_1=t}bc.prototype.toString=function(){return _T(this._value_1)},bc.prototype.hashCode=function(){return fT(this._value_1)},bc.prototype.equals=function(t){return pT(this._value_1,t)},bc.$metadata$={simpleName:"Result",kind:"class",interfaces:[y_]};function b$(t){return new $c(t)}function w$(t){var i=Iu(t);if(i instanceof $c)throw Iu(t)._exception}function Vl(t){zO(t,this),hr(this,Vl)}Vl.$metadata$={simpleName:"NotImplementedError",kind:"class",interfaces:[]};function cn(t,i){this._first=t,this._second=i}cn.prototype.toString=function(){return"("+this._first+", "+this._second+")"},cn.prototype.component1_0_k$=function(){return this._first},cn.prototype.component2_0_k$=function(){return this._second},cn.prototype.hashCode=function(){var t=this._first==null?0:ur(this._first);return t=pt(t,31)+(this._second==null?0:ur(this._second))|0,t},cn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof cn))return!1;var i=t instanceof cn?t:M();return!(!xt(this._first,i._first)||!xt(this._second,i._second))},cn.$metadata$={simpleName:"Pair",kind:"class",interfaces:[y_]};function Le(t,i){return new cn(t,i)}function fl(t,i,s){this._first_0=t,this._second_0=i,this._third=s}fl.prototype.toString=function(){return"("+this._first_0+", "+this._second_0+", "+this._third+")"},fl.prototype.component1_0_k$=function(){return this._first_0},fl.prototype.component2_0_k$=function(){return this._second_0},fl.prototype.component3_0_k$=function(){return this._third},fl.prototype.hashCode=function(){var t=this._first_0==null?0:ur(this._first_0);return t=pt(t,31)+(this._second_0==null?0:ur(this._second_0))|0,t=pt(t,31)+(this._third==null?0:ur(this._third))|0,t},fl.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof fl))return!1;var i=t instanceof fl?t:M();return!(!xt(this._first_0,i._first_0)||!xt(this._second_0,i._second_0)||!xt(this._third,i._third))},fl.$metadata$={simpleName:"Triple",kind:"class",interfaces:[y_]};function la(t){return t}function ua(t){return t}function sy(t,i){var s;e:{s=ua(t)&255;break e}var c=s,p;e:{p=ua(i)&255;break e}return iv(c,p)}function x$(t,i){var s=t._data;return sy(s,i instanceof Lo?i._data:M())}function ly(t){var i;e:{i=ua(t)&255;break e}return i.toString()}function S$(t){return t}function uy(t,i){if(!(i instanceof Lo))return!1;var s=i instanceof Lo?i._data:M();return t===s}function Lo(t){this._data=t}Lo.prototype.compareTo_dj4lnz_k$=function(t){return sy(this._data,t)},Lo.prototype.compareTo_2c5_k$=function(t){return x$(this,t)},Lo.prototype.toString=function(){return ly(this._data)},Lo.prototype.hashCode=function(){return S$(this._data)},Lo.prototype.equals=function(t){return uy(this._data,t)},Lo.$metadata$={simpleName:"UByte",kind:"class",interfaces:[v_]};function Qa(t){return t}function Fi(t){return t}function hT(t){var i=Qa(new Int8Array(t));return i}function Vm(t,i){var s;e:{var c=Fi(t)[i];s=la(c);break e}return s}function E$(t,i,s){var c=Fi(t),p;e:{p=ua(s);break e}c[i]=p}function tS(t){return Fi(t).length}function VD(t){return new h_(Fi(t))}function h_(t){ql.call(this),this._array=t,this._index_3=0}h_.prototype.hasNext_0_k$=function(){return this._index_3<this._array.length},h_.prototype.nextUByte_sh428i_k$=function(){var t;if(this._index_3<this._array.length){var i;e:{var s=this,c=s._index_3;s._index_3=c+1|0;var p=this._array[c];i=la(p);break e}t=i}else throw $_(this._index_3.toString());return t},h_.$metadata$={simpleName:"Iterator",kind:"class",interfaces:[]};function C$(t,i){var s=Re(new Lo(i))?new Lo(i):M();if(!(s instanceof Lo))return!1;var c=Fi(t),p;e:{p=ua(i);break e}return Y(c,p)}function nS(t,i){if(!(i instanceof Lo))return!1;var s=t._storage;return C$(s,i instanceof Lo?i._data:M())}function Vn(t,i){var s;e:{var c=Ce(i,Si)?i:M(),p;if(Ce(c,Si)?p=c.isEmpty_0_k$():p=!1,p){s=!0;break e}for(var v=c.iterator_0_k$();v.hasNext_0_k$();){var k=v.next_0_k$(),x;t:{var T;if(k instanceof Lo){var N=Fi(t),B;n:{var L=k._data;B=ua(L);break n}T=Y(N,B)}else T=!1;x=T;break t}if(!x){s=!1;break e}}s=!0;break e}return s}function zs(t,i){return Vn(t._storage,i)}function $a(t){return Fi(t).length===0}function vs(t){return"UByteArray(storage="+Bt(t)+")"}function Hh(t){return ur(t)}function rS(t,i){if(!(i instanceof _i))return!1;var s=i instanceof _i?i._storage:M();return!!xt(t,s)}function _i(t){this._storage=t}_i.prototype._get_size__0_k$=function(){return tS(this._storage)},_i.prototype.iterator_0_k$=function(){return VD(this._storage)},_i.prototype.contains_dj4lnz_k$=function(t){return C$(this._storage,t)},_i.prototype.contains_2bq_k$=function(t){return nS(this,t)},_i.prototype.containsAll_wji8mv_k$=function(t){return Vn(this._storage,t)},_i.prototype.containsAll_dxd4eo_k$=function(t){return zs(this,t)},_i.prototype.isEmpty_0_k$=function(){return $a(this._storage)},_i.prototype.toString=function(){return vs(this._storage)},_i.prototype.hashCode=function(){return Hh(this._storage)},_i.prototype.equals=function(t){return rS(this._storage,t)},_i.$metadata$={simpleName:"UByteArray",kind:"class",interfaces:[Si]};function ze(t){return t}function Qe(t){return t}function qm(t,i){return qh(Qe(t),Qe(i))}function Km(t,i){var s=t._data_0;return qm(s,i instanceof dt?i._data_0:M())}function A$(t){var i;e:{i=Yi(Qe(t)).and_wiekkq_k$(new at(-1,0));break e}return i.toString()}function iS(t){return t}function oS(t,i){if(!(i instanceof dt))return!1;var s=i instanceof dt?i._data_0:M();return t===s}function dt(t){this._data_0=t}dt.prototype.compareTo_wijjag_k$=function(t){return qm(this._data_0,t)},dt.prototype.compareTo_2c5_k$=function(t){return Km(this,t)},dt.prototype.toString=function(){return A$(this._data_0)},dt.prototype.hashCode=function(){return iS(this._data_0)},dt.prototype.equals=function(t){return oS(this._data_0,t)},dt.$metadata$={simpleName:"UInt",kind:"class",interfaces:[v_]};function ql(){}ql.prototype.next_sh428i_k$=function(){return this.nextUByte_sh428i_k$()},ql.prototype.next_0_k$=function(){return new Lo(this.next_sh428i_k$())},ql.$metadata$={simpleName:"UByteIterator",kind:"class",interfaces:[Jr]};function vt(t){return t}function Dn(t){return t}function T$(){Mu=this,this._MIN_VALUE_1=vt(new at(0,0)),this._MAX_VALUE_1=vt(new at(-1,-1)),this._SIZE_BYTES_1=8,this._SIZE_BITS_1=64}T$.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var Mu;function wc(){return Mu==null&&new T$,Mu}function Jm(t,i){return Zm(Dn(t),Dn(i))}function cy(t,i){var s=t._data_1;return Jm(s,i instanceof ba?i._data_1:M())}function I$(t){return yT(Dn(t))}function aS(t){return t.hashCode()}function uf(t,i){if(!(i instanceof ba))return!1;var s=i instanceof ba?i._data_1:M();return!!t.equals(s)}function ba(t){wc(),this._data_1=t}ba.prototype.compareTo_djarz7_k$=function(t){return Jm(this._data_1,t)},ba.prototype.compareTo_2c5_k$=function(t){return cy(this,t)},ba.prototype.toString=function(){return I$(this._data_1)},ba.prototype.hashCode=function(){return aS(this._data_1)},ba.prototype.equals=function(t){return uf(this._data_1,t)},ba.$metadata$={simpleName:"ULong",kind:"class",interfaces:[v_]};function Vh(t){return t}function d_(t){return t}function m_(t,i){var s;e:{s=d_(t)&65535;break e}var c=s,p;e:{p=d_(i)&65535;break e}return iv(c,p)}function M$(t,i){var s=t._data_2;return m_(s,i instanceof wa?i._data_2:M())}function Xm(t){var i;e:{i=d_(t)&65535;break e}return i.toString()}function _y(t){return t}function pl(t,i){if(!(i instanceof wa))return!1;var s=i instanceof wa?i._data_2:M();return t===s}function wa(t){this._data_2=t}wa.prototype.compareTo_6go47f_k$=function(t){return m_(this._data_2,t)},wa.prototype.compareTo_2c5_k$=function(t){return M$(this,t)},wa.prototype.toString=function(){return Xm(this._data_2)},wa.prototype.hashCode=function(){return _y(this._data_2)},wa.prototype.equals=function(t){return pl(this._data_2,t)},wa.$metadata$={simpleName:"UShort",kind:"class",interfaces:[v_]};function cf(t,i){var s;e:{s=ua(t)&255;break e}return OK(s,i)}function N$(t){var i=qD(t),s,c=i;return(c==null?null:new dt(c))==null?sa(t):s=i,s}function Kl(t){var i=R$(t),s,c=i;return(c==null?null:new ba(c))==null?sa(t):s=i,s}function dT(t){var i=mT(t),s,c=i;return(c==null?null:new Lo(c))==null?sa(t):s=i,s}function Ym(t){var i=vT(t),s,c=i;return(c==null?null:new wa(c))==null?sa(t):s=i,s}function R$(t){return P$(t,10)}function qD(t){return fy(t,10)}function mT(t){return Qm(t,10)}function vT(t){return gT(t,10)}function P$(t,i){W$(i),F();var s=t.length;if(s===0)return null;wc();var c=vt(new at(-1,-1)),p,v=kn(t,0);if(v.compareTo_wi8o78_k$(new pe(48))<0){if(s===1?!0:!v.equals(new pe(43)))return null;p=1}else p=0;var k=vt(new at(477218588,119304647)),x=k,T;e:{T=vt(Yi(i));break e}var N=T,B=vt(new at(0,0)),L=p;if(L<s)do{var O=L;L=L+1|0;var W=QT(kn(t,O),i);if(W<0)return null;var K;e:{var q=B,Q=x;K=Zm(Dn(q),Dn(Q));break e}if(K>0)if(xt(new ba(x),new ba(k))){var ee;e:{ee=KD(c,N);break e}x=ee;var ie;e:{var fe=B,le=x;ie=Zm(Dn(fe),Dn(le));break e}if(ie>0)return null}else return null;var Se;e:{var Ee=B;Se=vt(Dn(Ee).times_wiekkq_k$(Dn(N)));break e}B=Se;var Te=B,Me;e:{var Ne=B,Pe;t:{Pe=ze(W);break t}var Ye=Pe,Ke;t:{var nt;n:{nt=vt(Yi(Qe(Ye)).and_wiekkq_k$(new at(-1,0)));break n}var Ze=nt;Ke=vt(Dn(Ne).plus_wiekkq_k$(Dn(Ze)));break t}Me=Ke;break e}B=Me;var ct;e:{var ht=B;ct=Zm(Dn(ht),Dn(Te));break e}if(ct<0)return null}while(L<s);return B}function fy(t,i){W$(i),F();var s=t.length;if(s===0)return null;var c=ze(-1),p,v=kn(t,0);if(v.compareTo_wi8o78_k$(new pe(48))<0){if(s===1?!0:!v.equals(new pe(43)))return null;p=1}else p=0;var k=ze(119304647),x=k,T;e:{T=ze(i);break e}var N=T,B=ze(0),L=p;if(L<s)do{var O=L;L=L+1|0;var W=QT(kn(t,O),i);if(W<0)return null;var K;e:{var q=B,Q=x;K=qh(Qe(q),Qe(Q));break e}if(K>0)if(xt(new dt(x),new dt(k))){var ee;e:{ee=py(c,N);break e}x=ee;var ie;e:{var fe=B,le=x;ie=qh(Qe(fe),Qe(le));break e}if(ie>0)return null}else return null;var Se;e:{var Ee=B;Se=ze(pt(Qe(Ee),Qe(N)));break e}B=Se;var Te=B,Me;e:{var Ne=B,Pe;t:{Pe=ze(W);break t}var Ye=Pe;Me=ze(Qe(Ne)+Qe(Ye)|0);break e}B=Me;var Ke;e:{var nt=B;Ke=qh(Qe(nt),Qe(Te));break e}if(Ke<0)return null}while(L<s);return B}function Qm(t,i){var s=fy(t,i),c,p=s;if((p==null?null:new dt(p))==null)return null;c=s;var v=c,k;e:{var x=la(-1),T;t:{var N;n:{N=ze(ua(x)&255);break n}var B=N;T=qh(Qe(v),Qe(B));break t}k=T;break e}if(k>0)return null;var L;e:{var O;t:{var W=Qe(v);O=la(hi(W));break t}L=O;break e}return L}function gT(t,i){var s=fy(t,i),c,p=s;if((p==null?null:new dt(p))==null)return null;c=s;var v=c,k;e:{var x=Vh(-1),T;t:{var N;n:{N=ze(d_(x)&65535);break n}var B=N;T=qh(Qe(v),Qe(B));break t}k=T;break e}if(k>0)return null;var L;e:{var O;t:{var W=Qe(v);O=Vh(Ty(W));break t}L=O;break e}return L}function qh(t,i){return iv(t^j()._MIN_VALUE_5,i^j()._MIN_VALUE_5)}function py(t,i){var s;e:{var c;t:{c=Yi(Qe(t)).and_wiekkq_k$(new at(-1,0));break t}var p=c,v;t:{v=Yi(Qe(i)).and_wiekkq_k$(new at(-1,0));break t}var k=p.div_wiekkq_k$(v);s=ze(k.toInt_0_k$());break e}return s}function Zm(t,i){ks();var s=t.xor_wiekkq_k$(new at(0,-2147483648));return ks(),s.compareTo_wiekkq_k$(i.xor_wiekkq_k$(new at(0,-2147483648)))}function KD(t,i){var s;e:{s=Dn(t);break e}var c=s,p;e:{p=Dn(i);break e}var v=p;if(v.compareTo_wiekkq_k$(new at(0,0))<0){var k,x;e:{x=Zm(Dn(t),Dn(i));break e}return x<0?k=vt(new at(0,0)):k=vt(new at(1,0)),k}if(c.compareTo_wiekkq_k$(new at(0,0))>=0)return vt(c.div_wiekkq_k$(v));var T=c.ushr_ha5a7z_k$(1).div_wiekkq_k$(v).shl_ha5a7z_k$(1),N=c.minus_wiekkq_k$(T.times_wiekkq_k$(v)),B;e:{var L,O;t:{var W=vt(N),K=vt(v);O=Zm(Dn(W),Dn(K));break t}O>=0?L=1:L=0;var q=L;B=T.plus_wiekkq_k$(Yi(q));break e}return vt(B)}function yT(t){return kT(t,10)}function kT(t,i){if(t.compareTo_wiekkq_k$(new at(0,0))>=0)return qO(t,i);var s;e:{var c=t.ushr_ha5a7z_k$(1);s=c.div_wiekkq_k$(Yi(i));break e}var p=s.shl_ha5a7z_k$(1),v;e:{var k=p;v=k.times_wiekkq_k$(Yi(i));break e}var x=t.minus_wiekkq_k$(v);if(x.compareTo_wiekkq_k$(Yi(i))>=0){var T;e:{var N=x;T=N.minus_wiekkq_k$(Yi(i));break e}x=T;var B;e:{var L=p;B=L.plus_wiekkq_k$(new at(1,0));break e}p=B}return qO(p,i)+qO(x,i)}function _f(){}_f.$metadata$={simpleName:"Annotation",kind:"interface",interfaces:[]};function sS(){}sS.$metadata$={simpleName:"CharSequence",kind:"interface",interfaces:[]};function v_(){}v_.$metadata$={simpleName:"Comparable",kind:"interface",interfaces:[]};function Jr(){}Jr.$metadata$={simpleName:"Iterator",kind:"interface",interfaces:[]};function hy(){}hy.$metadata$={simpleName:"ListIterator",kind:"interface",interfaces:[Jr]};function Kh(){}Kh.$metadata$={simpleName:"MutableIterator",kind:"interface",interfaces:[Jr]};function lS(){}lS.$metadata$={simpleName:"Number",kind:"class",interfaces:[]};function ev(){}ev.prototype.next_0_k$=function(){return this.nextInt_0_k$()},ev.$metadata$={simpleName:"IntIterator",kind:"class",interfaces:[Jr]};function Nu(){}Nu.prototype.next_0_k$=function(){return this.nextChar_0_k$()},Nu.$metadata$={simpleName:"CharIterator",kind:"class",interfaces:[Jr]};function Jh(t,i,s){ev.call(this),this._step=s,this._finalElement=i,this._hasNext=this._step>0?t<=i:t>=i,this._next=this._hasNext?t:this._finalElement}Jh.prototype.hasNext_0_k$=function(){return this._hasNext},Jh.prototype.nextInt_0_k$=function(){var t=this._next;if(t===this._finalElement){if(!this._hasNext)throw js();this._hasNext=!1}else{var i=this;i._next=i._next+this._step|0}return t},Jh.$metadata$={simpleName:"IntProgressionIterator",kind:"class",interfaces:[]};function Xh(t,i,s){Nu.call(this),this._step_0=s;var c=this,p;e:{p=i.toInt_0_k$();break e}c._finalElement_0=p,this._hasNext_0=this._step_0>0?t.compareTo_wi8o78_k$(i)<=0:t.compareTo_wi8o78_k$(i)>=0;var v=this,k;if(this._hasNext_0){var x;e:{x=t.toInt_0_k$();break e}k=x}else k=this._finalElement_0;v._next_0=k}Xh.prototype.hasNext_0_k$=function(){return this._hasNext_0},Xh.prototype.nextChar_0_k$=function(){var t=this._next_0;if(t===this._finalElement_0){if(!this._hasNext_0)throw js();this._hasNext_0=!1}else{var i=this;i._next_0=i._next_0+this._step_0|0}return wp(t)},Xh.$metadata$={simpleName:"CharProgressionIterator",kind:"class",interfaces:[]};function B$(){tv=this}B$.prototype.fromClosedRange_fcwjfj_k$=function(t,i,s){return new Jl(t,i,s)},B$.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var tv;function dy(){return tv==null&&new B$,tv}function Jl(t,i,s){if(dy(),s===0)throw sn("Step must be non-zero.");if(s===j()._MIN_VALUE_5)throw sn("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this._first_1=t,this._last=O$(t,i,s),this._step_1=s}Jl.prototype._get_first__0_k$=function(){return this._first_1},Jl.prototype._get_last__0_k$=function(){return this._last},Jl.prototype.iterator_0_k$=function(){return new Jh(this._first_1,this._last,this._step_1)},Jl.prototype.isEmpty_0_k$=function(){return this._step_1>0?this._first_1>this._last:this._first_1<this._last},Jl.prototype.equals=function(t){var i;return t instanceof Jl?i=(this.isEmpty_0_k$()?t.isEmpty_0_k$():!1)?!0:(this._first_1===t._first_1?this._last===t._last:!1)?this._step_1===t._step_1:!1:i=!1,i},Jl.prototype.hashCode=function(){return this.isEmpty_0_k$()?-1:pt(31,pt(31,this._first_1)+this._last|0)+this._step_1|0},Jl.prototype.toString=function(){return this._step_1>0?""+this._first_1+".."+this._last+" step "+this._step_1:""+this._first_1+" downTo "+this._last+" step "+(-this._step_1|0)},Jl.$metadata$={simpleName:"IntProgression",kind:"class",interfaces:[tu]};function Xl(t,i,s){if(s===0)throw sn("Step must be non-zero.");if(s===j()._MIN_VALUE_5)throw sn("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this._first_2=t;var c=this,p;e:{p=t.toInt_0_k$();break e}var v=p,k;e:{k=i.toInt_0_k$();break e}c._last_0=wp(O$(v,k,s)),this._step_2=s}Xl.prototype._get_first__0_k$=function(){return this._first_2},Xl.prototype._get_last__0_k$=function(){return this._last_0},Xl.prototype.iterator_0_k$=function(){return new Xh(this._first_2,this._last_0,this._step_2)},Xl.prototype.isEmpty_0_k$=function(){return this._step_2>0?this._first_2.compareTo_wi8o78_k$(this._last_0)>0:this._first_2.compareTo_wi8o78_k$(this._last_0)<0},Xl.prototype.equals=function(t){var i;return t instanceof Xl?i=(this.isEmpty_0_k$()?t.isEmpty_0_k$():!1)?!0:(this._first_2.equals(t._first_2)?this._last_0.equals(t._last_0):!1)?this._step_2===t._step_2:!1:i=!1,i},Xl.prototype.hashCode=function(){var t;if(this.isEmpty_0_k$())t=-1;else{var i;e:{var s=this._first_2;i=s.toInt_0_k$();break e}var c=pt(31,i),p;e:{var v=this._last_0;p=v.toInt_0_k$();break e}t=pt(31,c+p|0)+this._step_2|0}return t},Xl.prototype.toString=function(){return this._step_2>0?""+this._first_2+".."+this._last_0+" step "+this._step_2:""+this._first_2+" downTo "+this._last_0+" step "+(-this._step_2|0)},Xl.$metadata$={simpleName:"CharProgression",kind:"class",interfaces:[tu]};function F$(){}F$.$metadata$={simpleName:"ClosedRange",kind:"interface",interfaces:[]};function my(){L$=this,this._EMPTY=new wi(1,0)}my.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var L$;function $T(){return L$==null&&new my,L$}function wi(t,i){$T(),Jl.call(this,t,i,1)}wi.prototype._get_start__0_k$=function(){return this._get_first__0_k$()},wi.prototype._get_endInclusive__0_k$=function(){return this._get_last__0_k$()},wi.prototype.isEmpty_0_k$=function(){return this._get_first__0_k$()>this._get_last__0_k$()},wi.prototype.equals=function(t){var i;return t instanceof wi?i=(this.isEmpty_0_k$()?t.isEmpty_0_k$():!1)?!0:this._get_first__0_k$()===t._get_first__0_k$()?this._get_last__0_k$()===t._get_last__0_k$():!1:i=!1,i},wi.prototype.hashCode=function(){return this.isEmpty_0_k$()?-1:pt(31,this._get_first__0_k$())+this._get_last__0_k$()|0},wi.prototype.toString=function(){return""+this._get_first__0_k$()+".."+this._get_last__0_k$()},wi.$metadata$={simpleName:"IntRange",kind:"class",interfaces:[F$]};function D$(){uS=this,this._EMPTY_0=new hl(new pe(1),new pe(0))}D$.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var uS;function mp(){return uS==null&&new D$,uS}function hl(t,i){mp(),Xl.call(this,t,i,1)}hl.prototype.isEmpty_0_k$=function(){return this._get_first__0_k$().compareTo_wi8o78_k$(this._get_last__0_k$())>0},hl.prototype.equals=function(t){var i;return t instanceof hl?i=(this.isEmpty_0_k$()?t.isEmpty_0_k$():!1)?!0:this._get_first__0_k$().equals(t._get_first__0_k$())?this._get_last__0_k$().equals(t._get_last__0_k$()):!1:i=!1,i},hl.prototype.hashCode=function(){var t;if(this.isEmpty_0_k$())t=-1;else{var i;e:{var s=this._get_first__0_k$();i=s.toInt_0_k$();break e}var c=pt(31,i),p;e:{var v=this._get_last__0_k$();p=v.toInt_0_k$();break e}t=c+p|0}return t},hl.prototype.toString=function(){return""+this._get_first__0_k$()+".."+this._get_last__0_k$()},hl.$metadata$={simpleName:"CharRange",kind:"class",interfaces:[F$]};function xc(){vy=this}xc.prototype.toString=function(){return"kotlin.Unit"},xc.$metadata$={simpleName:"Unit",kind:"object",interfaces:[]};var vy;function F(){return vy==null&&new xc,vy}function O$(t,i,s){var c;if(s>0)c=t>=i?i:i-bT(i,t,s)|0;else if(s<0)c=t<=i?i:i+bT(t,i,-s|0)|0;else throw sn("Step is zero.");return c}function bT(t,i,s){return z$(z$(t,s)-z$(i,s)|0,s)}function z$(t,i){var s=t%i;return s>=0?s:s+i|0}function Us(){nv=this,this._MIN_VALUE_3=-128,this._MAX_VALUE_3=127,this._SIZE_BYTES_3=1,this._SIZE_BITS_3=8}Us.prototype._get_MIN_VALUE__0_k$=function(){return this._MIN_VALUE_3},Us.prototype._get_MAX_VALUE__0_k$=function(){return this._MAX_VALUE_3},Us.prototype._get_SIZE_BYTES__0_k$=function(){return this._SIZE_BYTES_3},Us.prototype._get_SIZE_BITS__0_k$=function(){return this._SIZE_BITS_3},Us.$metadata$={simpleName:"ByteCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(Us.prototype,"MIN_VALUE",{configurable:!0,get:Us.prototype._get_MIN_VALUE__0_k$}),Object.defineProperty(Us.prototype,"MAX_VALUE",{configurable:!0,get:Us.prototype._get_MAX_VALUE__0_k$}),Object.defineProperty(Us.prototype,"SIZE_BYTES",{configurable:!0,get:Us.prototype._get_SIZE_BYTES__0_k$}),Object.defineProperty(Us.prototype,"SIZE_BITS",{configurable:!0,get:Us.prototype._get_SIZE_BITS__0_k$});var nv;function Yh(){return nv==null&&new Us,nv}function dl(){$=this,this._MIN_VALUE_4=-32768,this._MAX_VALUE_4=32767,this._SIZE_BYTES_4=2,this._SIZE_BITS_4=16}dl.prototype._get_MIN_VALUE__0_k$=function(){return this._MIN_VALUE_4},dl.prototype._get_MAX_VALUE__0_k$=function(){return this._MAX_VALUE_4},dl.prototype._get_SIZE_BYTES__0_k$=function(){return this._SIZE_BYTES_4},dl.prototype._get_SIZE_BITS__0_k$=function(){return this._SIZE_BITS_4},dl.$metadata$={simpleName:"ShortCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(dl.prototype,"MIN_VALUE",{configurable:!0,get:dl.prototype._get_MIN_VALUE__0_k$}),Object.defineProperty(dl.prototype,"MAX_VALUE",{configurable:!0,get:dl.prototype._get_MAX_VALUE__0_k$}),Object.defineProperty(dl.prototype,"SIZE_BYTES",{configurable:!0,get:dl.prototype._get_SIZE_BYTES__0_k$}),Object.defineProperty(dl.prototype,"SIZE_BITS",{configurable:!0,get:dl.prototype._get_SIZE_BITS__0_k$});var $;function b(){return $==null&&new dl,$}function I(){U=this,this._MIN_VALUE_5=-2147483648,this._MAX_VALUE_5=2147483647,this._SIZE_BYTES_5=4,this._SIZE_BITS_5=32}I.prototype._get_MIN_VALUE__0_k$=function(){return this._MIN_VALUE_5},I.prototype._get_MAX_VALUE__0_k$=function(){return this._MAX_VALUE_5},I.prototype._get_SIZE_BYTES__0_k$=function(){return this._SIZE_BYTES_5},I.prototype._get_SIZE_BITS__0_k$=function(){return this._SIZE_BITS_5},I.$metadata$={simpleName:"IntCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(I.prototype,"MIN_VALUE",{configurable:!0,get:I.prototype._get_MIN_VALUE__0_k$}),Object.defineProperty(I.prototype,"MAX_VALUE",{configurable:!0,get:I.prototype._get_MAX_VALUE__0_k$}),Object.defineProperty(I.prototype,"SIZE_BYTES",{configurable:!0,get:I.prototype._get_SIZE_BYTES__0_k$}),Object.defineProperty(I.prototype,"SIZE_BITS",{configurable:!0,get:I.prototype._get_SIZE_BITS__0_k$});var U;function j(){return U==null&&new I,U}function J(){se=this,this._MIN_VALUE_6=14e-46,this._MAX_VALUE_6=34028235e31,this._POSITIVE_INFINITY=1/0,this._NEGATIVE_INFINITY=-1/0,this._NaN=NaN,this._SIZE_BYTES_6=4,this._SIZE_BITS_6=32}J.prototype._get_MIN_VALUE__0_k$=function(){return this._MIN_VALUE_6},J.prototype._get_MAX_VALUE__0_k$=function(){return this._MAX_VALUE_6},J.prototype._get_POSITIVE_INFINITY__0_k$=function(){return this._POSITIVE_INFINITY},J.prototype._get_NEGATIVE_INFINITY__0_k$=function(){return this._NEGATIVE_INFINITY},J.prototype._get_NaN__0_k$=function(){return this._NaN},J.prototype._get_SIZE_BYTES__0_k$=function(){return this._SIZE_BYTES_6},J.prototype._get_SIZE_BITS__0_k$=function(){return this._SIZE_BITS_6},J.$metadata$={simpleName:"FloatCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(J.prototype,"MIN_VALUE",{configurable:!0,get:J.prototype._get_MIN_VALUE__0_k$}),Object.defineProperty(J.prototype,"MAX_VALUE",{configurable:!0,get:J.prototype._get_MAX_VALUE__0_k$}),Object.defineProperty(J.prototype,"POSITIVE_INFINITY",{configurable:!0,get:J.prototype._get_POSITIVE_INFINITY__0_k$}),Object.defineProperty(J.prototype,"NEGATIVE_INFINITY",{configurable:!0,get:J.prototype._get_NEGATIVE_INFINITY__0_k$}),Object.defineProperty(J.prototype,"NaN",{configurable:!0,get:J.prototype._get_NaN__0_k$}),Object.defineProperty(J.prototype,"SIZE_BYTES",{configurable:!0,get:J.prototype._get_SIZE_BYTES__0_k$}),Object.defineProperty(J.prototype,"SIZE_BITS",{configurable:!0,get:J.prototype._get_SIZE_BITS__0_k$});var se;function we(){return se==null&&new J,se}function De(){jt=this,this._MIN_VALUE_7=5e-324,this._MAX_VALUE_7=17976931348623157e292,this._POSITIVE_INFINITY_0=1/0,this._NEGATIVE_INFINITY_0=-1/0,this._NaN_0=NaN,this._SIZE_BYTES_7=8,this._SIZE_BITS_7=64}De.prototype._get_MIN_VALUE__0_k$=function(){return this._MIN_VALUE_7},De.prototype._get_MAX_VALUE__0_k$=function(){return this._MAX_VALUE_7},De.prototype._get_POSITIVE_INFINITY__0_k$=function(){return this._POSITIVE_INFINITY_0},De.prototype._get_NEGATIVE_INFINITY__0_k$=function(){return this._NEGATIVE_INFINITY_0},De.prototype._get_NaN__0_k$=function(){return this._NaN_0},De.prototype._get_SIZE_BYTES__0_k$=function(){return this._SIZE_BYTES_7},De.prototype._get_SIZE_BITS__0_k$=function(){return this._SIZE_BITS_7},De.$metadata$={simpleName:"DoubleCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(De.prototype,"MIN_VALUE",{configurable:!0,get:De.prototype._get_MIN_VALUE__0_k$}),Object.defineProperty(De.prototype,"MAX_VALUE",{configurable:!0,get:De.prototype._get_MAX_VALUE__0_k$}),Object.defineProperty(De.prototype,"POSITIVE_INFINITY",{configurable:!0,get:De.prototype._get_POSITIVE_INFINITY__0_k$}),Object.defineProperty(De.prototype,"NEGATIVE_INFINITY",{configurable:!0,get:De.prototype._get_NEGATIVE_INFINITY__0_k$}),Object.defineProperty(De.prototype,"NaN",{configurable:!0,get:De.prototype._get_NaN__0_k$}),Object.defineProperty(De.prototype,"SIZE_BYTES",{configurable:!0,get:De.prototype._get_SIZE_BYTES__0_k$}),Object.defineProperty(De.prototype,"SIZE_BITS",{configurable:!0,get:De.prototype._get_SIZE_BITS__0_k$});var jt;function Rn(){return jt==null&&new De,jt}function ar(){}ar.$metadata$={simpleName:"Comparator",kind:"interface",interfaces:[]};function Zt(t){return Em([t])}function pi(t){return A1([t])}function Zr(t){return H2([t])}function xi(t){return t}function Fe(t,i){jn(t,i)}function Ae(t){return t<0&&S1(),t}function Ve(t,i,s,c,p){gr().checkRangeIndexes_zd700_k$(c,p,t.length);var v=p-c|0;if(gr().checkRangeIndexes_zd700_k$(s,s+v|0,i.length),ArrayBuffer.isView(i)&&ArrayBuffer.isView(t)){var k;e:{k=t;break e}var x=k.subarray(c,p),T;e:{T=i;break e}T.set(x,s)}else if(t!==i?!0:s<=c){var N=0;if(N<v)do{var B=N;N=N+1|0,i[s+B|0]=t[c+B|0]}while(N<v)}else{var L=v-1|0;if(0<=L)do{var O=L;L=L+-1|0,i[s+O|0]=t[c+O|0]}while(0<=L)}}function Ht(t){var i,s;e:{s=t;break e}if(s.toArray!==void 0){var c;e:{var p;t:{p=t;break t}var v=p.toArray();c=v;break e}i=c}else{var k;e:{var x=Li(t),T;t:{T=x;break t}k=T;break e}i=k}return i}function jn(t,i){if(t._get_size__0_k$()<=1)return F();var s=Ht(t);SK(s,i);var c=0,p=s.length;if(c<p)do{var v=c;c=c+1|0,t.set_ddb1qf_k$(v,s[v]),F()}while(c<p)}function Li(t){var i;e:{i=[];break e}for(var s=i,c=t.iterator_0_k$();c.hasNext_0_k$();){var p;e:{p=s;break e}p.push(c.next_0_k$())}return s}function Pn(){ao.call(this)}Pn.prototype.addAll_dxd4eo_k$=function(t){this.checkIsMutable_sv8swh_k$();for(var i=!1,s=t.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$();this.add_2bq_k$(c)&&(i=!0)}return i},Pn.prototype.toJSON=function(){return this.toArray()},Pn.prototype.checkIsMutable_sv8swh_k$=function(){},Pn.$metadata$={simpleName:"AbstractMutableCollection",kind:"class",interfaces:[aI]};function Xr(t){this._$this_1=t,this._index_4=0,this._last_1=-1}Xr.prototype.hasNext_0_k$=function(){return this._index_4<this._$this_1._get_size__0_k$()},Xr.prototype.next_0_k$=function(){if(!this.hasNext_0_k$())throw js();var t=this,i=this,s=i._index_4;return i._index_4=s+1|0,t._last_1=s,this._$this_1.get_ha5a7z_k$(this._last_1)},Xr.prototype.remove_sv8swh_k$=function(){{var t=this._last_1!==-1;if(!t){var i;e:{i="Call next() or previous() before removing element from the iterator.";break e}var s=i;throw At(Bt(s))}}this._$this_1.removeAt_ha5a7z_k$(this._last_1),F(),this._index_4=this._last_1,this._last_1=-1},Xr.$metadata$={simpleName:"IteratorImpl",kind:"class",interfaces:[Kh]};function Yr(){Pn.call(this),this._modCount=0}Yr.prototype._set_modCount__majfzk_k$=function(t){this._modCount=t},Yr.prototype._get_modCount__0_k$=function(){return this._modCount},Yr.prototype.add_2bq_k$=function(t){return this.checkIsMutable_sv8swh_k$(),this.add_vz2mgm_k$(this._get_size__0_k$(),t),!0},Yr.prototype.iterator_0_k$=function(){return new Xr(this)},Yr.prototype.contains_2bq_k$=function(t){return this.indexOf_2bq_k$(t)>=0},Yr.prototype.indexOf_2bq_k$=function(t){var i=0,s=cp(this);if(i<=s)do{var c=i;if(i=i+1|0,xt(this.get_ha5a7z_k$(c),t))return c}while(c!==s);return-1},Yr.prototype.equals=function(t){return t===this?!0:(t!=null?Ce(t,Hr):!1)?gr().orderedEquals_tuq55s_k$(this,t):!1},Yr.prototype.hashCode=function(){return gr().orderedHashCode_dxd51x_k$(this)},Yr.$metadata$={simpleName:"AbstractMutableList",kind:"class",interfaces:[dO]};function Ir(t){this._$entryIterator_1=t}Ir.prototype.hasNext_0_k$=function(){return this._$entryIterator_1.hasNext_0_k$()},Ir.prototype.next_0_k$=function(){return this._$entryIterator_1.next_0_k$()._get_key__0_k$()},Ir.prototype.remove_sv8swh_k$=function(){return this._$entryIterator_1.remove_sv8swh_k$()},Ir.$metadata$={kind:"class",interfaces:[Kh]};function Ru(t){this._$entryIterator_2=t}Ru.prototype.hasNext_0_k$=function(){return this._$entryIterator_2.hasNext_0_k$()},Ru.prototype.next_0_k$=function(){return this._$entryIterator_2.next_0_k$()._get_value__0_k$()},Ru.prototype.remove_sv8swh_k$=function(){return this._$entryIterator_2.remove_sv8swh_k$()},Ru.$metadata$={kind:"class",interfaces:[Kh]};function ml(t,i){this._key=t,this.__value_0=i}ml.prototype._get_key__0_k$=function(){return this._key},ml.prototype._get_value__0_k$=function(){return this.__value_0},ml.prototype.setValue_2c7_k$=function(t){var i=this.__value_0;return this.__value_0=t,i},ml.prototype.hashCode=function(){return oa().entryHashCode_4vm2wp_k$(this)},ml.prototype.toString=function(){return oa().entryToString_4vm2wp_k$(this)},ml.prototype.equals=function(t){return oa().entryEquals_caydzc_k$(this,t)},ml.$metadata$={simpleName:"SimpleEntry",kind:"class",interfaces:[oI]};function Qh(){Yl.call(this)}Qh.prototype.contains_2bq_k$=function(t){return this.containsEntry_4v0zae_k$(t)},Qh.$metadata$={simpleName:"AbstractEntrySet",kind:"class",interfaces:[]};function g_(t){this._this$0_6=t,Yl.call(this)}g_.prototype.add_2bw_k$=function(t){throw Z$("Add is not supported on keys")},g_.prototype.add_2bq_k$=function(t){return this.add_2bw_k$((t==null?!0:Re(t))?t:M())},g_.prototype.contains_2bw_k$=function(t){return this._this$0_6.containsKey_2bw_k$(t)},g_.prototype.contains_2bq_k$=function(t){return(t==null?!0:Re(t))?this.contains_2bw_k$((t==null?!0:Re(t))?t:M()):!1},g_.prototype.iterator_0_k$=function(){var t=this._this$0_6._get_entries__0_k$().iterator_0_k$();return new Ir(t)},g_.prototype._get_size__0_k$=function(){return this._this$0_6._get_size__0_k$()},g_.prototype.checkIsMutable_sv8swh_k$=function(){return this._this$0_6.checkIsMutable_sv8swh_k$()},g_.$metadata$={kind:"class",interfaces:[]};function Pu(t){this._this$0_7=t,Pn.call(this)}Pu.prototype.add_2c7_k$=function(t){throw Z$("Add is not supported on values")},Pu.prototype.add_2bq_k$=function(t){return this.add_2c7_k$((t==null?!0:Re(t))?t:M())},Pu.prototype.contains_2c7_k$=function(t){return this._this$0_7.containsValue_2c7_k$(t)},Pu.prototype.contains_2bq_k$=function(t){return(t==null?!0:Re(t))?this.contains_2c7_k$((t==null?!0:Re(t))?t:M()):!1},Pu.prototype.iterator_0_k$=function(){var t=this._this$0_7._get_entries__0_k$().iterator_0_k$();return new Ru(t)},Pu.prototype._get_size__0_k$=function(){return this._this$0_7._get_size__0_k$()},Pu.prototype.equals=function(t){return this===t?!0:(t!=null?Ce(t,Si):!1)?gr().orderedEquals_tuq55s_k$(this,t):!1},Pu.prototype.hashCode=function(){return gr().orderedHashCode_dxd51x_k$(this)},Pu.prototype.checkIsMutable_sv8swh_k$=function(){return this._this$0_7.checkIsMutable_sv8swh_k$()},Pu.$metadata$={kind:"class",interfaces:[]};function ff(){ji.call(this),this.__keys_0=null,this.__values_0=null}ff.prototype._get_keys__0_k$=function(){if(this.__keys_0==null){var t=this;t.__keys_0=new g_(this)}return Ei(this.__keys_0)},ff.prototype.putAll_nn707j_k$=function(t){this.checkIsMutable_sv8swh_k$();var i;e:{i=t._get_entries__0_k$().iterator_0_k$();break e}for(var s=i;s.hasNext_0_k$();){var c=s.next_0_k$(),p;e:{p=c._get_key__0_k$();break e}var v=p,k;e:{k=c._get_value__0_k$();break e}var x=k;this.put_1q9pf_k$(v,x),F()}},ff.prototype._get_values__0_k$=function(){if(this.__values_0==null){var t=this;t.__values_0=new Pu(this)}return Ei(this.__values_0)},ff.prototype.checkIsMutable_sv8swh_k$=function(){},ff.$metadata$={simpleName:"AbstractMutableMap",kind:"class",interfaces:[fS]};function Yl(){Pn.call(this)}Yl.prototype.equals=function(t){return t===this?!0:(t!=null?Ce(t,ys):!1)?Sm().setEquals_qlktm2_k$(this,t):!1},Yl.prototype.hashCode=function(){return Sm().unorderedHashCode_dxd51x_k$(this)},Yl.$metadata$={simpleName:"AbstractMutableSet",kind:"class",interfaces:[iI]};function Ohe(t){var i;e:{i=[];break e}return gi.call(t,i),t}function Di(){return Ohe(Object.create(gi.prototype))}function zhe(t,i){var s;e:{s=[];break e}return gi.call(i,s),i}function Wr(t){return zhe(t,Object.create(gi.prototype))}function Uhe(t,i){var s;e:{s=Ht(t);break e}return gi.call(i,s),i}function gy(t){return Uhe(t,Object.create(gi.prototype))}function JD(t,i){var s;e:{gr().checkElementIndex_rvwcgf_k$(i,t._get_size__0_k$()),s=i;break e}return s}function jhe(t,i){var s;e:{gr().checkPositionIndex_rvwcgf_k$(i,t._get_size__0_k$()),s=i;break e}return s}function gi(t){Yr.call(this),this._array_0=t,this._isReadOnly=!1}gi.prototype.ensureCapacity_majfzk_k$=function(t){},gi.prototype._get_size__0_k$=function(){return this._array_0.length},gi.prototype.get_ha5a7z_k$=function(t){var i=this._array_0[JD(this,t)];return(i==null?!0:Re(i))?i:M()},gi.prototype.set_ddb1qf_k$=function(t,i){this.checkIsMutable_sv8swh_k$(),JD(this,t),F();var s;e:{var c=this._array_0[t];this._array_0[t]=i,s=c;break e}var p=s;return(p==null?!0:Re(p))?p:M()},gi.prototype.add_2bq_k$=function(t){this.checkIsMutable_sv8swh_k$();var i;e:{var s=this._array_0;i=s;break e}i.push(t);var c=this,p=c._get_modCount__0_k$();return c._set_modCount__majfzk_k$(p+1|0),F(),!0},gi.prototype.add_vz2mgm_k$=function(t,i){this.checkIsMutable_sv8swh_k$();var s;e:{var c=this._array_0;s=c;break e}s.splice(jhe(this,t),0,i);var p=this,v=p._get_modCount__0_k$();p._set_modCount__majfzk_k$(v+1|0),F()},gi.prototype.addAll_dxd4eo_k$=function(t){if(this.checkIsMutable_sv8swh_k$(),t.isEmpty_0_k$())return!1;var i=this,s=i,c;e:{var p=i._array_0,v;t:{v=Ht(t);break t}var k=v,x;t:{x=p;break t}c=x.concat(k);break e}s._array_0=c;var T=this,N=T._get_modCount__0_k$();return T._set_modCount__majfzk_k$(N+1|0),F(),!0},gi.prototype.removeAt_ha5a7z_k$=function(t){this.checkIsMutable_sv8swh_k$(),JD(this,t),F();var i=this,s=i._get_modCount__0_k$();i._set_modCount__majfzk_k$(s+1|0),F();var c;if(t===cp(this)){var p;e:{var v=this._array_0;p=v;break e}c=p.pop()}else{var k;e:{var x=this._array_0;k=x;break e}c=k.splice(t,1)[0]}return c},gi.prototype.clear_sv8swh_k$=function(){this.checkIsMutable_sv8swh_k$();var t=this,i;e:{i=[];break e}t._array_0=i;var s=this,c=s._get_modCount__0_k$();s._set_modCount__majfzk_k$(c+1|0),F()},gi.prototype.indexOf_2bq_k$=function(t){return C(this._array_0,t)},gi.prototype.toString=function(){return ume(this._array_0)},gi.prototype.toArray_0_k$=function(){return[].slice.call(this._array_0)},gi.prototype.toArray=function(){return this.toArray_0_k$()},gi.prototype.checkIsMutable_sv8swh_k$=function(){if(this._isReadOnly)throw GO()},gi.$metadata$={simpleName:"ArrayList",kind:"class",interfaces:[dO,U$]};var wT;function SK(t,i){if(Ghe()){var s=Hhe(i),c;e:{c=t;break e}c.sort(s)}else{var p;e:{var v;t:{v=t;break t}p=v;break e}Whe(p,0,D(t),i)}}function Ghe(){var t=wT;if(t!=null)return t;F(),wT=!1;var i;e:{var s=[];i=s;break e}var c=i,p=0;if(p<600)do{var v=p;p=p+1|0;var k;e:{k=c;break e}k.push(v)}while(p<600);var x=Vhe(),T;e:{T=c;break e}T.sort(x);var N=1,B=c.length;if(N<B)do{var L=N;N=N+1|0;var O=c[L-1|0],W=c[L];if((O&3)==(W&3)?O>=W:!1)return!1}while(N<B);return wT=!0,!0}function Whe(t,i,s,c){var p;e:{var v;t:{var k=t.length;v=ca(Array(k),null);break t}var x=v,T;t:{T=x;break t}p=T;break e}var N=p,B=XD(t,N,i,s,c);if(B!==t){var L=i;if(L<=s)do{var O=L;L=L+1|0,t[O]=B[O]}while(O!==s)}}function XD(t,i,s,c,p){if(s===c)return t;var v=(s+c|0)/2|0,k=XD(t,i,s,v,p),x=XD(t,i,v+1|0,c,p),T=k===i?t:i,N=s,B=v+1|0,L=s;if(L<=c)do{var O=L;if(L=L+1|0,N<=v?B<=c:!1){var W=k[N],K=x[B];if(p.compare(W,K)<=0){T[O]=W;var q=N;N=q+1|0,F()}else{T[O]=K;var Q=B;B=Q+1|0,F()}}else if(N<=v){T[O]=k[N];var ee=N;N=ee+1|0,F()}else{T[O]=x[B];var ie=B;B=ie+1|0,F(),F()}}while(O!==c);return T}function xT(t){this._$comparator=t}xT.prototype.invoke_1qgdm_k$=function(t,i){return this._$comparator.compare(t,i)},xT.prototype.invoke_osx4an_k$=function(t,i){var s=(t==null?!0:Re(t))?t:M();return this.invoke_1qgdm_k$(s,(i==null?!0:Re(i))?i:M())},xT.$metadata$={kind:"class",interfaces:[]};function ST(){}ST.prototype.invoke_27zxwg_k$=function(t,i){return(t&3)-(i&3)|0},ST.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="number":!1)?t:M();return this.invoke_27zxwg_k$(s,(i!=null?typeof i=="number":!1)?i:M())},ST.$metadata$={kind:"class",interfaces:[]};function Hhe(t){var i=new xT(t);return function(s,c){return i.invoke_1qgdm_k$(s,c)}}function Vhe(){var t=new ST;return function(i,s){return t.invoke_27zxwg_k$(i,s)}}function ET(){YD=this}ET.prototype.equals_rvz98i_k$=function(t,i){return xt(t,i)},ET.prototype.getHashCode_wi7j7l_k$=function(t){var i=t,s=i==null?null:ur(i);return s==null?0:s},ET.$metadata$={simpleName:"HashCode",kind:"object",interfaces:[EK]};var YD;function qhe(){return YD==null&&new ET,YD}function EK(){}EK.$metadata$={simpleName:"EqualityComparator",kind:"interface",interfaces:[]};function vp(t){this._$this_2=t,Qh.call(this)}vp.prototype.add_qbahou_k$=function(t){throw Z$("Add is not supported on entries")},vp.prototype.add_2bq_k$=function(t){return this.add_qbahou_k$((t!=null?Ce(t,oI):!1)?t:M())},vp.prototype.containsEntry_4v0zae_k$=function(t){return this._$this_2.containsEntry_7gsh9e_k$(t)},vp.prototype.iterator_0_k$=function(){return this._$this_2._internalMap.iterator_0_k$()},vp.prototype._get_size__0_k$=function(){return this._$this_2._get_size__0_k$()},vp.$metadata$={simpleName:"EntrySet",kind:"class",interfaces:[]};function Khe(t,i){return ff.call(i),gs.call(i),i._internalMap=t,i._equality=t._get_equality__0_k$(),i}function CT(t){return Khe(new yp(qhe()),t),t}function yy(){return CT(Object.create(gs.prototype))}function QD(t,i,s){CT(s);{var c=t>=0;if(!c){var p;e:{p="Negative initial capacity: "+t;break e}var v=p;throw sn(Bt(v))}}{var k=i>=0;if(!k){var x;e:{x="Non-positive load factor: "+i;break e}var T=x;throw sn(Bt(T))}}return s}function Jhe(t,i){return QD(t,i,Object.create(gs.prototype))}function Xhe(t,i){return QD(t,0,i),i}function ZD(t){return Xhe(t,Object.create(gs.prototype))}gs.prototype.containsKey_2bw_k$=function(t){return this._internalMap.contains_2bw_k$(t)},gs.prototype.containsValue_2c7_k$=function(t){var i;e:{var s=this._internalMap,c;if(Ce(s,Si)?c=s.isEmpty_0_k$():c=!1,c){i=!1;break e}for(var p=s.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$(),k;t:{k=this._equality.equals_rvz98i_k$(v._get_value__0_k$(),t);break t}if(k){i=!0;break e}}i=!1;break e}return i},gs.prototype._get_entries__0_k$=function(){return this.__entries==null&&(this.__entries=this.createEntrySet_0_k$()),Ei(this.__entries)},gs.prototype.createEntrySet_0_k$=function(){return new vp(this)},gs.prototype.get_2bw_k$=function(t){return this._internalMap.get_2bw_k$(t)},gs.prototype.put_1q9pf_k$=function(t,i){return this._internalMap.put_1q9pf_k$(t,i)},gs.prototype.remove_2bw_k$=function(t){return this._internalMap.remove_2bw_k$(t)},gs.prototype._get_size__0_k$=function(){return this._internalMap._get_size__0_k$()};function gs(){this.__entries=null}gs.$metadata$={simpleName:"HashMap",kind:"class",interfaces:[fS]};function Yhe(t){return Yl.call(t),Xi.call(t),t._map=yy(),t}function gp(){return Yhe(Object.create(Xi.prototype))}function Qhe(t,i){return Yl.call(i),Xi.call(i),i._map=ZD(t._get_size__0_k$()),i.addAll_dxd4eo_k$(t),F(),i}function Zhe(t){return Qhe(t,Object.create(Xi.prototype))}function ede(t,i,s){return Yl.call(s),Xi.call(s),s._map=Jhe(t,i),s}function tde(t,i){return ede(t,0,i),i}function eO(t){return tde(t,Object.create(Xi.prototype))}function CK(t,i){return Yl.call(i),Xi.call(i),i._map=t,i}Xi.prototype._get_map__0_k$=function(){return this._map},Xi.prototype.add_2bq_k$=function(t){var i=this._map.put_1q9pf_k$(t,this);return i==null},Xi.prototype.contains_2bq_k$=function(t){return this._map.containsKey_2bw_k$(t)},Xi.prototype.isEmpty_0_k$=function(){return this._map.isEmpty_0_k$()},Xi.prototype.iterator_0_k$=function(){return this._map._get_keys__0_k$().iterator_0_k$()},Xi.prototype.remove_2bq_k$=function(t){return this._map.remove_2bw_k$(t)!=null},Xi.prototype._get_size__0_k$=function(){return this._map._get_size__0_k$()};function Xi(){}Xi.$metadata$={simpleName:"HashSet",kind:"class",interfaces:[iI]};function nde(t){if(t._chainOrEntry!=null?t._isChain:!1){var i;e:{var s=t._chainOrEntry;i=s;break e}var c=i.length,p=t;if(p._itemIndex=p._itemIndex+1|0,p._itemIndex<c)return 0}var v=t;if(v._keyIndex=v._keyIndex+1|0,v._keyIndex<t._keys.length){t._chainOrEntry=t._this$0_8._backingMap[t._keys[t._keyIndex]];var k=t,x=t._chainOrEntry;return k._isChain=x!=null?uo(x):!1,t._itemIndex=0,0}else return t._chainOrEntry=null,1}function AK(t,i){var s=tO(t,t._equality_0.getHashCode_wi7j7l_k$(i)),c;if(s==null)return null;c=s;var p=c;if(p!=null?uo(p):!1){var k=p;return TK(k,t,i)}else{var v=p;return t._equality_0.equals_rvz98i_k$(v._get_key__0_k$(),i)?v:null}}function TK(t,i,s){var c;e:{for(var p=t,v=0,k=p.length;v<k;){var x=p[v];v=v+1|0;var T;t:{T=i._equality_0.equals_rvz98i_k$(x._get_key__0_k$(),s);break t}if(T){c=x;break e}}c=null;break e}return c}function tO(t,i){var s=t._backingMap[i];return s===void 0?null:s}function cS(t){this._this$0_8=t,this._state_1=-1,this._keys=Object.keys(this._this$0_8._backingMap),this._keyIndex=-1,this._chainOrEntry=null,this._isChain=!1,this._itemIndex=-1,this._lastEntry=null}cS.prototype.hasNext_0_k$=function(){return this._state_1===-1&&(this._state_1=nde(this)),this._state_1===0},cS.prototype.next_0_k$=function(){if(!this.hasNext_0_k$())throw js();var t;if(this._isChain){var i;e:{var s=this._chainOrEntry;i=s;break e}t=i[this._itemIndex]}else{var c;e:{var p=this._chainOrEntry;c=p;break e}t=c}var v=t;return this._lastEntry=v,this._state_1=-1,v},cS.prototype.remove_sv8swh_k$=function(){e:{var t=this._lastEntry;t:if(t==null){var i;n:{i="Required value was null.";break n}var s=i;throw At(Bt(s))}else break t;break e}F(),this._this$0_8.remove_2bw_k$(Ei(this._lastEntry)._get_key__0_k$()),F(),this._lastEntry=null;var c=this,p=c._itemIndex;c._itemIndex=p-1|0,F()},cS.$metadata$={kind:"class",interfaces:[Kh]};function yp(t){this._equality_0=t,this._backingMap=this.createJsMap_0_k$(),this._size_0=0}yp.prototype._get_equality__0_k$=function(){return this._equality_0},yp.prototype._get_size__0_k$=function(){return this._size_0},yp.prototype.put_1q9pf_k$=function(t,i){var s=this._equality_0.getHashCode_wi7j7l_k$(t),c=tO(this,s);if(c==null)this._backingMap[s]=new ml(t,i);else if(c!=null?uo(c):!1){var L=c,O=TK(L,this,t);if(O!=null)return O.setValue_2c7_k$(i);var W;e:{W=L;break e}W.push(new ml(t,i))}else{var p=c;if(this._equality_0.equals_rvz98i_k$(p._get_key__0_k$(),t))return p.setValue_2c7_k$(i);{var v;e:{var k=[p,new ml(t,i)],x;t:{var T;n:{T=k;break n}x=T;break t}v=x;break e}this._backingMap[s]=v;var N=this,B=N._size_0;return N._size_0=B+1|0,F(),null}}var K=this,q=K._size_0;return K._size_0=q+1|0,F(),null},yp.prototype.remove_2bw_k$=function(t){var i=this._equality_0.getHashCode_wi7j7l_k$(t),s=tO(this,i),c;if(s==null)return null;c=s;var p=c;if(p!=null?uo(p):!1){var T=p,N=0,B=T.length-1|0;if(N<=B)do{var L=N;N=N+1|0;var O=T[L];if(this._equality_0.equals_rvz98i_k$(t,O._get_key__0_k$())){if(T.length===1){var W;e:{W=T;break e}W.length=0,WO(this._backingMap,i)}else{var K;e:{K=T;break e}K.splice(L,1)}var q=this,Q=q._size_0;return q._size_0=Q-1|0,F(),O._get_value__0_k$()}}while(N<=B)}else{var v=p;if(this._equality_0.equals_rvz98i_k$(v._get_key__0_k$(),t)){WO(this._backingMap,i);var k=this,x=k._size_0;return k._size_0=x-1|0,F(),v._get_value__0_k$()}else return null}return null},yp.prototype.contains_2bw_k$=function(t){return AK(this,t)!=null},yp.prototype.get_2bw_k$=function(t){var i=AK(this,t);return i==null?null:i._get_value__0_k$()},yp.prototype.iterator_0_k$=function(){return new cS(this)},yp.$metadata$={simpleName:"InternalHashCodeMap",kind:"class",interfaces:[AT]};function AT(){}AT.prototype.createJsMap_0_k$=function(){var t=Object.create(null);return t.foo=1,WO(t,"foo"),t},AT.$metadata$={simpleName:"InternalMap",kind:"interface",interfaces:[sI]};function _S(t){this._$this_3=t,this._last_2=null,this._next_1=null,this._next_1=this._$this_3._$this_5._head}_S.prototype.hasNext_0_k$=function(){return this._next_1!==null},_S.prototype.next_0_k$=function(){if(!this.hasNext_0_k$())throw js();var t=Ei(this._next_1);this._last_2=t;var i=this,s;e:{var c=t._next_2,p,v;t:{v=c!==this._$this_3._$this_5._head;break t}v?p=c:p=null,s=p;break e}return i._next_1=s,t},_S.prototype.remove_sv8swh_k$=function(){{var t=this._last_2!=null;if(!t){var i;e:{i="Check failed.";break e}var s=i;throw At(Bt(s))}}this._$this_3.checkIsMutable_sv8swh_k$(),IK(Ei(this._last_2),this._$this_3._$this_5),this._$this_3._$this_5._map_0.remove_2bw_k$(Ei(this._last_2)._get_key__0_k$()),F(),this._last_2=null},_S.$metadata$={simpleName:"EntryIterator",kind:"class",interfaces:[Kh]};function ky(t,i,s){this._$this_4=t,ml.call(this,i,s),this._next_2=null,this._prev=null}ky.prototype.setValue_2c7_k$=function(t){return this._$this_4.checkIsMutable_sv8swh_k$(),ml.prototype.setValue_2c7_k$.call(this,t)},ky.$metadata$={simpleName:"ChainEntry",kind:"class",interfaces:[]};function pf(t){this._$this_5=t,Qh.call(this)}pf.prototype.add_qbahou_k$=function(t){throw Z$("Add is not supported on entries")},pf.prototype.add_2bq_k$=function(t){return this.add_qbahou_k$((t!=null?Ce(t,oI):!1)?t:M())},pf.prototype.containsEntry_4v0zae_k$=function(t){return this._$this_5.containsEntry_7gsh9e_k$(t)},pf.prototype.iterator_0_k$=function(){return new _S(this)},pf.prototype._get_size__0_k$=function(){return this._$this_5._get_size__0_k$()},pf.prototype.checkIsMutable_sv8swh_k$=function(){return this._$this_5.checkIsMutable_sv8swh_k$()},pf.$metadata$={simpleName:"EntrySet",kind:"class",interfaces:[]};function rde(t,i){{var s=t._next_2==null?t._prev==null:!1;if(!s){var c;e:{c="Check failed.";break e}var p=c;throw At(Bt(p))}}var v=i._head;if(v==null)i._head=t,t._next_2=t,t._prev=t;else{var k;e:{var x=v._prev,T;t:if(x==null){var N;n:{N="Required value was null.";break n}var B=N;throw At(Bt(B))}else{T=x;break t}k=T;break e}var L=k;t._prev=L,t._next_2=v,v._prev=t,L._next_2=t}}function IK(t,i){t._next_2===t?i._head=null:(i._head===t&&(i._head=t._next_2),Ei(t._next_2)._prev=t._prev,Ei(t._prev)._next_2=t._next_2),t._next_2=null,t._prev=null}function ide(t){return CT(t),Do.call(t),t._map_0=yy(),t}function Ql(){return ide(Object.create(Do.prototype))}function MK(t,i,s){return QD(t,i,s),Do.call(s),s._map_0=yy(),s}function ode(t,i){return MK(t,i,Object.create(Do.prototype))}function ade(t,i){return MK(t,0,i),i}function hf(t){return ade(t,Object.create(Do.prototype))}function sde(t,i){return CT(i),Do.call(i),i._map_0=yy(),i.putAll_nn707j_k$(t),i}function nO(t){return sde(t,Object.create(Do.prototype))}Do.prototype.containsKey_2bw_k$=function(t){return this._map_0.containsKey_2bw_k$(t)},Do.prototype.containsValue_2c7_k$=function(t){var i=this._head,s;if(i==null)return!1;s=i;var c=s;do{if(xt(c._get_value__0_k$(),t))return!0;c=Ei(c._next_2)}while(c!==this._head);return!1},Do.prototype.createEntrySet_0_k$=function(){return new pf(this)},Do.prototype.get_2bw_k$=function(t){var i=this._map_0.get_2bw_k$(t);return i==null?null:i._get_value__0_k$()},Do.prototype.put_1q9pf_k$=function(t,i){this.checkIsMutable_sv8swh_k$();var s=this._map_0.get_2bw_k$(t);if(s==null){var c=new ky(this,t,i);return this._map_0.put_1q9pf_k$(t,c),F(),rde(c,this),null}else return s.setValue_2c7_k$(i)},Do.prototype.remove_2bw_k$=function(t){this.checkIsMutable_sv8swh_k$();var i=this._map_0.remove_2bw_k$(t);return i!=null?(IK(i,this),i._get_value__0_k$()):null},Do.prototype._get_size__0_k$=function(){return this._map_0._get_size__0_k$()},Do.prototype.checkIsMutable_sv8swh_k$=function(){if(this._isReadOnly_0)throw GO()};function Do(){this._head=null,this._isReadOnly_0=!1}Do.$metadata$={simpleName:"LinkedHashMap",kind:"class",interfaces:[fS]};function lde(t){return CK(Ql(),t),Zh.call(t),t}function ude(){return lde(Object.create(Zh.prototype))}function cde(t,i,s){return CK(ode(t,i),s),Zh.call(s),s}function _de(t,i){return cde(t,0,i),i}function rO(t){return _de(t,Object.create(Zh.prototype))}Zh.prototype.checkIsMutable_sv8swh_k$=function(){return this._get_map__0_k$().checkIsMutable_sv8swh_k$()};function Zh(){}Zh.$metadata$={simpleName:"LinkedHashSet",kind:"class",interfaces:[iI]};function U$(){}U$.$metadata$={simpleName:"RandomAccess",kind:"interface",interfaces:[]};function y_(){}y_.$metadata$={simpleName:"Serializable",kind:"interface",interfaces:[]};function TT(t){return t!==t}function fde(t){var i;return Rn(),t===1/0?i=!0:(Rn(),i=t===-1/0),i}function IT(t){return fde(t)?!1:!TT(t)}function iO(t){return pde(t)?!1:!hde(t)}function oO(t){var i=t;return i=(i&1431655765)+(i>>>1&1431655765)|0,i=(i&858993459)+(i>>>2&858993459)|0,i=(i&252645135)+(i>>>4&252645135)|0,i=(i&16711935)+(i>>>8&16711935)|0,i=(i&65535)+(i>>>16)|0,i}function NK(t){j();var i;e:{var s=~(t|(-t|0));i=Math.clz32(s);break e}return 32-i|0}function pde(t){var i;return we(),t===1/0?i=!0:(we(),i=t===-1/0),i}function hde(t){return t!==t}function RK(t){var i=t._low,s;return i===0?(j(),s=32+NK(t._high)|0):s=NK(i),s}function dde(){var t;e:{var i=Math.random()*Math.pow(2,32)|0;t=i;break e}return Bm(t)}function Fr(t){return(t instanceof vl?t:M())._get_jClass__0_k$()}function PK(){}PK.$metadata$={simpleName:"KCallable",kind:"interface",interfaces:[]};function df(){}df.$metadata$={simpleName:"KClass",kind:"interface",interfaces:[hp]};function vl(t){this._jClass=t}vl.prototype._get_jClass__0_k$=function(){return this._jClass},vl.prototype.equals=function(t){var i;return t instanceof vl?i=xt(this._get_jClass__0_k$(),t._get_jClass__0_k$()):i=!1,i},vl.prototype.hashCode=function(){var t=this._get_simpleName__0_k$(),i=t==null?null:td(t);return i==null?0:i},vl.prototype.toString=function(){return"class "+this._get_simpleName__0_k$()},vl.$metadata$={simpleName:"KClassImpl",kind:"class",interfaces:[df]};function Gi(t,i,s){vl.call(this,t),this._givenSimpleName=i,this._isInstanceFunction=s}Gi.prototype.equals=function(t){return t instanceof Gi&&vl.prototype.equals.call(this,t)?this._givenSimpleName===t._givenSimpleName:!1},Gi.prototype._get_simpleName__0_k$=function(){return this._givenSimpleName},Gi.prototype.isInstance_wi7j7l_k$=function(t){return this._isInstanceFunction(t)},Gi.$metadata$={simpleName:"PrimitiveKClassImpl",kind:"class",interfaces:[]};function kp(){aO=this,vl.call(this,Object),this._simpleName="Nothing"}kp.prototype._get_simpleName__0_k$=function(){return this._simpleName},kp.prototype.isInstance_wi7j7l_k$=function(t){return!1},kp.prototype._get_jClass__0_k$=function(){throw Z$("There's no native JS class for Nothing type")},kp.prototype.equals=function(t){return t===this},kp.prototype.hashCode=function(){return 0},kp.$metadata$={simpleName:"NothingKClassImpl",kind:"object",interfaces:[]};var aO;function BK(){return aO==null&&new kp,aO}function j$(){}j$.prototype._get_simpleName__0_k$=function(){throw At("Unknown simpleName for ErrorKClass")},j$.prototype.isInstance_wi7j7l_k$=function(t){throw At("Can's check isInstance on ErrorKClass")},j$.prototype.equals=function(t){return t===this},j$.prototype.hashCode=function(){return 0},j$.$metadata$={simpleName:"ErrorKClass",kind:"class",interfaces:[df]};function rv(t){vl.call(this,t);var i=this,s;e:{var c;t:{c=t;break t}var p=c.$metadata$,v=p==null?null:p.simpleName;s=v;break e}i._simpleName_0=s}rv.prototype._get_simpleName__0_k$=function(){return this._simpleName_0},rv.prototype.isInstance_wi7j7l_k$=function(t){return Nme(t,this._get_jClass__0_k$())},rv.$metadata$={simpleName:"SimpleKClassImpl",kind:"class",interfaces:[]};function Zl(){}Zl.$metadata$={simpleName:"KProperty1",kind:"interface",interfaces:[FK]};function FK(){}FK.$metadata$={simpleName:"KProperty",kind:"interface",interfaces:[PK]};var sO;function MT(){}MT.prototype.invoke_wi7j7l_k$=function(t){return Re(t)},MT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},MT.$metadata$={kind:"class",interfaces:[]};function NT(){}NT.prototype.invoke_wi7j7l_k$=function(t){return AO(t)},NT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},NT.$metadata$={kind:"class",interfaces:[]};function RT(){}RT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?typeof t=="boolean":!1},RT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},RT.$metadata$={kind:"class",interfaces:[]};function PT(){}PT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?typeof t=="number":!1},PT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},PT.$metadata$={kind:"class",interfaces:[]};function BT(){}BT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?typeof t=="number":!1},BT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},BT.$metadata$={kind:"class",interfaces:[]};function FT(){}FT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?typeof t=="number":!1},FT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},FT.$metadata$={kind:"class",interfaces:[]};function LT(){}LT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?typeof t=="number":!1},LT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},LT.$metadata$={kind:"class",interfaces:[]};function DT(){}DT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?typeof t=="number":!1},DT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},DT.$metadata$={kind:"class",interfaces:[]};function OT(){}OT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?uo(t):!1},OT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},OT.$metadata$={kind:"class",interfaces:[]};function zT(){}zT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?typeof t=="string":!1},zT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},zT.$metadata$={kind:"class",interfaces:[]};function UT(){}UT.prototype.invoke_wi7j7l_k$=function(t){return t instanceof Error},UT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},UT.$metadata$={kind:"class",interfaces:[]};function jT(){}jT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?yS(t):!1},jT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},jT.$metadata$={kind:"class",interfaces:[]};function GT(){}GT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?bS(t):!1},GT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},GT.$metadata$={kind:"class",interfaces:[]};function WT(){}WT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?kS(t):!1},WT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},WT.$metadata$={kind:"class",interfaces:[]};function HT(){}HT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?$S(t):!1},HT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},HT.$metadata$={kind:"class",interfaces:[]};function VT(){}VT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?wS(t):!1},VT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},VT.$metadata$={kind:"class",interfaces:[]};function qT(){}qT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?xS(t):!1},qT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},qT.$metadata$={kind:"class",interfaces:[]};function KT(){}KT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?Lu(t):!1},KT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},KT.$metadata$={kind:"class",interfaces:[]};function JT(){}JT.prototype.invoke_wi7j7l_k$=function(t){return t!=null?SS(t):!1},JT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},JT.$metadata$={kind:"class",interfaces:[]};function XT(t){this._$arity=t}XT.prototype.invoke_wi7j7l_k$=function(t){var i;if(typeof t=="function"){var s;e:{s=t;break e}i=s.length===this._$arity}else i=!1;return i},XT.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},XT.$metadata$={kind:"class",interfaces:[]};function xn(){lO=this;var t=this,i;e:{var s=Object;i=s;break e}var c=i;t._anyClass=new Gi(c,"Any",mde());var p=this,v;e:{var k=Number;v=k;break e}var x=v;p._numberClass=new Gi(x,"Number",vde()),this._nothingClass=BK();var T=this,N;e:{var B=Boolean;N=B;break e}var L=N;T._booleanClass=new Gi(L,"Boolean",gde());var O=this,W;e:{var K=Number;W=K;break e}var q=W;O._byteClass=new Gi(q,"Byte",yde());var Q=this,ee;e:{var ie=Number;ee=ie;break e}var fe=ee;Q._shortClass=new Gi(fe,"Short",kde());var le=this,Se;e:{var Ee=Number;Se=Ee;break e}var Te=Se;le._intClass=new Gi(Te,"Int",$de());var Me=this,Ne;e:{var Pe=Number;Ne=Pe;break e}var Ye=Ne;Me._floatClass=new Gi(Ye,"Float",bde());var Ke=this,nt;e:{var Ze=Number;nt=Ze;break e}var ct=nt;Ke._doubleClass=new Gi(ct,"Double",wde());var ht=this,bt;e:{var It=Array;bt=It;break e}var Nt=bt;ht._arrayClass=new Gi(Nt,"Array",xde());var Rt=this,Xt;e:{var rn=String;Xt=rn;break e}var En=Xt;Rt._stringClass=new Gi(En,"String",Sde());var un=this,gn;e:{var Fn=Error;gn=Fn;break e}var Un=gn;un._throwableClass=new Gi(Un,"Throwable",Ede());var en=this,Nn;e:{var wn=Array;Nn=wn;break e}var yr=Nn;en._booleanArrayClass=new Gi(yr,"BooleanArray",Cde());var rr=this,Or;e:{var Jn=Uint16Array;Or=Jn;break e}var qr=Or;rr._charArrayClass=new Gi(qr,"CharArray",Ade());var $r=this,ei;e:{var br=Int8Array;ei=br;break e}var $i=ei;$r._byteArrayClass=new Gi($i,"ByteArray",Tde());var zr=this,oi;e:{var ti=Int16Array;oi=ti;break e}var Ri=oi;zr._shortArrayClass=new Gi(Ri,"ShortArray",Ide());var ni=this,ai;e:{var fo=Int32Array;ai=fo;break e}var po=ai;ni._intArrayClass=new Gi(po,"IntArray",Mde());var ha=this,Hi;e:{var ho=Array;Hi=ho;break e}var eo=Hi;ha._longArrayClass=new Gi(eo,"LongArray",Nde());var os=this,ta;e:{var Ga=Float32Array;ta=Ga;break e}var da=ta;os._floatArrayClass=new Gi(da,"FloatArray",Rde());var as=this,Wa;e:{var su=Float64Array;Wa=su;break e}var ss=Wa;as._doubleArrayClass=new Gi(ss,"DoubleArray",Pde())}xn.prototype._get_anyClass__0_k$=function(){return this._anyClass},xn.prototype._get_numberClass__0_k$=function(){return this._numberClass},xn.prototype._get_nothingClass__0_k$=function(){return this._nothingClass},xn.prototype._get_booleanClass__0_k$=function(){return this._booleanClass},xn.prototype._get_byteClass__0_k$=function(){return this._byteClass},xn.prototype._get_shortClass__0_k$=function(){return this._shortClass},xn.prototype._get_intClass__0_k$=function(){return this._intClass},xn.prototype._get_floatClass__0_k$=function(){return this._floatClass},xn.prototype._get_doubleClass__0_k$=function(){return this._doubleClass},xn.prototype._get_arrayClass__0_k$=function(){return this._arrayClass},xn.prototype._get_stringClass__0_k$=function(){return this._stringClass},xn.prototype._get_throwableClass__0_k$=function(){return this._throwableClass},xn.prototype._get_booleanArrayClass__0_k$=function(){return this._booleanArrayClass},xn.prototype._get_charArrayClass__0_k$=function(){return this._charArrayClass},xn.prototype._get_byteArrayClass__0_k$=function(){return this._byteArrayClass},xn.prototype._get_shortArrayClass__0_k$=function(){return this._shortArrayClass},xn.prototype._get_intArrayClass__0_k$=function(){return this._intArrayClass},xn.prototype._get_longArrayClass__0_k$=function(){return this._longArrayClass},xn.prototype._get_floatArrayClass__0_k$=function(){return this._floatArrayClass},xn.prototype._get_doubleArrayClass__0_k$=function(){return this._doubleArrayClass},xn.prototype.functionClass=function(t){var i=sO[t],s;if(i==null){var c;e:{var p;t:{var v;n:{var k=Function;v=k;break n}var x=v,T="Function"+t,N=new Gi(x,T,Bde(t)),B;n:{var L=sO;B=L;break n}B[t]=N,p=N;break t}c=p;break e}s=c}else s=i;return s},xn.$metadata$={simpleName:"PrimitiveClasses",kind:"object",interfaces:[]},Object.defineProperty(xn.prototype,"anyClass",{configurable:!0,get:xn.prototype._get_anyClass__0_k$}),Object.defineProperty(xn.prototype,"numberClass",{configurable:!0,get:xn.prototype._get_numberClass__0_k$}),Object.defineProperty(xn.prototype,"nothingClass",{configurable:!0,get:xn.prototype._get_nothingClass__0_k$}),Object.defineProperty(xn.prototype,"booleanClass",{configurable:!0,get:xn.prototype._get_booleanClass__0_k$}),Object.defineProperty(xn.prototype,"byteClass",{configurable:!0,get:xn.prototype._get_byteClass__0_k$}),Object.defineProperty(xn.prototype,"shortClass",{configurable:!0,get:xn.prototype._get_shortClass__0_k$}),Object.defineProperty(xn.prototype,"intClass",{configurable:!0,get:xn.prototype._get_intClass__0_k$}),Object.defineProperty(xn.prototype,"floatClass",{configurable:!0,get:xn.prototype._get_floatClass__0_k$}),Object.defineProperty(xn.prototype,"doubleClass",{configurable:!0,get:xn.prototype._get_doubleClass__0_k$}),Object.defineProperty(xn.prototype,"arrayClass",{configurable:!0,get:xn.prototype._get_arrayClass__0_k$}),Object.defineProperty(xn.prototype,"stringClass",{configurable:!0,get:xn.prototype._get_stringClass__0_k$}),Object.defineProperty(xn.prototype,"throwableClass",{configurable:!0,get:xn.prototype._get_throwableClass__0_k$}),Object.defineProperty(xn.prototype,"booleanArrayClass",{configurable:!0,get:xn.prototype._get_booleanArrayClass__0_k$}),Object.defineProperty(xn.prototype,"charArrayClass",{configurable:!0,get:xn.prototype._get_charArrayClass__0_k$}),Object.defineProperty(xn.prototype,"byteArrayClass",{configurable:!0,get:xn.prototype._get_byteArrayClass__0_k$}),Object.defineProperty(xn.prototype,"shortArrayClass",{configurable:!0,get:xn.prototype._get_shortArrayClass__0_k$}),Object.defineProperty(xn.prototype,"intArrayClass",{configurable:!0,get:xn.prototype._get_intArrayClass__0_k$}),Object.defineProperty(xn.prototype,"longArrayClass",{configurable:!0,get:xn.prototype._get_longArrayClass__0_k$}),Object.defineProperty(xn.prototype,"floatArrayClass",{configurable:!0,get:xn.prototype._get_floatArrayClass__0_k$}),Object.defineProperty(xn.prototype,"doubleArrayClass",{configurable:!0,get:xn.prototype._get_doubleArrayClass__0_k$});var lO;function ce(){return lO==null&&new xn,lO}function mde(){var t=new MT;return function(i){return t.invoke_wi7j7l_k$(i)}}function vde(){var t=new NT;return function(i){return t.invoke_wi7j7l_k$(i)}}function gde(){var t=new RT;return function(i){return t.invoke_wi7j7l_k$(i)}}function yde(){var t=new PT;return function(i){return t.invoke_wi7j7l_k$(i)}}function kde(){var t=new BT;return function(i){return t.invoke_wi7j7l_k$(i)}}function $de(){var t=new FT;return function(i){return t.invoke_wi7j7l_k$(i)}}function bde(){var t=new LT;return function(i){return t.invoke_wi7j7l_k$(i)}}function wde(){var t=new DT;return function(i){return t.invoke_wi7j7l_k$(i)}}function xde(){var t=new OT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Sde(){var t=new zT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Ede(){var t=new UT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Cde(){var t=new jT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Ade(){var t=new GT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Tde(){var t=new WT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Ide(){var t=new HT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Mde(){var t=new VT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Nde(){var t=new qT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Rde(){var t=new KT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Pde(){var t=new JT;return function(i){return t.invoke_wi7j7l_k$(i)}}function Bde(t){var i=new XT(t);return function(s){return i.invoke_wi7j7l_k$(s)}}function Fde(){var t;e:{t=ca(Array(0),null);break e}return t}function de(t){var i;if(Array.isArray(t)){var s;e:{var c;t:{c=t;break t}s=c;break e}i=Lde(s)}else{var p;e:{var v;t:{v=t;break t}p=v;break e}i=uO(p)}return i}function Lde(t){var i=t.length,s;switch(i){case 1:s=uO(t[0]);break;case 0:var c;e:{var p=BK(),v;t:{v=p;break t}c=v;break e}s=c;break;default:var k;e:{var x=new j$,T;t:{T=x;break t}k=T;break e}s=k;break}return s}function uO(t){if(t===String){var i;e:{var s=ce()._stringClass,c;t:{c=s;break t}i=c;break e}return i}var p;e:{p=t;break e}var v=p.$metadata$,k;if(v!=null){var x;if(v.$kClass$==null){var T=new rv(t);v.$kClass$=T,x=T}else x=v.$kClass$;k=x}else k=new rv(t);return k}function Xo(t){var i;e:{var s=typeof t,c;switch(s){case"string":c=ce()._stringClass;break;case"number":var p,v;t:{var k=zy(t,0);v=k;break t}v===t?p=ce()._intClass:p=ce()._doubleClass,c=p;break;case"boolean":c=ce()._booleanClass;break;case"function":var x=ce(),T;t:{T=t;break t}c=x.functionClass(T.length);break;default:var N;if(yS(t))N=ce()._booleanArrayClass;else if(bS(t))N=ce()._charArrayClass;else if(kS(t))N=ce()._byteArrayClass;else if($S(t))N=ce()._shortArrayClass;else if(wS(t))N=ce()._intArrayClass;else if(xS(t))N=ce()._longArrayClass;else if(Lu(t))N=ce()._floatArrayClass;else if(SS(t))N=ce()._doubleArrayClass;else if(Ce(t,df))N=de(df);else if(uo(t))N=ce()._arrayClass;else{var B=Object.getPrototypeOf(t).constructor,L;if(B===Object)L=ce()._anyClass;else if(B===Error)L=ce()._throwableClass;else{var O=B;L=uO(O)}N=L}c=N;break}var W=c,K;t:{K=W;break t}i=K;break e}return i}function LK(){}LK.$metadata$={simpleName:"Appendable",kind:"interface",interfaces:[]};function G$(t){kI(t,this),hr(this,G$)}G$.$metadata$={simpleName:"CharacterCodingException",kind:"class",interfaces:[]};function Dde(t,i){return DK(i),i}function YT(t){return Dde(t,Object.create(eu.prototype))}function DK(t){return eu.call(t,""),t}function $y(){return DK(Object.create(eu.prototype))}function eu(t){this._string=t!==void 0?t:""}eu.prototype._get_length__0_k$=function(){var t;e:{var i=this._string;t=i;break e}return t.length},eu.prototype.get_ha5a7z_k$=function(t){var i;e:{var s=this._string,c;if(t>=0?t<=Ya(s):!1)c=kn(s,t);else throw b_("index: "+t+", length: "+this._get_length__0_k$()+"}");i=c;break e}return i},eu.prototype.subSequence_27zxwg_k$=function(t,i){var s;e:{var c=this._string,p;t:{p=c;break t}s=p.substring(t,i);break e}return s},eu.prototype.append_wi8o78_k$=function(t){var i=this;return i._string=i._string+t,this},eu.prototype.append_v1o70a_k$=function(t){var i=this;return i._string=i._string+ed(t),this},eu.prototype.append_n5ylwa_k$=function(t,i,s){var c=t;return this.appendRange_icedxh_k$(c==null?"null":c,i,s)},eu.prototype.append_wi7j7l_k$=function(t){var i=this;return i._string=i._string+ed(t),this},eu.prototype.append_uch40_k$=function(t){var i=this,s=i,c=i._string,p=t;return s._string=c+(p==null?"null":p),this},eu.prototype.setLength_majfzk_k$=function(t){if(t<0)throw sn("Negative new length: "+t+".");if(t<=this._get_length__0_k$()){var i=this,s;e:{var c=this._string,p;t:{p=c;break t}s=p.substring(0,t);break e}i._string=s}else{var v=this._get_length__0_k$();if(v<t)do{v=v+1|0;var k=this;k._string=k._string+new pe(0)}while(v<t)}},eu.prototype.toString=function(){return this._string},eu.prototype.appendRange_icedxh_k$=function(t,i,s){var c=Bt(t);gr().checkBoundsIndexes_zd700_k$(i,s,c.length);var p=this,v=p,k=p._string,x;e:{var T;t:{T=c;break t}x=T.substring(i,s);break e}return v._string=k+x,this},eu.$metadata$={simpleName:"StringBuilder",kind:"class",interfaces:[LK,sS]};function Ode(t){return(((new pe(97)<=t?t<=new pe(122):!1)?!0:new pe(65)<=t?t<=new pe(90):!1)?!0:new pe(48)<=t?t<=new pe(57):!1)?!0:t.compareTo_wi8o78_k$(new pe(128))<0?!1:Dme(t)?!0:Ome(t)}function zde(t){return Gme(t)}function cO(t){var i;e:{var s;t:{var c;n:{var p=t.toString();c=p;break n}var v=c.toUpperCase();s=v;break t}i=s;break e}var k=i;return k.length>1?t:kn(k,0)}function Ude(t){return(new pe(97)<=t?t<=new pe(122):!1)?!0:t.compareTo_wi8o78_k$(new pe(128))<0?!1:zme(t)}function jde(t){return jme(t)}function W$(t){if(!(2<=t?t<=36:!1))throw sn("radix "+t+" was not in valid range 2..36");return t}function OK(t,i){var s;e:{s=t;break e}return s.toString(W$(i))}function QT(t,i){var s;e:{var c=(t.compareTo_wi8o78_k$(new pe(48))>=0?t.compareTo_wi8o78_k$(new pe(57))<=0:!1)?t.minus_wi8o78_k$(new pe(48)):(t.compareTo_wi8o78_k$(new pe(65))>=0?t.compareTo_wi8o78_k$(new pe(90))<=0:!1)?t.minus_wi8o78_k$(new pe(65))+10|0:(t.compareTo_wi8o78_k$(new pe(97))>=0?t.compareTo_wi8o78_k$(new pe(122))<=0:!1)?t.minus_wi8o78_k$(new pe(97))+10|0:t.compareTo_wi8o78_k$(new pe(128))<0?-1:(t.compareTo_wi8o78_k$(new pe(65313))>=0?t.compareTo_wi8o78_k$(new pe(65338))<=0:!1)?t.minus_wi8o78_k$(new pe(65313))+10|0:(t.compareTo_wi8o78_k$(new pe(65345))>=0?t.compareTo_wi8o78_k$(new pe(65370))<=0:!1)?t.minus_wi8o78_k$(new pe(65345))+10|0:gJ(t),p;t:{p=c>=i?-1:c;break t}s=p;break e}return s}function ZT(t){var i;e:{var s;t:{var c;n:{c=t;break n}var p=+c;s=p;break t}var v=s;((TT(v)?!UK(t):!1)?!0:v===0?q$(t):!1)&&sa(t),i=v;break e}return i}function zK(t){var i=lo(t),s;return i==null?sa(t):s=i,s}function Gde(t){var i;if(t!=null){var s;e:{var c;t:{c=t;break t}s=c.toLowerCase();break e}i=s==="true"}else i=!1;return i}function H$(t){var i;e:{var s;t:{var c;n:{c=t;break n}var p=+c;s=p;break t}var v=s,k,x;t:{x=!((TT(v)?!UK(t):!1)?!0:v===0?q$(t):!1);break t}x?k=v:k=null,i=k;break e}return i}function Wde(t){var i=Uh(t),s;return i==null?sa(t):s=i,s}function UK(t){var i;e:{var s;t:{s=t;break t}i=s.toLowerCase();break e}var c=i;switch(c){case"nan":case"+nan":case"-nan":return!0;default:return!1}}function eI(){_O=this,this._patternEscape=new RegExp("[\\\\^$*+?.()|[\\]{}]","g"),this._replacementEscape=new RegExp("\\$","g")}eI.prototype.escape_6wfw3l_k$=function(t){var i;e:{var s=this._patternEscape,c;t:{c=t;break t}i=c.replace(s,"\\$&");break e}return i},eI.prototype.escapeReplacement_6wfw3l_k$=function(t){var i;e:{var s=this._replacementEscape,c;t:{c=t;break t}i=c.replace(s,"$$$$");break e}return i},eI.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var _O;function jK(){return _O==null&&new eI,_O}function fO(t){return Yde(t,0,t.length,!1)}function Hde(t){for(var i=0,s=t.length,c=pS(s);i<s;){var p=i,v;e:{v=kn(t,p);break e}c[p]=v,i=i+1|0}return c}function Vde(t){for(var i="",s=t,c=0,p=s.length;c<p;){var v=s[c];c=c+1|0,i=i+v}return i}function qde(t,i,s,c){var p;e:{var v=new RegExp(jK().escape_6wfw3l_k$(i),c?"gui":"gu"),k=jK().escapeReplacement_6wfw3l_k$(s),x;t:{x=t;break t}p=x.replace(v,k);break e}return p}function GK(t,i,s,c,p,v){return(p&4)!=0&&(c=!1),qde(t,i,s,c)}function Kde(t,i,s){if(s)return tI(t,0,i,0,i.length,s);{var c;e:{var p;t:{p=t;break t}c=p.startsWith(i,0);break e}return c}}function V$(t,i,s,c,p){return(c&2)!=0&&(s=!1),Kde(t,i,s)}function Jde(t,i,s){if(s)return tI(t,t.length-i.length|0,i,0,i.length,s);{var c;e:{var p;t:{p=t;break t}c=p.endsWith(i);break e}return c}}function WK(t,i,s,c,p){return(c&2)!=0&&(s=!1),Jde(t,i,s)}function q$(t){var i;if(sr(t)===0)i=!0;else{var s;typeof t=="string"?s=t:s=Bt(t),i=Xde(s,"^[\\s\\xA0]+$")}return i}function tI(t,i,s,c,p,v){return jm(t,i,s,c,p,v)}function Xde(t,i){var s;e:{var c;t:{c=t;break t}s=c.match(i);break e}var p=s;return p!=null?p.length!==0:!1}function nI(t,i,s){var c;if(t==null)c=i==null;else if(!s)c=t==i;else if(i==null)c=!1;else{var p;e:{var v;t:{v=t;break t}p=v.toLowerCase();break e}var k=p,x;e:{var T;t:{T=i;break t}x=T.toLowerCase();break e}var N=x,B;if(k===N)B=!0;else{var L;e:{var O;t:{O=k;break t}L=O.toUpperCase();break e}var W=L,K;e:{var q;t:{q=N;break t}K=q.toUpperCase();break e}B=W===K}c=B}return c}var rI;function Yde(t,i,s,c){{var p=(i>=0?s<=t.length:!1)?i<=s:!1;if(!p){var v;e:{v="Failed requirement.";break e}var k=v;throw sn(Bt(k))}}for(var x=new Int8Array(pt(s-i|0,3)),T=0,N=i;N<s;){var B;e:{var L=N;N=L+1|0;var O=kn(t,L);B=O.toInt_0_k$();break e}var W=B;if(W<128){var K=T;T=K+1|0,x[K]=hi(W)}else if(W<2048){var q=T;T=q+1|0,x[q]=hi(W>>6|192);var Q=T;T=Q+1|0,x[Q]=hi(W&63|128)}else if(W<55296?!0:W>=57344){var ee=T;T=ee+1|0,x[ee]=hi(W>>12|224);var ie=T;T=ie+1|0,x[ie]=hi(W>>6&63|128);var fe=T;T=fe+1|0,x[fe]=hi(W&63|128)}else{var le=Qde(t,W,N,s,c);if(le<=0){var Se=T;T=Se+1|0,x[Se]=rI[0];var Ee=T;T=Ee+1|0,x[Ee]=rI[1];var Te=T;T=Te+1|0,x[Te]=rI[2]}else{var Me=T;T=Me+1|0,x[Me]=hi(le>>18|240);var Ne=T;T=Ne+1|0,x[Ne]=hi(le>>12&63|128);var Pe=T;T=Pe+1|0,x[Pe]=hi(le>>6&63|128);var Ye=T;T=Ye+1|0,x[Ye]=hi(le&63|128);var Ke=N;N=Ke+1|0,F()}}}return x.length===T?x:TO(x,T)}function Qde(t,i,s,c,p){if((55296<=i?i<=56319:!1)?s>=c:!0)return HK(0,s,p);var v;e:{var k=kn(t,s);v=k.toInt_0_k$();break e}var x=v;return(56320<=x?x<=57343:!1)?65536+((i&1023)<<10)|0|x&1023:HK(0,s,p)}function HK(t,i,s){if(s)throw new G$("Malformed sequence starting at "+(i-1|0));return-t|0}function Zde(){var t;e:{var i=new Int8Array([-17,-65,-67]);t=i;break e}return t}function VK(t){return new pO().buildFor_onfaoi_k$(t)}function eme(t,i){var s;e:{for(var c=t._visited,p=c,v=0,k=p.length;v<k;){var x=p[v];v=v+1|0;var T;t:{T=x===i;break t}if(T){s=!0;break e}}s=!1;break e}return s}function qK(t,i,s,c){if(!KK(t,i,s,c))return F();F();for(var p=t.cause;p!=null;){if(!KK(p,i,s,"Caused by: "))return F();F(),p=p.cause}}function KK(t,i,s,c){i._target.append_uch40_k$(s).append_uch40_k$(c),F();var p=t.toString();if(eme(i,t))return i._target.append_uch40_k$("[CIRCULAR REFERENCE, SEE ABOVE: ").append_uch40_k$(p).append_uch40_k$(`]
`),F(),!1;var v;e:{var k=i._visited;v=k;break e}v.push(t);var x;e:{x=t;break e}var T=x.stack,N=(T==null?!0:typeof T=="string")?T:M();if(N!=null){var B;e:{var L=N,O=V1(L,p,0,!1,6),W;t:{W=O<0?0:O+p.length|0;break t}B=W;break e}var K=B;K===0&&(i._target.append_uch40_k$(p).append_uch40_k$(`
`),F());var q;e:{var Q=i._topStack;q=sr(Q)===0;break e}q?(i._topStack=N,i._topStackStart=K):N=tme(i,N,K);var ee;e:{ee=sr(s)>0;break e}if(ee){var ie;if(K===0)ie=0;else{var fe;e:{for(var le=0,Se=p,Ee=0,Te=Se.length;Ee<Te;){var Me=kn(Se,Ee);Ee=Ee+1|0;var Ne;t:{Ne=Me.equals(new pe(10));break t}Ne&&(le=le+1|0,F())}fe=le;break e}ie=1+fe|0}for(var Pe=ie,Ye=tT(N),Ke=0,nt=Ye.iterator_0_k$();nt.hasNext_0_k$();){var Ze=nt.next_0_k$();{var ct=Ke;Ke=ct+1|0;var ht=Ae(ct);ht>=Pe&&(i._target.append_uch40_k$(s),F()),i._target.append_uch40_k$(Ze).append_uch40_k$(`
`),F()}}}else i._target.append_uch40_k$(N).append_uch40_k$(`
`),F()}else i._target.append_uch40_k$(p).append_uch40_k$(`
`),F();var bt=nme(t),It;e:{It=!bt.isEmpty_0_k$();break e}if(It)for(var Nt=s+"    ",Rt=bt.iterator_0_k$();Rt.hasNext_0_k$();){var Xt=Rt.next_0_k$();qK(Xt,i,Nt,"Suppressed: ")}return!0}function tme(t,i,s){var c=0,p=0,v=0,k=0,x;e:{var T=t._topStack.length-t._topStackStart|0,N=i.length-s|0;x=Math.min(T,N);break e}var B=x;if(k<B)e:do{var L=k;k=k+1|0;var O=kn(i,Ya(i)-L|0);if(!O.equals(kn(t._topStack,Ya(t._topStack)-L|0)))break e;O.equals(new pe(10))&&(c=c+1|0,v=p,p=L)}while(k<B);if(c<=1)return i;for(;v>0?kn(i,Ya(i)-(v-1|0)|0).equals(new pe(32)):!1;)v=v-1|0;return Ls(i,v)+("... and "+(c-1|0)+" more common stack frames skipped")}function pO(){this._target=$y();var t=this,i;e:{var s;t:{var c;n:{c=[];break n}s=c;break t}i=s;break e}t._visited=i,this._topStack="",this._topStackStart=0}pO.prototype.buildFor_onfaoi_k$=function(t){return qK(t,this,"",""),this._target.toString()},pO.$metadata$={simpleName:"ExceptionTraceBuilder",kind:"class",interfaces:[]};function nme(t){var i;e:{i=t;break e}var s=i._suppressed,c;if(s==null)c=null;else{var p;e:{p=s;break e}c=p}var v=c;return v==null?Da():v}function JK(){hO=this,this._MIN_VALUE_8=new pe(0),this._MAX_VALUE_8=new pe(65535),this._MIN_HIGH_SURROGATE=new pe(55296),this._MAX_HIGH_SURROGATE=new pe(56319),this._MIN_LOW_SURROGATE=new pe(56320),this._MAX_LOW_SURROGATE=new pe(57343),this._MIN_SURROGATE=new pe(55296),this._MAX_SURROGATE=new pe(57343),this._SIZE_BYTES_8=2,this._SIZE_BITS_8=16}JK.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var hO;function by(){return hO==null&&new JK,hO}function pe(t){by();var i=this,s;e:{s=d_(t)&65535;break e}i._value_2=s}pe.prototype.compareTo_wi8o78_k$=function(t){return this._value_2-t._value_2|0},pe.prototype.compareTo_2c5_k$=function(t){return this.compareTo_wi8o78_k$(t instanceof pe?t:M())},pe.prototype.plus_ha5a7z_k$=function(t){return wp(this._value_2+t|0)},pe.prototype.minus_wi8o78_k$=function(t){return this._value_2-t._value_2|0},pe.prototype.rangeTo_wi8o78_k$=function(t){return new hl(this,t)},pe.prototype.toInt_0_k$=function(){return this._value_2},pe.prototype.equals=function(t){return t===this?!0:t instanceof pe?this._value_2===t._value_2:!1},pe.prototype.hashCode=function(){return this._value_2},pe.prototype.toString=function(){var t;e:{var i=String.fromCharCode(this._value_2);t=i;break e}return t},pe.$metadata$={simpleName:"Char",kind:"class",interfaces:[v_]};function tu(){}tu.$metadata$={simpleName:"Iterable",kind:"interface",interfaces:[]};function Hr(){}Hr.$metadata$={simpleName:"List",kind:"interface",interfaces:[Si]};function iI(){}iI.$metadata$={simpleName:"MutableSet",kind:"interface",interfaces:[ys,aI]};function nu(){}nu.$metadata$={simpleName:"Entry",kind:"interface",interfaces:[]};function wo(){}wo.$metadata$={simpleName:"Map",kind:"interface",interfaces:[]};function dO(){}dO.$metadata$={simpleName:"MutableList",kind:"interface",interfaces:[Hr,aI]};function ys(){}ys.$metadata$={simpleName:"Set",kind:"interface",interfaces:[Si]};function oI(){}oI.$metadata$={simpleName:"MutableEntry",kind:"interface",interfaces:[nu]};function fS(){}fS.$metadata$={simpleName:"MutableMap",kind:"interface",interfaces:[wo]};function Si(){}Si.$metadata$={simpleName:"Collection",kind:"interface",interfaces:[tu]};function aI(){}aI.$metadata$={simpleName:"MutableCollection",kind:"interface",interfaces:[Si,sI]};function sI(){}sI.$metadata$={simpleName:"MutableIterable",kind:"interface",interfaces:[tu]};function yi(t,i){this._name=t,this._ordinal=i}yi.prototype._get_name__0_k$=function(){return this._name},yi.prototype._get_ordinal__0_k$=function(){return this._ordinal},yi.prototype.compareTo_2bq_k$=function(t){return iv(this._ordinal,t._ordinal)},yi.prototype.compareTo_2c5_k$=function(t){return this.compareTo_2bq_k$(t instanceof yi?t:M())},yi.prototype.equals=function(t){return this===t},yi.prototype.hashCode=function(){return fme(this)},yi.prototype.toString=function(){return this._name},yi.$metadata$={simpleName:"Enum",kind:"class",interfaces:[v_]};function ed(t){var i=t,s=i==null?null:Bt(i);return s==null?"null":s}function ca(t,i){var s=0,c=t.length-1|0;if(s<=c)do{var p=s;s=s+1|0,t[p]=i}while(p!==c);return t}function lI(t){return new uI(t)}function mO(t){var i;e:{var s;t:{var c=ca(Array(t),!1);c.$type$="BooleanArray",s=c;break t}var p=s;i=p;break e}return i}function pS(t){var i;e:{var s;t:{var c=Array(t),p;n:{var v,k;r:{by();var x=new pe(0);k=x.toInt_0_k$();break r}if(0<k)v=!0;else{var T;r:{by();var N=new pe(65535);T=N.toInt_0_k$();break r}v=0>T}if(v)throw sn("Invalid Char code: 0");p=new pe(0);break n}var B=ca(c,p);B.$type$="CharArray",s=B;break t}var L=s;i=L;break e}return i}function vO(t){var i;e:{var s;t:{var c=ca(Array(t),new at(0,0));c.$type$="LongArray",s=c;break t}var p=s;i=p;break e}return i}function wy(t){var i;e:{var s;t:{var c;n:{c=t;break n}var p=c.slice();p.$type$="CharArray",s=p;break t}var v=s;i=v;break e}return i}function uI(t){this._$array=t,this._index_5=0}uI.prototype.hasNext_0_k$=function(){return this._index_5!==this._$array.length},uI.prototype.next_0_k$=function(){var t;if(this._index_5!==this._$array.length){var i=this,s=i._index_5;i._index_5=s+1|0,t=this._$array[s]}else throw $_(""+this._index_5);return t},uI.$metadata$={kind:"class",interfaces:[Jr]};var cI,_I,gO,xy,yO,kO;function rme(t){return xy[0]=t,gO[0]}function ime(t){return gO[0]=t,xy[0]}function XK(t){return _I[0]=t,xy[kO]&j()._MIN_VALUE_5}function hS(t){var i;e:{var s=zy(t,0),c;t:{c=s;break t}i=c;break e}return i===t?Ay(t):(_I[0]=t,pt(xy[kO],31)+xy[yO]|0)}function ome(){var t;e:{var i=new Float64Array(cI),s;t:{s=i;break t}t=s;break e}return t}function ame(){var t;e:{var i=new Float32Array(cI),s;t:{s=i;break t}t=s;break e}return t}function sme(){var t;e:{var i=new Int32Array(cI),s;t:{s=i;break t}t=s;break e}return t}function lme(){var t;e:{var i;t:{_I[0]=-1,i=xy[0]!==0?1:0;break t}t=i;break e}return t}function kn(t,i){var s;if($O(t)){var c;e:{var p;t:{var v;n:{v=t;break n}var k=v.charCodeAt(i);p=k;break t}var x=p,T,N;t:{by();var B=new pe(0);N=B.toInt_0_k$();break t}if(x<N)T=!0;else{var L;t:{by();var O=new pe(65535);L=O.toInt_0_k$();break t}T=x>L}if(T)throw sn("Invalid Char code: "+x);c=wp(x);break e}s=c}else s=t.get_ha5a7z_k$(i);return s}function $O(t){return typeof t=="string"}function sr(t){var i;if($O(t)){var s;e:{var c;t:{c=t;break t}var p=c.length;s=p;break e}i=s}else i=t._get_length__0_k$();return i}function Sy(t,i,s){var c;if($O(t)){var p;e:{var v;t:{v=t;break t}var k=v.substring(i,s);p=k;break e}c=p}else c=t.subSequence_27zxwg_k$(i,s);return c}function ume(t){return _e(t,", ","[","]",0,null,cme(),24)}function YK(t,i){var s;e:{s=t;break e}var c=s,p;e:{p=i;break e}var v=p;if(c===v)return!0;if(((c==null?!0:v==null)?!0:!uJ(v))?!0:c.length!=v.length)return!1;var k=0,x=c.length;if(k<x)do{var T=k;if(k=k+1|0,!xt(c[T],v[T]))return!1}while(k<x);return!0}function QK(t){var i;e:{i=t;break e}var s=i;if(s==null)return 0;var c=1,p=0,v=s.length;if(p<v)do{var k=p;p=p+1|0,c=pt(c,31)+ur(s[k])|0}while(p<v);return c}function fI(){}fI.prototype.invoke_wi7j7l_k$=function(t){return Bt(t)},fI.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},fI.$metadata$={kind:"class",interfaces:[]};function cme(){var t=new fI;return function(i){return t.invoke_wi7j7l_k$(i)}}function iv(t,i){var s=typeof t,c;switch(s){case"number":var p;typeof i=="number"?p=ZK(t,i):i instanceof at?p=ZK(t,i.toDouble_0_k$()):p=eJ(t,i),c=p;break;case"string":case"boolean":c=eJ(t,i);break;default:c=_me(t,i);break}return c}function ZK(t,i){var s;if(t<i)s=-1;else if(t>i)s=1;else if(t===i){var c;if(t!==0)c=0;else{var p;e:{p=1;break e}var v=p/t,k,x;e:{x=1;break e}v===x/i?k=0:v<0?k=-1:k=1,c=k}s=c}else t!==t?s=i!==i?0:1:s=-1;return s}function eJ(t,i){return t<i?-1:t>i?1:0}function _me(t,i){return t.compareTo_2c5_k$(i)}function fme(t){return bO(t)}function bO(t){if(!PJ("kotlinHashCodeValue$",t)){var i=zy(Math.random()*4294967296,0),s=new Object;s.value=i,s.enumerable=!1,Object.defineProperty(t,"kotlinHashCodeValue$",s)}var c;e:{var p=t.kotlinHashCodeValue$;c=p;break e}return c}function Bt(t){var i;if(t==null)i="null";else if(uJ(t))i="[...]";else{var s;e:{var c=t.toString();s=c;break e}i=s}return i}function xt(t,i){if(t==null)return i==null;if(i==null)return!1;if(typeof t=="object"?typeof t.equals=="function":!1)return t.equals(i);if(t!==t)return i!==i;if(typeof t=="number"?typeof i=="number":!1){var s;if(t===i){var c;if(t!==0)c=!0;else{var p;e:{p=1;break e}var v=p/t,k;e:{k=1;break e}c=v===k/i}s=c}else s=!1;return s}return t===i}function ur(t){if(t==null)return 0;var i=typeof t,s;switch(i){case"object":s=typeof t.hashCode=="function"?t.hashCode():bO(t);break;case"function":s=bO(t);break;case"number":s=hS(t);break;case"boolean":var c,p;e:{p=t;break e}p?c=1:c=0,s=c;break;default:s=td(String(t));break}return s}function td(t){var i=0,s=t.length,c=0,p=s-1|0;if(c<=p)do{var v=c;c=c+1|0;var k;e:{k=t;break e}var x=k.charCodeAt(v);i=pt(i,31)+x|0}while(v!==p);return i}function hr(t,i){if(Error.captureStackTrace!=null)Error.captureStackTrace(t,i);else{var s;e:{s=t;break e}s.stack=new Error().stack}}function pI(t,i,s){Error.call(t),pme(t,i,s)}function pme(t,i,s){if(!tJ(t,"message")){var c;if(i==null){var p;if(i!==null){var v=s,k=v==null?null:v.toString();p=k==null?void 0:k}else p=void 0;c=p}else c=i;t.message=c}tJ(t,"cause")||(t.cause=s),t.name=Object.getPrototypeOf(t).constructor.name}function tJ(t,i){var s;e:{var c=Object.getPrototypeOf(t).hasOwnProperty(i);s=c;break e}return s}function Ei(t){var i;return t==null?hme():i=t,i}function hme(){throw MJ()}function Lr(){throw NJ()}function M(){throw RJ()}function dS(t,i){return new Gm(i)}function nJ(t){return new Gm(t)}function K$(t,i){var s=t.length,c=i.length,p=0,v;e:{v=i;break e}for(var k=v;p<s?p<c:!1;){var x=p,T=p;p=T+1|0,k[x]=t[T]}return i}function wO(t,i,s){var c;e:{var p=t.slice(0,i);c=p;break e}var v=c;t.$type$!==void 0&&(v.$type$=t.$type$);var k=t.length;if(i>k){var x;e:{x=v;break e}for(x.length=i;k<i;){var T=k;k=T+1|0,v[T]=s}}return v}function rJ(){xO=this,this._MIN_VALUE_9=new at(0,-2147483648),this._MAX_VALUE_9=new at(-1,2147483647),this._SIZE_BYTES_9=8,this._SIZE_BITS_9=64}rJ.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var xO;function ks(){return xO==null&&new rJ,xO}function at(t,i){ks(),lS.call(this),this._low=t,this._high=i}at.prototype.compareTo_wiekkq_k$=function(t){return hI(this,t)},at.prototype.compareTo_2c5_k$=function(t){return this.compareTo_wiekkq_k$(t instanceof at?t:M())},at.prototype.plus_wiekkq_k$=function(t){return dI(this,t)},at.prototype.minus_wiekkq_k$=function(t){return Ey(this,t)},at.prototype.times_wiekkq_k$=function(t){return bp(this,t)},at.prototype.div_wiekkq_k$=function(t){return dme(this,t)},at.prototype.rem_wiekkq_k$=function(t){return mme(this,t)},at.prototype.inc_0_k$=function(){return this.plus_wiekkq_k$(new at(1,0))},at.prototype.dec_0_k$=function(){return this.minus_wiekkq_k$(new at(1,0))},at.prototype.unaryMinus_0_k$=function(){return this.inv_0_k$().plus_wiekkq_k$(new at(1,0))},at.prototype.shl_ha5a7z_k$=function(t){return oJ(this,t)},at.prototype.ushr_ha5a7z_k$=function(t){return gme(this,t)},at.prototype.and_wiekkq_k$=function(t){return new at(this._low&t._low,this._high&t._high)},at.prototype.or_wiekkq_k$=function(t){return new at(this._low|t._low,this._high|t._high)},at.prototype.xor_wiekkq_k$=function(t){return new at(this._low^t._low,this._high^t._high)},at.prototype.inv_0_k$=function(){return new at(~this._low,~this._high)},at.prototype.toByte_0_k$=function(){return hi(this._low)},at.prototype.toShort_0_k$=function(){return Ty(this._low)},at.prototype.toInt_0_k$=function(){return this._low},at.prototype.toDouble_0_k$=function(){return vS(this)},at.prototype.valueOf=function(){return this.toDouble_0_k$()},at.prototype.equals=function(t){var i;return t instanceof at?i=vf(this,t):i=!1,i},at.prototype.hashCode=function(){return yme(this)},at.prototype.toString=function(){return mI(this,10)},at.$metadata$={simpleName:"Long",kind:"class",interfaces:[v_]};var $p,mS,SO,iJ,mf,EO;function hI(t,i){if(vf(t,i))return 0;var s=k_(t),c=k_(i);return(s?!c:!1)?-1:(s?!1:c)?1:k_(Ey(t,i))?-1:1}function dI(t,i){var s=t._high>>>16,c=t._high&65535,p=t._low>>>16,v=t._low&65535,k=i._high>>>16,x=i._high&65535,T=i._low>>>16,N=i._low&65535,B=0,L=0,O=0,W=0;return W=W+(v+N|0)|0,O=O+(W>>>16)|0,W=W&65535,O=O+(p+T|0)|0,L=L+(O>>>16)|0,O=O&65535,L=L+(c+x|0)|0,B=B+(L>>>16)|0,L=L&65535,B=B+(s+k|0)|0,B=B&65535,new at(O<<16|W,B<<16|L)}function Ey(t,i){return dI(t,i.unaryMinus_0_k$())}function bp(t,i){if(Cy(t))return $p;if(Cy(i))return $p;if(vf(t,mf))return aJ(i)?mf:$p;if(vf(i,mf))return aJ(t)?mf:$p;if(k_(t)){var s;return k_(i)?s=bp(Bu(t),Bu(i)):s=Bu(bp(Bu(t),i)),s}else if(k_(i))return Bu(bp(t,Bu(i)));if(sJ(t,EO)?sJ(i,EO):!1)return X$(vS(t)*vS(i));var c=t._high>>>16,p=t._high&65535,v=t._low>>>16,k=t._low&65535,x=i._high>>>16,T=i._high&65535,N=i._low>>>16,B=i._low&65535,L=0,O=0,W=0,K=0;return K=K+pt(k,B)|0,W=W+(K>>>16)|0,K=K&65535,W=W+pt(v,B)|0,O=O+(W>>>16)|0,W=W&65535,W=W+pt(k,N)|0,O=O+(W>>>16)|0,W=W&65535,O=O+pt(p,B)|0,L=L+(O>>>16)|0,O=O&65535,O=O+pt(v,N)|0,L=L+(O>>>16)|0,O=O&65535,O=O+pt(k,T)|0,L=L+(O>>>16)|0,O=O&65535,L=L+(((pt(c,B)+pt(p,N)|0)+pt(v,T)|0)+pt(k,x)|0)|0,L=L&65535,new at(W<<16|K,L<<16|O)}function dme(t,i){if(Cy(i))throw xp("division by zero");if(Cy(t))return $p;if(vf(t,mf)){if(vf(i,mS)?!0:vf(i,SO))return mf;if(vf(i,mf))return mS;var s=vme(t,1),c=oJ(s.div_wiekkq_k$(i),1);if(vf(c,$p))return k_(i)?mS:SO;var p=Ey(t,bp(i,c));return dI(c,p.div_wiekkq_k$(i))}else if(vf(i,mf))return $p;if(k_(t)){var v;return k_(i)?v=Bu(t).div_wiekkq_k$(Bu(i)):v=Bu(Bu(t).div_wiekkq_k$(i)),v}else if(k_(i))return Bu(t.div_wiekkq_k$(Bu(i)));for(var k=$p,x=t;$me(x,i);){for(var T=vS(x)/vS(i),N=Math.max(1,Math.floor(T)),B=Math.ceil(Math.log(N)/Math.LN2),L=B<=48?1:Math.pow(2,B-48),O=X$(N),W=bp(O,i);k_(W)?!0:kme(W,x);)N=N-L,O=X$(N),W=bp(O,i);Cy(O)&&(O=mS),k=dI(k,O),x=Ey(x,W)}return k}function mme(t,i){return Ey(t,bp(t.div_wiekkq_k$(i),i))}function oJ(t,i){var s=i&63;return s===0?t:s<32?new at(t._low<<s,t._high<<s|t._low>>>(32-s|0)):new at(0,t._low<<(s-32|0))}function vme(t,i){var s=i&63;return s===0?t:s<32?new at(t._low>>>s|t._high<<(32-s|0),t._high>>s):new at(t._high>>(s-32|0),t._high>=0?0:-1)}function gme(t,i){var s=i&63;if(s===0)return t;if(s<32)return new at(t._low>>>s|t._high<<(32-s|0),t._high>>>s);var c;return s===32?c=new at(t._high,0):c=new at(t._high>>>(s-32|0),0),c}function vS(t){return t._high*4294967296+bme(t)}function vf(t,i){return t._high===i._high?t._low===i._low:!1}function yme(t){return t._low^t._high}function mI(t,i){if(i<2?!0:36<i)throw xp("radix out of range: "+i);if(Cy(t))return"0";if(k_(t))if(vf(t,mf)){var s=J$(i),c=t.div_wiekkq_k$(s),p=Ey(bp(c,s),t).toInt_0_k$(),v=mI(c,i),k;e:{var x;t:{x=p;break t}var T=x.toString(i);k=T;break e}return v+k}else return"-"+mI(Bu(t),i);for(var N=X$(Math.pow(i,6)),B=t,L="";;){var O=B.div_wiekkq_k$(N),W=Ey(B,bp(O,N)).toInt_0_k$(),K;e:{var q;t:{q=W;break t}var Q=q.toString(i);K=Q;break e}var ee=K;if(B=O,Cy(B))return ee+L;for(;ee.length<6;)ee="0"+ee;L=ee+L}}function J$(t){return new at(t,t<0?-1:0)}function k_(t){return t._high<0}function Cy(t){return t._high===0?t._low===0:!1}function aJ(t){return(t._low&1)==1}function Bu(t){return t.unaryMinus_0_k$()}function sJ(t,i){return hI(t,i)<0}function X$(t){if(TT(t))return $p;if(t<=-9223372036854776e3)return mf;if(t+1>=9223372036854776e3)return iJ;if(t<0)return Bu(X$(-t));var i=4294967296;return new at(zy(t%i,0),zy(t/i,0))}function kme(t,i){return hI(t,i)>0}function $me(t,i){return hI(t,i)>=0}function bme(t){return t._low>=0?t._low:4294967296+t._low}function pt(t,i){var s=HO(t,4294901760)*HO(i,65535),c=HO(t,65535)*i;return zy(s+c,0)}function nd(t){var i=0,s=0,c=t.length-1|0;if(s<=c)do{var p=s;s=s+1|0;var v=i,k;e:{var x=t[p],T;t:{T=x;break t}k=T;break e}i=v+k.length|0}while(p!==c);var N=t[0],B;e:{var L=wme(N,i);B=L;break e}var O=B,W;e:{W=N;break e}if(W.$type$!=null){e:{var K;t:{K=N;break t}var q=K.$type$;O.$type$=q;break e}}i=0;var Q=0,ee=t.length-1|0;if(Q<=ee)do{var ie=Q;Q=Q+1|0;var fe;e:{var le=t[ie],Se;t:{Se=le;break t}fe=Se;break e}var Ee=fe,Te=0,Me=Ee.length-1|0;if(Te<=Me)do{var Ne=Te;Te=Te+1|0;var Pe=i;i=Pe+1|0,O[Pe]=Ee[Ne]}while(Ne!==Me)}while(ie!==ee);var Ye;e:{var Ke;t:{Ke=O;break t}Ye=Ke;break e}return Ye}function wme(t,i){return new t.constructor(i)}function hi(t){var i;e:{var s=Sme(t);i=s;break e}return i}function Ay(t){var i;return t instanceof at?i=t.toInt_0_k$():i=xme(t),i}function xme(t){return t>2147483647?2147483647:t<-2147483648?-2147483648:zy(t,0)}function Ty(t){var i;e:{var s=Eme(t);i=s;break e}return i}function CO(t){var i;return t instanceof at?i=t:i=X$(t),i}function wp(t){var i;e:{var s=Ay(t);i=Vh(Ty(s));break e}return new pe(i)}function Yi(t){return J$(t)}function Sme(t){return t<<24>>24}function Eme(t){return t<<16>>16}function gf(t,i){return new wi(t,i)}var lJ;function Fu(t,i,s,c,p){c.get=c,c.set=p,c.callableName=t;var v;e:{var k=Cme(c,Ame(i,p,s));v=k;break e}return v}function Cme(t,i){return t.$metadata$=i,t.constructor=t,t}function Ame(t,i,s){var c=lJ[t][i==null?0:1];return c.interfaces.length==0&&c.interfaces.push(s),c}function Tme(){var t;e:{var i;t:{var s;n:{s={kind:"class",interfaces:[]};break n}var c=s,p;n:{p={kind:"class",interfaces:[]};break n}var v=[c,p],k;n:{var x;r:{x=v;break r}k=x;break n}i=k;break t}var T=i,N;t:{var B;n:{B={kind:"class",interfaces:[]};break n}var L=B,O;n:{O={kind:"class",interfaces:[]};break n}var W=[L,O],K;n:{var q;r:{q=W;break r}K=q;break n}N=K;break t}var Q=N,ee;t:{var ie;n:{ie={kind:"class",interfaces:[]};break n}var fe=ie,le;n:{le={kind:"class",interfaces:[]};break n}var Se=[fe,le],Ee;n:{var Te;r:{Te=Se;break r}Ee=Te;break n}ee=Ee;break t}var Me=[T,Q,ee],Ne;t:{var Pe;n:{Pe=Me;break n}Ne=Pe;break t}t=Ne;break e}return t}function uJ(t){var i;if(gS(t))i=!0;else{var s;e:{var c=ArrayBuffer.isView(t);s=c;break e}i=s}return i}function gS(t){var i;e:{var s=Array.isArray(t);i=s;break e}return i}function Ce(t,i){var s=t.constructor,c;if(s==null)return!1;c=s;var p=c;return vI(p,i)}function vI(t,i){if(t===i)return!0;var s=t.$metadata$;if(s!=null)for(var c=s.interfaces,p=c,v=0,k=p.length;v<k;){var x=p[v];if(v=v+1|0,vI(x,i))return!0}var T=t.prototype!=null?Object.getPrototypeOf(t.prototype):null,N=T!=null?T.constructor:null;return N!=null?vI(N,i):!1}function uo(t){var i;if(gS(t)){var s;e:{s=t;break e}i=!s.$type$}else i=!1;return i}function Re(t){var i=typeof t,s=i;switch(s){case"string":return!0;case"number":return!0;case"boolean":return!0;case"function":return!0;default:return av(t,Object)}}function Ime(t,i){if(typeof t=="function"){var s;e:{var c=t.$arity;s=c;break e}return s===i}return!1}function AO(t){var i;return typeof t=="number"?i=!0:i=t instanceof at,i}function Mme(t){var i=typeof t;return((i==="string"?!0:i==="boolean")?!0:AO(t))?!0:Ce(t,Fr(de(v_)))}function gI(t){return typeof t=="string"?!0:Ce(t,Fr(de(sS)))}function yS(t){return gS(t)?t.$type$==="BooleanArray":!1}function kS(t){return av(t,Int8Array)}function $S(t){return av(t,Int16Array)}function bS(t){return gS(t)?t.$type$==="CharArray":!1}function wS(t){return av(t,Int32Array)}function Lu(t){return av(t,Float32Array)}function xS(t){return gS(t)?t.$type$==="LongArray":!1}function SS(t){return av(t,Float64Array)}function Nme(t,i){if(i===Object)return Re(t);if((t==null?!0:i==null)?!0:typeof t!="object"?typeof t!="function":!1)return!1;if(typeof i=="function"?av(t,i):!1)return!0;var s=Rme(i),c=s,p=c==null?null:c.constructor;if(p!=null?PJ("$metadata$",p):!1){var v=p.$metadata$;if(v.kind==="object")return t===i}var k=i.$metadata$;return k==null?av(t,i):(k.kind==="interface"?t.constructor!=null:!1)?vI(t.constructor,i):!1}function Rme(t){return Object.getPrototypeOf(t)}function cJ(t,i){{var s=i>=0;if(!s){var c;e:{c="Invalid new array size: "+i+".";break e}var p=c;throw sn(Bt(p))}}var v;e:{var k=K$(t,pS(i));k.$type$="CharArray",v=k;break e}return v}function _J(t,i){{var s=i>=0;if(!s){var c;e:{c="Invalid new array size: "+i+".";break e}var p=c;throw sn(Bt(p))}}return K$(t,new Float64Array(i))}function fJ(t,i){{var s=i>=0;if(!s){var c;e:{c="Invalid new array size: "+i+".";break e}var p=c;throw sn(Bt(p))}}return K$(t,new Float32Array(i))}function pJ(t,i){{var s=i>=0;if(!s){var c;e:{c="Invalid new array size: "+i+".";break e}var p=c;throw sn(Bt(p))}}var v;e:{var k=wO(t,i,new at(0,0));k.$type$="LongArray",v=k;break e}return v}function hJ(t,i){{var s=i>=0;if(!s){var c;e:{c="Invalid new array size: "+i+".";break e}var p=c;throw sn(Bt(p))}}return K$(t,new Int32Array(i))}function dJ(t,i){{var s=i>=0;if(!s){var c;e:{c="Invalid new array size: "+i+".";break e}var p=c;throw sn(Bt(p))}}return K$(t,new Int16Array(i))}function TO(t,i){{var s=i>=0;if(!s){var c;e:{c="Invalid new array size: "+i+".";break e}var p=c;throw sn(Bt(p))}}return K$(t,new Int8Array(i))}function mJ(t,i){{var s=i>=0;if(!s){var c;e:{c="Invalid new array size: "+i+".";break e}var p=c;throw sn(Bt(p))}}var v;e:{var k=wO(t,i,!1);k.$type$="BooleanArray",v=k;break e}return v}function ES(t){var i;e:{var s;t:{s=t;break t}i=s;break e}return new gi(i)}function IO(t,i){return YK(t,i)}function Pme(t){return QK(t)}function vJ(t,i){return YK(t,i)}function Bme(t,i){t.length>1&&SK(t,i)}function Fme(t,i,s){gr().checkRangeIndexes_zd700_k$(i,s,t.length);var c;e:{c=t;break e}return c.slice(i,s)}function Sc(t,i){{var s=i>=0;if(!s){var c;e:{c="Invalid new array size: "+i+".";break e}var p=c;throw sn(Bt(p))}}return wO(t,i,null)}function MO(t,i,s,c){gr().checkRangeIndexes_zd700_k$(s,c,t.length);var p;e:{p=t;break e}p.fill(i,s,c)}function Lme(t){return QK(t)}function NO(t,i,s){for(var c=new Int32Array(s),p=0,v=0,k=0,x=t,T=0,N=x.length;T<N;){var B=kn(x,T);T=T+1|0;var L;e:{L=B.toInt_0_k$();break e}var O=i[L];if(v=v|(O&31)<<k,O<32){var W=p;p=W+1|0,c[W]=v,v=0,k=0}else k=k+5|0}return c}function Dme(t){return gJ(t)>=0}function gJ(t){var i;e:{i=t.toInt_0_k$();break e}var s=i,c=RO(kJ()._rangeStart,s),p=s-kJ()._rangeStart[c]|0;return p<10?p:-1}function RO(t,i){for(var s=0,c=t.length-1|0,p=-1,v=0;s<=c;)if(p=(s+c|0)/2|0,v=t[p],i>v)s=p+1|0;else{if(i===v)return p;c=p-1|0}return p-(i<v?1:0)|0}function yJ(){PO=this;var t=this,i;e:{i=new Int32Array([48,1632,1776,1984,2406,2534,2662,2790,2918,3046,3174,3302,3430,3558,3664,3792,3872,4160,4240,6112,6160,6470,6608,6784,6800,6992,7088,7232,7248,42528,43216,43264,43472,43504,43600,44016,65296]);break e}t._rangeStart=i}yJ.$metadata$={simpleName:"Digit",kind:"object",interfaces:[]};var PO;function kJ(){return PO==null&&new yJ,PO}function Ome(t){return $J(t)!==0}function $J(t){var i;e:{i=t.toInt_0_k$();break e}var s=i,c=RO(yI()._decodedRangeStart,s),p=yI()._decodedRangeStart[c],v=(p+yI()._decodedRangeLength[c]|0)-1|0,k=yI()._decodedRangeCategory[c];if(s>v)return 0;var x=k&3;if(x===0){var T=2,N=p,B=0;if(B<=1)do{if(B=B+1|0,N=N+(k>>T&127)|0,N>s)return 3;if(T=T+7|0,N=N+(k>>T&127)|0,N>s)return 0;T=T+7|0}while(B<=1);return 3}if(k<=7)return x;var L=s-p|0,O=k<=31?L%2:L;return k>>pt(2,O)&3}function bJ(){BO=this;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Int32Array(128),s=0,c=sr(t)-1|0;if(s<=c)do{var p=s;s=s+1|0;var v;e:{var k=kn(t,p);v=k.toInt_0_k$();break e}i[v]=p}while(s<=c);var x="hCgBpCQGYHZH5BRpBPPPPPPRMP5BPPlCPP6BkEPPPPcPXPzBvBrB3BOiDoBHwD+E3DauCnFmBmB2D6E1BlBTiBmBlBP5BhBiBrBvBjBqBnBPRtBiCmCtBlB0BmB5BiB7BmBgEmChBZgCoEoGVpBSfRhBPqKQ2BwBYoFgB4CJuTiEvBuCuDrF5DgEgFlJ1DgFmBQtBsBRGsB+BPiBlD1EIjDPRPPPQPPPPPGQSQS/DxENVNU+B9zCwBwBPPCkDPNnBPqDYY1R8B7FkFgTgwGgwUwmBgKwBuBScmEP/BPPPPPPrBP8B7F1B/ErBqC6B7BiBmBfQsBUwCw/KwqIwLwETPcPjQgJxFgBlBsD",T=NO(x,i,222),N=new Int32Array(T.length),B=0,L=T.length-1|0;if(B<=L)do{var O=B;B=B+1|0,O===0?N[O]=T[O]:N[O]=N[O-1|0]+T[O]|0}while(B<=L);this._decodedRangeStart=N;var W="aaMBXHYH5BRpBPPPPPPRMP5BPPlCPPzBDOOPPcPXPzBvBjB3BOhDmBBpB7DoDYxB+EiBP1DoExBkBQhBekBPmBgBhBctBiBMWOOXhCsBpBkBUV3Ba4BkB0DlCgBXgBtD4FSdBfPhBPpKP0BvBXjEQ2CGsT8DhBtCqDpFvD1D3E0IrD2EkBJrBDOBsB+BPiBlB1EIjDPPPPPPPPPPPGPPMNLsBNPNPKCvBvBPPCkDPBmBPhDXXgD4B6FzEgDguG9vUtkB9JcuBSckEP/BPPPPPPBPf4FrBjEhBpC3B5BKaWPrBOwCk/KsCuLqDHPbPxPsFtEaaqDL";this._decodedRangeLength=NO(W,i,222);var K="GFjgggUHGGFFZZZmzpz5qB6s6020B60ptltB6smt2sB60mz22B1+vv+8BZZ5s2850BW5q1ymtB506smzBF3q1q1qB1q1q1+Bgii4wDTm74g3KiggxqM60q1q1Bq1o1q1BF1qlrqrBZ2q5wprBGFZWWZGHFsjiooLowgmOowjkwCkgoiIk7ligGogiioBkwkiYkzj2oNoi+sbkwj04DghhkQ8wgiYkgoioDsgnkwC4gikQ//v+85BkwvoIsgoyI4yguI0whiwEowri4CoghsJowgqYowgm4DkwgsY/nwnzPowhmYkg6wI8yggZswikwHgxgmIoxgqYkwgk4DkxgmIkgoioBsgssoBgzgyI8g9gL8g9kI0wgwJoxgkoC0wgioFkw/wI0w53iF4gioYowjmgBHGq1qkgwBF1q1q8qBHwghuIwghyKk0goQkwgoQk3goQHGFHkyg0pBgxj6IoinkxDswno7Ikwhz9Bo0gioB8z48Rwli0xN0mpjoX8w78pDwltoqKHFGGwwgsIHFH3q1q16BFHWFZ1q10q1B2qlwq1B1q10q1B2q1yq1B6q1gq1Biq1qhxBir1qp1Bqt1q1qB1g1q1+B//3q16B///q1qBH/qlqq9Bholqq9B1i00a1q10qD1op1HkwmigEigiy6Cptogq1Bixo1kDq7/j00B2qgoBWGFm1lz50B6s5q1+BGWhggzhwBFFhgk4//Bo2jigE8wguI8wguI8wgugUog1qoB4qjmIwwi2KgkYHHH4lBgiFWkgIWoghssMmz5smrBZ3q1y50B5sm7gzBtz1smzB5smz50BqzqtmzB5sgzqzBF2/9//5BowgoIwmnkzPkwgk4C8ys65BkgoqI0wgy6FghquZo2giY0ghiIsgh24B4ghsQ8QF/v1q1OFs0O8iCHHF1qggz/B8wg6Iznv+//B08QgohsjK0QGFk7hsQ4gB";this._decodedRangeCategory=NO(K,i,222)}bJ.$metadata$={simpleName:"Letter",kind:"object",interfaces:[]};var BO;function yI(){return BO==null&&new bJ,BO}function zme(t){var i;if($J(t)===1)i=!0;else{var s;e:{s=t.toInt_0_k$();break e}i=Ume(s)}return i}function Ume(t){var i=RO(LO()._otherLowerStart,t);return i>=0?t<(LO()._otherLowerStart[i]+LO()._otherLowerLength[i]|0):!1}function wJ(){FO=this;var t=this,i;e:{i=new Int32Array([170,186,688,704,736,837,890,7468,7544,7579,8305,8319,8336,8560,9424,11388,42652,42864,43e3,43868]);break e}t._otherLowerStart=i;var s=this,c;e:{c=new Int32Array([1,1,9,2,5,1,1,63,1,37,1,1,13,16,26,2,2,1,2,4]);break e}s._otherLowerLength=c}wJ.$metadata$={simpleName:"OtherLowercase",kind:"object",interfaces:[]};var FO;function LO(){return FO==null&&new wJ,FO}function jme(t){var i;e:{i=t.toInt_0_k$();break e}var s=i;return((452<=s?s<=460:!1)?!0:497<=s?s<=499:!1)?wp(pt(3,(s+1|0)/3|0)):((4304<=s?s<=4346:!1)?!0:4349<=s?s<=4351:!1)?t:cO(t)}function Gme(t){var i;e:{i=t.toInt_0_k$();break e}var s=i;return(((9<=s?s<=13:!1)?!0:28<=s?s<=32:!1)?!0:s===160)?!0:s>4096?(((((s===5760?!0:8192<=s?s<=8202:!1)?!0:s===8232)?!0:s===8233)?!0:s===8239)?!0:s===8287)?!0:s===12288:!1}function Wme(t){var i=t._intercepted_;(i!=null?i!==t:!1)&&Ei(t._get_context__0_k$().get_9uvjra_k$(q2())).releaseInterceptedContinuation_h7c6yl_k$(i),t._intercepted_=Hme()}function Du(t){this._resultContinuation=t,this._state_2=0,this._exceptionState=0,this._result_0=null,this._exception_0=null,this._finallyPath=null;var i=this,s=this._resultContinuation;i.__context=s==null?null:s._get_context__0_k$(),this._intercepted_=null}Du.prototype._get_exception__0_k$=function(){return this._exception_0},Du.prototype._get_context__0_k$=function(){return Ei(this.__context)},Du.prototype.resumeWith_jccoe6_k$=function(t){var i=this,s;e:{var c;if(HD(t))c=null;else{var p=Iu(t);c=(p==null?!0:Re(p))?p:M()}s=c;break e}for(var v=s,k=cT(t);;){e:{var x=i;k==null?x._result_0=v:(x._state_2=x._exceptionState,x._exception_0=k);try{var T=x.doResume_0_k$();if(T===_l())return F();v=T,k=null}catch(q){v=null;var N;t:{N=q;break t}k=N}Wme(x);var B=Ei(x._resultContinuation);if(B instanceof Du)i=B,F();else{if(k!=null){t:{var L=Ei(k),O;n:{O=Hm(b$(L));break n}B.resumeWith_bnunh2_k$(O);break t}}else{t:{var W=v,K;n:{K=Hm(W);break n}B.resumeWith_bnunh2_k$(K);break t}}return F()}break e}}},Du.prototype.resumeWith_bnunh2_k$=function(t){return this.resumeWith_jccoe6_k$(t)},Du.$metadata$={simpleName:"CoroutineImpl",kind:"class",interfaces:[rf]};function Y$(){DO=this}Y$.prototype._get_context__0_k$=function(){throw At("This continuation is already complete")},Y$.prototype.resumeWith_jccoe6_k$=function(t){throw At("This continuation is already complete")},Y$.prototype.resumeWith_bnunh2_k$=function(t){return this.resumeWith_jccoe6_k$(t)},Y$.prototype.toString=function(){return"This continuation is already complete"},Y$.$metadata$={simpleName:"CompletedContinuation",kind:"object",interfaces:[rf]};var DO;function Hme(){return DO==null&&new Y$,DO}function Vme(t,i,s){var c;e:{c=new Iy(t,i,s);break e}return c}function Iy(t,i,s){this._$this_createCoroutineUnintercepted=t,this._$receiver=i,this._$completion=s,Du.call(this,Ce(s,rf)?s:M())}Iy.prototype.doResume_2_0_k$=function(){if(this._get_exception__0_k$()!=null)throw this._get_exception__0_k$();var t;e:{var i;t:{i=this._$this_createCoroutineUnintercepted;break t}t=i(this._$receiver,this._$completion);break e}return t},Iy.prototype.doResume_0_k$=function(){return this.doResume_2_0_k$()},Iy.$metadata$={simpleName:"<no name provided>_1",kind:"class",interfaces:[]};function qme(t){return pI(t,void 0,void 0),ki.call(t),t}function kI(t,i){return pI(i,t,void 0),ki.call(i),i}function xp(t){var i=kI(t,Object.create(ki.prototype));return hr(i,xp),i}function xJ(t,i,s){return pI(s,t,i),ki.call(s),s}function OO(t,i){var s=xJ(t,i,Object.create(ki.prototype));return hr(s,OO),s}function ki(){hr(this,ki)}ki.$metadata$={simpleName:"Exception",kind:"class",interfaces:[]};function zO(t,i){return pI(i,t,void 0),rd.call(i),i}function SJ(t){var i=zO(t,Object.create(rd.prototype));return hr(i,SJ),i}function rd(){hr(this,rd)}rd.$metadata$={simpleName:"Error",kind:"class",interfaces:[]};function Kme(t){return Q$(t),co.call(t),t}function EJ(){var t=Kme(Object.create(co.prototype));return hr(t,EJ),t}function UO(t,i){return ov(t,i),co.call(i),i}function sn(t){var i=UO(t,Object.create(co.prototype));return hr(i,sn),i}function Jme(t,i,s){return Xme(t,i,s),co.call(s),s}function co(){hr(this,co)}co.$metadata$={simpleName:"IllegalArgumentException",kind:"class",interfaces:[]};function Q$(t){return qme(t),Za.call(t),t}function ov(t,i){return kI(t,i),Za.call(i),i}function jO(t){var i=ov(t,Object.create(Za.prototype));return hr(i,jO),i}function Xme(t,i,s){return xJ(t,i,s),Za.call(s),s}function Za(){hr(this,Za)}Za.$metadata$={simpleName:"RuntimeException",kind:"class",interfaces:[]};function Yme(t){return Q$(t),id.call(t),t}function js(){var t=Yme(Object.create(id.prototype));return hr(t,js),t}function Qme(t,i){return ov(t,i),id.call(i),i}function $_(t){var i=Qme(t,Object.create(id.prototype));return hr(i,$_),i}function id(){hr(this,id)}id.$metadata$={simpleName:"NoSuchElementException",kind:"class",interfaces:[]};function Zme(t,i){return ov(t,i),My.call(i),i}function At(t){var i=Zme(t,Object.create(My.prototype));return hr(i,At),i}function My(){hr(this,My)}My.$metadata$={simpleName:"IllegalStateException",kind:"class",interfaces:[]};function eve(t){return Q$(t),od.call(t),t}function GO(){var t=eve(Object.create(od.prototype));return hr(t,GO),t}function tve(t,i){return ov(t,i),od.call(i),i}function Z$(t){var i=tve(t,Object.create(od.prototype));return hr(i,Z$),i}function od(){hr(this,od)}od.$metadata$={simpleName:"UnsupportedOperationException",kind:"class",interfaces:[]};function nve(t,i){return ov(t,i),Ny.call(i),i}function b_(t){var i=nve(t,Object.create(Ny.prototype));return hr(i,b_),i}function Ny(){hr(this,Ny)}Ny.$metadata$={simpleName:"IndexOutOfBoundsException",kind:"class",interfaces:[]};function rve(t,i){return ov(t,i),Ry.call(i),i}function CJ(t){var i=rve(t,Object.create(Ry.prototype));return hr(i,CJ),i}function Ry(){hr(this,Ry)}Ry.$metadata$={simpleName:"ArithmeticException",kind:"class",interfaces:[]};function ive(t,i){return ov(t,i),Py.call(i),i}function AJ(t){var i=ive(t,Object.create(Py.prototype));return hr(i,AJ),i}function Py(){hr(this,Py)}Py.$metadata$={simpleName:"ConcurrentModificationException",kind:"class",interfaces:[]};function ove(t,i){return zO(t,i),By.call(i),i}function TJ(t){var i=ove(t,Object.create(By.prototype));return hr(i,TJ),i}function By(){hr(this,By)}By.$metadata$={simpleName:"AssertionError",kind:"class",interfaces:[]};function ave(t,i){return UO(t,i),Fy.call(i),i}function IJ(t){var i=ave(t,Object.create(Fy.prototype));return hr(i,IJ),i}function Fy(){hr(this,Fy)}Fy.$metadata$={simpleName:"NumberFormatException",kind:"class",interfaces:[]};function sve(t){return Q$(t),Ly.call(t),t}function MJ(){var t=sve(Object.create(Ly.prototype));return hr(t,MJ),t}function Ly(){hr(this,Ly)}Ly.$metadata$={simpleName:"NullPointerException",kind:"class",interfaces:[]};function lve(t){return Q$(t),Dy.call(t),t}function NJ(){var t=lve(Object.create(Dy.prototype));return hr(t,NJ),t}function Dy(){hr(this,Dy)}Dy.$metadata$={simpleName:"NoWhenBranchMatchedException",kind:"class",interfaces:[]};function uve(t){return Q$(t),Oy.call(t),t}function RJ(){var t=uve(Object.create(Oy.prototype));return hr(t,RJ),t}function Oy(){hr(this,Oy)}Oy.$metadata$={simpleName:"ClassCastException",kind:"class",interfaces:[]};function PJ(t,i){var s;e:{var c=cve(t,i);s=c;break e}return s}function zy(t,i){var s;e:{var c=_ve(t,i);s=c;break e}return s}function WO(t,i){fve(t,i)}function av(t,i){var s;e:{var c=pve(t,i);s=c;break e}return s}function HO(t,i){var s;e:{var c=hve(t,i);s=c;break e}return s}function cve(t,i){return t in i}function _ve(t,i){return t|i}function fve(t,i){return delete t[i]}function pve(t,i){return t instanceof i}function hve(t,i){return t&i}function VO(t,i){var s=XK(t),c=XK(i);return s===c?t:-t}function dve(t){return ime(t)}function qO(t,i){return mI(t,W$(i))}function CS(){KO=this,Uy.call(this)}CS.$metadata$={simpleName:"None",kind:"object",interfaces:[]};var KO;function $I(){return KO==null&&new CS,KO}function Uy(){}Uy.prototype.atomicfu$Trace$append$1=function(t){},Uy.prototype.atomicfu$Trace$append$2=function(t,i){},Uy.prototype.atomicfu$Trace$append$3=function(t,i,s){},Uy.prototype.atomicfu$Trace$append$4=function(t,i,s,c){},Uy.$metadata$={simpleName:"TraceBase",kind:"class",interfaces:[]};function Sp(t){this._value_3=t}Sp.prototype._set_value__iav7o_k$=function(t){this._value_3=t},Sp.prototype._get_value__0_k$=function(){return this._value_3},Sp.prototype.atomicfu$compareAndSet=function(t,i){return this._value_3!==t?!1:(this._value_3=i,!0)},Sp.prototype.atomicfu$getAndSet=function(t){var i=this._value_3;return this._value_3=t,i},Sp.prototype.toString=function(){return ed(this._value_3)},Sp.$metadata$={simpleName:"AtomicRef",kind:"class",interfaces:[]},Object.defineProperty(Sp.prototype,"kotlinx$atomicfu$value",{configurable:!0,get:Sp.prototype._get_value__0_k$,set:Sp.prototype._set_value__iav7o_k$});function Ep(t){this._value_4=t}Ep.prototype._set_value__rpwsgn_k$=function(t){this._value_4=t},Ep.prototype._get_value__0_k$=function(){return this._value_4},Ep.prototype.atomicfu$compareAndSet=function(t,i){return this._value_4!==t?!1:(this._value_4=i,!0)},Ep.prototype.atomicfu$getAndSet=function(t){var i=this._value_4;return this._value_4=t,i},Ep.prototype.toString=function(){return this._value_4.toString()},Ep.$metadata$={simpleName:"AtomicBoolean",kind:"class",interfaces:[]},Object.defineProperty(Ep.prototype,"kotlinx$atomicfu$value",{configurable:!0,get:Ep.prototype._get_value__0_k$,set:Ep.prototype._set_value__rpwsgn_k$});function gl(t){this._value_5=t}gl.prototype._set_value__majfzk_k$=function(t){this._value_5=t},gl.prototype._get_value__0_k$=function(){return this._value_5},gl.prototype.atomicfu$compareAndSet=function(t,i){return this._value_5!==t?!1:(this._value_5=i,!0)},gl.prototype.atomicfu$getAndSet=function(t){var i=this._value_5;return this._value_5=t,i},gl.prototype.atomicfu$getAndIncrement=function(){var t=this,i=t._value_5;return t._value_5=i+1|0,i},gl.prototype.atomicfu$getAndDecrement=function(){var t=this,i=t._value_5;return t._value_5=i-1|0,i},gl.prototype.atomicfu$getAndAdd=function(t){var i=this._value_5,s=this;return s._value_5=s._value_5+t|0,i},gl.prototype.atomicfu$addAndGet=function(t){var i=this;return i._value_5=i._value_5+t|0,this._value_5},gl.prototype.atomicfu$incrementAndGet=function(){var t=this;return t._value_5=t._value_5+1|0,t._value_5},gl.prototype.atomicfu$decrementAndGet=function(){var t=this;return t._value_5=t._value_5-1|0,t._value_5},gl.prototype.toString=function(){return this._value_5.toString()},gl.$metadata$={simpleName:"AtomicInt",kind:"class",interfaces:[]},Object.defineProperty(gl.prototype,"kotlinx$atomicfu$value",{configurable:!0,get:gl.prototype._get_value__0_k$,set:gl.prototype._set_value__majfzk_k$});function yl(t){this._value_6=t}yl.prototype._set_value__kdfck9_k$=function(t){this._value_6=t},yl.prototype._get_value__0_k$=function(){return this._value_6},yl.prototype.atomicfu$compareAndSet=function(t,i){return this._value_6.equals(t)?(this._value_6=i,!0):!1},yl.prototype.atomicfu$getAndSet=function(t){var i=this._value_6;return this._value_6=t,i},yl.prototype.atomicfu$getAndIncrement$long=function(){var t=this,i=t._value_6;return t._value_6=i.inc_0_k$(),i},yl.prototype.atomicfu$getAndDecrement$long=function(){var t=this,i=t._value_6;return t._value_6=i.dec_0_k$(),i},yl.prototype.atomicfu$getAndAdd$long=function(t){var i=this._value_6,s=this;return s._value_6=s._value_6.plus_wiekkq_k$(t),i},yl.prototype.atomicfu$addAndGet$long=function(t){var i=this;return i._value_6=i._value_6.plus_wiekkq_k$(t),this._value_6},yl.prototype.atomicfu$incrementAndGet$long=function(){var t=this;return t._value_6=t._value_6.inc_0_k$(),t._value_6},yl.prototype.atomicfu$decrementAndGet$long=function(){var t=this;return t._value_6=t._value_6.dec_0_k$(),t._value_6},yl.prototype.toString=function(){return this._value_6.toString()},yl.$metadata$={simpleName:"AtomicLong",kind:"class",interfaces:[]},Object.defineProperty(yl.prototype,"kotlinx$atomicfu$value",{configurable:!0,get:yl.prototype._get_value__0_k$,set:yl.prototype._set_value__kdfck9_k$});function mve(t,i){return vve(t,i===void 0?$I():i)}function vve(t,i){return new Sp(t)}function gve(t,i){return yve(t,i===void 0?$I():i)}function yve(t,i){return new Ep(t)}function kve(t,i){return $ve(t,i===void 0?$I():i)}function $ve(t,i){return new gl(t)}function bve(t,i){return wve(t,i===void 0?$I():i)}function wve(t,i){return new yl(t)}function BJ(){}BJ.$metadata$={simpleName:"PersistentCollection",kind:"interface",interfaces:[eb]};function eb(){}eb.$metadata$={simpleName:"ImmutableCollection",kind:"interface",interfaces:[Si]};function Cp(){}Cp.$metadata$={simpleName:"PersistentList",kind:"interface",interfaces:[JO,BJ]};function JO(){}JO.$metadata$={simpleName:"ImmutableList",kind:"interface",interfaces:[Hr,eb]};function XO(){}XO.$metadata$={simpleName:"PersistentMap",kind:"interface",interfaces:[FJ]};function FJ(){}FJ.$metadata$={simpleName:"ImmutableMap",kind:"interface",interfaces:[wo]};function AS(){}AS.$metadata$={simpleName:"ImmutableSet",kind:"interface",interfaces:[ys,eb]};function bI(){return Tve()}function Ec(t,i){this._index_6=t,this._size_1=i}Ec.prototype._set_index__majfzk_k$=function(t){this._index_6=t},Ec.prototype._get_index__0_k$=function(){return this._index_6},Ec.prototype._get_size__0_k$=function(){return this._size_1},Ec.prototype.hasNext_0_k$=function(){return this._index_6<this._size_1},Ec.prototype.checkHasNext_sv8swh_k$=function(){if(!this.hasNext_0_k$())throw js()},Ec.$metadata$={simpleName:"AbstractListIterator",kind:"class",interfaces:[hy]};function ru(){$o.call(this)}ru.prototype.remove_2bq_k$=function(t){var i=this.indexOf_2bq_k$(t);return i!==-1?this.removeAt_ha5a7z_k$(i):this},ru.prototype.contains_2bq_k$=function(t){return this.indexOf_2bq_k$(t)!==-1},ru.prototype.containsAll_dxd4eo_k$=function(t){var i;e:{var s;if(Ce(t,Si)?s=t.isEmpty_0_k$():s=!1,s){i=!0;break e}for(var c=t.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$(),v;t:{v=this.contains_2bq_k$(p);break t}if(!v){i=!1;break e}}i=!0;break e}return i},ru.prototype.iterator_0_k$=function(){return this.listIterator_0_k$()},ru.prototype.listIterator_0_k$=function(){return this.listIterator_ha5a7z_k$(0)},ru.$metadata$={simpleName:"AbstractPersistentList",kind:"class",interfaces:[Cp]};function tb(t,i,s){Ec.call(this,i,s),this._buffer_0=t}tb.prototype.next_0_k$=function(){if(!this.hasNext_0_k$())throw js();var t=this,i=t._get_index__0_k$();return t._set_index__majfzk_k$(i+1|0),this._buffer_0[i]},tb.$metadata$={simpleName:"BufferIterator",kind:"class",interfaces:[]};function wI(t){return nz(t._size_2)}function xve(t,i,s,c){if(t._size_2>>5>1<<t._rootShift){var p=tz(i),v=t._rootShift+5|0;return p=YO(t,p,v,s),new kl(p,c,t._size_2+1|0,v)}var k=YO(t,i,t._rootShift,s);return new kl(k,c,t._size_2+1|0,t._rootShift)}function YO(t,i,s,c){var p=jy(t._size_2-1|0,s),v=i,k=v==null?null:Sc(v,32),x;if(k==null){var T;e:{var N=32;T=ca(Array(N),null);break e}x=T}else x=k;var B=x;if(s===5)B[p]=c;else{var L=B[p];B[p]=YO(t,(L==null?!0:uo(L))?L:M(),s-5|0,c)}return B}function LJ(t,i,s,c,p){var v=t._size_2-s|0;if(hd(p<v),v===1)return Sve(t,i,s,c);var k=Sc(t._tail,32);if(p<(v-1|0)){e:{var x=t._tail,T=p+1|0;Ve(x,k,p,T,v);break e}F()}return k[v-1|0]=null,new kl(i,k,(s+v|0)-1|0,c)}function Sve(t,i,s,c){if(c===0){var p=i.length===33?Sc(i,32):i;return new Ou(p)}var v=new rz(null),k=Ei(DJ(t,i,c,s-1|0,v)),x=v._value_7,T=(x!=null?uo(x):!1)?x:M();if(k[1]==null){var N=k[0],B=(N!=null?uo(N):!1)?N:M();return new kl(B,T,s,c-5|0)}return new kl(k,T,s,c)}function DJ(t,i,s,c,p){var v=jy(c,s),k;if(s===5)p._value_7=i[v],k=null;else{var x=i[v];k=DJ(t,(x!=null?uo(x):!1)?x:M(),s-5|0,c,p)}var T=k;if(T==null?v===0:!1)return null;var N=Sc(i,32);return N[v]=T,N}function QO(t,i,s,c,p){var v=jy(c,s);if(s===0){var k;if(v===0){var x;e:{var T=32;x=ca(Array(T),null);break e}k=x}else k=Sc(i,32);var N=k;e:{var B=v+1|0,L=32;Ve(i,N,v,B,L);break e}return F(),N[31]=p._value_7,p._value_7=i[v],N}var O=31;i[O]==null&&(O=jy(wI(t)-1|0,s));var W=Sc(i,32),K=s-5|0,q=O,Q=v+1|0;if(Q<=q)do{var ee=q;q=q+-1|0;var ie=W[ee];W[ee]=QO(t,(ie!=null?uo(ie):!1)?ie:M(),K,0,p)}while(ee!==Q);var fe=W[v];return W[v]=QO(t,(fe!=null?uo(fe):!1)?fe:M(),K,c,p),W}function Eve(t,i){if(wI(t)<=i)return t._tail;for(var s=t._root,c=t._rootShift;c>0;){var p=s[jy(i,c)];s=(p!=null?uo(p):!1)?p:M(),c=c-5|0}return s}function kl(t,i,s,c){ru.call(this),this._root=t,this._tail=i,this._size_2=s,this._rootShift=c;{var p=this._size_2>32;if(!p){var v;e:{v="Trie-based persistent vector should have at least 33 elements, got "+this._size_2;break e}var k=v;throw sn(Bt(k))}}hd((this._size_2-nz(this._size_2)|0)<=it(this._tail.length,32))}kl.prototype._get_size__0_k$=function(){return this._size_2},kl.prototype.add_2bq_k$=function(t){var i=this._size_2-wI(this)|0;if(i<32){var s=Sc(this._tail,32);return s[i]=t,new kl(this._root,s,this._size_2+1|0,this._rootShift)}var c=tz(t);return xve(this,this._root,this._tail,c)},kl.prototype.removeAt_ha5a7z_k$=function(t){ub().checkElementIndex_rvwcgf_k$(t,this._size_2);var i=wI(this);if(t>=i)return LJ(this,this._root,i,this._rootShift,t-i|0);var s=QO(this,this._root,this._rootShift,t,new rz(this._tail[0]));return LJ(this,s,i,this._rootShift,0)},kl.prototype.listIterator_ha5a7z_k$=function(t){ub().checkPositionIndex_rvwcgf_k$(t,this._size_2);var i=this._tail;return new nb(this._root,uo(i)?i:M(),t,this._size_2,(this._rootShift/5|0)+1|0)},kl.prototype.get_ha5a7z_k$=function(t){ub().checkElementIndex_rvwcgf_k$(t,this._size_2);var i=Eve(this,t),s=i[t&31];return(s==null?!0:Re(s))?s:M()},kl.$metadata$={simpleName:"PersistentVector",kind:"class",interfaces:[Cp]};function nb(t,i,s,c,p){Ec.call(this,s,c),this._tail_0=i;var v=nz(c),k=it(s,v);this._trieIterator=new rb(t,k,v,p)}nb.prototype.next_0_k$=function(){if(this.checkHasNext_sv8swh_k$(),this._trieIterator.hasNext_0_k$()){var t=this,i=t._get_index__0_k$();return t._set_index__majfzk_k$(i+1|0),F(),this._trieIterator.next_0_k$()}var s=this,c=s._get_index__0_k$();return s._set_index__majfzk_k$(c+1|0),this._tail_0[c-this._trieIterator._get_size__0_k$()|0]},nb.$metadata$={simpleName:"PersistentVectorIterator",kind:"class",interfaces:[]};function OJ(){ZO=this;var t=this,i;e:{i=[];break e}t._EMPTY_1=new Ou(i)}OJ.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var ZO;function ez(){return ZO==null&&new OJ,ZO}function Ou(t){ez(),ru.call(this),this._buffer_1=t,hd(this._buffer_1.length<=32)}Ou.prototype._get_size__0_k$=function(){return this._buffer_1.length},Ou.prototype.add_2bq_k$=function(t){if(this._get_size__0_k$()<32){var i=Sc(this._buffer_1,this._get_size__0_k$()+1|0);return i[this._get_size__0_k$()]=t,new Ou(i)}var s=tz(t);return new kl(this._buffer_1,s,this._get_size__0_k$()+1|0,0)},Ou.prototype.removeAt_ha5a7z_k$=function(t){if(ub().checkElementIndex_rvwcgf_k$(t,this._get_size__0_k$()),this._get_size__0_k$()===1)return ez()._EMPTY_1;var i=Sc(this._buffer_1,this._get_size__0_k$()-1|0);e:{var s=this._buffer_1,c=t+1|0,p=this._get_size__0_k$();Ve(s,i,t,c,p);break e}return F(),new Ou(i)},Ou.prototype.indexOf_2bq_k$=function(t){return C(this._buffer_1,t)},Ou.prototype.listIterator_ha5a7z_k$=function(t){ub().checkPositionIndex_rvwcgf_k$(t,this._get_size__0_k$());var i=this._buffer_1;return new tb(uo(i)?i:M(),t,this._get_size__0_k$())},Ou.prototype.get_ha5a7z_k$=function(t){ub().checkElementIndex_rvwcgf_k$(t,this._get_size__0_k$());var i=this._buffer_1[t];return(i==null?!0:Re(i))?i:M()},Ou.$metadata$={simpleName:"SmallPersistentVector",kind:"class",interfaces:[JO]};function zJ(t,i,s){for(var c=pt(t._height-s|0,5),p=s;p<t._height;){var v=t._path,k=p,x=t._path[p-1|0];v[k]=((x!=null?uo(x):!1)?x:M())[jy(i,c)],c=c-5|0,p=p+1|0}}function Cve(t,i){for(var s=0;jy(t._get_index__0_k$(),s)===i;)s=s+5|0;if(s>0){var c=(t._height-1|0)-(s/5|0)|0;zJ(t,t._get_index__0_k$(),c+1|0)}}function Ave(t){var i=t._get_index__0_k$()&31,s=t._path[t._height-1|0];return((s!=null?uo(s):!1)?s:M())[i]}function rb(t,i,s,c){Ec.call(this,i,s),this._height=c;var p=this,v;e:{var k=this._height;v=ca(Array(k),null);break e}p._path=v,this._isInRightEdge=i===s,this._path[0]=t,zJ(this,i-(this._isInRightEdge?1:0)|0,1)}rb.prototype.next_0_k$=function(){if(!this.hasNext_0_k$())throw js();var t=Ave(this),i=this;return i._set_index__majfzk_k$(i._get_index__0_k$()+1|0),this._get_index__0_k$()===this._get_size__0_k$()?(this._isInRightEdge=!0,t):(Cve(this,0),t)},rb.$metadata$={simpleName:"TrieIterator",kind:"class",interfaces:[]};function Tve(){return ez()._EMPTY_1}function tz(t){var i;e:{var s=32;i=ca(Array(s),null);break e}var c=i;return c[0]=t,c}function nz(t){return(t-1|0)&-32}function jy(t,i){return t>>i&31}function rz(t){this._value_7=t}rz.$metadata$={simpleName:"ObjectRef",kind:"class",interfaces:[]};function Ive(t){return new ud(t)}function iz(){oz=this,this._EMPTY_2=new zu(xI()._EMPTY_3,0)}iz.prototype.emptyOf_7dfbla_k$=function(){var t=this._EMPTY_2;return t instanceof zu?t:M()},iz.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var oz;function UJ(){return oz==null&&new iz,oz}function zu(t,i){UJ(),ji.call(this),this._node=t,this._size_3=i}zu.prototype._get_size__0_k$=function(){return this._size_3},zu.prototype._get_keys__0_k$=function(){return new sd(this)},zu.prototype._get_values__0_k$=function(){return new ld(this)},zu.prototype._get_entries__0_k$=function(){return Ive(this)},zu.prototype.containsKey_2bw_k$=function(t){var i;e:{var s=t,c=s==null?null:ur(s);i=c==null?0:c;break e}return this._node.containsKey_s82vys_k$(i,t,0)},zu.prototype.get_2bw_k$=function(t){var i;e:{var s=t,c=s==null?null:ur(s);i=c==null?0:c;break e}return this._node.get_s82vys_k$(i,t,0)},zu.prototype.put_1q9pf_k$=function(t,i){var s;e:{var c=t,p=c==null?null:ur(c);s=p==null?0:p;break e}var v=this._node.put_y0njj7_k$(s,t,i,0),k;if(v==null)return this;k=v;var x=k;return new zu(x._node_0,this._size_3+x._sizeDelta|0)},zu.$metadata$={simpleName:"PersistentHashMap",kind:"class",interfaces:[XO]};function TS(t){var i=0,s=8,c;e:{c=ca(Array(s),null);break e}for(var p=c;i<s;){var v=i,k;e:{k=new ib;break e}p[v]=k,i=i+1|0}ad.call(this,t,p)}TS.$metadata$={simpleName:"PersistentHashMapKeysIterator",kind:"class",interfaces:[]};function IS(t){var i=0,s=8,c;e:{c=ca(Array(s),null);break e}for(var p=c;i<s;){var v=i,k;e:{k=new ob;break e}p[v]=k,i=i+1|0}ad.call(this,t,p)}IS.$metadata$={simpleName:"PersistentHashMapValuesIterator",kind:"class",interfaces:[]};function MS(t){var i=0,s=8,c;e:{c=ca(Array(s),null);break e}for(var p=c;i<s;){var v=i,k;e:{k=new ab;break e}p[v]=k,i=i+1|0}ad.call(this,t,p)}MS.$metadata$={simpleName:"PersistentHashMapEntriesIterator",kind:"class",interfaces:[]};function sv(t,i){this._key_0=t,this._value_8=i}sv.prototype._get_key__0_k$=function(){return this._key_0},sv.prototype._get_value__0_k$=function(){return this._value_8},sv.prototype.hashCode=function(){var t;e:{var i=this._get_key__0_k$(),s=i,c=s==null?null:ur(s);t=c==null?0:c;break e}var p=t,v;e:{var k=this._get_value__0_k$(),x=k,T=x==null?null:ur(x);v=T==null?0:T;break e}return p^v},sv.prototype.equals=function(t){var i=(t!=null?Ce(t,nu):!1)?t:null,s;if(i==null)s=null;else{var c;e:{var p;t:{p=xt(i._get_key__0_k$(),this._get_key__0_k$())?xt(i._get_value__0_k$(),this._get_value__0_k$()):!1;break t}c=p;break e}s=c}var v=s;return v==null?!1:v},sv.prototype.toString=function(){return ed(this._get_key__0_k$())+"="+ed(this._get_value__0_k$())},sv.$metadata$={simpleName:"MapEntry",kind:"class",interfaces:[nu]};function az(t,i){if(t._path_0[i].hasNextKey_0_k$())return i;if(t._path_0[i].hasNextNode_0_k$()){var s=t._path_0[i].currentNode_0_k$();return i===6?t._path_0[i+1|0].reset_tvwza9_k$(s._buffer_3,s._buffer_3.length):t._path_0[i+1|0].reset_tvwza9_k$(s._buffer_3,pt(2,s.entryCount_0_k$())),az(t,i+1|0)}return-1}function jJ(t){if(t._path_0[t._pathLastIndex].hasNextKey_0_k$())return F();var i=t._pathLastIndex;if(0<=i)do{var s=i;i=i+-1|0;var c=az(t,s);if((c===-1?t._path_0[s].hasNextNode_0_k$():!1)&&(t._path_0[s].moveToNextNode_sv8swh_k$(),c=az(t,s)),c!==-1)return t._pathLastIndex=c,F();s>0&&t._path_0[s-1|0].moveToNextNode_sv8swh_k$(),t._path_0[s].reset_tvwza9_k$(xI()._EMPTY_3._buffer_3,0)}while(0<=i);t._hasNext_1=!1}function Mve(t){if(!t.hasNext_0_k$())throw js()}function ad(t,i){this._path_0=i,this._pathLastIndex=0,this._hasNext_1=!0,this._path_0[0].reset_tvwza9_k$(t._buffer_3,pt(2,t.entryCount_0_k$())),this._pathLastIndex=0,jJ(this)}ad.prototype.hasNext_0_k$=function(){return this._hasNext_1},ad.prototype.next_0_k$=function(){Mve(this);var t=this._path_0[this._pathLastIndex].next_0_k$();return jJ(this),t},ad.$metadata$={simpleName:"PersistentHashMapBaseIterator",kind:"class",interfaces:[Jr]};function $s(){this._buffer_2=xI()._EMPTY_3._buffer_3,this._dataSize=0,this._index_7=0}$s.prototype._get_buffer__0_k$=function(){return this._buffer_2},$s.prototype._set_index__majfzk_k$=function(t){this._index_7=t},$s.prototype._get_index__0_k$=function(){return this._index_7},$s.prototype.reset_1vj1qa_k$=function(t,i,s){this._buffer_2=t,this._dataSize=i,this._index_7=s},$s.prototype.reset_tvwza9_k$=function(t,i){this.reset_1vj1qa_k$(t,i,0)},$s.prototype.hasNextKey_0_k$=function(){return this._index_7<this._dataSize},$s.prototype.hasNextNode_0_k$=function(){return hd(this._index_7>=this._dataSize),this._index_7<this._buffer_2.length},$s.prototype.currentNode_0_k$=function(){hd(this.hasNextNode_0_k$());var t=this._buffer_2[this._index_7];return t instanceof $l?t:M()},$s.prototype.moveToNextNode_sv8swh_k$=function(){hd(this.hasNextNode_0_k$());var t=this,i=t._index_7;t._index_7=i+1|0,F()},$s.prototype.hasNext_0_k$=function(){return this.hasNextKey_0_k$()},$s.$metadata$={simpleName:"TrieNodeBaseIterator",kind:"class",interfaces:[Jr]};function ib(){$s.call(this)}ib.prototype.next_0_k$=function(){hd(this.hasNextKey_0_k$());var t=this;t._set_index__majfzk_k$(t._get_index__0_k$()+2|0);var i=this._get_buffer__0_k$()[this._get_index__0_k$()-2|0];return(i==null?!0:Re(i))?i:M()},ib.$metadata$={simpleName:"TrieNodeKeysIterator",kind:"class",interfaces:[]};function ob(){$s.call(this)}ob.prototype.next_0_k$=function(){hd(this.hasNextKey_0_k$());var t=this;t._set_index__majfzk_k$(t._get_index__0_k$()+2|0);var i=this._get_buffer__0_k$()[this._get_index__0_k$()-1|0];return(i==null?!0:Re(i))?i:M()},ob.$metadata$={simpleName:"TrieNodeValuesIterator",kind:"class",interfaces:[]};function ab(){$s.call(this)}ab.prototype.next_0_k$=function(){hd(this.hasNextKey_0_k$());var t=this;t._set_index__majfzk_k$(t._get_index__0_k$()+2|0);var i=this._get_buffer__0_k$()[this._get_index__0_k$()-2|0],s=(i==null?!0:Re(i))?i:M(),c=this._get_buffer__0_k$()[this._get_index__0_k$()-1|0];return new sv(s,(c==null?!0:Re(c))?c:M())},ab.$metadata$={simpleName:"TrieNodeEntriesIterator",kind:"class",interfaces:[]};function sd(t){aa.call(this),this._map_1=t}sd.prototype._get_size__0_k$=function(){return this._map_1._size_3},sd.prototype.contains_2bw_k$=function(t){return this._map_1.containsKey_2bw_k$(t)},sd.prototype.contains_2bq_k$=function(t){return(t==null?!0:Re(t))?this.contains_2bw_k$((t==null?!0:Re(t))?t:M()):!1},sd.prototype.iterator_0_k$=function(){return new TS(this._map_1._node)},sd.$metadata$={simpleName:"PersistentHashMapKeys",kind:"class",interfaces:[AS]};function ld(t){ao.call(this),this._map_2=t}ld.prototype._get_size__0_k$=function(){return this._map_2._size_3},ld.prototype.contains_2c7_k$=function(t){return this._map_2.containsValue_2c7_k$(t)},ld.prototype.contains_2bq_k$=function(t){return(t==null?!0:Re(t))?this.contains_2c7_k$((t==null?!0:Re(t))?t:M()):!1},ld.prototype.iterator_0_k$=function(){return new IS(this._map_2._node)},ld.$metadata$={simpleName:"PersistentHashMapValues",kind:"class",interfaces:[eb]};function ud(t){aa.call(this),this._map_3=t}ud.prototype._get_size__0_k$=function(){return this._map_3._size_3},ud.prototype.contains_4v0zae_k$=function(t){var i=Re(t)?t:M();if(!(i!=null?Ce(i,nu):!1))return!1;var s=this._map_3.get_2bw_k$(t._get_key__0_k$()),c;if(s==null)c=null;else{var p;e:{var v;t:{v=xt(s,t._get_value__0_k$());break t}p=v;break e}c=p}var k=c;return k==null?t._get_value__0_k$()==null?this._map_3.containsKey_2bw_k$(t._get_key__0_k$()):!1:k},ud.prototype.contains_2bq_k$=function(t){return(t!=null?Ce(t,nu):!1)?this.contains_4v0zae_k$((t!=null?Ce(t,nu):!1)?t:M()):!1},ud.prototype.iterator_0_k$=function(){return new MS(this._map_3._node)},ud.$metadata$={simpleName:"PersistentHashMapEntries",kind:"class",interfaces:[AS]};function Nve(t,i,s,c){return $l.call(c,t,i,s,null),c}function lv(t,i,s){return Nve(t,i,s,Object.create($l.prototype))}function sz(t,i){this._node_0=t,this._sizeDelta=i}sz.$metadata$={simpleName:"ModificationResult",kind:"class",interfaces:[]};function lz(t){return new sz(t,1)}function GJ(t){return new sz(t,0)}function uz(t,i){return(t._nodeMap&i)!=0}function sb(t,i){var s=t._buffer_3[i];return(s==null?!0:Re(s))?s:M()}function NS(t,i){var s=t._buffer_3[i+1|0];return(s==null?!0:Re(s))?s:M()}function Rve(t,i,s,c){var p=t.entryKeyIndex_ha5a7z_k$(i),v=VJ(t._buffer_3,p,s,c);return lv(t._dataMap|i,t._nodeMap,v)}function Pve(t,i,s){var c;e:{var p=t._buffer_3,v;t:{v=p;break t}c=v.slice();break e}var k=c;return k[i+1|0]=s,lv(t._dataMap,t._nodeMap,k)}function Bve(t,i,s,c){var p=c._buffer_3;if(p.length===2?c._nodeMap===0:!1){if(t._buffer_3.length===1)return c._dataMap=t._nodeMap,c;var v=t.entryKeyIndex_ha5a7z_k$(s),k=Uve(t._buffer_3,i,v,p[0],p[1]);return lv(t._dataMap^s,t._nodeMap^s,k)}var x=Sc(t._buffer_3,t._buffer_3.length);return x[i]=c,lv(t._dataMap,t._nodeMap,x)}function Fve(t,i,s,c,p,v,k,x){var T=sb(t,i),N;e:{var B=T,L=B==null?null:ur(B);N=L==null?0:L;break e}var O=N,W=NS(t,i),K=WJ(t,O,T,W,c,p,v,k+5|0,x),q=t.nodeIndex_ha5a7z_k$(s)+1|0;return jve(t._buffer_3,i,q,K)}function Lve(t,i,s,c,p,v,k){var x=Fve(t,i,s,c,p,v,k,null);return lv(t._dataMap^s,t._nodeMap|s,x)}function WJ(t,i,s,c,p,v,k,x,T){if(x>30){var N;e:{var B;t:{var L;n:{L=[s,c,v,k];break n}B=L;break t}N=B;break e}return new $l(0,0,N,T)}var O=RS(i,x),W=RS(p,x);if(O!==W){var K;if(O<W){var q;e:{var Q;t:{var ee;n:{ee=[s,c,v,k];break n}Q=ee;break t}q=Q;break e}K=q}else{var ie;e:{var fe;t:{var le;n:{le=[v,k,s,c];break n}fe=le;break t}ie=fe;break e}K=ie}var Se=K;return new $l(1<<O|1<<W,0,Se,T)}var Ee=WJ(t,i,s,c,p,v,k,x+5|0,T),Te=1<<O,Me;e:{var Ne;t:{var Pe;n:{Pe=[Ee];break n}Ne=Pe;break t}Me=Ne;break e}return new $l(0,Te,Me,T)}function Dve(t,i){var s=me(be(0,t._buffer_3.length),2),c=s._first_1,p=s._last,v=s._step_1;if((v>0?c<=p:!1)?!0:v<0?p<=c:!1)do{var k=c;if(c=c+v|0,xt(i,t._buffer_3[k]))return!0}while(k!==p);return!1}function Ove(t,i){var s=me(be(0,t._buffer_3.length),2),c=s._first_1,p=s._last,v=s._step_1;if((v>0?c<=p:!1)?!0:v<0?p<=c:!1)do{var k=c;if(c=c+v|0,xt(i,sb(t,k)))return NS(t,k)}while(k!==p);return null}function zve(t,i,s){var c=me(be(0,t._buffer_3.length),2),p=c._first_1,v=c._last,k=c._step_1;if((k>0?p<=v:!1)?!0:k<0?v<=p:!1)do{var x=p;if(p=p+k|0,xt(i,sb(t,x))){if(s===NS(t,x))return null;var T;e:{var N=t._buffer_3,B;t:{B=N;break t}T=B.slice();break e}var L=T;return L[x+1|0]=s,GJ(lv(0,0,L))}}while(x!==v);var O=VJ(t._buffer_3,0,i,s);return lz(lv(0,0,O))}function HJ(){cz=this;var t=this,i;e:{i=[];break e}t._EMPTY_3=lv(0,0,i)}HJ.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var cz;function xI(){return cz==null&&new HJ,cz}function $l(t,i,s,c){xI(),this._dataMap=t,this._nodeMap=i,this._ownedBy=c,this._buffer_3=s}$l.prototype.entryCount_0_k$=function(){return oO(this._dataMap)},$l.prototype.hasEntryAt_ha5a7z_k$=function(t){return(this._dataMap&t)!=0},$l.prototype.entryKeyIndex_ha5a7z_k$=function(t){return pt(2,oO(this._dataMap&(t-1|0)))},$l.prototype.nodeIndex_ha5a7z_k$=function(t){return(this._buffer_3.length-1|0)-oO(this._nodeMap&(t-1|0))|0},$l.prototype.nodeAtIndex_ha5a7z_k$=function(t){var i=this._buffer_3[t];return i instanceof $l?i:M()},$l.prototype.containsKey_s82vys_k$=function(t,i,s){var c=1<<RS(t,s);if(this.hasEntryAt_ha5a7z_k$(c))return xt(i,sb(this,this.entryKeyIndex_ha5a7z_k$(c)));if(uz(this,c)){var p=this.nodeAtIndex_ha5a7z_k$(this.nodeIndex_ha5a7z_k$(c));return s===30?Dve(p,i):p.containsKey_s82vys_k$(t,i,s+5|0)}return!1},$l.prototype.get_s82vys_k$=function(t,i,s){var c=1<<RS(t,s);if(this.hasEntryAt_ha5a7z_k$(c)){var p=this.entryKeyIndex_ha5a7z_k$(c);return xt(i,sb(this,p))?NS(this,p):null}if(uz(this,c)){var v=this.nodeAtIndex_ha5a7z_k$(this.nodeIndex_ha5a7z_k$(c));return s===30?Ove(v,i):v.get_s82vys_k$(t,i,s+5|0)}return null},$l.prototype.put_y0njj7_k$=function(t,i,s,c){var p=1<<RS(t,c);if(this.hasEntryAt_ha5a7z_k$(p)){var v=this.entryKeyIndex_ha5a7z_k$(p);return xt(i,sb(this,v))?NS(this,v)===s?null:GJ(Pve(this,v,s)):lz(Lve(this,v,p,t,i,s,c))}if(uz(this,p)){var k=this.nodeIndex_ha5a7z_k$(p),x=this.nodeAtIndex_ha5a7z_k$(k),T;if(c===30){var N=zve(x,i,s),B;if(N==null)return null;B=N,T=B}else{var L=x.put_y0njj7_k$(t,i,s,c+5|0),O;if(L==null)return null;O=L,T=O}var W=T,K;e:{var q;t:{{var Q=W,ee;n:{var ie=W._node_0;ee=Bve(this,k,p,ie);break n}Q._node_0=ee}q=W;break t}K=q;break e}return K}return lz(Rve(this,p,i,s))},$l.$metadata$={simpleName:"TrieNode",kind:"class",interfaces:[]};function VJ(t,i,s,c){var p;e:{var v=t.length+2|0;p=ca(Array(v),null);break e}var k=p;e:{Ve(t,k,0,0,i);break e}F();e:{var x=i+2|0,T=t.length;Ve(t,k,x,i,T);break e}return F(),k[i]=s,k[i+1|0]=c,k}function Uve(t,i,s,c,p){var v=Sc(t,t.length+1|0);e:{var k=i+2|0,x=i+1|0,T=t.length;Ve(v,v,k,x,T);break e}F();e:{var N=s+2|0;Ve(v,v,N,s,i);break e}return F(),v[s]=c,v[s+1|0]=p,v}function jve(t,i,s,c){var p=s-2|0,v;e:{var k=(t.length-2|0)+1|0;v=ca(Array(k),null);break e}var x=v;e:{Ve(t,x,0,0,i);break e}F();e:{var T=i+2|0;Ve(t,x,i,T,s);break e}F(),x[p]=c;e:{var N=p+1|0,B=t.length;Ve(t,x,N,s,B);break e}return F(),x}function RS(t,i){return t>>i&31}function Gve(t){return new pd(t)}function _z(){fz=this,this._EMPTY_4=new bl(PS(),PS(),UJ().emptyOf_7dfbla_k$())}_z.prototype.emptyOf_7dfbla_k$=function(){var t=this._EMPTY_4;return t instanceof bl?t:M()},_z.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var fz;function Wve(){return fz==null&&new _z,fz}function bl(t,i,s){Wve(),ji.call(this),this._firstKey=t,this._lastKey=i,this._hashMap=s}bl.prototype._get_size__0_k$=function(){return this._hashMap._size_3},bl.prototype._get_keys__0_k$=function(){return new _d(this)},bl.prototype._get_values__0_k$=function(){return new fd(this)},bl.prototype._get_entries__0_k$=function(){return Gve(this)},bl.prototype.containsKey_2bw_k$=function(t){return this._hashMap.containsKey_2bw_k$(t)},bl.prototype.get_2bw_k$=function(t){var i=this._hashMap.get_2bw_k$(t);return i==null?null:i._value_9},bl.prototype.put_1q9pf_k$=function(t,i){if(this.isEmpty_0_k$()){var s=this._hashMap.put_1q9pf_k$(t,Vve(i));return new bl(t,t,s)}var c=this._hashMap.get_2bw_k$(t);if(c!=null){if(c._value_9===i)return this;var p=this._hashMap.put_1q9pf_k$(t,c.withValue_2c7_k$(i));return new bl(this._firstKey,this._lastKey,p)}var v=this._lastKey,k=(v==null?!0:Re(v))?v:M(),x=Ei(this._hashMap.get_2bw_k$(k)),T=this._hashMap.put_1q9pf_k$(k,x.withNext_wi7j7l_k$(t)).put_1q9pf_k$(t,Kve(i,k));return new bl(this._firstKey,t,T)},bl.$metadata$={simpleName:"PersistentOrderedMap",kind:"class",interfaces:[XO]};function Hve(t,i){return cd.call(i,t,PS(),PS()),i}function Vve(t){return Hve(t,Object.create(cd.prototype))}function qve(t,i,s){return cd.call(s,t,i,PS()),s}function Kve(t,i){return qve(t,i,Object.create(cd.prototype))}function cd(t,i,s){this._value_9=t,this._previous=i,this._next_3=s}cd.prototype.withValue_2c7_k$=function(t){return new cd(t,this._previous,this._next_3)},cd.prototype.withNext_wi7j7l_k$=function(t){return new cd(this._value_9,this._previous,t)},cd.$metadata$={simpleName:"LinkedValue",kind:"class",interfaces:[]};function SI(t){this._internal=new lb(t._firstKey,t._hashMap)}SI.prototype.hasNext_0_k$=function(){return this._internal.hasNext_0_k$()},SI.prototype.next_0_k$=function(){var t=this._internal._nextKey,i=(t==null?!0:Re(t))?t:M();return this._internal.next_0_k$(),F(),i},SI.$metadata$={simpleName:"PersistentOrderedMapKeysIterator",kind:"class",interfaces:[Jr]};function EI(t){this._internal_0=new lb(t._firstKey,t._hashMap)}EI.prototype.hasNext_0_k$=function(){return this._internal_0.hasNext_0_k$()},EI.prototype.next_0_k$=function(){return this._internal_0.next_0_k$()._value_9},EI.$metadata$={simpleName:"PersistentOrderedMapValuesIterator",kind:"class",interfaces:[Jr]};function CI(t){this._internal_1=new lb(t._firstKey,t._hashMap)}CI.prototype.hasNext_0_k$=function(){return this._internal_1.hasNext_0_k$()},CI.prototype.next_0_k$=function(){var t=this._internal_1._nextKey,i=(t==null?!0:Re(t))?t:M(),s=this._internal_1.next_0_k$()._value_9;return new sv(i,s)},CI.$metadata$={simpleName:"PersistentOrderedMapEntriesIterator",kind:"class",interfaces:[Jr]};function lb(t,i){this._nextKey=t,this._hashMap_0=i,this._index_8=0}lb.prototype.hasNext_0_k$=function(){return this._index_8<this._hashMap_0._get_size__0_k$()},lb.prototype.next_0_k$=function(){if(!this.hasNext_0_k$())throw js();var t;e:{var i=this._hashMap_0,s=this._nextKey,c=(s==null?!0:Re(s))?s:M(),p=i.get_2bw_k$(c),v;if(p==null)throw AJ("Hash code of a key ("+this._nextKey+") has changed after it was added to the persistent map.");v=p,t=v;break e}var k=t,x=this,T=x._index_8;return x._index_8=T+1|0,F(),this._nextKey=k._next_3,k},lb.$metadata$={simpleName:"PersistentOrderedMapLinksIterator",kind:"class",interfaces:[Jr]};function _d(t){aa.call(this),this._map_4=t}_d.prototype._get_size__0_k$=function(){return this._map_4._get_size__0_k$()},_d.prototype.contains_2bw_k$=function(t){return this._map_4.containsKey_2bw_k$(t)},_d.prototype.contains_2bq_k$=function(t){return(t==null?!0:Re(t))?this.contains_2bw_k$((t==null?!0:Re(t))?t:M()):!1},_d.prototype.iterator_0_k$=function(){return new SI(this._map_4)},_d.$metadata$={simpleName:"PersistentOrderedMapKeys",kind:"class",interfaces:[AS]};function fd(t){ao.call(this),this._map_5=t}fd.prototype._get_size__0_k$=function(){return this._map_5._get_size__0_k$()},fd.prototype.contains_2c7_k$=function(t){return this._map_5.containsValue_2c7_k$(t)},fd.prototype.contains_2bq_k$=function(t){return(t==null?!0:Re(t))?this.contains_2c7_k$((t==null?!0:Re(t))?t:M()):!1},fd.prototype.iterator_0_k$=function(){return new EI(this._map_5)},fd.$metadata$={simpleName:"PersistentOrderedMapValues",kind:"class",interfaces:[eb]};function pd(t){aa.call(this),this._map_6=t}pd.prototype._get_size__0_k$=function(){return this._map_6._get_size__0_k$()},pd.prototype.contains_4v0zae_k$=function(t){var i=Re(t)?t:M();if(!(i!=null?Ce(i,nu):!1))return!1;var s=this._map_6.get_2bw_k$(t._get_key__0_k$()),c;if(s==null)c=null;else{var p;e:{var v;t:{v=xt(s,t._get_value__0_k$());break t}p=v;break e}c=p}var k=c;return k==null?t._get_value__0_k$()==null?this._map_6.containsKey_2bw_k$(t._get_key__0_k$()):!1:k},pd.prototype.contains_2bq_k$=function(t){return(t!=null?Ce(t,nu):!1)?this.contains_4v0zae_k$((t!=null?Ce(t,nu):!1)?t:M()):!1},pd.prototype.iterator_0_k$=function(){return new CI(this._map_6)},pd.$metadata$={simpleName:"PersistentOrderedMapEntries",kind:"class",interfaces:[AS]};function qJ(){pz=this}qJ.$metadata$={simpleName:"EndOfChain",kind:"object",interfaces:[]};var pz;function PS(){return pz==null&&new qJ,pz}function AI(){hz=this}AI.prototype.checkElementIndex_rvwcgf_k$=function(t,i){if(t<0?!0:t>=i)throw b_("index: "+t+", size: "+i)},AI.prototype.checkPositionIndex_rvwcgf_k$=function(t,i){if(t<0?!0:t>i)throw b_("index: "+t+", size: "+i)},AI.$metadata$={simpleName:"ListImplementation",kind:"object",interfaces:[]};var hz;function ub(){return hz==null&&new AI,hz}function hd(t){if(!t)throw TJ("Assertion failed")}function Mr(){}Mr.$metadata$={simpleName:"KSerializer",kind:"interface",interfaces:[TI,dz]};function dz(){}dz.$metadata$={simpleName:"DeserializationStrategy",kind:"interface",interfaces:[]};function TI(){}TI.$metadata$={simpleName:"SerializationStrategy",kind:"interface",interfaces:[]};function Jve(t,i,s){var c=t.findPolymorphicSerializerOrNull_ht9jsm_k$(i,s),p;return c==null?Ige(Xo(s),t._get_baseClass__0_k$()):p=c,p}function BS(){}BS.$metadata$={simpleName:"SealedClassSerializer",kind:"class",interfaces:[]};function KJ(){}KJ.$metadata$={simpleName:"StringFormat",kind:"interface",interfaces:[JJ]};function JJ(){}JJ.$metadata$={simpleName:"SerialFormat",kind:"interface",interfaces:[]};function Xve(t,i){return Gy.call(i,"An unknown field for index "+t),i}function XJ(t){var i=Xve(t,Object.create(Gy.prototype));return hr(i,XJ),i}function Gy(t){mz(t,this),hr(this,Gy)}Gy.$metadata$={simpleName:"UnknownFieldException",kind:"class",interfaces:[]};function mz(t,i){return UO(t,i),yf.call(i),i}function Cc(t){var i=mz(t,Object.create(yf.prototype));return hr(i,Cc),i}function Yve(t,i,s){return Jme(t,i,s),yf.call(s),s}function yf(){hr(this,yf)}yf.$metadata$={simpleName:"SerializationException",kind:"class",interfaces:[]};function Qve(t,i,s){return Wy.call(s,t._get_size__0_k$()===1?"Field '"+t.get_ha5a7z_k$(0)+"' is required for type with serial name '"+i+"', but it was missing":"Fields "+t+" are required for type with serial name '"+i+"', but they were missing",null),s}function YJ(t,i){var s=Qve(t,i,Object.create(Wy.prototype));return hr(s,YJ),s}function Wy(t,i){Yve(t,i,this),hr(this,Wy)}Wy.$metadata$={simpleName:"MissingFieldException",kind:"class",interfaces:[]};function II(t){return db()}function QJ(t){return lye()}function Zve(){return eye()}function ZJ(t){return uye()}function ege(){return tye()}function eX(t){return cye()}function tge(){return nye()}function vz(t){return _ye()}function nge(){return rye()}function gz(t){return fye()}function rge(){return iye()}function yz(t){return pye()}function ige(){return oye()}function kz(t){return hye()}function oge(){return aye()}function tX(t){return dye()}function age(){return sye()}function sge(t){return mye()}function lge(t){return Fge()}function nX(t){return Lge()}function uge(t){return Dge()}function cge(t){return Oge()}function _ge(t){var i;return t._get_descriptor__0_k$()._get_isNullable__0_k$()?i=Ce(t,Mr)?t:M():i=new gd(t),i}function $z(t,i){return new es(t,i)}function bz(t){return new xa(t)}function rX(){}rX.$metadata$={simpleName:"ContextDescriptor",kind:"class",interfaces:[Sr]};function fge(t,i){var s=iX(i),c;if(s==null)c=null;else{var p;e:{var v;t:{var k=t.getContextual$default_ner2jg_k$(s,null,2,null);v=k==null?null:k._get_descriptor__0_k$();break t}p=v;break e}c=p}return c}function iX(t){var i=t,s;return i instanceof rX?s=t._kClass:i instanceof ts?s=iX(t._original):s=null,s}function Sr(){}Sr.prototype._get_isNullable__0_k$=function(){return!1},Sr.prototype._get_isInline__0_k$=function(){return!1},Sr.prototype._get_annotations__0_k$=function(){return Da()},Sr.$metadata$={simpleName:"SerialDescriptor",kind:"interface",interfaces:[]};function pge(t){var i;e:{i=new NI(t);break e}return i}function MI(t){this._$this_elementDescriptors=t,this._elementsLeft=this._$this_elementDescriptors._get_elementsCount__0_k$()}MI.prototype.hasNext_0_k$=function(){return this._elementsLeft>0},MI.prototype.next_0_k$=function(){var t=this._$this_elementDescriptors._get_elementsCount__0_k$(),i=this,s=i._elementsLeft;return i._elementsLeft=s-1|0,this._$this_elementDescriptors.getElementDescriptor_ha5a7z_k$(t-s|0)},MI.$metadata$={kind:"class",interfaces:[Jr]};function NI(t){this._$this_elementDescriptors_0=t}NI.prototype.iterator_2_0_k$=function(){var t;e:{t=new MI(this._$this_elementDescriptors_0);break e}return t},NI.prototype.iterator_0_k$=function(){return this.iterator_2_0_k$()},NI.$metadata$={simpleName:"<no name provided>_1",kind:"class",interfaces:[tu]};function hge(t,i,s,c){{var p;e:{p=!q$(t);break e}var v=p;if(!v){var k;e:{k="Blank serial names are prohibited";break e}var x=k;throw sn(Bt(x))}}{var T=!xt(i,sX());if(!T){var N;e:{N="For StructureKind.CLASS please use 'buildClassSerialDescriptor' instead";break e}var B=N;throw sn(Bt(B))}}var L=new Hy(t);return c(L),new bs(t,i,L._elementNames._get_size__0_k$(),u(s),L)}function RI(t,i,s,c,p,v){return(p&8)!=0&&(c=vge()),hge(t,i,s,c)}function Hy(t){this._serialName=t,this._isNullable=!1,this._annotations=Da(),this._elementNames=Di(),this._uniqueNames=gp(),this._elementDescriptors=Di(),this._elementAnnotations=Di(),this._elementOptionality=Di()}Hy.prototype.element_k8nob2_k$=function(t,i,s,c){{var p=this._uniqueNames.add_2bq_k$(t);if(!p){var v;e:{v="Element with name '"+t+"' is already registered";break e}var k=v;throw sn(Bt(k))}}var x=this;{var T=x._elementNames;T.add_2bq_k$(t),F()}var N=this;{var B=N._elementDescriptors;B.add_2bq_k$(i),F()}var L=this;{var O=L._elementAnnotations;O.add_2bq_k$(s),F()}var W=this;{var K=W._elementOptionality;K.add_2bq_k$(c),F()}},Hy.prototype.element$default_kwz7dp_k$=function(t,i,s,c,p,v){return(p&4)!=0&&(s=Da()),(p&8)!=0&&(c=!1),this.element_k8nob2_k$(t,i,s,c)},Hy.$metadata$={simpleName:"ClassSerialDescriptorBuilder",kind:"class",interfaces:[]};function oX(t){var i;e:{mge(),i=t.__hashCode$delegate._get_value__0_k$();break e}return i}function wz(t){this._this$0_9=t}wz.prototype.invoke_0_k$=function(){return fX(this._this$0_9,this._this$0_9._typeParametersDescriptors)},wz.$metadata$={kind:"class",interfaces:[]};function PI(t){this._this$0_10=t}PI.prototype.invoke_ha5a7z_k$=function(t){return this._this$0_10.getElementName_ha5a7z_k$(t)+": "+this._this$0_10.getElementDescriptor_ha5a7z_k$(t)._get_serialName__0_k$()},PI.prototype.invoke_20e8_k$=function(t){return this.invoke_ha5a7z_k$((t!=null?typeof t=="number":!1)?t:M())},PI.$metadata$={kind:"class",interfaces:[]};function bs(t,i,s,c,p){this._serialName_0=t,this._kind=i,this._elementsCount=s,this._annotations_0=p._annotations,this._serialNames=Je(p._elementNames);var v=this,k;e:{var x=p._elementNames;k=Ht(x);break e}v._elementNames_0=k,this._elementDescriptors_0=Kz(p._elementDescriptors);var T=this,N;e:{var B=p._elementAnnotations;N=Ht(B);break e}T._elementAnnotations_0=N,this._elementOptionality_0=ve(p._elementOptionality);var L=this,O;e:{var W=_(this._elementNames_0),K;t:{for(var q=Wr(so(W,10)),Q=W.iterator_0_k$();Q.hasNext_0_k$();){var ee=Q.next_0_k$(),ie;n:{ie=Le(ee._value,ee._index_0);break n}q.add_2bq_k$(ie),F()}K=q;break t}O=K;break e}L._name2Index=Cm(O),this._typeParametersDescriptors=Kz(c);var fe=this;fe.__hashCode$delegate=nJ(gge(this))}bs.prototype._get_serialName__0_k$=function(){return this._serialName_0},bs.prototype._get_kind__0_k$=function(){return this._kind},bs.prototype._get_elementsCount__0_k$=function(){return this._elementsCount},bs.prototype._get_annotations__0_k$=function(){return this._annotations_0},bs.prototype._get_serialNames__0_k$=function(){return this._serialNames},bs.prototype.getElementName_ha5a7z_k$=function(t){return xb(this._elementNames_0,t)},bs.prototype.getElementIndex_6wfw3l_k$=function(t){var i=this._name2Index.get_2bw_k$(t),s;return i==null?s=-3:s=i,s},bs.prototype.getElementAnnotations_ha5a7z_k$=function(t){return xb(this._elementAnnotations_0,t)},bs.prototype.getElementDescriptor_ha5a7z_k$=function(t){return xb(this._elementDescriptors_0,t)},bs.prototype.isElementOptional_ha5a7z_k$=function(t){return yX(this._elementOptionality_0,t)},bs.prototype.equals=function(t){var i;e:{if(this===t){i=!0;break e}if(!(t instanceof bs)){i=!1;break e}if(this._get_serialName__0_k$()!==t._get_serialName__0_k$()){i=!1;break e}var s;t:{var c=t;s=IO(this._typeParametersDescriptors,c._typeParametersDescriptors);break t}if(!s){i=!1;break e}if(this._get_elementsCount__0_k$()!==t._get_elementsCount__0_k$()){i=!1;break e}var p=0,v=this._get_elementsCount__0_k$();if(p<v)do{var k=p;if(p=p+1|0,this.getElementDescriptor_ha5a7z_k$(k)._get_serialName__0_k$()!==t.getElementDescriptor_ha5a7z_k$(k)._get_serialName__0_k$()){i=!1;break e}if(!xt(this.getElementDescriptor_ha5a7z_k$(k)._get_kind__0_k$(),t.getElementDescriptor_ha5a7z_k$(k)._get_kind__0_k$())){i=!1;break e}}while(p<v);i=!0;break e}return i},bs.prototype.hashCode=function(){return oX(this)},bs.prototype.toString=function(){var t=be(0,this._elementsCount),i=""+this._serialName_0+"(";return Ge(t,", ",i,")",0,null,yge(this),24)},bs.$metadata$={simpleName:"SerialDescriptorImpl",kind:"class",interfaces:[Sr,QS]};function dge(t,i){{var s;e:{s=!q$(t);break e}var c=s;if(!c){var p;e:{p="Blank serial names are prohibited";break e}var v=p;throw sn(Bt(v))}}return vye(t,i)}function BI(){}BI.prototype.invoke_dot7f7_k$=function(t){return F()},BI.prototype.invoke_20e8_k$=function(t){return this.invoke_dot7f7_k$(t instanceof Hy?t:M()),F()},BI.$metadata$={kind:"class",interfaces:[]};function mge(){return Fu("_hashCode",1,Zl,function(t){return oX(t)},null)}function vge(){var t=new BI;return function(i){return t.invoke_dot7f7_k$(i),F()}}function gge(t){var i=new wz(t);return function(){return i.invoke_0_k$()}}function yge(t){var i=new PI(t);return function(s){return i.invoke_ha5a7z_k$(s)}}function Vy(){xz=this,Ac.call(this)}Vy.$metadata$={simpleName:"ENUM",kind:"object",interfaces:[]};var xz;function cb(){return xz==null&&new Vy,xz}function FS(){Sz=this,Ac.call(this)}FS.$metadata$={simpleName:"CONTEXTUAL",kind:"object",interfaces:[]};var Sz;function aX(){return Sz==null&&new FS,Sz}function Ac(){}Ac.prototype.toString=function(){return Ei(Xo(this)._get_simpleName__0_k$())},Ac.prototype.hashCode=function(){return td(this.toString())},Ac.$metadata$={simpleName:"SerialKind",kind:"class",interfaces:[]};function LS(){Ez=this,Qi.call(this)}LS.$metadata$={simpleName:"BOOLEAN",kind:"object",interfaces:[]};var Ez;function kge(){return Ez==null&&new LS,Ez}function DS(){Cz=this,Qi.call(this)}DS.$metadata$={simpleName:"BYTE",kind:"object",interfaces:[]};var Cz;function $ge(){return Cz==null&&new DS,Cz}function OS(){Az=this,Qi.call(this)}OS.$metadata$={simpleName:"CHAR",kind:"object",interfaces:[]};var Az;function bge(){return Az==null&&new OS,Az}function zS(){Tz=this,Qi.call(this)}zS.$metadata$={simpleName:"SHORT",kind:"object",interfaces:[]};var Tz;function wge(){return Tz==null&&new zS,Tz}function US(){Iz=this,Qi.call(this)}US.$metadata$={simpleName:"INT",kind:"object",interfaces:[]};var Iz;function xge(){return Iz==null&&new US,Iz}function jS(){Mz=this,Qi.call(this)}jS.$metadata$={simpleName:"LONG",kind:"object",interfaces:[]};var Mz;function Sge(){return Mz==null&&new jS,Mz}function GS(){Nz=this,Qi.call(this)}GS.$metadata$={simpleName:"FLOAT",kind:"object",interfaces:[]};var Nz;function Ege(){return Nz==null&&new GS,Nz}function WS(){Rz=this,Qi.call(this)}WS.$metadata$={simpleName:"DOUBLE",kind:"object",interfaces:[]};var Rz;function Cge(){return Rz==null&&new WS,Rz}function HS(){Pz=this,Qi.call(this)}HS.$metadata$={simpleName:"STRING",kind:"object",interfaces:[]};var Pz;function Bz(){return Pz==null&&new HS,Pz}function Qi(){Ac.call(this)}Qi.$metadata$={simpleName:"PrimitiveKind",kind:"class",interfaces:[]};function VS(){Fz=this,w_.call(this)}VS.$metadata$={simpleName:"CLASS",kind:"object",interfaces:[]};var Fz;function sX(){return Fz==null&&new VS,Fz}function qS(){Lz=this,w_.call(this)}qS.$metadata$={simpleName:"LIST",kind:"object",interfaces:[]};var Lz;function _b(){return Lz==null&&new qS,Lz}function KS(){Dz=this,w_.call(this)}KS.$metadata$={simpleName:"MAP",kind:"object",interfaces:[]};var Dz;function fb(){return Dz==null&&new KS,Dz}function JS(){Oz=this,w_.call(this)}JS.$metadata$={simpleName:"OBJECT",kind:"object",interfaces:[]};var Oz;function Age(){return Oz==null&&new JS,Oz}function w_(){Ac.call(this)}w_.$metadata$={simpleName:"StructureKind",kind:"class",interfaces:[]};function XS(){zz=this,x_.call(this)}XS.$metadata$={simpleName:"SEALED",kind:"object",interfaces:[]};var zz;function Tge(){return zz==null&&new XS,zz}function x_(){Ac.call(this)}x_.$metadata$={simpleName:"PolymorphicKind",kind:"class",interfaces:[]};function Dr(){}Dr.prototype.decodeValue_0_k$=function(){throw Cc(""+Xo(this)+" can't retrieve untyped values")},Dr.prototype.decodeNotNullMark_0_k$=function(){return!0},Dr.prototype.decodeNull_0_k$=function(){return null},Dr.prototype.decodeBoolean_0_k$=function(){var t=this.decodeValue_0_k$();return typeof t=="boolean"?t:M()},Dr.prototype.decodeByte_0_k$=function(){var t=this.decodeValue_0_k$();return typeof t=="number"?t:M()},Dr.prototype.decodeShort_0_k$=function(){var t=this.decodeValue_0_k$();return typeof t=="number"?t:M()},Dr.prototype.decodeInt_0_k$=function(){var t=this.decodeValue_0_k$();return typeof t=="number"?t:M()},Dr.prototype.decodeLong_0_k$=function(){var t=this.decodeValue_0_k$();return t instanceof at?t:M()},Dr.prototype.decodeFloat_0_k$=function(){var t=this.decodeValue_0_k$();return typeof t=="number"?t:M()},Dr.prototype.decodeDouble_0_k$=function(){var t=this.decodeValue_0_k$();return typeof t=="number"?t:M()},Dr.prototype.decodeChar_0_k$=function(){var t=this.decodeValue_0_k$();return t instanceof pe?t:M()},Dr.prototype.decodeString_0_k$=function(){var t=this.decodeValue_0_k$();return typeof t=="string"?t:M()},Dr.prototype.decodeInline_6qhf5t_k$=function(t){return this},Dr.prototype.decodeSerializableValue_qeg2y_k$=function(t,i){return this.decodeSerializableValue_f8566k_k$(t)},Dr.prototype.beginStructure_6qhf5t_k$=function(t){return this},Dr.prototype.endStructure_g940c0_k$=function(t){},Dr.prototype.decodeBooleanElement_5vyt7k_k$=function(t,i){return this.decodeBoolean_0_k$()},Dr.prototype.decodeByteElement_5vyt7k_k$=function(t,i){return this.decodeByte_0_k$()},Dr.prototype.decodeShortElement_5vyt7k_k$=function(t,i){return this.decodeShort_0_k$()},Dr.prototype.decodeIntElement_5vyt7k_k$=function(t,i){return this.decodeInt_0_k$()},Dr.prototype.decodeLongElement_5vyt7k_k$=function(t,i){return this.decodeLong_0_k$()},Dr.prototype.decodeFloatElement_5vyt7k_k$=function(t,i){return this.decodeFloat_0_k$()},Dr.prototype.decodeDoubleElement_5vyt7k_k$=function(t,i){return this.decodeDouble_0_k$()},Dr.prototype.decodeCharElement_5vyt7k_k$=function(t,i){return this.decodeChar_0_k$()},Dr.prototype.decodeStringElement_5vyt7k_k$=function(t,i){return this.decodeString_0_k$()},Dr.prototype.decodeSerializableElement_fgxyly_k$=function(t,i,s,c){return this.decodeSerializableValue_qeg2y_k$(s,c)},Dr.prototype.decodeNullableSerializableElement_hmkm73_k$=function(t,i,s,c){var p=s._get_descriptor__0_k$()._get_isNullable__0_k$();return(p?!0:this.decodeNotNullMark_0_k$())?this.decodeSerializableValue_qeg2y_k$(s,c):this.decodeNull_0_k$()},Dr.$metadata$={simpleName:"AbstractDecoder",kind:"class",interfaces:[Ap,tr]};function Vr(){}Vr.prototype.beginStructure_6qhf5t_k$=function(t){return this},Vr.prototype.endStructure_g940c0_k$=function(t){},Vr.prototype.encodeElement_5vyt7k_k$=function(t,i){return!0},Vr.prototype.encodeValue_wu1lm5_k$=function(t){throw Cc("Non-serializable "+Xo(t)+" is not supported by "+Xo(this)+" encoder")},Vr.prototype.encodeNull_sv8swh_k$=function(){throw Cc("'null' is not supported by default")},Vr.prototype.encodeBoolean_rpwsgn_k$=function(t){return this.encodeValue_wu1lm5_k$(t)},Vr.prototype.encodeByte_hpsj51_k$=function(t){return this.encodeValue_wu1lm5_k$(t)},Vr.prototype.encodeShort_7gn77n_k$=function(t){return this.encodeValue_wu1lm5_k$(t)},Vr.prototype.encodeInt_majfzk_k$=function(t){return this.encodeValue_wu1lm5_k$(t)},Vr.prototype.encodeLong_kdfck9_k$=function(t){return this.encodeValue_wu1lm5_k$(t)},Vr.prototype.encodeFloat_cpozfn_k$=function(t){return this.encodeValue_wu1lm5_k$(t)},Vr.prototype.encodeDouble_okcceq_k$=function(t){return this.encodeValue_wu1lm5_k$(t)},Vr.prototype.encodeChar_9o0tv_k$=function(t){return this.encodeValue_wu1lm5_k$(t)},Vr.prototype.encodeString_a4enbm_k$=function(t){return this.encodeValue_wu1lm5_k$(t)},Vr.prototype.encodeInline_6qhf5t_k$=function(t){return this},Vr.prototype.encodeBooleanElement_9280p5_k$=function(t,i,s){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeBoolean_rpwsgn_k$(s)},Vr.prototype.encodeByteElement_loxigr_k$=function(t,i,s){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeByte_hpsj51_k$(s)},Vr.prototype.encodeShortElement_lm5ndv_k$=function(t,i,s){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeShort_7gn77n_k$(s)},Vr.prototype.encodeIntElement_wh7n80_k$=function(t,i,s){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeInt_majfzk_k$(s)},Vr.prototype.encodeLongElement_j1ap1j_k$=function(t,i,s){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeLong_kdfck9_k$(s)},Vr.prototype.encodeFloatElement_qv7flv_k$=function(t,i,s){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeFloat_cpozfn_k$(s)},Vr.prototype.encodeDoubleElement_xwk426_k$=function(t,i,s){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeDouble_okcceq_k$(s)},Vr.prototype.encodeCharElement_vw2177_k$=function(t,i,s){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeChar_9o0tv_k$(s)},Vr.prototype.encodeStringElement_mom8tu_k$=function(t,i,s){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeString_a4enbm_k$(s)},Vr.prototype.encodeSerializableElement_r6n13r_k$=function(t,i,s,c){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeSerializableValue_79s409_k$(s,c)},Vr.prototype.encodeNullableSerializableElement_6l2lkq_k$=function(t,i,s,c){this.encodeElement_5vyt7k_k$(t,i)&&this.encodeNullableSerializableValue_99f6e2_k$(s,c)},Vr.$metadata$={simpleName:"AbstractEncoder",kind:"class",interfaces:[iu,YS]};function Ap(){}Ap.prototype.decodeSerializableValue_f8566k_k$=function(t){return t.deserialize_u9oizh_k$(this)},Ap.$metadata$={simpleName:"Decoder",kind:"interface",interfaces:[]};function tr(){}tr.prototype.decodeSequentially_0_k$=function(){return!1},tr.prototype.decodeCollectionSize_6qhf5t_k$=function(t){return-1},tr.prototype.decodeSerializableElement$default_51un9o_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=null),v==null?this.decodeSerializableElement_fgxyly_k$(t,i,s,c):v(t,i,s,c)},tr.$metadata$={simpleName:"CompositeDecoder",kind:"interface",interfaces:[]};function iu(){}iu.prototype.encodeNotNullMark_sv8swh_k$=function(){},iu.prototype.beginCollection_5vyt7k_k$=function(t,i){return this.beginStructure_6qhf5t_k$(t)},iu.prototype.encodeSerializableValue_79s409_k$=function(t,i){t.serialize_whawnb_k$(this,i)},iu.prototype.encodeNullableSerializableValue_99f6e2_k$=function(t,i){var s=t._get_descriptor__0_k$()._get_isNullable__0_k$();if(s)return this.encodeSerializableValue_79s409_k$(Ce(t,TI)?t:M(),i);i==null?this.encodeNull_sv8swh_k$():(this.encodeNotNullMark_sv8swh_k$(),this.encodeSerializableValue_79s409_k$(t,i))},iu.$metadata$={simpleName:"Encoder",kind:"interface",interfaces:[]};function YS(){}YS.prototype.shouldEncodeElementDefault_5vyt7k_k$=function(t,i){return!0},YS.$metadata$={simpleName:"CompositeEncoder",kind:"interface",interfaces:[]};function qy(){}qy.prototype.findPolymorphicSerializerOrNull_7yolwc_k$=function(t,i){return t._get_serializersModule__0_k$().getPolymorphic_l8fcrr_k$(this._get_baseClass__0_k$(),i)},qy.prototype.findPolymorphicSerializerOrNull_ht9jsm_k$=function(t,i){return t._get_serializersModule__0_k$().getPolymorphic_8orz3i_k$(this._get_baseClass__0_k$(),i)},qy.$metadata$={simpleName:"AbstractPolymorphicSerializer",kind:"class",interfaces:[Mr]};function Ige(t,i){var s=t._get_simpleName__0_k$();Mge(s==null?""+t:s,i)}function Mge(t,i){var s="in the scope of '"+i._get_simpleName__0_k$()+"'";throw Cc(t==null?"Class discriminator was missing and no default polymorphic serializers were registered "+s:"Class '"+t+"' is not registered for polymorphic serialization "+s+`.
Mark the base class as 'sealed' or register the serializer explicitly.`)}function QS(){}QS.$metadata$={simpleName:"CachedNames",kind:"interface",interfaces:[]};function dd(t){za.call(this,t),this._serialName_1=""+t._get_serialName__0_k$()+"Array"}dd.prototype._get_serialName__0_k$=function(){return this._serialName_1},dd.$metadata$={simpleName:"PrimitiveArrayDescriptor",kind:"class",interfaces:[]};function za(t){this._elementDescriptor=t,this._elementsCount_0=1}za.prototype._get_kind__0_k$=function(){return _b()},za.prototype._get_elementsCount__0_k$=function(){return this._elementsCount_0},za.prototype.getElementName_ha5a7z_k$=function(t){return t.toString()},za.prototype.getElementIndex_6wfw3l_k$=function(t){var i=lo(t),s;if(i==null)throw sn(""+t+" is not a valid list index");return s=i,s},za.prototype.isElementOptional_ha5a7z_k$=function(t){{var i=t>=0;if(!i){var s;e:{s="Illegal index "+t+", "+this._get_serialName__0_k$()+" expects only non-negative indices";break e}var c=s;throw sn(Bt(c))}}return!1},za.prototype.getElementAnnotations_ha5a7z_k$=function(t){{var i=t>=0;if(!i){var s;e:{s="Illegal index "+t+", "+this._get_serialName__0_k$()+" expects only non-negative indices";break e}var c=s;throw sn(Bt(c))}}return Da()},za.prototype.getElementDescriptor_ha5a7z_k$=function(t){{var i=t>=0;if(!i){var s;e:{s="Illegal index "+t+", "+this._get_serialName__0_k$()+" expects only non-negative indices";break e}var c=s;throw sn(Bt(c))}}return this._elementDescriptor},za.prototype.equals=function(t){return this===t?!0:t instanceof za&&xt(this._elementDescriptor,t._elementDescriptor)?this._get_serialName__0_k$()===t._get_serialName__0_k$():!1},za.prototype.hashCode=function(){return pt(ur(this._elementDescriptor),31)+td(this._get_serialName__0_k$())|0},za.prototype.toString=function(){return""+this._get_serialName__0_k$()+"("+this._elementDescriptor+")"},za.$metadata$={simpleName:"ListLikeDescriptor",kind:"class",interfaces:[Sr]};function md(t){za.call(this,t)}md.prototype._get_serialName__0_k$=function(){return"kotlin.collections.ArrayList"},md.$metadata$={simpleName:"ArrayListClassDesc",kind:"class",interfaces:[]};function uv(t,i){ws.call(this,"kotlin.collections.LinkedHashMap",t,i)}uv.$metadata$={simpleName:"LinkedHashMapClassDesc",kind:"class",interfaces:[]};function ws(t,i,s){this._serialName_2=t,this._keyDescriptor=i,this._valueDescriptor=s,this._elementsCount_1=2}ws.prototype._get_serialName__0_k$=function(){return this._serialName_2},ws.prototype._get_kind__0_k$=function(){return fb()},ws.prototype._get_elementsCount__0_k$=function(){return this._elementsCount_1},ws.prototype.getElementName_ha5a7z_k$=function(t){return t.toString()},ws.prototype.getElementIndex_6wfw3l_k$=function(t){var i=lo(t),s;if(i==null)throw sn(""+t+" is not a valid map index");return s=i,s},ws.prototype.isElementOptional_ha5a7z_k$=function(t){{var i=t>=0;if(!i){var s;e:{s="Illegal index "+t+", "+this._get_serialName__0_k$()+" expects only non-negative indices";break e}var c=s;throw sn(Bt(c))}}return!1},ws.prototype.getElementAnnotations_ha5a7z_k$=function(t){{var i=t>=0;if(!i){var s;e:{s="Illegal index "+t+", "+this._get_serialName__0_k$()+" expects only non-negative indices";break e}var c=s;throw sn(Bt(c))}}return Da()},ws.prototype.getElementDescriptor_ha5a7z_k$=function(t){{var i=t>=0;if(!i){var s;e:{s="Illegal index "+t+", "+this._get_serialName__0_k$()+" expects only non-negative indices";break e}var c=s;throw sn(Bt(c))}}var p=t%2,v;switch(p){case 0:v=this._keyDescriptor;break;case 1:v=this._valueDescriptor;break;default:throw At("Unreached")}return v},ws.prototype.equals=function(t){return this===t?!0:!(!(t instanceof ws)||this._get_serialName__0_k$()!==t._get_serialName__0_k$()||!xt(this._keyDescriptor,t._keyDescriptor)||!xt(this._valueDescriptor,t._valueDescriptor))},ws.prototype.hashCode=function(){var t=td(this._get_serialName__0_k$());return t=pt(31,t)+ur(this._keyDescriptor)|0,t=pt(31,t)+ur(this._valueDescriptor)|0,t},ws.prototype.toString=function(){return""+this._get_serialName__0_k$()+"("+this._keyDescriptor+", "+this._valueDescriptor+")"},ws.$metadata$={simpleName:"MapLikeDescriptor",kind:"class",interfaces:[Sr]};function di(t){S_.call(this,t),this._descriptor=new dd(t._get_descriptor__0_k$())}di.prototype._get_descriptor__0_k$=function(){return this._descriptor},di.prototype.builderSize_jbez3q_k$=function(t){return t._get_position__0_k$()},di.prototype.toResult_jbez3q_k$=function(t){return t.build_0_k$()},di.prototype.checkCapacity_t3wguy_k$=function(t,i){return t.ensureCapacity_majfzk_k$(i)},di.prototype.collectionIterator_pm07yg_k$=function(t){throw At("This method lead to boxing and must not be used, use writeContents instead")},di.prototype.collectionIterator_4qlka9_k$=function(t){return this.collectionIterator_pm07yg_k$((t==null?!0:Re(t))?t:M())},di.prototype.insert_u4zj9f_k$=function(t,i,s){throw At("This method lead to boxing and must not be used, use Builder.append instead")},di.prototype.builder_0_k$=function(){return this.toBuilder_4qlka9_k$(this.empty_0_k$())},di.prototype.serialize_ri6ae6_k$=function(t,i){var s=this.collectionSize_4qlka9_k$(i),c=t.beginCollection_5vyt7k_k$(this._descriptor,s);this.writeContent_8rd7hi_k$(c,i,s),c.endStructure_g940c0_k$(this._descriptor)},di.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_ri6ae6_k$(t,(i==null?!0:Re(i))?i:M())},di.prototype.serialize_y26io9_k$=function(t,i){return this.serialize_ri6ae6_k$(t,(i==null?!0:Re(i))?i:M())},di.prototype.deserialize_u9oizh_k$=function(t){return this.merge_j0fkdd_k$(t,null)},di.$metadata$={simpleName:"PrimitiveArraySerializer",kind:"class",interfaces:[]};function xs(){}xs.prototype.ensureCapacity$default_fa9pg0_k$=function(t,i,s){return(i&1)!=0&&(t=this._get_position__0_k$()+1|0),s==null?this.ensureCapacity_majfzk_k$(t):s(t)},xs.$metadata$={simpleName:"PrimitiveArrayBuilder",kind:"class",interfaces:[]};function S_(t){vd.call(this),this._elementSerializer=t}S_.prototype.serialize_y26io9_k$=function(t,i){var s=this.collectionSize_4qlka9_k$(i),c=t.beginCollection_5vyt7k_k$(this._get_descriptor__0_k$(),s),p=this.collectionIterator_4qlka9_k$(i),v=0;if(v<s)do{var k=v;v=v+1|0,c.encodeSerializableElement_r6n13r_k$(this._get_descriptor__0_k$(),k,this._elementSerializer,p.next_0_k$())}while(v<s);c.endStructure_g940c0_k$(this._get_descriptor__0_k$())},S_.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_y26io9_k$(t,(i==null?!0:Re(i))?i:M())},S_.prototype.readAll_nt2u9d_k$=function(t,i,s,c){{var p=c>=0;if(!p){var v;e:{v="Size must be known in advance when using READ_ALL";break e}var k=v;throw sn(Bt(k))}}var x=0;if(x<c)do{var T=x;x=x+1|0,this.readElement_ie1hio_k$(t,s+T|0,i,!1)}while(x<c)},S_.prototype.readElement_ie1hio_k$=function(t,i,s,c){var p=this._get_descriptor__0_k$();this.insert_u4zj9f_k$(s,i,t.decodeSerializableElement$default_51un9o_k$(p,i,this._elementSerializer,null,8,null))},S_.$metadata$={simpleName:"ListLikeSerializer",kind:"class",interfaces:[]};function Nge(t,i,s){var c=i.decodeCollectionSize_6qhf5t_k$(t._get_descriptor__0_k$());return t.checkCapacity_t3wguy_k$(s,c),c}function vd(){}vd.prototype.merge_j0fkdd_k$=function(t,i){var s=i,c=s==null?null:this.toBuilder_4qlka9_k$(s),p=c==null?this.builder_0_k$():c,v=this.builderSize_jbez3q_k$(p),k=t.beginStructure_6qhf5t_k$(this._get_descriptor__0_k$());if(k.decodeSequentially_0_k$())this.readAll_nt2u9d_k$(k,p,v,Nge(this,k,p));else{e:for(;;){var x=k.decodeElementIndex_6qhf5t_k$(this._get_descriptor__0_k$());if(x===-1)break e;var T=v+x|0;this.readElement$default_bt6seo_k$(k,T,p,!1,8,null)}}return k.endStructure_g940c0_k$(this._get_descriptor__0_k$()),this.toResult_jbez3q_k$(p)},vd.prototype.deserialize_u9oizh_k$=function(t){return this.merge_j0fkdd_k$(t,null)},vd.prototype.readElement$default_bt6seo_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=!0),v==null?this.readElement_ie1hio_k$(t,i,s,c):v(t,i,s,c)},vd.$metadata$={simpleName:"AbstractCollectionSerializer",kind:"class",interfaces:[Mr]};function xa(t){S_.call(this,t),this._descriptor_0=new md(t._get_descriptor__0_k$())}xa.prototype._get_descriptor__0_k$=function(){return this._descriptor_0},xa.prototype.collectionSize_q205y6_k$=function(t){return t._get_size__0_k$()},xa.prototype.collectionSize_4qlka9_k$=function(t){return this.collectionSize_q205y6_k$((t!=null?Ce(t,Hr):!1)?t:M())},xa.prototype.collectionIterator_q205y6_k$=function(t){return t.iterator_0_k$()},xa.prototype.collectionIterator_4qlka9_k$=function(t){return this.collectionIterator_q205y6_k$((t!=null?Ce(t,Hr):!1)?t:M())},xa.prototype.builder_0_k$=function(){var t;e:{t=Di();break e}return t},xa.prototype.builderSize_xc4l9p_k$=function(t){return t._get_size__0_k$()},xa.prototype.builderSize_jbez3q_k$=function(t){return this.builderSize_xc4l9p_k$(t instanceof gi?t:M())},xa.prototype.toResult_xc4l9p_k$=function(t){return t},xa.prototype.toResult_jbez3q_k$=function(t){return this.toResult_xc4l9p_k$(t instanceof gi?t:M())},xa.prototype.toBuilder_q205y6_k$=function(t){var i=t instanceof gi?t:null;return i==null?gy(t):i},xa.prototype.toBuilder_4qlka9_k$=function(t){return this.toBuilder_q205y6_k$((t!=null?Ce(t,Hr):!1)?t:M())},xa.prototype.checkCapacity_hxymwz_k$=function(t,i){return t.ensureCapacity_majfzk_k$(i)},xa.prototype.checkCapacity_t3wguy_k$=function(t,i){return this.checkCapacity_hxymwz_k$(t instanceof gi?t:M(),i)},xa.prototype.insert_5toypv_k$=function(t,i,s){t.add_vz2mgm_k$(i,s)},xa.prototype.insert_u4zj9f_k$=function(t,i,s){var c=t instanceof gi?t:M();return this.insert_5toypv_k$(c,i,(s==null?!0:Re(s))?s:M())},xa.$metadata$={simpleName:"ArrayListSerializer",kind:"class",interfaces:[]};function es(t,i){Tp.call(this,t,i),this._descriptor_1=new uv(t._get_descriptor__0_k$(),i._get_descriptor__0_k$())}es.prototype._get_descriptor__0_k$=function(){return this._descriptor_1},es.prototype.collectionSize_ot3j0e_k$=function(t){return t._get_size__0_k$()},es.prototype.collectionSize_4qlka9_k$=function(t){return this.collectionSize_ot3j0e_k$((t!=null?Ce(t,wo):!1)?t:M())},es.prototype.collectionIterator_ot3j0e_k$=function(t){var i;e:{i=t._get_entries__0_k$().iterator_0_k$();break e}return i},es.prototype.collectionIterator_4qlka9_k$=function(t){return this.collectionIterator_ot3j0e_k$((t!=null?Ce(t,wo):!1)?t:M())},es.prototype.builder_0_k$=function(){return Ql()},es.prototype.builderSize_s7enj9_k$=function(t){return t._get_size__0_k$()},es.prototype.builderSize_jbez3q_k$=function(t){return this.builderSize_s7enj9_k$(t instanceof Do?t:M())},es.prototype.toResult_s7enj9_k$=function(t){return t},es.prototype.toResult_jbez3q_k$=function(t){return this.toResult_s7enj9_k$(t instanceof Do?t:M())},es.prototype.toBuilder_ot3j0e_k$=function(t){var i=t instanceof Do?t:null;return i==null?nO(t):i},es.prototype.toBuilder_4qlka9_k$=function(t){return this.toBuilder_ot3j0e_k$((t!=null?Ce(t,wo):!1)?t:M())},es.prototype.checkCapacity_ndwbh1_k$=function(t,i){},es.prototype.checkCapacity_t3wguy_k$=function(t,i){return this.checkCapacity_ndwbh1_k$(t instanceof Do?t:M(),i)},es.$metadata$={simpleName:"LinkedHashMapSerializer",kind:"class",interfaces:[]};function Tp(t,i){vd.call(this),this._keySerializer=t,this._valueSerializer=i}Tp.prototype.readAll_nt2u9d_k$=function(t,i,s,c){{var p=c>=0;if(!p){var v;e:{v="Size must be known in advance when using READ_ALL";break e}var k=v;throw sn(Bt(k))}}var x=me(be(0,pt(c,2)),2),T=x._first_1,N=x._last,B=x._step_1;if((B>0?T<=N:!1)?!0:B<0?N<=T:!1)do{var L=T;T=T+B|0,this.readElement_ie1hio_k$(t,s+L|0,i,!1)}while(L!==N)},Tp.prototype.readElement_ie1hio_k$=function(t,i,s,c){var p=this._get_descriptor__0_k$(),v=t.decodeSerializableElement$default_51un9o_k$(p,i,this._keySerializer,null,8,null),k;if(c){var x;e:{var T=t.decodeElementIndex_6qhf5t_k$(this._get_descriptor__0_k$());{var N=T===(i+1|0);if(!N){var B;t:{B="Value must follow key in a map, index for key: "+i+", returned index for value: "+T;break t}var L=B;throw sn(Bt(L))}}x=T;break e}k=x}else k=i+1|0;var O=k,W,K;if(s.containsKey_2bw_k$(v)){var q=this._valueSerializer._get_descriptor__0_k$()._get_kind__0_k$();K=!(q instanceof Qi)}else K=!1;if(K)W=t.decodeSerializableElement_fgxyly_k$(this._get_descriptor__0_k$(),O,this._valueSerializer,Gg(s,v));else{var Q=this._get_descriptor__0_k$();W=t.decodeSerializableElement$default_51un9o_k$(Q,O,this._valueSerializer,null,8,null)}var ee=W;s.put_1q9pf_k$(v,ee),F()},Tp.prototype.serialize_y26io9_k$=function(t,i){var s=this.collectionSize_4qlka9_k$(i),c=t.beginCollection_5vyt7k_k$(this._get_descriptor__0_k$(),s),p=this.collectionIterator_4qlka9_k$(i),v=0;{var k;e:{k=p;break e}for(var x=k;x.hasNext_0_k$();){var T=x.next_0_k$();{var N;e:{N=T._get_key__0_k$();break e}var B=N,L;e:{L=T._get_value__0_k$();break e}var O=L,W=this._get_descriptor__0_k$(),K=v;v=K+1|0,c.encodeSerializableElement_r6n13r_k$(W,K,this._keySerializer,B);var q=this._get_descriptor__0_k$(),Q=v;v=Q+1|0,c.encodeSerializableElement_r6n13r_k$(q,Q,this._valueSerializer,O)}}}c.endStructure_g940c0_k$(this._get_descriptor__0_k$())},Tp.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_y26io9_k$(t,(i==null?!0:Re(i))?i:M())},Tp.$metadata$={simpleName:"MapLikeSerializer",kind:"class",interfaces:[]};function lX(){Uz=this,this._EMPTY_HIGH_MARKS=vO(0)}lX.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var Uz;function uX(){return Uz==null&&new lX,Uz}function Rge(t,i){var s=(i-1|0)>>>6;ks();var c=i&(64-1|0),p=vO(s);return c!==0&&(p[Ie(p)]=new at(-1,-1).shl_ha5a7z_k$(i)),p}function Pge(t,i){var s=(i>>>6)-1|0;ks();var c=i&(64-1|0);t._highMarksArray[s]=t._highMarksArray[s].or_wiekkq_k$(new at(1,0).shl_ha5a7z_k$(c))}function Bge(t){var i=0,s=t._highMarksArray.length-1|0;if(i<=s)do{var c=i;i=i+1|0;var p=c+1|0;ks();for(var v=pt(p,64),k=t._highMarksArray[c];!k.equals(new at(-1,-1));){var x=RK(k.inv_0_k$());k=k.or_wiekkq_k$(new at(1,0).shl_ha5a7z_k$(x));var T=v+x|0;if(t._readIfAbsent(t._descriptor_2,T))return t._highMarksArray[c]=k,T}t._highMarksArray[c]=k}while(i<=s);return-1}function FI(t,i){uX(),this._descriptor_2=t,this._readIfAbsent=i;var s=this._descriptor_2._get_elementsCount__0_k$();if(ks(),s<=64){var c=this,p;ks(),s===64?p=new at(0,0):p=new at(-1,-1).shl_ha5a7z_k$(s),c._lowerMarks=p,this._highMarksArray=uX()._EMPTY_HIGH_MARKS}else this._lowerMarks=new at(0,0),this._highMarksArray=Rge(this,s)}FI.prototype.mark_majfzk_k$=function(t){ks(),t<64?this._lowerMarks=this._lowerMarks.or_wiekkq_k$(new at(1,0).shl_ha5a7z_k$(t)):Pge(this,t)},FI.prototype.nextUnmarkedIndex_0_k$=function(){for(var t=this._descriptor_2._get_elementsCount__0_k$();!this._lowerMarks.equals(new at(-1,-1));){var i=RK(this._lowerMarks.inv_0_k$());if(this._lowerMarks=this._lowerMarks.or_wiekkq_k$(new at(1,0).shl_ha5a7z_k$(i)),this._readIfAbsent(this._descriptor_2,i))return i}return ks(),t>64?Bge(this):-1},FI.$metadata$={simpleName:"ElementMarker",kind:"class",interfaces:[]};function LI(t,i){return new Ip(t,new Ky(i))}function Ip(t,i){Yo.call(this,t,i,1),this._isInline=!0}Ip.prototype._get_isInline__0_k$=function(){return this._isInline},Ip.prototype.hashCode=function(){return pt(Yo.prototype.hashCode.call(this),31)},Ip.prototype.equals=function(t){var i;e:{if(this===t){i=!0;break e}if(!(t instanceof Ip)){i=!1;break e}if(this._get_serialName__0_k$()!==t._get_serialName__0_k$()){i=!1;break e}var s;t:{var c=t;s=c._isInline?IO(this._get_typeParameterDescriptors__0_k$(),c._get_typeParameterDescriptors__0_k$()):!1;break t}if(!s){i=!1;break e}if(this._get_elementsCount__0_k$()!==t._get_elementsCount__0_k$()){i=!1;break e}var p=0,v=this._get_elementsCount__0_k$();if(p<v)do{var k=p;if(p=p+1|0,this.getElementDescriptor_ha5a7z_k$(k)._get_serialName__0_k$()!==t.getElementDescriptor_ha5a7z_k$(k)._get_serialName__0_k$()){i=!1;break e}if(!xt(this.getElementDescriptor_ha5a7z_k$(k)._get_kind__0_k$(),t.getElementDescriptor_ha5a7z_k$(k)._get_kind__0_k$())){i=!1;break e}}while(p<v);i=!0;break e}return i},Ip.$metadata$={simpleName:"InlineClassDescriptor",kind:"class",interfaces:[]};function Ky(t){this._$primitiveSerializer=t}Ky.prototype.childSerializers_0_k$=function(){var t;e:{var i;t:{var s;n:{s=[this._$primitiveSerializer];break n}i=s;break t}t=i;break e}return t},Ky.prototype._get_descriptor__0_k$=function(){throw At("unsupported")},Ky.prototype.serialize_whawnb_k$=function(t,i){throw At("unsupported")},Ky.prototype.deserialize_u9oizh_k$=function(t){throw At("unsupported")},Ky.$metadata$={kind:"class",interfaces:[pb]};function Jy(){jz=this,this._descriptor_3=LI("kotlin.UInt",gz(j()))}Jy.prototype._get_descriptor__0_k$=function(){return this._descriptor_3},Jy.prototype.serialize_bqfh4k_k$=function(t,i){var s=t.encodeInline_6qhf5t_k$(this._descriptor_3),c;e:{c=Qe(i);break e}s.encodeInt_majfzk_k$(c)},Jy.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_bqfh4k_k$(t,i instanceof dt?i._data_0:M())},Jy.prototype.deserialize_c05pj2_k$=function(t){var i;e:{var s=t.decodeInline_6qhf5t_k$(this._descriptor_3).decodeInt_0_k$();i=ze(s);break e}return i},Jy.prototype.deserialize_u9oizh_k$=function(t){return new dt(this.deserialize_c05pj2_k$(t))},Jy.$metadata$={simpleName:"UIntSerializer",kind:"object",interfaces:[Mr]};var jz;function Fge(){return jz==null&&new Jy,jz}function Xy(){Gz=this,this._descriptor_4=LI("kotlin.ULong",vz(ks()))}Xy.prototype._get_descriptor__0_k$=function(){return this._descriptor_4},Xy.prototype.serialize_v01nnh_k$=function(t,i){var s=t.encodeInline_6qhf5t_k$(this._descriptor_4),c;e:{c=Dn(i);break e}s.encodeLong_kdfck9_k$(c)},Xy.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_v01nnh_k$(t,i instanceof ba?i._data_1:M())},Xy.prototype.deserialize_gzarw7_k$=function(t){var i;e:{var s=t.decodeInline_6qhf5t_k$(this._descriptor_4).decodeLong_0_k$();i=vt(s);break e}return i},Xy.prototype.deserialize_u9oizh_k$=function(t){return new ba(this.deserialize_gzarw7_k$(t))},Xy.$metadata$={simpleName:"ULongSerializer",kind:"object",interfaces:[Mr]};var Gz;function Lge(){return Gz==null&&new Xy,Gz}function Yy(){Wz=this,this._descriptor_5=LI("kotlin.UByte",kz(Yh()))}Yy.prototype._get_descriptor__0_k$=function(){return this._descriptor_5},Yy.prototype.serialize_sceu89_k$=function(t,i){var s=t.encodeInline_6qhf5t_k$(this._descriptor_5),c;e:{c=ua(i);break e}s.encodeByte_hpsj51_k$(c)},Yy.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_sceu89_k$(t,i instanceof Lo?i._data:M())},Yy.prototype.deserialize_gzgy7f_k$=function(t){var i;e:{var s=t.decodeInline_6qhf5t_k$(this._descriptor_5).decodeByte_0_k$();i=la(s);break e}return i},Yy.prototype.deserialize_u9oizh_k$=function(t){return new Lo(this.deserialize_gzgy7f_k$(t))},Yy.$metadata$={simpleName:"UByteSerializer",kind:"object",interfaces:[Mr]};var Wz;function Dge(){return Wz==null&&new Yy,Wz}function Qy(){Hz=this,this._descriptor_6=LI("kotlin.UShort",yz(b()))}Qy.prototype._get_descriptor__0_k$=function(){return this._descriptor_6},Qy.prototype.serialize_x4zxbb_k$=function(t,i){var s=t.encodeInline_6qhf5t_k$(this._descriptor_6),c;e:{c=d_(i);break e}s.encodeShort_7gn77n_k$(c)},Qy.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_x4zxbb_k$(t,i instanceof wa?i._data_2:M())},Qy.prototype.deserialize_t2rik1_k$=function(t){var i;e:{var s=t.decodeInline_6qhf5t_k$(this._descriptor_6).decodeShort_0_k$();i=Vh(s);break e}return i},Qy.prototype.deserialize_u9oizh_k$=function(t){return new wa(this.deserialize_t2rik1_k$(t))},Qy.$metadata$={simpleName:"UShortSerializer",kind:"object",interfaces:[Mr]};var Hz;function Oge(){return Hz==null&&new Qy,Hz}function Vz(t){return _X(t)}function gd(t){this._serializer=t,this._descriptor_7=new ts(this._serializer._get_descriptor__0_k$())}gd.prototype._get_descriptor__0_k$=function(){return this._descriptor_7},gd.prototype.serialize_9ed8ik_k$=function(t,i){i!=null?(t.encodeNotNullMark_sv8swh_k$(),t.encodeSerializableValue_79s409_k$(this._serializer,i)):t.encodeNull_sv8swh_k$()},gd.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_9ed8ik_k$(t,(i==null?!0:Re(i))?i:M())},gd.prototype.deserialize_u9oizh_k$=function(t){return t.decodeNotNullMark_0_k$()?t.decodeSerializableValue_f8566k_k$(this._serializer):t.decodeNull_0_k$()},gd.prototype.equals=function(t){return this===t?!0:!((t==null?!0:!Xo(this).equals(Xo(t)))||(t instanceof gd||M(),F(),!xt(this._serializer,t._serializer)))},gd.prototype.hashCode=function(){return ur(this._serializer)},gd.$metadata$={simpleName:"NullableSerializer",kind:"class",interfaces:[Mr]};function ts(t){this._original=t,this._serialName_3=this._original._get_serialName__0_k$()+"?",this._serialNames_0=_X(this._original)}ts.prototype.getElementAnnotations_ha5a7z_k$=function(t){return this._original.getElementAnnotations_ha5a7z_k$(t)},ts.prototype.getElementDescriptor_ha5a7z_k$=function(t){return this._original.getElementDescriptor_ha5a7z_k$(t)},ts.prototype.getElementIndex_6wfw3l_k$=function(t){return this._original.getElementIndex_6wfw3l_k$(t)},ts.prototype.getElementName_ha5a7z_k$=function(t){return this._original.getElementName_ha5a7z_k$(t)},ts.prototype.isElementOptional_ha5a7z_k$=function(t){return this._original.isElementOptional_ha5a7z_k$(t)},ts.prototype._get_annotations__0_k$=function(){return this._original._get_annotations__0_k$()},ts.prototype._get_elementsCount__0_k$=function(){return this._original._get_elementsCount__0_k$()},ts.prototype._get_isInline__0_k$=function(){return this._original._get_isInline__0_k$()},ts.prototype._get_kind__0_k$=function(){return this._original._get_kind__0_k$()},ts.prototype._get_serialName__0_k$=function(){return this._serialName_3},ts.prototype._get_serialNames__0_k$=function(){return this._serialNames_0},ts.prototype._get_isNullable__0_k$=function(){return!0},ts.prototype.equals=function(t){return this===t?!0:!(!(t instanceof ts)||!xt(this._original,t._original))},ts.prototype.toString=function(){return""+this._original+"?"},ts.prototype.hashCode=function(){return pt(ur(this._original),31)},ts.$metadata$={simpleName:"SerialDescriptorForNullable",kind:"class",interfaces:[Sr,QS]};function DI(t){this._this$0_11=t}DI.prototype.invoke_dot7f7_k$=function(t){t._annotations=this._this$0_11.__annotations},DI.prototype.invoke_20e8_k$=function(t){return this.invoke_dot7f7_k$(t instanceof Hy?t:M()),F()},DI.$metadata$={kind:"class",interfaces:[]};function qz(t,i){this._$serialName=t,this._this$0_12=i}qz.prototype.invoke_0_k$=function(){var t=Age();return RI(this._$serialName,t,[],jge(this._this$0_12),4)},qz.$metadata$={kind:"class",interfaces:[]};function ZS(t,i){this._objectInstance=i,this.__annotations=Da();var s=this,c=Wm();s._descriptor$delegate=dS(c,Uge(t,this))}ZS.prototype._get_descriptor__0_k$=function(){var t;e:{zge(),t=this._descriptor$delegate._get_value__0_k$();break e}return t},ZS.prototype.serialize_whawnb_k$=function(t,i){t.beginStructure_6qhf5t_k$(this._get_descriptor__0_k$()).endStructure_g940c0_k$(this._get_descriptor__0_k$())},ZS.prototype.deserialize_u9oizh_k$=function(t){return t.beginStructure_6qhf5t_k$(this._get_descriptor__0_k$()).endStructure_g940c0_k$(this._get_descriptor__0_k$()),this._objectInstance},ZS.$metadata$={simpleName:"ObjectSerializer",kind:"class",interfaces:[Mr]};function zge(){return Fu("descriptor",1,Zl,function(t){return t._get_descriptor__0_k$()},null)}function Uge(t,i){var s=new qz(t,i);return function(){return s.invoke_0_k$()}}function jge(t){var i=new DI(t);return function(s){return i.invoke_dot7f7_k$(s),F()}}var cX;function Kz(t){var i;e:{var s,c;t:{var p;n:{p=t==null?!0:t.isEmpty_0_k$();break n}c=p;break t}c?s=null:s=t,i=s;break e}var v=i,k;if(v==null)k=null;else{var x;e:{x=Ht(v);break e}k=x}var T=k;return T==null?cX:T}function _X(t){if(Ce(t,QS))return t._get_serialNames__0_k$();var i=eO(t._get_elementsCount__0_k$()),s=0,c=t._get_elementsCount__0_k$();if(s<c)do{var p=s;s=s+1|0;{var v=t.getElementName_ha5a7z_k$(p);i.add_2bq_k$(v),F()}}while(s<c);return i}function Gge(){var t;e:{var i;t:{var s;n:{s=[];break n}i=s;break t}t=i;break e}return t}function Wge(t,i,s){var c;e:{c=Di();break e}var p=c,v=i&~t,k=0;if(k<32)do{var x=k;if(k=k+1|0,(v&1)!=0){var T=s.getElementName_ha5a7z_k$(x);p.add_2bq_k$(T),F()}v=v>>>1}while(k<32);throw YJ(p,s._get_serialName__0_k$())}function fX(t,i){var s=td(t._get_serialName__0_k$());s=pt(31,s)+Pme(i)|0;var c=pge(t),p;e:{var v;t:{for(var k=1,x=c.iterator_0_k$();x.hasNext_0_k$();){var T=x.next_0_k$(),N;n:{var B=k,L=pt(31,B),O;r:{var W;i:{W=T._get_serialName__0_k$();break i}var K=W,q=K,Q=q==null?null:ur(q);O=Q==null?0:Q;break r}N=L+O|0;break n}k=N}v=k;break t}p=v;break e}var ee=p,ie;e:{var fe;t:{for(var le=1,Se=c.iterator_0_k$();Se.hasNext_0_k$();){var Ee=Se.next_0_k$(),Te;n:{var Me=le,Ne=pt(31,Me),Pe;r:{var Ye;i:{Ye=Ee._get_kind__0_k$();break i}var Ke=Ye,nt=Ke,Ze=nt==null?null:ur(nt);Pe=Ze==null?0:Ze;break r}Te=Ne+Pe|0;break n}le=Te}fe=le;break t}ie=fe;break e}var ct=ie;return s=pt(31,s)+ee|0,s=pt(31,s)+ct|0,s}function pX(t){var i;e:{Vge(),i=t._childSerializers$delegate._get_value__0_k$();break e}return i}function hX(t){var i;e:{Kge(),i=t.__hashCode$delegate_0._get_value__0_k$();break e}return i}function Hge(t){var i=yy(),s=0,c=t._names.length-1|0;if(s<=c)do{var p=s;s=s+1|0;{var v=t._names[p];i.put_1q9pf_k$(v,p),F()}}while(s<=c);return i}function Jz(t){this._this$0_13=t}Jz.prototype.invoke_0_k$=function(){var t=this._this$0_13._generatedSerializer,i=t==null?null:t.childSerializers_0_k$();return i==null?Qz:i},Jz.$metadata$={kind:"class",interfaces:[]};function Xz(t){this._this$0_14=t}Xz.prototype.invoke_0_k$=function(){var t=this._this$0_14._generatedSerializer,i=t==null?null:t.typeParametersSerializers_0_k$(),s;if(i==null)s=null;else{var c;e:{var p;t:{for(var v=Wr(i.length),k=lI(i);k.hasNext_0_k$();){var x=k.next_0_k$(),T;n:{T=x._get_descriptor__0_k$();break n}v.add_2bq_k$(T),F()}p=v;break t}c=p;break e}s=c}return Kz(s)},Xz.$metadata$={kind:"class",interfaces:[]};function Yz(t){this._this$0_15=t}Yz.prototype.invoke_0_k$=function(){return fX(this._this$0_15,this._this$0_15._get_typeParameterDescriptors__0_k$())},Yz.$metadata$={kind:"class",interfaces:[]};function OI(t){this._this$0_16=t}OI.prototype.invoke_ha5a7z_k$=function(t){return this._this$0_16.getElementName_ha5a7z_k$(t)+": "+this._this$0_16.getElementDescriptor_ha5a7z_k$(t)._get_serialName__0_k$()},OI.prototype.invoke_20e8_k$=function(t){return this.invoke_ha5a7z_k$((t!=null?typeof t=="number":!1)?t:M())},OI.$metadata$={kind:"class",interfaces:[]};function Yo(t,i,s){this._serialName_4=t,this._generatedSerializer=i,this._elementsCount_2=s,this._added=-1;var c=this,p=0,v=this._elementsCount_2,k;e:{k=ca(Array(v),null);break e}for(var x=k;p<v;){var T=p,N;e:{N="[UNINITIALIZED]";break e}x[T]=N,p=p+1|0}c._names=x;var B=this,L;e:{var O=this._elementsCount_2;L=ca(Array(O),null);break e}B._propertiesAnnotations=L,this._classAnnotations=null,this._elementsOptionality=mO(this._elementsCount_2),this._indices=Ds();var W=this,K=Wm();W._childSerializers$delegate=dS(K,Jge(this));var q=this,Q=Wm();q._typeParameterDescriptors$delegate=dS(Q,Xge(this));var ee=this,ie=Wm();ee.__hashCode$delegate_0=dS(ie,Yge(this))}Yo.prototype._get_serialName__0_k$=function(){return this._serialName_4},Yo.prototype._get_elementsCount__0_k$=function(){return this._elementsCount_2},Yo.prototype._get_kind__0_k$=function(){return sX()},Yo.prototype._get_annotations__0_k$=function(){var t=this._classAnnotations;return t==null?Da():t},Yo.prototype._get_serialNames__0_k$=function(){return this._indices._get_keys__0_k$()},Yo.prototype._get_typeParameterDescriptors__0_k$=function(){var t;e:{qge(),t=this._typeParameterDescriptors$delegate._get_value__0_k$();break e}return t},Yo.prototype.addElement_5xhc52_k$=function(t,i){var s=this;s._added=s._added+1|0,this._names[s._added]=t,this._elementsOptionality[this._added]=i,this._propertiesAnnotations[this._added]=null,this._added===(this._elementsCount_2-1|0)&&(this._indices=Hge(this))},Yo.prototype.getElementDescriptor_ha5a7z_k$=function(t){return xb(pX(this),t)._get_descriptor__0_k$()},Yo.prototype.isElementOptional_ha5a7z_k$=function(t){return yX(this._elementsOptionality,t)},Yo.prototype.getElementAnnotations_ha5a7z_k$=function(t){var i=xb(this._propertiesAnnotations,t);return i==null?Da():i},Yo.prototype.getElementName_ha5a7z_k$=function(t){return xb(this._names,t)},Yo.prototype.getElementIndex_6wfw3l_k$=function(t){var i=this._indices.get_2bw_k$(t),s;return i==null?s=-3:s=i,s},Yo.prototype.equals=function(t){var i;e:{if(this===t){i=!0;break e}if(!(t instanceof Yo)){i=!1;break e}if(this._get_serialName__0_k$()!==t._get_serialName__0_k$()){i=!1;break e}var s;t:{var c=t;s=IO(this._get_typeParameterDescriptors__0_k$(),c._get_typeParameterDescriptors__0_k$());break t}if(!s){i=!1;break e}if(this._get_elementsCount__0_k$()!==t._get_elementsCount__0_k$()){i=!1;break e}var p=0,v=this._get_elementsCount__0_k$();if(p<v)do{var k=p;if(p=p+1|0,this.getElementDescriptor_ha5a7z_k$(k)._get_serialName__0_k$()!==t.getElementDescriptor_ha5a7z_k$(k)._get_serialName__0_k$()){i=!1;break e}if(!xt(this.getElementDescriptor_ha5a7z_k$(k)._get_kind__0_k$(),t.getElementDescriptor_ha5a7z_k$(k)._get_kind__0_k$())){i=!1;break e}}while(p<v);i=!0;break e}return i},Yo.prototype.hashCode=function(){return hX(this)},Yo.prototype.toString=function(){var t=be(0,this._elementsCount_2),i=""+this._get_serialName__0_k$()+"(";return Ge(t,", ",i,")",0,null,Qge(this),24)},Yo.$metadata$={simpleName:"PluginGeneratedSerialDescriptor",kind:"class",interfaces:[Sr,QS]};function Vge(){return Fu("childSerializers",1,Zl,function(t){return pX(t)},null)}function qge(){return Fu("typeParameterDescriptors",1,Zl,function(t){return t._get_typeParameterDescriptors__0_k$()},null)}function Kge(){return Fu("_hashCode",1,Zl,function(t){return hX(t)},null)}function Jge(t){var i=new Jz(t);return function(){return i.invoke_0_k$()}}function Xge(t){var i=new Xz(t);return function(){return i.invoke_0_k$()}}function Yge(t){var i=new Yz(t);return function(){return i.invoke_0_k$()}}function Qge(t){var i=new OI(t);return function(s){return i.invoke_ha5a7z_k$(s)}}var Qz;function pb(){}pb.prototype.typeParametersSerializers_0_k$=function(){return Qz},pb.$metadata$={simpleName:"GeneratedSerializer",kind:"interface",interfaces:[Mr]};function dX(){}dX.$metadata$={simpleName:"SerializerFactory",kind:"interface",interfaces:[]};function Zge(){var t;e:{var i;t:{var s;n:{s=[];break n}i=s;break t}t=i;break e}return t}function Uu(){Zz=this,di.call(this,QJ(by()))}Uu.prototype.collectionSize_injcdj_k$=function(t){return t.length},Uu.prototype.collectionSize_4qlka9_k$=function(t){return this.collectionSize_injcdj_k$((t!=null?bS(t):!1)?t:M())},Uu.prototype.toBuilder_injcdj_k$=function(t){return new Mp(t)},Uu.prototype.toBuilder_4qlka9_k$=function(t){return this.toBuilder_injcdj_k$((t!=null?bS(t):!1)?t:M())},Uu.prototype.empty_0_k$=function(){return pS(0)},Uu.prototype.readElement_pdwp7b_k$=function(t,i,s,c){s.append_9o0tv_k$(t.decodeCharElement_5vyt7k_k$(this._get_descriptor__0_k$(),i))},Uu.prototype.readElement_ie1hio_k$=function(t,i,s,c){return this.readElement_pdwp7b_k$(t,i,s instanceof Mp?s:M(),c)},Uu.prototype.writeContent_faabt_k$=function(t,i,s){var c=0;if(c<s)do{var p=c;c=c+1|0,t.encodeCharElement_vw2177_k$(this._get_descriptor__0_k$(),p,i[p])}while(c<s)},Uu.prototype.writeContent_8rd7hi_k$=function(t,i,s){return this.writeContent_faabt_k$(t,(i!=null?bS(i):!1)?i:M(),s)},Uu.$metadata$={simpleName:"CharArraySerializer",kind:"object",interfaces:[Mr]};var Zz;function eye(){return Zz==null&&new Uu,Zz}function ju(){e4=this,di.call(this,ZJ(Rn()))}ju.prototype.collectionSize_yiku9g_k$=function(t){return t.length},ju.prototype.collectionSize_4qlka9_k$=function(t){return this.collectionSize_yiku9g_k$((t!=null?SS(t):!1)?t:M())},ju.prototype.toBuilder_yiku9g_k$=function(t){return new Np(t)},ju.prototype.toBuilder_4qlka9_k$=function(t){return this.toBuilder_yiku9g_k$((t!=null?SS(t):!1)?t:M())},ju.prototype.empty_0_k$=function(){return new Float64Array(0)},ju.prototype.readElement_ltxsn8_k$=function(t,i,s,c){s.append_okcceq_k$(t.decodeDoubleElement_5vyt7k_k$(this._get_descriptor__0_k$(),i))},ju.prototype.readElement_ie1hio_k$=function(t,i,s,c){return this.readElement_ltxsn8_k$(t,i,s instanceof Np?s:M(),c)},ju.prototype.writeContent_djdhde_k$=function(t,i,s){var c=0;if(c<s)do{var p=c;c=c+1|0,t.encodeDoubleElement_xwk426_k$(this._get_descriptor__0_k$(),p,i[p])}while(c<s)},ju.prototype.writeContent_8rd7hi_k$=function(t,i,s){return this.writeContent_djdhde_k$(t,(i!=null?SS(i):!1)?i:M(),s)},ju.$metadata$={simpleName:"DoubleArraySerializer",kind:"object",interfaces:[Mr]};var e4;function tye(){return e4==null&&new ju,e4}function Gu(){t4=this,di.call(this,eX(we()))}Gu.prototype.collectionSize_cxfvfr_k$=function(t){return t.length},Gu.prototype.collectionSize_4qlka9_k$=function(t){return this.collectionSize_cxfvfr_k$((t!=null?Lu(t):!1)?t:M())},Gu.prototype.toBuilder_cxfvfr_k$=function(t){return new Rp(t)},Gu.prototype.toBuilder_4qlka9_k$=function(t){return this.toBuilder_cxfvfr_k$((t!=null?Lu(t):!1)?t:M())},Gu.prototype.empty_0_k$=function(){return new Float32Array(0)},Gu.prototype.readElement_8bcb0b_k$=function(t,i,s,c){s.append_cpozfn_k$(t.decodeFloatElement_5vyt7k_k$(this._get_descriptor__0_k$(),i))},Gu.prototype.readElement_ie1hio_k$=function(t,i,s,c){return this.readElement_8bcb0b_k$(t,i,s instanceof Rp?s:M(),c)},Gu.prototype.writeContent_ocwo9_k$=function(t,i,s){var c=0;if(c<s)do{var p=c;c=c+1|0,t.encodeFloatElement_qv7flv_k$(this._get_descriptor__0_k$(),p,i[p])}while(c<s)},Gu.prototype.writeContent_8rd7hi_k$=function(t,i,s){return this.writeContent_ocwo9_k$(t,(i!=null?Lu(i):!1)?i:M(),s)},Gu.$metadata$={simpleName:"FloatArraySerializer",kind:"object",interfaces:[Mr]};var t4;function nye(){return t4==null&&new Gu,t4}function Wu(){n4=this,di.call(this,vz(ks()))}Wu.prototype.collectionSize_52nsov_k$=function(t){return t.length},Wu.prototype.collectionSize_4qlka9_k$=function(t){return this.collectionSize_52nsov_k$((t!=null?xS(t):!1)?t:M())},Wu.prototype.toBuilder_52nsov_k$=function(t){return new Pp(t)},Wu.prototype.toBuilder_4qlka9_k$=function(t){return this.toBuilder_52nsov_k$((t!=null?xS(t):!1)?t:M())},Wu.prototype.empty_0_k$=function(){return vO(0)},Wu.prototype.readElement_2iivg1_k$=function(t,i,s,c){s.append_kdfck9_k$(t.decodeLongElement_5vyt7k_k$(this._get_descriptor__0_k$(),i))},Wu.prototype.readElement_ie1hio_k$=function(t,i,s,c){return this.readElement_2iivg1_k$(t,i,s instanceof Pp?s:M(),c)},Wu.prototype.writeContent_t56x7n_k$=function(t,i,s){var c=0;if(c<s)do{var p=c;c=c+1|0,t.encodeLongElement_j1ap1j_k$(this._get_descriptor__0_k$(),p,i[p])}while(c<s)},Wu.prototype.writeContent_8rd7hi_k$=function(t,i,s){return this.writeContent_t56x7n_k$(t,(i!=null?xS(i):!1)?i:M(),s)},Wu.$metadata$={simpleName:"LongArraySerializer",kind:"object",interfaces:[Mr]};var n4;function rye(){return n4==null&&new Wu,n4}function Hu(){r4=this,di.call(this,gz(j()))}Hu.prototype.collectionSize_fjgi92_k$=function(t){return t.length},Hu.prototype.collectionSize_4qlka9_k$=function(t){return this.collectionSize_fjgi92_k$((t!=null?wS(t):!1)?t:M())},Hu.prototype.toBuilder_fjgi92_k$=function(t){return new Bp(t)},Hu.prototype.toBuilder_4qlka9_k$=function(t){return this.toBuilder_fjgi92_k$((t!=null?wS(t):!1)?t:M())},Hu.prototype.empty_0_k$=function(){return new Int32Array(0)},Hu.prototype.readElement_du9jki_k$=function(t,i,s,c){s.append_majfzk_k$(t.decodeIntElement_5vyt7k_k$(this._get_descriptor__0_k$(),i))},Hu.prototype.readElement_ie1hio_k$=function(t,i,s,c){return this.readElement_du9jki_k$(t,i,s instanceof Bp?s:M(),c)},Hu.prototype.writeContent_9be6ik_k$=function(t,i,s){var c=0;if(c<s)do{var p=c;c=c+1|0,t.encodeIntElement_wh7n80_k$(this._get_descriptor__0_k$(),p,i[p])}while(c<s)},Hu.prototype.writeContent_8rd7hi_k$=function(t,i,s){return this.writeContent_9be6ik_k$(t,(i!=null?wS(i):!1)?i:M(),s)},Hu.$metadata$={simpleName:"IntArraySerializer",kind:"object",interfaces:[Mr]};var r4;function iye(){return r4==null&&new Hu,r4}function Vu(){i4=this,di.call(this,yz(b()))}Vu.prototype.collectionSize_tsb9bt_k$=function(t){return t.length},Vu.prototype.collectionSize_4qlka9_k$=function(t){return this.collectionSize_tsb9bt_k$((t!=null?$S(t):!1)?t:M())},Vu.prototype.toBuilder_tsb9bt_k$=function(t){return new Fp(t)},Vu.prototype.toBuilder_4qlka9_k$=function(t){return this.toBuilder_tsb9bt_k$((t!=null?$S(t):!1)?t:M())},Vu.prototype.empty_0_k$=function(){return new Int16Array(0)},Vu.prototype.readElement_hs5y5h_k$=function(t,i,s,c){s.append_7gn77n_k$(t.decodeShortElement_5vyt7k_k$(this._get_descriptor__0_k$(),i))},Vu.prototype.readElement_ie1hio_k$=function(t,i,s,c){return this.readElement_hs5y5h_k$(t,i,s instanceof Fp?s:M(),c)},Vu.prototype.writeContent_hs3qtl_k$=function(t,i,s){var c=0;if(c<s)do{var p=c;c=c+1|0,t.encodeShortElement_lm5ndv_k$(this._get_descriptor__0_k$(),p,i[p])}while(c<s)},Vu.prototype.writeContent_8rd7hi_k$=function(t,i,s){return this.writeContent_hs3qtl_k$(t,(i!=null?$S(i):!1)?i:M(),s)},Vu.$metadata$={simpleName:"ShortArraySerializer",kind:"object",interfaces:[Mr]};var i4;function oye(){return i4==null&&new Vu,i4}function qu(){o4=this,di.call(this,kz(Yh()))}qu.prototype.collectionSize_twz4l1_k$=function(t){return t.length},qu.prototype.collectionSize_4qlka9_k$=function(t){return this.collectionSize_twz4l1_k$((t!=null?kS(t):!1)?t:M())},qu.prototype.toBuilder_twz4l1_k$=function(t){return new Lp(t)},qu.prototype.toBuilder_4qlka9_k$=function(t){return this.toBuilder_twz4l1_k$((t!=null?kS(t):!1)?t:M())},qu.prototype.empty_0_k$=function(){return new Int8Array(0)},qu.prototype.readElement_eqkvvf_k$=function(t,i,s,c){s.append_hpsj51_k$(t.decodeByteElement_5vyt7k_k$(this._get_descriptor__0_k$(),i))},qu.prototype.readElement_ie1hio_k$=function(t,i,s,c){return this.readElement_eqkvvf_k$(t,i,s instanceof Lp?s:M(),c)},qu.prototype.writeContent_yeeyhj_k$=function(t,i,s){var c=0;if(c<s)do{var p=c;c=c+1|0,t.encodeByteElement_loxigr_k$(this._get_descriptor__0_k$(),p,i[p])}while(c<s)},qu.prototype.writeContent_8rd7hi_k$=function(t,i,s){return this.writeContent_yeeyhj_k$(t,(i!=null?kS(i):!1)?i:M(),s)},qu.$metadata$={simpleName:"ByteArraySerializer",kind:"object",interfaces:[Mr]};var o4;function aye(){return o4==null&&new qu,o4}function Ku(){a4=this,di.call(this,tX())}Ku.prototype.collectionSize_ux5p2r_k$=function(t){return t.length},Ku.prototype.collectionSize_4qlka9_k$=function(t){return this.collectionSize_ux5p2r_k$((t!=null?yS(t):!1)?t:M())},Ku.prototype.toBuilder_ux5p2r_k$=function(t){return new Dp(t)},Ku.prototype.toBuilder_4qlka9_k$=function(t){return this.toBuilder_ux5p2r_k$((t!=null?yS(t):!1)?t:M())},Ku.prototype.empty_0_k$=function(){return mO(0)},Ku.prototype.readElement_cpc2ux_k$=function(t,i,s,c){s.append_rpwsgn_k$(t.decodeBooleanElement_5vyt7k_k$(this._get_descriptor__0_k$(),i))},Ku.prototype.readElement_ie1hio_k$=function(t,i,s,c){return this.readElement_cpc2ux_k$(t,i,s instanceof Dp?s:M(),c)},Ku.prototype.writeContent_k74uyd_k$=function(t,i,s){var c=0;if(c<s)do{var p=c;c=c+1|0,t.encodeBooleanElement_9280p5_k$(this._get_descriptor__0_k$(),p,i[p])}while(c<s)},Ku.prototype.writeContent_8rd7hi_k$=function(t,i,s){return this.writeContent_k74uyd_k$(t,(i!=null?yS(i):!1)?i:M(),s)},Ku.$metadata$={simpleName:"BooleanArraySerializer",kind:"object",interfaces:[Mr]};var a4;function sye(){return a4==null&&new Ku,a4}function Mp(t){xs.call(this),this._buffer_4=t,this._position=t.length,this.ensureCapacity_majfzk_k$(10)}Mp.prototype._get_position__0_k$=function(){return this._position},Mp.prototype.ensureCapacity_majfzk_k$=function(t){this._buffer_4.length<t&&(this._buffer_4=cJ(this._buffer_4,wt(t,pt(this._buffer_4.length,2))))},Mp.prototype.append_9o0tv_k$=function(t){this.ensureCapacity$default_fa9pg0_k$(0,1,null);var i=this._buffer_4,s=this,c=s._position;s._position=c+1|0,i[c]=t},Mp.prototype.build_0_k$=function(){return cJ(this._buffer_4,this._position)},Mp.$metadata$={simpleName:"CharArrayBuilder",kind:"class",interfaces:[]};function Np(t){xs.call(this),this._buffer_5=t,this._position_0=t.length,this.ensureCapacity_majfzk_k$(10)}Np.prototype._get_position__0_k$=function(){return this._position_0},Np.prototype.ensureCapacity_majfzk_k$=function(t){this._buffer_5.length<t&&(this._buffer_5=_J(this._buffer_5,wt(t,pt(this._buffer_5.length,2))))},Np.prototype.append_okcceq_k$=function(t){this.ensureCapacity$default_fa9pg0_k$(0,1,null);var i=this._buffer_5,s=this,c=s._position_0;s._position_0=c+1|0,i[c]=t},Np.prototype.build_0_k$=function(){return _J(this._buffer_5,this._position_0)},Np.$metadata$={simpleName:"DoubleArrayBuilder",kind:"class",interfaces:[]};function Rp(t){xs.call(this),this._buffer_6=t,this._position_1=t.length,this.ensureCapacity_majfzk_k$(10)}Rp.prototype._get_position__0_k$=function(){return this._position_1},Rp.prototype.ensureCapacity_majfzk_k$=function(t){this._buffer_6.length<t&&(this._buffer_6=fJ(this._buffer_6,wt(t,pt(this._buffer_6.length,2))))},Rp.prototype.append_cpozfn_k$=function(t){this.ensureCapacity$default_fa9pg0_k$(0,1,null);var i=this._buffer_6,s=this,c=s._position_1;s._position_1=c+1|0,i[c]=t},Rp.prototype.build_0_k$=function(){return fJ(this._buffer_6,this._position_1)},Rp.$metadata$={simpleName:"FloatArrayBuilder",kind:"class",interfaces:[]};function Pp(t){xs.call(this),this._buffer_7=t,this._position_2=t.length,this.ensureCapacity_majfzk_k$(10)}Pp.prototype._get_position__0_k$=function(){return this._position_2},Pp.prototype.ensureCapacity_majfzk_k$=function(t){this._buffer_7.length<t&&(this._buffer_7=pJ(this._buffer_7,wt(t,pt(this._buffer_7.length,2))))},Pp.prototype.append_kdfck9_k$=function(t){this.ensureCapacity$default_fa9pg0_k$(0,1,null);var i=this._buffer_7,s=this,c=s._position_2;s._position_2=c+1|0,i[c]=t},Pp.prototype.build_0_k$=function(){return pJ(this._buffer_7,this._position_2)},Pp.$metadata$={simpleName:"LongArrayBuilder",kind:"class",interfaces:[]};function Bp(t){xs.call(this),this._buffer_8=t,this._position_3=t.length,this.ensureCapacity_majfzk_k$(10)}Bp.prototype._get_position__0_k$=function(){return this._position_3},Bp.prototype.ensureCapacity_majfzk_k$=function(t){this._buffer_8.length<t&&(this._buffer_8=hJ(this._buffer_8,wt(t,pt(this._buffer_8.length,2))))},Bp.prototype.append_majfzk_k$=function(t){this.ensureCapacity$default_fa9pg0_k$(0,1,null);var i=this._buffer_8,s=this,c=s._position_3;s._position_3=c+1|0,i[c]=t},Bp.prototype.build_0_k$=function(){return hJ(this._buffer_8,this._position_3)},Bp.$metadata$={simpleName:"IntArrayBuilder",kind:"class",interfaces:[]};function Fp(t){xs.call(this),this._buffer_9=t,this._position_4=t.length,this.ensureCapacity_majfzk_k$(10)}Fp.prototype._get_position__0_k$=function(){return this._position_4},Fp.prototype.ensureCapacity_majfzk_k$=function(t){this._buffer_9.length<t&&(this._buffer_9=dJ(this._buffer_9,wt(t,pt(this._buffer_9.length,2))))},Fp.prototype.append_7gn77n_k$=function(t){this.ensureCapacity$default_fa9pg0_k$(0,1,null);var i=this._buffer_9,s=this,c=s._position_4;s._position_4=c+1|0,i[c]=t},Fp.prototype.build_0_k$=function(){return dJ(this._buffer_9,this._position_4)},Fp.$metadata$={simpleName:"ShortArrayBuilder",kind:"class",interfaces:[]};function Lp(t){xs.call(this),this._buffer_10=t,this._position_5=t.length,this.ensureCapacity_majfzk_k$(10)}Lp.prototype._get_position__0_k$=function(){return this._position_5},Lp.prototype.ensureCapacity_majfzk_k$=function(t){this._buffer_10.length<t&&(this._buffer_10=TO(this._buffer_10,wt(t,pt(this._buffer_10.length,2))))},Lp.prototype.append_hpsj51_k$=function(t){this.ensureCapacity$default_fa9pg0_k$(0,1,null);var i=this._buffer_10,s=this,c=s._position_5;s._position_5=c+1|0,i[c]=t},Lp.prototype.build_0_k$=function(){return TO(this._buffer_10,this._position_5)},Lp.$metadata$={simpleName:"ByteArrayBuilder",kind:"class",interfaces:[]};function Dp(t){xs.call(this),this._buffer_11=t,this._position_6=t.length,this.ensureCapacity_majfzk_k$(10)}Dp.prototype._get_position__0_k$=function(){return this._position_6},Dp.prototype.ensureCapacity_majfzk_k$=function(t){this._buffer_11.length<t&&(this._buffer_11=mJ(this._buffer_11,wt(t,pt(this._buffer_11.length,2))))},Dp.prototype.append_rpwsgn_k$=function(t){this.ensureCapacity$default_fa9pg0_k$(0,1,null);var i=this._buffer_11,s=this,c=s._position_6;s._position_6=c+1|0,i[c]=t},Dp.prototype.build_0_k$=function(){return mJ(this._buffer_11,this._position_6)},Dp.$metadata$={simpleName:"BooleanArrayBuilder",kind:"class",interfaces:[]};var mX;function hb(){s4=this,this._descriptor_8=new Qo("kotlin.String",Bz())}hb.prototype._get_descriptor__0_k$=function(){return this._descriptor_8},hb.prototype.serialize_bu4ntv_k$=function(t,i){return t.encodeString_a4enbm_k$(i)},hb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_bu4ntv_k$(t,(i!=null?typeof i=="string":!1)?i:M())},hb.prototype.deserialize_u9oizh_k$=function(t){return t.decodeString_0_k$()},hb.$metadata$={simpleName:"StringSerializer",kind:"object",interfaces:[Mr]};var s4;function db(){return s4==null&&new hb,s4}function mb(){l4=this,this._descriptor_9=new Qo("kotlin.Char",bge())}mb.prototype._get_descriptor__0_k$=function(){return this._descriptor_9},mb.prototype.serialize_bb9p3s_k$=function(t,i){return t.encodeChar_9o0tv_k$(i)},mb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_bb9p3s_k$(t,i instanceof pe?i:M())},mb.prototype.deserialize_u9oizh_k$=function(t){return t.decodeChar_0_k$()},mb.$metadata$={simpleName:"CharSerializer",kind:"object",interfaces:[Mr]};var l4;function lye(){return l4==null&&new mb,l4}function vb(){u4=this,this._descriptor_10=new Qo("kotlin.Double",Cge())}vb.prototype._get_descriptor__0_k$=function(){return this._descriptor_10},vb.prototype.serialize_2lt199_k$=function(t,i){return t.encodeDouble_okcceq_k$(i)},vb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_2lt199_k$(t,(i!=null?typeof i=="number":!1)?i:M())},vb.prototype.deserialize_u9oizh_k$=function(t){return t.decodeDouble_0_k$()},vb.$metadata$={simpleName:"DoubleSerializer",kind:"object",interfaces:[Mr]};var u4;function uye(){return u4==null&&new vb,u4}function gb(){c4=this,this._descriptor_11=new Qo("kotlin.Float",Ege())}gb.prototype._get_descriptor__0_k$=function(){return this._descriptor_11},gb.prototype.serialize_gl61iw_k$=function(t,i){return t.encodeFloat_cpozfn_k$(i)},gb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_gl61iw_k$(t,(i!=null?typeof i=="number":!1)?i:M())},gb.prototype.deserialize_u9oizh_k$=function(t){return t.decodeFloat_0_k$()},gb.$metadata$={simpleName:"FloatSerializer",kind:"object",interfaces:[Mr]};var c4;function cye(){return c4==null&&new gb,c4}function yb(){_4=this,this._descriptor_12=new Qo("kotlin.Long",Sge())}yb.prototype._get_descriptor__0_k$=function(){return this._descriptor_12},yb.prototype.serialize_8shmmm_k$=function(t,i){return t.encodeLong_kdfck9_k$(i)},yb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_8shmmm_k$(t,i instanceof at?i:M())},yb.prototype.deserialize_u9oizh_k$=function(t){return t.decodeLong_0_k$()},yb.$metadata$={simpleName:"LongSerializer",kind:"object",interfaces:[Mr]};var _4;function _ye(){return _4==null&&new yb,_4}function kb(){f4=this,this._descriptor_13=new Qo("kotlin.Int",xge())}kb.prototype._get_descriptor__0_k$=function(){return this._descriptor_13},kb.prototype.serialize_ssjwrf_k$=function(t,i){return t.encodeInt_majfzk_k$(i)},kb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_ssjwrf_k$(t,(i!=null?typeof i=="number":!1)?i:M())},kb.prototype.deserialize_u9oizh_k$=function(t){return t.decodeInt_0_k$()},kb.$metadata$={simpleName:"IntSerializer",kind:"object",interfaces:[Mr]};var f4;function fye(){return f4==null&&new kb,f4}function $b(){p4=this,this._descriptor_14=new Qo("kotlin.Short",wge())}$b.prototype._get_descriptor__0_k$=function(){return this._descriptor_14},$b.prototype.serialize_bc49aw_k$=function(t,i){return t.encodeShort_7gn77n_k$(i)},$b.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_bc49aw_k$(t,(i!=null?typeof i=="number":!1)?i:M())},$b.prototype.deserialize_u9oizh_k$=function(t){return t.decodeShort_0_k$()},$b.$metadata$={simpleName:"ShortSerializer",kind:"object",interfaces:[Mr]};var p4;function pye(){return p4==null&&new $b,p4}function bb(){h4=this,this._descriptor_15=new Qo("kotlin.Byte",$ge())}bb.prototype._get_descriptor__0_k$=function(){return this._descriptor_15},bb.prototype.serialize_64ut7e_k$=function(t,i){return t.encodeByte_hpsj51_k$(i)},bb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_64ut7e_k$(t,(i!=null?typeof i=="number":!1)?i:M())},bb.prototype.deserialize_u9oizh_k$=function(t){return t.decodeByte_0_k$()},bb.$metadata$={simpleName:"ByteSerializer",kind:"object",interfaces:[Mr]};var h4;function hye(){return h4==null&&new bb,h4}function wb(){d4=this,this._descriptor_16=new Qo("kotlin.Boolean",kge())}wb.prototype._get_descriptor__0_k$=function(){return this._descriptor_16},wb.prototype.serialize_dqpbh0_k$=function(t,i){return t.encodeBoolean_rpwsgn_k$(i)},wb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_dqpbh0_k$(t,(i!=null?typeof i=="boolean":!1)?i:M())},wb.prototype.deserialize_u9oizh_k$=function(t){return t.decodeBoolean_0_k$()},wb.$metadata$={simpleName:"BooleanSerializer",kind:"object",interfaces:[Mr]};var d4;function dye(){return d4==null&&new wb,d4}function Zy(){m4=this,this._$$delegate_0=new ZS("kotlin.Unit",F())}Zy.prototype.deserialize_c04y7o_k$=function(t){this._$$delegate_0.deserialize_u9oizh_k$(t)},Zy.prototype.deserialize_u9oizh_k$=function(t){return this.deserialize_c04y7o_k$(t),F()},Zy.prototype.serialize_juc65m_k$=function(t,i){this._$$delegate_0.serialize_whawnb_k$(t,F())},Zy.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_juc65m_k$(t,i instanceof xc?i:M())},Zy.prototype._get_descriptor__0_k$=function(){return this._$$delegate_0._get_descriptor__0_k$()},Zy.$metadata$={simpleName:"UnitSerializer",kind:"object",interfaces:[Mr]};var m4;function mye(){return m4==null&&new Zy,m4}function eE(t){throw At("Primitive descriptor does not have elements")}function Qo(t,i){this._serialName_5=t,this._kind_0=i}Qo.prototype._get_serialName__0_k$=function(){return this._serialName_5},Qo.prototype._get_kind__0_k$=function(){return this._kind_0},Qo.prototype._get_elementsCount__0_k$=function(){return 0},Qo.prototype.getElementName_ha5a7z_k$=function(t){eE()},Qo.prototype.getElementIndex_6wfw3l_k$=function(t){eE()},Qo.prototype.isElementOptional_ha5a7z_k$=function(t){eE()},Qo.prototype.getElementDescriptor_ha5a7z_k$=function(t){eE()},Qo.prototype.getElementAnnotations_ha5a7z_k$=function(t){eE()},Qo.prototype.toString=function(){return"PrimitiveDescriptor("+this._serialName_5+")"},Qo.$metadata$={simpleName:"PrimitiveSerialDescriptor",kind:"class",interfaces:[Sr]};function vye(t,i){return gye(t),new Qo(t,i)}function gye(t){for(var i=mX._get_keys__0_k$(),s=i.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$(),p=vX(Ei(c._get_simpleName__0_k$())),v="kotlin."+p;if(nI(t,v,!0)?!0:nI(t,p,!0))throw sn(P1(`
                The name of serial descriptor should uniquely identify associated serializer.
                For serial name `+t+" there already exist "+vX(p)+`Serializer.
                Please refer to SerialDescriptor documentation for additional information.
            `))}}function vX(t){var i;e:{var s,c;t:{c=sr(t)>0;break t}if(c){var p;t:{var v=kn(t,0);p=Ude(v)?K2(v):v.toString();break t}var k=Bt(p),x;t:{var T;n:{T=t;break n}x=T.substring(1);break t}s=k+x}else s=t;i=s;break e}return i}function Ss(){nr.call(this)}Ss.prototype.getTag_jmml4e_k$=function(t,i){return this.nested_6wfw3l_k$(this.elementName_5vyt7k_k$(t,i))},Ss.prototype.nested_6wfw3l_k$=function(t){var i=this._get_currentTagOrNull__0_k$();return this.composeName_jg38oy_k$(i==null?"":i,t)},Ss.prototype.elementName_5vyt7k_k$=function(t,i){return t.getElementName_ha5a7z_k$(i)},Ss.prototype.composeName_jg38oy_k$=function(t,i){var s,c;e:{c=sr(t)===0;break e}return c?s=i:s=""+t+"."+i,s},Ss.$metadata$={simpleName:"NamedValueDecoder",kind:"class",interfaces:[]};function gX(t,i,s){t.pushTag_22hlsm_k$(i);var c=s();return t._flag||(t.popTag_0_k$(),F()),t._flag=!1,c}function v4(t,i,s){this._this$0_17=t,this._$deserializer=i,this._$previousValue=s}v4.prototype.invoke_0_k$=function(){return this._this$0_17.decodeSerializableValue_qeg2y_k$(this._$deserializer,this._$previousValue)},v4.$metadata$={kind:"class",interfaces:[]};function g4(t,i,s){this._this$0_18=t,this._$deserializer_0=i,this._$previousValue_0=s}g4.prototype.invoke_0_k$=function(){return this._this$0_18.decodeNotNullMark_0_k$()?this._this$0_18.decodeSerializableValue_qeg2y_k$(this._$deserializer_0,this._$previousValue_0):this._this$0_18.decodeNull_0_k$()},g4.$metadata$={kind:"class",interfaces:[]};function nr(){var t=this,i;e:{i=Di();break e}t._tagStack=i,this._flag=!1}nr.prototype._get_serializersModule__0_k$=function(){return zI},nr.prototype.decodeTaggedValue_1qgfv_k$=function(t){throw Cc(""+Xo(this)+" can't retrieve untyped values")},nr.prototype.decodeTaggedNotNullMark_1qgfv_k$=function(t){return!0},nr.prototype.decodeTaggedBoolean_1qgfv_k$=function(t){var i=this.decodeTaggedValue_1qgfv_k$(t);return typeof i=="boolean"?i:M()},nr.prototype.decodeTaggedByte_1qgfv_k$=function(t){var i=this.decodeTaggedValue_1qgfv_k$(t);return typeof i=="number"?i:M()},nr.prototype.decodeTaggedShort_1qgfv_k$=function(t){var i=this.decodeTaggedValue_1qgfv_k$(t);return typeof i=="number"?i:M()},nr.prototype.decodeTaggedInt_1qgfv_k$=function(t){var i=this.decodeTaggedValue_1qgfv_k$(t);return typeof i=="number"?i:M()},nr.prototype.decodeTaggedLong_1qgfv_k$=function(t){var i=this.decodeTaggedValue_1qgfv_k$(t);return i instanceof at?i:M()},nr.prototype.decodeTaggedFloat_1qgfv_k$=function(t){var i=this.decodeTaggedValue_1qgfv_k$(t);return typeof i=="number"?i:M()},nr.prototype.decodeTaggedDouble_1qgfv_k$=function(t){var i=this.decodeTaggedValue_1qgfv_k$(t);return typeof i=="number"?i:M()},nr.prototype.decodeTaggedChar_1qgfv_k$=function(t){var i=this.decodeTaggedValue_1qgfv_k$(t);return i instanceof pe?i:M()},nr.prototype.decodeTaggedString_1qgfv_k$=function(t){var i=this.decodeTaggedValue_1qgfv_k$(t);return typeof i=="string"?i:M()},nr.prototype.decodeTaggedInline_322cgq_k$=function(t,i){var s;e:{this.pushTag_22hlsm_k$(t),s=this;break e}return s},nr.prototype.decodeSerializableValue_qeg2y_k$=function(t,i){return this.decodeSerializableValue_f8566k_k$(t)},nr.prototype.decodeInline_6qhf5t_k$=function(t){return this.decodeTaggedInline_322cgq_k$(this.popTag_0_k$(),t)},nr.prototype.decodeNotNullMark_0_k$=function(){var t=this._get_currentTagOrNull__0_k$(),i;if(t==null)return!1;i=t;var s=i;return this.decodeTaggedNotNullMark_1qgfv_k$(s)},nr.prototype.decodeNull_0_k$=function(){return null},nr.prototype.decodeBoolean_0_k$=function(){return this.decodeTaggedBoolean_1qgfv_k$(this.popTag_0_k$())},nr.prototype.decodeByte_0_k$=function(){return this.decodeTaggedByte_1qgfv_k$(this.popTag_0_k$())},nr.prototype.decodeShort_0_k$=function(){return this.decodeTaggedShort_1qgfv_k$(this.popTag_0_k$())},nr.prototype.decodeInt_0_k$=function(){return this.decodeTaggedInt_1qgfv_k$(this.popTag_0_k$())},nr.prototype.decodeLong_0_k$=function(){return this.decodeTaggedLong_1qgfv_k$(this.popTag_0_k$())},nr.prototype.decodeFloat_0_k$=function(){return this.decodeTaggedFloat_1qgfv_k$(this.popTag_0_k$())},nr.prototype.decodeDouble_0_k$=function(){return this.decodeTaggedDouble_1qgfv_k$(this.popTag_0_k$())},nr.prototype.decodeChar_0_k$=function(){return this.decodeTaggedChar_1qgfv_k$(this.popTag_0_k$())},nr.prototype.decodeString_0_k$=function(){return this.decodeTaggedString_1qgfv_k$(this.popTag_0_k$())},nr.prototype.beginStructure_6qhf5t_k$=function(t){return this},nr.prototype.endStructure_g940c0_k$=function(t){},nr.prototype.decodeBooleanElement_5vyt7k_k$=function(t,i){return this.decodeTaggedBoolean_1qgfv_k$(this.getTag_jmml4e_k$(t,i))},nr.prototype.decodeByteElement_5vyt7k_k$=function(t,i){return this.decodeTaggedByte_1qgfv_k$(this.getTag_jmml4e_k$(t,i))},nr.prototype.decodeShortElement_5vyt7k_k$=function(t,i){return this.decodeTaggedShort_1qgfv_k$(this.getTag_jmml4e_k$(t,i))},nr.prototype.decodeIntElement_5vyt7k_k$=function(t,i){return this.decodeTaggedInt_1qgfv_k$(this.getTag_jmml4e_k$(t,i))},nr.prototype.decodeLongElement_5vyt7k_k$=function(t,i){return this.decodeTaggedLong_1qgfv_k$(this.getTag_jmml4e_k$(t,i))},nr.prototype.decodeFloatElement_5vyt7k_k$=function(t,i){return this.decodeTaggedFloat_1qgfv_k$(this.getTag_jmml4e_k$(t,i))},nr.prototype.decodeDoubleElement_5vyt7k_k$=function(t,i){return this.decodeTaggedDouble_1qgfv_k$(this.getTag_jmml4e_k$(t,i))},nr.prototype.decodeCharElement_5vyt7k_k$=function(t,i){return this.decodeTaggedChar_1qgfv_k$(this.getTag_jmml4e_k$(t,i))},nr.prototype.decodeStringElement_5vyt7k_k$=function(t,i){return this.decodeTaggedString_1qgfv_k$(this.getTag_jmml4e_k$(t,i))},nr.prototype.decodeSerializableElement_fgxyly_k$=function(t,i,s,c){var p=this.getTag_jmml4e_k$(t,i);return gX(this,p,yye(this,s,c))},nr.prototype.decodeNullableSerializableElement_hmkm73_k$=function(t,i,s,c){var p=this.getTag_jmml4e_k$(t,i);return gX(this,p,kye(this,s,c))},nr.prototype._get_currentTagOrNull__0_k$=function(){return ft(this._tagStack)},nr.prototype.pushTag_22hlsm_k$=function(t){this._tagStack.add_2bq_k$(t),F()},nr.prototype.popTag_0_k$=function(){var t=this._tagStack.removeAt_ha5a7z_k$(cp(this._tagStack));return this._flag=!0,t},nr.$metadata$={simpleName:"TaggedDecoder",kind:"class",interfaces:[Ap,tr]};function yye(t,i,s){var c=new v4(t,i,s);return function(){return c.invoke_0_k$()}}function kye(t,i,s){var c=new g4(t,i,s);return function(){return c.invoke_0_k$()}}var zI;function UI(){}UI.prototype.getContextual$default_ner2jg_k$=function(t,i,s,c){return(s&2)!=0&&(i=Da()),c==null?this.getContextual_mrn1zf_k$(t,i):c(t,i)},UI.$metadata$={simpleName:"SerializersModule",kind:"class",interfaces:[]};function yd(t,i,s,c){UI.call(this),this._class2ContextualFactory=t,this._polyBase2Serializers=i,this._polyBase2NamedSerializers=s,this._polyBase2DefaultProvider=c}yd.prototype.getPolymorphic_8orz3i_k$=function(t,i){if(!bye(i,t))return null;var s=this._polyBase2Serializers.get_2bw_k$(t),c=s==null?null:s.get_2bw_k$(Xo(i));return(c!=null?Ce(c,TI):!1)?c:null},yd.prototype.getPolymorphic_l8fcrr_k$=function(t,i){var s=this._polyBase2NamedSerializers.get_2bw_k$(t),c;if(s==null)c=null;else{var p;e:{p=((s!=null?Ce(s,wo):!1)?s:M()).get_2bw_k$(i);break e}c=p}var v=c,k=(v!=null?Ce(v,Mr):!1)?v:null;if(k!=null)return k;var x=this._polyBase2DefaultProvider.get_2bw_k$(t),T=(x!=null?typeof x=="function":!1)?x:null;return T==null?null:T(i)},yd.prototype.getContextual_mrn1zf_k$=function(t,i){var s=this._class2ContextualFactory.get_2bw_k$(t),c=s==null?null:s.invoke_lkp9i7_k$(i);return(c==null?!0:Ce(c,Mr))?c:null},yd.prototype.dumpTo_wwx6x6_k$=function(t){{var i=this._class2ContextualFactory,s;e:{s=i._get_entries__0_k$().iterator_0_k$();break e}for(var c=s;c.hasNext_0_k$();){var p=c.next_0_k$();{var v;e:{v=p._get_key__0_k$();break e}var k=v,x;e:{x=p._get_value__0_k$();break e}var T=x,N=T;if(N instanceof tE){var B=Ce(k,df)?k:M(),L=T._serializer_0;t.contextual_4gjxmy_k$(B,Ce(L,Mr)?L:M())}else N instanceof nE&&t.contextual_2w6ks0_k$(k,T._provider)}}}{var O=this._polyBase2Serializers,W;e:{W=O._get_entries__0_k$().iterator_0_k$();break e}for(var K=W;K.hasNext_0_k$();){var q=K.next_0_k$();{var Q;e:{Q=q._get_key__0_k$();break e}var ee=Q,ie;e:{ie=q._get_value__0_k$();break e}var fe=ie;{var le;e:{le=fe._get_entries__0_k$().iterator_0_k$();break e}for(var Se=le;Se.hasNext_0_k$();){var Ee=Se.next_0_k$();{var Te;e:{Te=Ee._get_key__0_k$();break e}var Me=Te,Ne;e:{Ne=Ee._get_value__0_k$();break e}var Pe=Ne,Ye=Ce(ee,df)?ee:M(),Ke=Ce(Me,df)?Me:M(),nt;e:{nt=Ce(Pe,Mr)?Pe:M();break e}t.polymorphic_nsq4gh_k$(Ye,Ke,nt)}}}}}}{var Ze=this._polyBase2DefaultProvider,ct;e:{ct=Ze._get_entries__0_k$().iterator_0_k$();break e}for(var ht=ct;ht.hasNext_0_k$();){var bt=ht.next_0_k$();{var It;e:{It=bt._get_key__0_k$();break e}var Nt=It,Rt;e:{Rt=bt._get_value__0_k$();break e}var Xt=Rt,rn=Ce(Nt,df)?Nt:M();t.polymorphicDefault_iq57uo_k$(rn,typeof Xt=="function"?Xt:M())}}}},yd.$metadata$={simpleName:"SerialModuleImpl",kind:"class",interfaces:[]};function tE(){}tE.$metadata$={simpleName:"Argless",kind:"class",interfaces:[]};function nE(){}nE.$metadata$={simpleName:"WithTypeArguments",kind:"class",interfaces:[]};function y4(){}y4.$metadata$={simpleName:"ContextualProvider",kind:"class",interfaces:[]};function jI(t){this._$serializer=t}jI.prototype.invoke_lkp9i7_k$=function(t){return this._$serializer},jI.prototype.invoke_20e8_k$=function(t){return this.invoke_lkp9i7_k$((t!=null?Ce(t,Hr):!1)?t:M())},jI.$metadata$={kind:"class",interfaces:[]};function GI(){}GI.prototype.contextual_4gjxmy_k$=function(t,i){return this.contextual_2w6ks0_k$(t,$ye(i))},GI.$metadata$={simpleName:"SerializersModuleCollector",kind:"interface",interfaces:[]};function $ye(t){var i=new jI(t);return function(s){return i.invoke_lkp9i7_k$(s)}}function bye(t,i){return i.isInstance_wi7j7l_k$(t)}function xb(t,i){if(!(0<=i?i<=(t.length-1|0):!1))throw b_("Index "+i+" out of bounds "+f(t));return t[i]}function yX(t,i){if(!(0<=i?i<=(t.length-1|0):!1))throw b_("Index "+i+" out of bounds "+h(t));return t[i]}function rE(){k4=this,Op.call(this,Eye(!1,!1,!1,!1,!1,!1,null,!1,!1,null,!1,!1,4095,null),zI)}rE.$metadata$={simpleName:"Default",kind:"object",interfaces:[]};var k4;function kX(){return k4==null&&new rE,k4}function Op(t,i){kX(),this._configuration=t,this._serializersModule=i,this.__schemaCache=new pE}Op.prototype._get_configuration__0_k$=function(){return this._configuration},Op.prototype._get_serializersModule__0_k$=function(){return this._serializersModule},Op.prototype.encodeToString_onvojc_k$=function(t,i){var s=new dv;try{var c=hE(),p;e:{var v=E0e().length;p=ca(Array(v),null);break e}var k=v0e(s,this,c,p);return k.encodeSerializableValue_79s409_k$(t,i),s.toString()}finally{s.release_sv8swh_k$()}},Op.prototype.decodeFromString_ed5pl9_k$=function(t,i){var s=new Ju(i),c=new Oi(this,hE(),s,t._get_descriptor__0_k$()),p=c.decodeSerializableValue_f8566k_k$(t);return s.expectEof_sv8swh_k$(),p},Op.prototype.parseToJsonElement_6wfw3l_k$=function(t){return this.decodeFromString_ed5pl9_k$(kd(),t)},Op.$metadata$={simpleName:"Json",kind:"class",interfaces:[KJ]};function wye(t,i){var s=new cv(t);i(s);var c=s.build_0_k$();return new oE(c,s._serializersModule_0)}function iE(t,i,s,c){return(s&1)!=0&&(t=kX()),wye(t,i)}function cv(t){this._encodeDefaults=t._configuration._encodeDefaults_0,this._explicitNulls=t._configuration._explicitNulls_0,this._ignoreUnknownKeys=t._configuration._ignoreUnknownKeys_0,this._isLenient=t._configuration._isLenient_0,this._allowStructuredMapKeys=t._configuration._allowStructuredMapKeys_0,this._prettyPrint=t._configuration._prettyPrint_0,this._prettyPrintIndent=t._configuration._prettyPrintIndent_0,this._coerceInputValues=t._configuration._coerceInputValues_0,this._useArrayPolymorphism=t._configuration._useArrayPolymorphism_0,this._classDiscriminator=t._configuration._classDiscriminator_0,this._allowSpecialFloatingPointValues=t._configuration._allowSpecialFloatingPointValues_0,this._useAlternativeNames=t._configuration._useAlternativeNames_0,this._serializersModule_0=t._get_serializersModule__0_k$()}cv.prototype.build_0_k$=function(){if(this._useArrayPolymorphism){var t=this._classDiscriminator==="type";if(!t){var i;e:{i="Class discriminator should not be specified when array polymorphism is specified";break e}var s=i;throw sn(Bt(s))}}if(this._prettyPrint){if(this._prettyPrintIndent!=="    "){var k;e:{for(var x=this._prettyPrintIndent,T=x,N=0,B=T.length;N<B;){var L=kn(T,N);N=N+1|0;var O;t:{O=((L.equals(new pe(32))?!0:L.equals(new pe(9)))?!0:L.equals(new pe(13)))?!0:L.equals(new pe(10));break t}if(!O){k=!1;break e}}k=!0;break e}var W=k;if(!W){var K;e:{K="Only whitespace, tab, newline and carriage return are allowed as pretty print symbols. Had "+this._prettyPrintIndent;break e}var q=K;throw sn(Bt(q))}}}else{var c=this._prettyPrintIndent==="    ";if(!c){var p;e:{p="Indent should not be specified when default printing mode is used";break e}var v=p;throw sn(Bt(v))}}return new aE(this._encodeDefaults,this._ignoreUnknownKeys,this._isLenient,this._allowStructuredMapKeys,this._prettyPrint,this._explicitNulls,this._prettyPrintIndent,this._coerceInputValues,this._useArrayPolymorphism,this._classDiscriminator,this._allowSpecialFloatingPointValues,this._useAlternativeNames)},cv.$metadata$={simpleName:"JsonBuilder",kind:"class",interfaces:[]};function xye(t){if(xt(t._get_serializersModule__0_k$(),zI))return F();var i=new Rb(t._get_configuration__0_k$()._useArrayPolymorphism_0,t._get_configuration__0_k$()._classDiscriminator_0);t._get_serializersModule__0_k$().dumpTo_wwx6x6_k$(i)}function oE(t,i){Op.call(this,t,i),xye(this)}oE.$metadata$={simpleName:"JsonImpl",kind:"class",interfaces:[]};function $X(){}$X.$metadata$={simpleName:"JsonClassDiscriminator",kind:"class",interfaces:[_f]};function bX(){}bX.$metadata$={simpleName:"JsonNames",kind:"class",interfaces:[_f]};function Sye(t,i,s,c,p,v,k,x,T,N,B,L,O,W,K){return(O&1)!=0&&(t=!1),(O&2)!=0&&(i=!1),(O&4)!=0&&(s=!1),(O&8)!=0&&(c=!1),(O&16)!=0&&(p=!1),(O&32)!=0&&(v=!0),(O&64)!=0&&(k="    "),(O&128)!=0&&(x=!1),(O&256)!=0&&(T=!1),(O&512)!=0&&(N="type"),(O&1024)!=0&&(B=!1),(O&2048)!=0&&(L=!0),aE.call(K,t,i,s,c,p,v,k,x,T,N,B,L),K}function Eye(t,i,s,c,p,v,k,x,T,N,B,L,O,W){return Sye(t,i,s,c,p,v,k,x,T,N,B,L,O,W,Object.create(aE.prototype))}function aE(t,i,s,c,p,v,k,x,T,N,B,L){this._encodeDefaults_0=t,this._ignoreUnknownKeys_0=i,this._isLenient_0=s,this._allowStructuredMapKeys_0=c,this._prettyPrint_0=p,this._explicitNulls_0=v,this._prettyPrintIndent_0=k,this._coerceInputValues_0=x,this._useArrayPolymorphism_0=T,this._classDiscriminator_0=N,this._allowSpecialFloatingPointValues_0=B,this._useAlternativeNames_0=L}aE.prototype.toString=function(){return"JsonConfiguration(encodeDefaults="+this._encodeDefaults_0+", ignoreUnknownKeys="+this._ignoreUnknownKeys_0+", isLenient="+this._isLenient_0+", "+("allowStructuredMapKeys="+this._allowStructuredMapKeys_0+", prettyPrint="+this._prettyPrint_0+", explicitNulls="+this._explicitNulls_0+", ")+("prettyPrintIndent='"+this._prettyPrintIndent_0+"', coerceInputValues="+this._coerceInputValues_0+", useArrayPolymorphism="+this._useArrayPolymorphism_0+", ")+("classDiscriminator='"+this._classDiscriminator_0+"', allowSpecialFloatingPointValues="+this._allowSpecialFloatingPointValues_0+")")},aE.$metadata$={simpleName:"JsonConfiguration",kind:"class",interfaces:[]};function sE(){}sE.$metadata$={simpleName:"JsonDecoder",kind:"interface",interfaces:[Ap,tr]};function $4(){b4=this}$4.prototype.serializer_0_k$=function(){return kd()},$4.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var b4;function lE(){return b4==null&&new $4,b4}function zp(){lE()}zp.$metadata$={simpleName:"JsonElement",kind:"class",interfaces:[],associatedObjects:{0:kd}};function WI(){}WI.prototype.invoke_2pr604_k$=function(t){var i;e:{i=t._get_key__0_k$();break e}var s=i,c;e:{c=t._get_value__0_k$();break e}var p=c,v;e:{var k;t:{var x=$y();Y4(x,s),x.append_wi8o78_k$(new pe(58)),F(),x.append_wi7j7l_k$(p),F(),k=x;break t}v=k.toString();break e}return v},WI.prototype.invoke_20e8_k$=function(t){return this.invoke_2pr604_k$((t!=null?Ce(t,nu):!1)?t:M())},WI.$metadata$={kind:"class",interfaces:[]};function Ci(t){zp.call(this),this._content=t}Ci.prototype.containsKey_6wfw3l_k$=function(t){return this._content.containsKey_2bw_k$(t)},Ci.prototype.containsKey_2bw_k$=function(t){return(t!=null?typeof t=="string":!1)?this.containsKey_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M()):!1},Ci.prototype.get_6wfw3l_k$=function(t){return this._content.get_2bw_k$(t)},Ci.prototype.get_2bw_k$=function(t){return(t!=null?typeof t=="string":!1)?this.get_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M()):null},Ci.prototype.isEmpty_0_k$=function(){return this._content.isEmpty_0_k$()},Ci.prototype._get_entries__0_k$=function(){return this._content._get_entries__0_k$()},Ci.prototype._get_keys__0_k$=function(){return this._content._get_keys__0_k$()},Ci.prototype._get_size__0_k$=function(){return this._content._get_size__0_k$()},Ci.prototype._get_values__0_k$=function(){return this._content._get_values__0_k$()},Ci.prototype.equals=function(t){return xt(this._content,t)},Ci.prototype.hashCode=function(){return ur(this._content)},Ci.prototype.toString=function(){var t=this._content._get_entries__0_k$();return Ge(t,",","{","}",0,null,Bye(),24)},Ci.$metadata$={simpleName:"JsonObject",kind:"class",interfaces:[wo],associatedObjects:{0:F4}};function _v(t){var i=t instanceof Ci?t:null,s;return i==null?w4(t,"JsonObject"):s=i,s}function ou(){zp.call(this)}ou.prototype.toString=function(){return this._get_content__0_k$()},ou.$metadata$={simpleName:"JsonPrimitive",kind:"class",interfaces:[],associatedObjects:{0:D4}};function uE(t){var i=t instanceof ou?t:null,s;return i==null?w4(t,"JsonPrimitive"):s=i,s}function xo(t){zp.call(this),this._content_0=t}xo.prototype.contains_fgzk9u_k$=function(t){return this._content_0.contains_2bq_k$(t)},xo.prototype.contains_2bq_k$=function(t){return t instanceof zp?this.contains_fgzk9u_k$(t instanceof zp?t:M()):!1},xo.prototype.containsAll_3ef750_k$=function(t){return this._content_0.containsAll_dxd4eo_k$(t)},xo.prototype.containsAll_dxd4eo_k$=function(t){return this.containsAll_3ef750_k$(t)},xo.prototype.get_ha5a7z_k$=function(t){return this._content_0.get_ha5a7z_k$(t)},xo.prototype.isEmpty_0_k$=function(){return this._content_0.isEmpty_0_k$()},xo.prototype.iterator_0_k$=function(){return this._content_0.iterator_0_k$()},xo.prototype._get_size__0_k$=function(){return this._content_0._get_size__0_k$()},xo.prototype.equals=function(t){return xt(this._content_0,t)},xo.prototype.hashCode=function(){return ur(this._content_0)},xo.prototype.toString=function(){return Ge(this._content_0,",","[","]",0,null,null,56)},xo.$metadata$={simpleName:"JsonArray",kind:"class",interfaces:[Hr],associatedObjects:{0:U4}};function Cye(t){var i=t instanceof xo?t:null,s;return i==null?w4(t,"JsonArray"):s=i,s}function wX(t){var i;e:{var s=t._get_content__0_k$(),c;t:{var p=H$(s),v;n:{v=p;break n}c=v;break t}i=c;break e}return i}function w4(t,i){throw sn("Element "+Xo(t)+" is not a "+i)}function x4(){}x4.prototype.invoke_0_k$=function(){return KI()},x4.$metadata$={kind:"class",interfaces:[]};function E_(){S4=this,ou.call(this),this._content_1="null";var t=this,i=Wm();t._$cachedSerializer$delegate=dS(i,Fye())}E_.prototype._get_content__0_k$=function(){return this._content_1},E_.$metadata$={simpleName:"JsonNull",kind:"object",interfaces:[dX],associatedObjects:{0:KI}};var S4;function fv(){return S4==null&&new E_,S4}function xX(t){return t==null?fv():new Gs(t,!1)}function Aye(t){return t==null?fv():new Gs(t,!1)}function E4(t){return t==null?fv():new Gs(t,!0)}function Gs(t,i){ou.call(this),this._isString=i,this._content_2=Bt(t)}Gs.prototype._get_content__0_k$=function(){return this._content_2},Gs.prototype.toString=function(){var t;if(this._isString){var i;e:{var s;t:{var c=$y();Y4(c,this._content_2),s=c;break t}i=s.toString();break e}t=i}else t=this._content_2;return t},Gs.prototype.equals=function(t){return this===t?!0:!((t==null?!0:!Xo(this).equals(Xo(t)))||(t instanceof Gs||M(),F(),this._isString!==t._isString)||this._content_2!==t._content_2)},Gs.prototype.hashCode=function(){var t=this._isString|0;return t=pt(31,t)+td(this._content_2)|0,t},Gs.$metadata$={simpleName:"JsonLiteral",kind:"class",interfaces:[]};function SX(t){return y0e(t._get_content__0_k$())}function C4(t){return zK(t._get_content__0_k$())}function Tye(t){return Wde(t._get_content__0_k$())}function Iye(t){var i;e:{var s=t._get_content__0_k$(),c;t:{var p=ZT(s),v;n:{v=p;break n}c=v;break t}i=c;break e}return i}function Mye(t){return ZT(t._get_content__0_k$())}function Nye(t){var i;return t instanceof E_?i=null:i=t._get_content__0_k$(),i}function Rye(t){return Uh(t._get_content__0_k$())}function Pye(t){return H$(t._get_content__0_k$())}function Bye(){var t=new WI;return function(i){return t.invoke_2pr604_k$(i)}}function Fye(){var t=new x4;return function(){return t.invoke_0_k$()}}function HI(){var t=this,i;e:{i=Ql();break e}t._content_3=i}HI.prototype.put_3k8z0d_k$=function(t,i){return this._content_3.put_1q9pf_k$(t,i)},HI.prototype.build_0_k$=function(){return new Ci(this._content_3)},HI.$metadata$={simpleName:"JsonObjectBuilder",kind:"class",interfaces:[]};function VI(){var t=this,i;e:{i=Di();break e}t._content_4=i}VI.prototype.add_fgzk9u_k$=function(t){var i=this;{var s=i._content_4;s.add_2bq_k$(t),F()}return!0},VI.prototype.build_0_k$=function(){return new xo(this._content_4)},VI.$metadata$={simpleName:"JsonArrayBuilder",kind:"class",interfaces:[]};function A4(){}A4.prototype.invoke_0_k$=function(){return D4()._descriptor_19},A4.$metadata$={kind:"class",interfaces:[]};function T4(){}T4.prototype.invoke_0_k$=function(){return KI()._descriptor_21},T4.$metadata$={kind:"class",interfaces:[]};function I4(){}I4.prototype.invoke_0_k$=function(){return EX()._descriptor_22},I4.$metadata$={kind:"class",interfaces:[]};function M4(){}M4.prototype.invoke_0_k$=function(){return F4()._descriptor_18},M4.$metadata$={kind:"class",interfaces:[]};function N4(){}N4.prototype.invoke_0_k$=function(){return U4()._descriptor_20},N4.$metadata$={kind:"class",interfaces:[]};function qI(){}qI.prototype.invoke_dot7f7_k$=function(t){var i=cE(jye());t.element$default_kwz7dp_k$("JsonPrimitive",i,null,!1,12,null);var s=cE(Gye());t.element$default_kwz7dp_k$("JsonNull",s,null,!1,12,null);var c=cE(Wye());t.element$default_kwz7dp_k$("JsonLiteral",c,null,!1,12,null);var p=cE(Hye());t.element$default_kwz7dp_k$("JsonObject",p,null,!1,12,null);var v=cE(Vye());t.element$default_kwz7dp_k$("JsonArray",v,null,!1,12,null)},qI.prototype.invoke_20e8_k$=function(t){return this.invoke_dot7f7_k$(t instanceof Hy?t:M()),F()},qI.$metadata$={kind:"class",interfaces:[]};function Sb(){R4=this;var t=this,i=Tge();t._descriptor_17=RI("kotlinx.serialization.json.JsonElement",i,[],Uye(),4)}Sb.prototype._get_descriptor__0_k$=function(){return this._descriptor_17},Sb.prototype.serialize_510whw_k$=function(t,i){Mb(t);var s=i;s instanceof ou?t.encodeSerializableValue_79s409_k$(D4(),i):s instanceof Ci?t.encodeSerializableValue_79s409_k$(F4(),i):s instanceof xo&&t.encodeSerializableValue_79s409_k$(U4(),i)},Sb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_510whw_k$(t,i instanceof zp?i:M())},Sb.prototype.deserialize_u9oizh_k$=function(t){var i=JI(t);return i.decodeJsonElement_0_k$()},Sb.$metadata$={simpleName:"JsonElementSerializer",kind:"object",interfaces:[Mr]};var R4;function kd(){return R4==null&&new Sb,R4}function Tc(){P4=this,this._$$delegate_0_0=$z(II(),kd())._get_descriptor__0_k$(),this._serialName_6="kotlinx.serialization.json.JsonObject"}Tc.prototype.getElementAnnotations_ha5a7z_k$=function(t){return this._$$delegate_0_0.getElementAnnotations_ha5a7z_k$(t)},Tc.prototype.getElementDescriptor_ha5a7z_k$=function(t){return this._$$delegate_0_0.getElementDescriptor_ha5a7z_k$(t)},Tc.prototype.getElementIndex_6wfw3l_k$=function(t){return this._$$delegate_0_0.getElementIndex_6wfw3l_k$(t)},Tc.prototype.getElementName_ha5a7z_k$=function(t){return this._$$delegate_0_0.getElementName_ha5a7z_k$(t)},Tc.prototype.isElementOptional_ha5a7z_k$=function(t){return this._$$delegate_0_0.isElementOptional_ha5a7z_k$(t)},Tc.prototype._get_annotations__0_k$=function(){return this._$$delegate_0_0._get_annotations__0_k$()},Tc.prototype._get_elementsCount__0_k$=function(){return this._$$delegate_0_0._get_elementsCount__0_k$()},Tc.prototype._get_isInline__0_k$=function(){return this._$$delegate_0_0._get_isInline__0_k$()},Tc.prototype._get_isNullable__0_k$=function(){return this._$$delegate_0_0._get_isNullable__0_k$()},Tc.prototype._get_kind__0_k$=function(){return this._$$delegate_0_0._get_kind__0_k$()},Tc.prototype._get_serialName__0_k$=function(){return this._serialName_6},Tc.$metadata$={simpleName:"JsonObjectDescriptor",kind:"object",interfaces:[Sr]};var P4;function Lye(){return P4==null&&new Tc,P4}function Eb(){B4=this,this._descriptor_18=Lye()}Eb.prototype._get_descriptor__0_k$=function(){return this._descriptor_18},Eb.prototype.serialize_getlab_k$=function(t,i){Mb(t),$z(II(),kd()).serialize_whawnb_k$(t,i)},Eb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_getlab_k$(t,i instanceof Ci?i:M())},Eb.prototype.deserialize_u9oizh_k$=function(t){return W4(t),new Ci($z(II(),kd()).deserialize_u9oizh_k$(t))},Eb.$metadata$={simpleName:"JsonObjectSerializer",kind:"object",interfaces:[Mr]};var B4;function F4(){return B4==null&&new Eb,B4}function Cb(){L4=this;var t=this,i=Bz();t._descriptor_19=RI("kotlinx.serialization.json.JsonPrimitive",i,[],null,12)}Cb.prototype._get_descriptor__0_k$=function(){return this._descriptor_19},Cb.prototype.serialize_6dkron_k$=function(t,i){Mb(t);var s;if(i instanceof E_)s=t.encodeSerializableValue_79s409_k$(KI(),fv());else{var c=EX();s=t.encodeSerializableValue_79s409_k$(c,i instanceof Gs?i:M())}return s},Cb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_6dkron_k$(t,i instanceof ou?i:M())},Cb.prototype.deserialize_u9oizh_k$=function(t){var i=JI(t).decodeJsonElement_0_k$();if(!(i instanceof ou))throw kf(-1,"Unexpected JSON element, expected JsonPrimitive, had "+Xo(i),Bt(i));return i},Cb.$metadata$={simpleName:"JsonPrimitiveSerializer",kind:"object",interfaces:[Mr]};var L4;function D4(){return L4==null&&new Cb,L4}function Ic(){O4=this,this._$$delegate_0_1=bz(kd())._get_descriptor__0_k$(),this._serialName_7="kotlinx.serialization.json.JsonArray"}Ic.prototype.getElementAnnotations_ha5a7z_k$=function(t){return this._$$delegate_0_1.getElementAnnotations_ha5a7z_k$(t)},Ic.prototype.getElementDescriptor_ha5a7z_k$=function(t){return this._$$delegate_0_1.getElementDescriptor_ha5a7z_k$(t)},Ic.prototype.getElementIndex_6wfw3l_k$=function(t){return this._$$delegate_0_1.getElementIndex_6wfw3l_k$(t)},Ic.prototype.getElementName_ha5a7z_k$=function(t){return this._$$delegate_0_1.getElementName_ha5a7z_k$(t)},Ic.prototype.isElementOptional_ha5a7z_k$=function(t){return this._$$delegate_0_1.isElementOptional_ha5a7z_k$(t)},Ic.prototype._get_annotations__0_k$=function(){return this._$$delegate_0_1._get_annotations__0_k$()},Ic.prototype._get_elementsCount__0_k$=function(){return this._$$delegate_0_1._get_elementsCount__0_k$()},Ic.prototype._get_isInline__0_k$=function(){return this._$$delegate_0_1._get_isInline__0_k$()},Ic.prototype._get_isNullable__0_k$=function(){return this._$$delegate_0_1._get_isNullable__0_k$()},Ic.prototype._get_kind__0_k$=function(){return this._$$delegate_0_1._get_kind__0_k$()},Ic.prototype._get_serialName__0_k$=function(){return this._serialName_7},Ic.$metadata$={simpleName:"JsonArrayDescriptor",kind:"object",interfaces:[Sr]};var O4;function Dye(){return O4==null&&new Ic,O4}function Ab(){z4=this,this._descriptor_20=Dye()}Ab.prototype._get_descriptor__0_k$=function(){return this._descriptor_20},Ab.prototype.serialize_un7gux_k$=function(t,i){Mb(t),bz(kd()).serialize_whawnb_k$(t,i)},Ab.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_un7gux_k$(t,i instanceof xo?i:M())},Ab.prototype.deserialize_u9oizh_k$=function(t){return W4(t),new xo(bz(kd()).deserialize_u9oizh_k$(t))},Ab.$metadata$={simpleName:"JsonArraySerializer",kind:"object",interfaces:[Mr]};var z4;function U4(){return z4==null&&new Ab,z4}function cE(t){return new Mc(t)}function Tb(){j4=this;var t=this,i=cb();t._descriptor_21=RI("kotlinx.serialization.json.JsonNull",i,[],null,12)}Tb.prototype._get_descriptor__0_k$=function(){return this._descriptor_21},Tb.prototype.serialize_y5mozf_k$=function(t,i){Mb(t),t.encodeNull_sv8swh_k$()},Tb.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_y5mozf_k$(t,i instanceof E_?i:M())},Tb.prototype.deserialize_u9oizh_k$=function(t){if(W4(t),t.decodeNotNullMark_0_k$())throw new t0("Expected 'null' literal");return t.decodeNull_0_k$(),F(),fv()},Tb.$metadata$={simpleName:"JsonNullSerializer",kind:"object",interfaces:[Mr]};var j4;function KI(){return j4==null&&new Tb,j4}function Ib(){G4=this,this._descriptor_22=dge("kotlinx.serialization.json.JsonLiteral",Bz())}Ib.prototype._get_descriptor__0_k$=function(){return this._descriptor_22},Ib.prototype.serialize_cmf1zl_k$=function(t,i){if(Mb(t),i._isString)return t.encodeString_a4enbm_k$(i._content_2);var s=Rye(i);if(s!=null)return t.encodeLong_kdfck9_k$(s);F();var c=R$(i._content_2),p=c;if((p==null?null:new ba(p))!=null){var v=t.encodeInline_6qhf5t_k$(nX(wc())._get_descriptor__0_k$()),k;e:{k=Dn(c);break e}return v.encodeLong_kdfck9_k$(k),F()}F();var x=Pye(i);if(x!=null)return t.encodeDouble_okcceq_k$(x);F();var T=SX(i);if(T!=null)return t.encodeBoolean_rpwsgn_k$(T);F(),t.encodeString_a4enbm_k$(i._content_2)},Ib.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_cmf1zl_k$(t,i instanceof Gs?i:M())},Ib.prototype.deserialize_u9oizh_k$=function(t){var i=JI(t).decodeJsonElement_0_k$();if(!(i instanceof Gs))throw kf(-1,"Unexpected JSON element, expected JsonLiteral, had "+Xo(i),Bt(i));return i},Ib.$metadata$={simpleName:"JsonLiteralSerializer",kind:"object",interfaces:[Mr]};var G4;function EX(){return G4==null&&new Ib,G4}function Mb(t){Oye(t),F()}function JI(t){var i=Ce(t,sE)?t:null,s;if(i==null)throw At("This serializer can be used only with Json format."+("Expected Decoder to be JsonDecoder, got "+Xo(t)));return s=i,s}function W4(t){JI(t),F()}function Oye(t){var i=Ce(t,H4)?t:null,s;if(i==null)throw At("This serializer can be used only with Json format."+("Expected Encoder to be JsonEncoder, got "+Xo(t)));return s=i,s}function $d(t){var i;e:{zye(),i=t._original$delegate._get_value__0_k$();break e}return i}function Mc(t){this._$deferred=t,this._original$delegate=nJ(this._$deferred)}Mc.prototype._get_serialName__0_k$=function(){return $d(this)._get_serialName__0_k$()},Mc.prototype._get_kind__0_k$=function(){return $d(this)._get_kind__0_k$()},Mc.prototype._get_elementsCount__0_k$=function(){return $d(this)._get_elementsCount__0_k$()},Mc.prototype.getElementName_ha5a7z_k$=function(t){return $d(this).getElementName_ha5a7z_k$(t)},Mc.prototype.getElementIndex_6wfw3l_k$=function(t){return $d(this).getElementIndex_6wfw3l_k$(t)},Mc.prototype.getElementAnnotations_ha5a7z_k$=function(t){return $d(this).getElementAnnotations_ha5a7z_k$(t)},Mc.prototype.getElementDescriptor_ha5a7z_k$=function(t){return $d(this).getElementDescriptor_ha5a7z_k$(t)},Mc.prototype.isElementOptional_ha5a7z_k$=function(t){return $d(this).isElementOptional_ha5a7z_k$(t)},Mc.$metadata$={kind:"class",interfaces:[Sr]};function zye(){return Fu("original",1,Zl,function(t){return $d(t)},null)}function Uye(){var t=new qI;return function(i){return t.invoke_dot7f7_k$(i),F()}}function jye(){var t=new A4;return function(){return t.invoke_0_k$()}}function Gye(){var t=new T4;return function(){return t.invoke_0_k$()}}function Wye(){var t=new I4;return function(){return t.invoke_0_k$()}}function Hye(){var t=new M4;return function(){return t.invoke_0_k$()}}function Vye(){var t=new N4;return function(){return t.invoke_0_k$()}}function H4(){}H4.$metadata$={simpleName:"JsonEncoder",kind:"interface",interfaces:[iu,YS]};function So(t){this._sb=t,this._writingFirst=!0}So.prototype._set_writingFirst__rpwsgn_k$=function(t){this._writingFirst=t},So.prototype.indent_sv8swh_k$=function(){this._writingFirst=!0},So.prototype.unIndent_sv8swh_k$=function(){return F()},So.prototype.nextItem_sv8swh_k$=function(){this._writingFirst=!1},So.prototype.space_sv8swh_k$=function(){return F()},So.prototype.print_9o0tv_k$=function(t){return this._sb.append_9o0tv_k$(t)},So.prototype.print_a4enbm_k$=function(t){return this._sb.append_a4enbm_k$(t)},So.prototype.print_cpozfn_k$=function(t){return this._sb.append_a4enbm_k$(t.toString())},So.prototype.print_okcceq_k$=function(t){return this._sb.append_a4enbm_k$(t.toString())},So.prototype.print_hpsj51_k$=function(t){return this._sb.append_kdfck9_k$(Yi(t))},So.prototype.print_7gn77n_k$=function(t){return this._sb.append_kdfck9_k$(Yi(t))},So.prototype.print_majfzk_k$=function(t){return this._sb.append_kdfck9_k$(Yi(t))},So.prototype.print_kdfck9_k$=function(t){return this._sb.append_kdfck9_k$(t)},So.prototype.print_rpwsgn_k$=function(t){return this._sb.append_a4enbm_k$(t.toString())},So.prototype.printQuoted_a4enbm_k$=function(t){return this._sb.appendQuoted_a4enbm_k$(t)},So.$metadata$={simpleName:"Composer",kind:"class",interfaces:[]};function qye(t,i){return i._configuration._prettyPrint_0?new wd(t,i):new So(t)}function bd(t){So.call(this,t)}bd.prototype.print_majfzk_k$=function(t){var i;e:{i=ze(t);break e}return So.prototype.print_a4enbm_k$.call(this,A$(i))},bd.prototype.print_kdfck9_k$=function(t){var i;e:{i=vt(t);break e}return So.prototype.print_a4enbm_k$.call(this,I$(i))},bd.prototype.print_hpsj51_k$=function(t){var i;e:{i=la(t);break e}return So.prototype.print_a4enbm_k$.call(this,ly(i))},bd.prototype.print_7gn77n_k$=function(t){var i;e:{i=Vh(t);break e}return So.prototype.print_a4enbm_k$.call(this,Xm(i))},bd.$metadata$={simpleName:"ComposerForUnsignedNumbers",kind:"class",interfaces:[]};function wd(t,i){So.call(this,t),this._json=i,this._level=0}wd.prototype.indent_sv8swh_k$=function(){this._set_writingFirst__rpwsgn_k$(!0);var t=this,i=t._level;t._level=i+1|0,F()},wd.prototype.unIndent_sv8swh_k$=function(){var t=this,i=t._level;t._level=i-1|0,F()},wd.prototype.nextItem_sv8swh_k$=function(){this._set_writingFirst__rpwsgn_k$(!1),this.print_a4enbm_k$(`
`);{var t=this._level,i=0;if(i<t)do i=i+1|0,this.print_a4enbm_k$(this._json._configuration._prettyPrintIndent_0);while(i<t)}},wd.prototype.space_sv8swh_k$=function(){this.print_9o0tv_k$(new pe(32))},wd.$metadata$={simpleName:"ComposerWithPrettyPrint",kind:"class",interfaces:[]};function Kye(t,i,s){return t._isUnmarkedNull=i.isElementOptional_ha5a7z_k$(s)?!1:i.getElementDescriptor_ha5a7z_k$(s)._get_isNullable__0_k$(),t._isUnmarkedNull}function _E(t){this._$boundThis=t}_E.prototype.invoke_5vyt7k_k$=function(t,i){return Kye(this._$boundThis,t,i)},_E.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?Ce(t,Sr):!1)?t:M();return this.invoke_5vyt7k_k$(s,(i!=null?typeof i=="number":!1)?i:M())},_E.prototype._get_name__0_k$=function(){return"readIfAbsent"},_E.$metadata$={kind:"class",interfaces:[]};function XI(t){var i=this;i._origin=new FI(t,Jye(this)),this._isUnmarkedNull=!1}XI.prototype.mark_majfzk_k$=function(t){this._origin.mark_majfzk_k$(t)},XI.prototype.nextUnmarkedIndex_0_k$=function(){return this._origin.nextUnmarkedIndex_0_k$()},XI.$metadata$={simpleName:"JsonElementMarker",kind:"class",interfaces:[]};function Jye(t){var i=new _E(t),s=function(c,p){return i.invoke_5vyt7k_k$(c,p)};return s.callableName=i._get_name__0_k$(),s}function e0(t){Up.call(this,t),hr(this,e0)}e0.$metadata$={simpleName:"JsonEncodingException",kind:"class",interfaces:[]};function CX(t,i){var s="Unexpected special floating-point value "+t+`. By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'
`;return new e0(s+("Current output: "+V4(i,0,1)))}function AX(t){return new e0("Value of type '"+t._get_serialName__0_k$()+"' can't be used in JSON as a key in the map. "+("It should have either primitive or enum kind, but its kind is '"+t._get_kind__0_k$()+`'.
`)+"Use 'allowStructuredMapKeys = true' in 'Json {}' builder to convert such maps to [key1, value1, key2, value2,...] arrays.")}function TX(t,i){var s="Unexpected special floating-point value "+i+". By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'";t.fail$default_6ncsww_k$(s,0,2,null)}function t0(t){Up.call(this,t),hr(this,t0)}t0.$metadata$={simpleName:"JsonDecodingException",kind:"class",interfaces:[]};function kf(t,i,s){return xd(t,""+i+`
JSON input: `+MX(s,t))}function IX(t,i,s){return xd(-1,Yye(t,i,s))}function xd(t,i){return new t0(t>=0?"Unexpected JSON token at offset "+t+": "+i:i)}function Xye(t,i){var s="Encountered unknown key '"+t+`'.
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
`;return xd(-1,s+("Current input: "+V4(i,0,1)))}function Up(t){mz(t,this),hr(this,Up)}Up.$metadata$={simpleName:"JsonException",kind:"class",interfaces:[]};function MX(t,i){if(sr(t)<200)return t;if(i===-1){var s=sr(t)-60|0;if(s<=0)return t;var c;e:{var p=sr(t);c=Bt(Sy(t,s,p));break e}return"....."+c}var v=i-30|0,k=i+30|0,x=v<=0?"":".....",T=k>=sr(t)?"":".....",N;e:{var B=wt(v,0),L=it(k,sr(t));N=Bt(Sy(t,B,L));break e}return x+N+T}function V4(t,i,s,c){return(s&1)!=0&&(i=-1),MX(t,i)}function Yye(t,i,s){var c="Unexpected special floating-point value "+t+" with key "+i+`. By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'
`;return c+("Current output: "+V4(s,0,1))}var fE;function YI(t,i,s){var c=t.getElementIndex_6wfw3l_k$(s);if(c!==-3||!i._configuration._useAlternativeNames_0)return c;var p=lM(i),v=p.getOrPut_79b7zv_k$(t,fE,Zye(t)),k=v.get_2bw_k$(s),x;return k==null?x=-3:x=k,x}function q4(t){var i=null,s=0,c=t._get_elementsCount__0_k$();if(s<c)do{var p=s;s=s+1|0;var v;e:{var k=t.getElementAnnotations_ha5a7z_k$(p),x;t:{for(var T=Di(),N=k.iterator_0_k$();N.hasNext_0_k$();){var B=N.next_0_k$();B instanceof bX&&(T.add_2bq_k$(B),F())}x=T;break t}v=x;break e}var L=_t(v),O=L==null?null:L._names_0;if(O!=null){for(var W=lI(O);W.hasNext_0_k$();){var K=W.next_0_k$();i==null&&(i=nU(t._get_elementsCount__0_k$())),Qye(Ei(i),t,K,p)}F()}F()}while(s<c);var q=i;return q==null?Ds():q}function Qye(t,i,s,c){var p;e:{var v;t:{v=(Ce(t,wo)?t:M()).containsKey_2bw_k$(s);break t}p=v;break e}if(p)throw new Up("The suggested name '"+s+"' for property "+i.getElementName_ha5a7z_k$(c)+" is already one of the names for property "+(""+i.getElementName_ha5a7z_k$(Gg(t,s))+" in "+i));t.put_1q9pf_k$(s,c),F()}function QI(t){this._$boundThis_0=t}QI.prototype.invoke_0_k$=function(){return q4(this._$boundThis_0)},QI.prototype._get_name__0_k$=function(){return"buildAlternativeNamesMap"},QI.$metadata$={kind:"class",interfaces:[]};function Zye(t){var i=new QI(t),s=function(){return i.invoke_0_k$()};return s.callableName=i._get_name__0_k$(),s}function e0e(t){var i;e:{var s=t._lexer.consumeNextToken_wi8e9i_k$(6);t._lexer.peekNextToken_0_k$()===4&&t._lexer.fail$default_6ncsww_k$("Unexpected leading comma",0,2,null);var c;t:{c=Ql();break t}for(var p=c;t._lexer.canConsumeValue_0_k$();){var v=t._isLenient_1?t._lexer.consumeStringLenient_0_k$():t._lexer.consumeString_0_k$();t._lexer.consumeNextToken_wi8e9i_k$(5),F();var k;t:{k=t.read_0_k$();break t}var x=k;p.put_1q9pf_k$(v,x),F(),s=t._lexer.consumeNextToken_0_k$(),(s!==4?s!==7:!1)&&t._lexer.fail$default_6ncsww_k$("Expected end of the object or comma",0,2,null)}s===6?(t._lexer.consumeNextToken_wi8e9i_k$(7),F()):s===4&&t._lexer.fail$default_6ncsww_k$("Unexpected trailing comma",0,2,null),i=new Ci(p);break e}return i}function t0e(t,i,s){var c=new Nb(i,t,s);return c._result_0=F(),c._exception_0=null,c.doResume_0_k$()}function NX(t){var i=t._lexer.consumeNextToken_0_k$();t._lexer.peekNextToken_0_k$()===4&&t._lexer.fail$default_6ncsww_k$("Unexpected leading comma",0,2,null);var s;e:{s=Di();break e}for(var c=s;t._lexer.canConsumeValue_0_k$();){var p=t.read_0_k$();if(c.add_2bq_k$(p),F(),i=t._lexer.consumeNextToken_0_k$(),i!==4){var v=t._lexer,k=i===9,x=v._currentPosition;if(!k){var T;e:{T="Expected end of the array or comma";break e}v.fail_8i7b4u_k$(T,x)}}}return i===8?(t._lexer.consumeNextToken_wi8e9i_k$(9),F()):i===4&&t._lexer.fail$default_6ncsww_k$("Unexpected trailing comma",0,2,null),new xo(c)}function ZI(t,i){var s;(t._isLenient_1?!0:!i)?s=t._lexer.consumeStringLenient_0_k$():s=t._lexer.consumeString_0_k$();var c=s;return(i?!1:c==="null")?fv():new Gs(c,i)}function n0e(t){return oy(new ay(r0e(t,null)),F())}function Sd(t,i){this._this$0_19=t,Du.call(this,i)}Sd.prototype.invoke_jgqxoy_k$=function(t,i,s){var c=this.create_yduxcq_k$(t,i,s);return c._result_0=F(),c._exception_0=null,c.doResume_0_k$()},Sd.prototype.doResume_0_k$=function(){var t=this._result_0;e:do try{var i=this._state_2;switch(i){case 0:if(this._exceptionState=3,this._tmp0_subject0=this._this$0_19._lexer.peekNextToken_0_k$(),this._tmp0_subject0===1){this._WHEN_RESULT1=ZI(this._this$0_19,!0),this._state_2=2;continue e}else{if(this._tmp0_subject0===0){this._WHEN_RESULT1=ZI(this._this$0_19,!1),this._state_2=2;continue e}else{if(this._tmp0_subject0===6){if(this._state_2=1,t=t0e(this._$this$$receiver,this._this$0_19,this),t===_l())return t;continue e}else{if(this._tmp0_subject0===8){this._WHEN_RESULT1=NX(this._this$0_19),this._state_2=2;continue e}else{var s=this;this._this$0_19._lexer.fail$default_6ncsww_k$("Can't begin reading element, unexpected token",0,2,null)}F()}F()}F()}break;case 1:this._WHEN_RESULT1=t,this._state_2=2;continue e;case 2:return this._WHEN_RESULT1;case 3:throw this._exception_0}}catch(c){if(this._exceptionState===3)throw c;this._state_2=this._exceptionState,this._exception_0=c}while(!0)},Sd.prototype.create_yduxcq_k$=function(t,i,s){var c=new Sd(this._this$0_19,s);return c._$this$$receiver=t,c._it=i,c},Sd.$metadata$={kind:"class",interfaces:[],suspendArity:2};function Nb(t,i,s){Du.call(this,s),this.__this_=t,this.__this__0=i}Nb.prototype.doResume_0_k$=function(){var t=this._result_0;e:do try{var i=this._state_2;switch(i){case 0:this._exceptionState=4,this._lastToken_10=this.__this_._lexer.consumeNextToken_wi8e9i_k$(6),this.__this_._lexer.peekNextToken_0_k$()===4&&this.__this_._lexer.fail$default_6ncsww_k$("Unexpected leading comma",0,2,null);var s=this;s._result_21=Ql(),this._state_2=1;continue e;case 1:if(!this.__this_._lexer.canConsumeValue_0_k$()){this._state_2=3;continue e}if(this._key_32=this.__this_._isLenient_1?this.__this_._lexer.consumeStringLenient_0_k$():this.__this_._lexer.consumeString_0_k$(),this.__this_._lexer.consumeNextToken_wi8e9i_k$(5),F(),this._state_2=2,t=this.__this__0.callRecursive_2c5_k$(F(),this),t===_l())return t;continue e;case 2:var c=t;this._result_21.put_1q9pf_k$(this._key_32,c),F(),this._lastToken_10=this.__this_._lexer.consumeNextToken_0_k$(),(this._lastToken_10!==4?this._lastToken_10!==7:!1)&&this.__this_._lexer.fail$default_6ncsww_k$("Expected end of the object or comma",0,2,null),this._state_2=1;continue e;case 3:return this._lastToken_10===6?(this.__this_._lexer.consumeNextToken_wi8e9i_k$(7),F()):this._lastToken_10===4&&this.__this_._lexer.fail$default_6ncsww_k$("Unexpected trailing comma",0,2,null),new Ci(this._result_21);case 4:throw this._exception_0}}catch(p){if(this._exceptionState===4)throw p;this._state_2=this._exceptionState,this._exception_0=p}while(!0)},Nb.$metadata$={simpleName:"$readObjectCOROUTINE$0",kind:"class",interfaces:[]};function K4(t,i){this._lexer=i,this._isLenient_1=t._isLenient_0,this._stackDepth=0}K4.prototype.read_0_k$=function(){var t=this._lexer.peekNextToken_0_k$(),i;if(t===1)i=ZI(this,!0);else if(t===0)i=ZI(this,!1);else if(t===6){var s,c=this;c._stackDepth=c._stackDepth+1|0,c._stackDepth===200?s=n0e(this):s=e0e(this);var p=s,v=this;v._stackDepth=v._stackDepth-1|0,F(),i=p}else if(t===8)i=NX(this);else{var k="Cannot begin reading element, unexpected token: "+t;this._lexer.fail$default_6ncsww_k$(k,0,2,null)}return i},K4.$metadata$={simpleName:"JsonTreeReader",kind:"class",interfaces:[]};function r0e(t,i){var s=new Sd(t,i),c=function(p,v,k){return s.invoke_jgqxoy_k$(p,v,k)};return c.$arity=2,c}function J4(t,i){var s;if(i instanceof qy?s=t._get_json__0_k$()._configuration._useArrayPolymorphism_0:s=!0,s)return i.deserialize_u9oizh_k$(t);var c;e:{var p=t.decodeJsonElement_0_k$(),v=i._get_descriptor__0_k$();if(!(p instanceof Ci))throw xd(-1,"Expected "+de(Ci)+" as the serialized body of "+v._get_serialName__0_k$()+", but had "+Xo(p));c=p;break e}var k=c,x=RX(i._get_descriptor__0_k$(),t._get_json__0_k$()),T=k.get_6wfw3l_k$(x),N=T==null?null:uE(T),B=N==null?null:N._get_content__0_k$(),L=i.findPolymorphicSerializerOrNull_7yolwc_k$(t,B),O;L==null?a0e(B,k):O=L;var W=O,K=t._get_json__0_k$();return x0e(K,x,k,Ce(W,dz)?W:M())}function RX(t,i){for(var s=t._get_annotations__0_k$().iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$();if(c instanceof $X)return c._discriminator}return i._configuration._classDiscriminator_0}function i0e(t,i,s){if(!(t instanceof BS))return F();if(Vz(i._get_descriptor__0_k$()).contains_2bq_k$(s)){var c=t._get_descriptor__0_k$()._get_serialName__0_k$(),p=i._get_descriptor__0_k$()._get_serialName__0_k$();{var v="Sealed class '"+p+"' cannot be serialized as base class '"+c+"' because"+(" it has property name that conflicts with JSON class discriminator '"+s+"'. ")+"You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism";throw At(Bt(v))}}}function o0e(t){if(t instanceof Vy)throw At("Enums cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead");if(t instanceof Qi)throw At("Primitives cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead");if(t instanceof x_)throw At("Actual serializer for polymorphic cannot be polymorphic itself")}function a0e(t,i){var s=t==null?"missing class discriminator ('null')":"class discriminator '"+t+"'";throw kf(-1,"Polymorphic serializer was not found for "+s,i.toString())}function s0e(t,i,s){var c=i._get_kind__0_k$(),p;if(c instanceof x_?p=!0:p=xt(c,aX()),p)throw sn("Serializer for "+s._get_simpleName__0_k$()+" can't be registered as a subclass for polymorphic serialization "+("because its kind "+c+" is not concrete. To work with multiple hierarchies, register it as a base class."));if(t._useArrayPolymorphism_1)return F();var v,k;if((xt(c,_b())?!0:xt(c,fb()))?k=!0:k=c instanceof Qi,k?v=!0:v=c instanceof Vy,v)throw sn("Serializer for "+s._get_simpleName__0_k$()+" of kind "+c+" cannot be serialized polymorphically with class discriminator.")}function l0e(t,i,s){var c=0,p=i._get_elementsCount__0_k$();if(c<p)do{var v=c;c=c+1|0;var k=i.getElementName_ha5a7z_k$(v);if(k===t._discriminator_0)throw sn("Polymorphic serializer for "+s+" has property '"+k+"' that conflicts with JSON class discriminator. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism")}while(c<p)}function Rb(t,i){this._useArrayPolymorphism_1=t,this._discriminator_0=i}Rb.prototype.contextual_2w6ks0_k$=function(t,i){},Rb.prototype.polymorphic_nsq4gh_k$=function(t,i,s){var c=s._get_descriptor__0_k$();s0e(this,c,i),this._useArrayPolymorphism_1||l0e(this,c,i)},Rb.prototype.polymorphicDefault_iq57uo_k$=function(t,i){},Rb.$metadata$={simpleName:"PolymorphismValidator",kind:"class",interfaces:[GI]};function eM(){}eM.$metadata$={simpleName:"Key",kind:"class",interfaces:[]};function pE(){this._map_7=nU(1)}pE.prototype.set_b5ddrn_k$=function(t,i,s){{var c;e:{var p=this._map_7,v=p.get_2bw_k$(t),k;if(v==null){var x;t:{x=nU(1);break t}var T=x;p.put_1q9pf_k$(t,T),F(),k=T}else k=v;c=k;break e}var N=c,B=i instanceof eM?i:M(),L=Re(s)?s:M();N.put_1q9pf_k$(B,L),F()}},pE.prototype.getOrPut_79b7zv_k$=function(t,i,s){var c=this.get_u6yqq1_k$(t,i);if(c!=null)return c;F();var p=s();return this.set_b5ddrn_k$(t,i,p),p},pE.prototype.get_u6yqq1_k$=function(t,i){var s=this._map_7.get_2bw_k$(t),c;s==null?c=null:c=s.get_2bw_k$(i instanceof eM?i:M());var p=c;return Re(p)?p:null},pE.$metadata$={simpleName:"DescriptorSchemaCache",kind:"class",interfaces:[]};function u0e(t){t._lexer_0.peekNextToken_0_k$()===4&&t._lexer_0.fail$default_6ncsww_k$("Unexpected leading comma",0,2,null)}function c0e(t){var i=!1,s=t._currentIndex%2!=0;s?t._currentIndex!==-1&&(i=t._lexer_0.tryConsumeComma_0_k$()):t._lexer_0.consumeNextToken_9o0tv_k$(new pe(58));var c;if(t._lexer_0.canConsumeValue_0_k$()){if(s)if(t._currentIndex===-1){var p=t._lexer_0,v=!i,k=p._currentPosition;if(!v){var x;e:{x="Unexpected trailing comma";break e}p.fail_8i7b4u_k$(x,k)}}else{var T=t._lexer_0,N=i,B=T._currentPosition;if(!N){var L;e:{L="Expected comma after the key-value pair";break e}T.fail_8i7b4u_k$(L,B)}}var O=t;O._currentIndex=O._currentIndex+1|0,c=O._currentIndex}else i&&t._lexer_0.fail$default_6ncsww_k$("Expected '}', but had ',' instead",0,2,null),c=-1;return c}function _0e(t,i,s){var c;e:{var p=t._json_0,v=i.getElementDescriptor_ha5a7z_k$(s),k;if(v._get_isNullable__0_k$())k=!1;else{var x;t:{x=!t._lexer_0.tryConsumeNotNull_0_k$();break t}k=x}if(k){c=!0;break e}if(xt(v._get_kind__0_k$(),cb())){var T;t:{T=t._lexer_0.peekString_vcj5fe_k$(t._configuration_0._isLenient_0);break t}var N=T,B;if(N==null){c=!1;break e}else B=N;var L=B,O=YI(v,p,L);if(O===-3){t._lexer_0.consumeString_0_k$(),F(),c=!0;break e}}c=!1;break e}return c}function f0e(t,i){for(var s=t._lexer_0.tryConsumeComma_0_k$();t._lexer_0.canConsumeValue_0_k$();){s=!1;var c=d0e(t);t._lexer_0.consumeNextToken_9o0tv_k$(new pe(58));var p=YI(i,t._json_0,c),v;if(p!==-3){var k;if(t._configuration_0._coerceInputValues_0?_0e(t,i,p):!1)s=t._lexer_0.tryConsumeComma_0_k$(),k=!1;else{var x=t._elementMarker;return x==null||(x.mark_majfzk_k$(p),F()),F(),p}v=k}else v=!0;var T=v;T&&(s=p0e(t,c))}s&&t._lexer_0.fail$default_6ncsww_k$("Unexpected trailing comma",0,2,null);var N=t._elementMarker,B=N==null?null:N.nextUnmarkedIndex_0_k$(),L;return B==null?L=-1:L=B,L}function p0e(t,i){return t._configuration_0._ignoreUnknownKeys_0?t._lexer_0.skipElement_rpwsgn_k$(t._configuration_0._isLenient_0):t._lexer_0.failOnUnknownKey_a4enbm_k$(i),t._lexer_0.tryConsumeComma_0_k$()}function h0e(t){var i=t._lexer_0.tryConsumeComma_0_k$(),s;if(t._lexer_0.canConsumeValue_0_k$()){(t._currentIndex!==-1?!i:!1)&&t._lexer_0.fail$default_6ncsww_k$("Expected end of the array or comma",0,2,null);var c=t;c._currentIndex=c._currentIndex+1|0,s=c._currentIndex}else i&&t._lexer_0.fail$default_6ncsww_k$("Unexpected trailing comma",0,2,null),s=-1;return s}function d0e(t){var i;return t._configuration_0._isLenient_0?i=t._lexer_0.consumeStringLenientNotNull_0_k$():i=t._lexer_0.consumeKeyString_0_k$(),i}function Oi(t,i,s,c){Dr.call(this),this._json_0=t,this._mode=i,this._lexer_0=s,this._serializersModule_1=this._json_0._get_serializersModule__0_k$(),this._currentIndex=-1,this._configuration_0=this._json_0._configuration,this._elementMarker=this._configuration_0._explicitNulls_0?null:new XI(c)}Oi.prototype._get_json__0_k$=function(){return this._json_0},Oi.prototype._get_serializersModule__0_k$=function(){return this._serializersModule_1},Oi.prototype.decodeJsonElement_0_k$=function(){return new K4(this._json_0._configuration,this._lexer_0).read_0_k$()},Oi.prototype.decodeSerializableValue_f8566k_k$=function(t){return J4(this,t)},Oi.prototype.beginStructure_6qhf5t_k$=function(t){var i=jX(this._json_0,t);this._lexer_0.consumeNextToken_9o0tv_k$(i._begin),u0e(this);var s=i,c;if((s.equals(dE())?!0:s.equals(mE()))?!0:s.equals(oM()))c=new Oi(this._json_0,i,this._lexer_0,t);else{var p;(this._mode.equals(i)?this._json_0._configuration._explicitNulls_0:!1)?p=this:p=new Oi(this._json_0,i,this._lexer_0,t),c=p}return c},Oi.prototype.endStructure_g940c0_k$=function(t){this._lexer_0.consumeNextToken_9o0tv_k$(this._mode._end)},Oi.prototype.decodeNotNullMark_0_k$=function(){var t,i=this._elementMarker,s=i==null?null:i._isUnmarkedNull;return(s==null?!1:s)?t=!1:t=this._lexer_0.tryConsumeNotNull_0_k$(),t},Oi.prototype.decodeNull_0_k$=function(){return null},Oi.prototype.decodeElementIndex_6qhf5t_k$=function(t){var i=this._mode;return i.equals(hE())?f0e(this,t):i.equals(mE())?c0e(this):h0e(this)},Oi.prototype.decodeBoolean_0_k$=function(){var t;return this._configuration_0._isLenient_0?t=this._lexer_0.consumeBooleanLenient_0_k$():t=this._lexer_0.consumeBoolean_0_k$(),t},Oi.prototype.decodeByte_0_k$=function(){var t=this._lexer_0.consumeNumericLiteral_0_k$();if(!t.equals(Yi(t.toByte_0_k$()))){var i="Failed to parse byte for input '"+t+"'";this._lexer_0.fail$default_6ncsww_k$(i,0,2,null)}return t.toByte_0_k$()},Oi.prototype.decodeShort_0_k$=function(){var t=this._lexer_0.consumeNumericLiteral_0_k$();if(!t.equals(Yi(t.toShort_0_k$()))){var i="Failed to parse short for input '"+t+"'";this._lexer_0.fail$default_6ncsww_k$(i,0,2,null)}return t.toShort_0_k$()},Oi.prototype.decodeInt_0_k$=function(){var t=this._lexer_0.consumeNumericLiteral_0_k$();if(!t.equals(Yi(t.toInt_0_k$()))){var i="Failed to parse int for input '"+t+"'";this._lexer_0.fail$default_6ncsww_k$(i,0,2,null)}return t.toInt_0_k$()},Oi.prototype.decodeLong_0_k$=function(){return this._lexer_0.consumeNumericLiteral_0_k$()},Oi.prototype.decodeFloat_0_k$=function(){var t;e:{var i=this._lexer_0,s=i.consumeStringLenient_0_k$();try{var c;t:{var p;n:{var v;r:{var k=ZT(s),x;i:{x=k;break i}v=x;break r}p=v;break n}c=p;break t}t=c;break e}catch(L){if(L instanceof co){var T="Failed to parse type 'float' for input '"+s+"'";i.fail$default_6ncsww_k$(T,0,2,null)}else throw L}}var N=t,B=this._json_0._configuration._allowSpecialFloatingPointValues_0;if(B?!0:iO(N))return N;TX(this._lexer_0,N)},Oi.prototype.decodeDouble_0_k$=function(){var t;e:{var i=this._lexer_0,s=i.consumeStringLenient_0_k$();try{var c;t:{c=ZT(s);break t}t=c;break e}catch(x){if(x instanceof co){var p="Failed to parse type 'double' for input '"+s+"'";i.fail$default_6ncsww_k$(p,0,2,null)}else throw x}}var v=t,k=this._json_0._configuration._allowSpecialFloatingPointValues_0;if(k?!0:IT(v))return v;TX(this._lexer_0,v)},Oi.prototype.decodeChar_0_k$=function(){var t=this._lexer_0.consumeStringLenient_0_k$();if(t.length!==1){var i="Expected single char, but got '"+t+"'";this._lexer_0.fail$default_6ncsww_k$(i,0,2,null)}return kn(t,0)},Oi.prototype.decodeString_0_k$=function(){var t;return this._configuration_0._isLenient_0?t=this._lexer_0.consumeStringLenientNotNull_0_k$():t=this._lexer_0.consumeString_0_k$(),t},Oi.prototype.decodeInline_6qhf5t_k$=function(t){return X4(t)?new wl(this._lexer_0,this._json_0):Dr.prototype.decodeInline_6qhf5t_k$.call(this,t)},Oi.$metadata$={simpleName:"StreamingJsonDecoder",kind:"class",interfaces:[sE]};function wl(t,i){Dr.call(this),this._lexer_1=t,this._serializersModule_2=i._get_serializersModule__0_k$()}wl.prototype._get_serializersModule__0_k$=function(){return this._serializersModule_2},wl.prototype.decodeElementIndex_6qhf5t_k$=function(t){throw At("unsupported")},wl.prototype.decodeInt_0_k$=function(){var t;e:{var i=this._lexer_1,s=i.consumeStringLenient_0_k$();try{var c;t:{var p;n:{var v=N$(s);p=Qe(v);break n}c=p;break t}t=c;break e}catch(x){if(x instanceof co){var k="Failed to parse type 'UInt' for input '"+s+"'";i.fail$default_6ncsww_k$(k,0,2,null)}else throw x}}return t},wl.prototype.decodeLong_0_k$=function(){var t;e:{var i=this._lexer_1,s=i.consumeStringLenient_0_k$();try{var c;t:{var p;n:{var v=Kl(s);p=Dn(v);break n}c=p;break t}t=c;break e}catch(x){if(x instanceof co){var k="Failed to parse type 'ULong' for input '"+s+"'";i.fail$default_6ncsww_k$(k,0,2,null)}else throw x}}return t},wl.prototype.decodeByte_0_k$=function(){var t;e:{var i=this._lexer_1,s=i.consumeStringLenient_0_k$();try{var c;t:{var p;n:{var v=dT(s);p=ua(v);break n}c=p;break t}t=c;break e}catch(x){if(x instanceof co){var k="Failed to parse type 'UByte' for input '"+s+"'";i.fail$default_6ncsww_k$(k,0,2,null)}else throw x}}return t},wl.prototype.decodeShort_0_k$=function(){var t;e:{var i=this._lexer_1,s=i.consumeStringLenient_0_k$();try{var c;t:{var p;n:{var v=Ym(s);p=d_(v);break n}c=p;break t}t=c;break e}catch(x){if(x instanceof co){var k="Failed to parse type 'UShort' for input '"+s+"'";i.fail$default_6ncsww_k$(k,0,2,null)}else throw x}}return t},wl.$metadata$={simpleName:"JsonDecoderForUnsignedTypes",kind:"class",interfaces:[]};var PX;function m0e(t,i,s,c,p){return Ai.call(p,qye(t,i),i,s,c),p}function v0e(t,i,s,c){return m0e(t,i,s,c,Object.create(Ai.prototype))}function g0e(t,i){t._composer.nextItem_sv8swh_k$(),t.encodeString_a4enbm_k$(Ei(t._polymorphicDiscriminator)),t._composer.print_9o0tv_k$(new pe(58)),t._composer.space_sv8swh_k$(),t.encodeString_a4enbm_k$(i._get_serialName__0_k$())}function Ai(t,i,s,c){Vr.call(this),this._composer=t,this._json_1=i,this._mode_0=s,this._modeReuseCache=c,this._serializersModule_3=this._json_1._get_serializersModule__0_k$(),this._configuration_1=this._json_1._configuration,this._forceQuoting=!1,this._polymorphicDiscriminator=null;var p=this._mode_0._get_ordinal__0_k$();this._modeReuseCache!=null&&(this._modeReuseCache[p]!==null?!0:this._modeReuseCache[p]!==this)&&(this._modeReuseCache[p]=this)}Ai.prototype._get_json__0_k$=function(){return this._json_1},Ai.prototype._get_serializersModule__0_k$=function(){return this._serializersModule_3},Ai.prototype.shouldEncodeElementDefault_5vyt7k_k$=function(t,i){return this._configuration_1._encodeDefaults_0},Ai.prototype.encodeSerializableValue_79s409_k$=function(t,i){e:{var s;if(t instanceof qy?s=this._get_json__0_k$()._configuration._useArrayPolymorphism_0:s=!0,s){t.serialize_whawnb_k$(this,i),F();break e}var c=t instanceof qy?t:M(),p=RX(t._get_descriptor__0_k$(),this._get_json__0_k$()),v=Jve(c,this,Re(i)?i:M());i0e(c,v,p),o0e(v._get_descriptor__0_k$()._get_kind__0_k$()),this._polymorphicDiscriminator=p,v.serialize_whawnb_k$(this,i)}},Ai.prototype.beginStructure_6qhf5t_k$=function(t){var i=jX(this._json_1,t);if(i._begin.equals(new pe(0))||(this._composer.print_9o0tv_k$(i._begin),this._composer.indent_sv8swh_k$()),this._polymorphicDiscriminator!=null&&(g0e(this,t),this._polymorphicDiscriminator=null),this._mode_0.equals(i))return this;var s=this._modeReuseCache,c=s==null?null:s[i._get_ordinal__0_k$()];return c==null?new Ai(this._composer,this._json_1,i,this._modeReuseCache):c},Ai.prototype.endStructure_g940c0_k$=function(t){this._mode_0._end.equals(new pe(0))||(this._composer.unIndent_sv8swh_k$(),this._composer.nextItem_sv8swh_k$(),this._composer.print_9o0tv_k$(this._mode_0._end))},Ai.prototype.encodeElement_5vyt7k_k$=function(t,i){var s=this._mode_0;if(s.equals(dE()))this._composer._writingFirst||this._composer.print_9o0tv_k$(new pe(44)),this._composer.nextItem_sv8swh_k$();else if(s.equals(mE()))if(this._composer._writingFirst)this._forceQuoting=!0,this._composer.nextItem_sv8swh_k$();else{var c=this,p;i%2==0?(this._composer.print_9o0tv_k$(new pe(44)),this._composer.nextItem_sv8swh_k$(),p=!0):(this._composer.print_9o0tv_k$(new pe(58)),this._composer.space_sv8swh_k$(),p=!1),c._forceQuoting=p}else s.equals(oM())?(i===0&&(this._forceQuoting=!0),i===1&&(this._composer.print_9o0tv_k$(new pe(44)),this._composer.space_sv8swh_k$(),this._forceQuoting=!1)):(this._composer._writingFirst||this._composer.print_9o0tv_k$(new pe(44)),this._composer.nextItem_sv8swh_k$(),this.encodeString_a4enbm_k$(t.getElementName_ha5a7z_k$(i)),this._composer.print_9o0tv_k$(new pe(58)),this._composer.space_sv8swh_k$());return!0},Ai.prototype.encodeNullableSerializableElement_6l2lkq_k$=function(t,i,s,c){(c!=null?!0:this._configuration_1._explicitNulls_0)&&Vr.prototype.encodeNullableSerializableElement_6l2lkq_k$.call(this,t,i,s,c)},Ai.prototype.encodeInline_6qhf5t_k$=function(t){return X4(t)?new Ai(new bd(this._composer._sb),this._json_1,this._mode_0,null):Vr.prototype.encodeInline_6qhf5t_k$.call(this,t)},Ai.prototype.encodeNull_sv8swh_k$=function(){this._composer.print_a4enbm_k$("null")},Ai.prototype.encodeBoolean_rpwsgn_k$=function(t){this._forceQuoting?this.encodeString_a4enbm_k$(t.toString()):this._composer.print_rpwsgn_k$(t)},Ai.prototype.encodeByte_hpsj51_k$=function(t){this._forceQuoting?this.encodeString_a4enbm_k$(t.toString()):this._composer.print_hpsj51_k$(t)},Ai.prototype.encodeShort_7gn77n_k$=function(t){this._forceQuoting?this.encodeString_a4enbm_k$(t.toString()):this._composer.print_7gn77n_k$(t)},Ai.prototype.encodeInt_majfzk_k$=function(t){this._forceQuoting?this.encodeString_a4enbm_k$(t.toString()):this._composer.print_majfzk_k$(t)},Ai.prototype.encodeLong_kdfck9_k$=function(t){this._forceQuoting?this.encodeString_a4enbm_k$(t.toString()):this._composer.print_kdfck9_k$(t)},Ai.prototype.encodeFloat_cpozfn_k$=function(t){if(this._forceQuoting?this.encodeString_a4enbm_k$(t.toString()):this._composer.print_cpozfn_k$(t),this._configuration_1._allowSpecialFloatingPointValues_0?!1:!iO(t))throw CX(t,this._composer._sb.toString())},Ai.prototype.encodeDouble_okcceq_k$=function(t){if(this._forceQuoting?this.encodeString_a4enbm_k$(t.toString()):this._composer.print_okcceq_k$(t),this._configuration_1._allowSpecialFloatingPointValues_0?!1:!IT(t))throw CX(t,this._composer._sb.toString())},Ai.prototype.encodeChar_9o0tv_k$=function(t){this.encodeString_a4enbm_k$(t.toString())},Ai.prototype.encodeString_a4enbm_k$=function(t){return this._composer.printQuoted_a4enbm_k$(t)},Ai.$metadata$={simpleName:"StreamingJsonEncoder",kind:"class",interfaces:[H4]};function X4(t){return t._get_isInline__0_k$()?PX.contains_2bq_k$(t):!1}var tM;function nM(t){var i=t&15,s;if(i<10){var c;e:{c=48;break e}s=wp(i+c|0)}else{var p=i-10|0,v;e:{v=97;break e}s=wp(p+v|0)}return s}function Y4(t,i){t.append_wi8o78_k$(new pe(34)),F();var s=0,c=0,p=sr(i)-1|0;if(c<=p)do{var v=c;c=c+1|0;var k;e:{var x=kn(i,v);k=x.toInt_0_k$();break e}var T=k;(T<tM.length?tM[T]!=null:!1)&&(t.append_n5ylwa_k$(i,s,v),F(),t.append_uch40_k$(tM[T]),F(),s=v+1|0)}while(c<=p);s!==0?(t.append_n5ylwa_k$(i,s,i.length),F()):(t.append_uch40_k$(i),F()),t.append_wi8o78_k$(new pe(34)),F()}function y0e(t){return nI(t,"true",!0)?!0:nI(t,"false",!0)?!1:null}function k0e(){var t;e:{var i;t:{i=ca(Array(93),null);break t}var s=i;{var c=0;if(c<=31)do{var p=c;c=c+1|0;var v=nM(p>>12),k=nM(p>>8),x=nM(p>>4),T=nM(p);s[p]="\\u"+v+k+x+T}while(c<=31);var N;t:{N=34;break t}s[N]='\\"';var B;t:{B=92;break t}s[B]="\\\\";var L;t:{L=9;break t}s[L]="\\t";var O;t:{O=8;break t}s[O]="\\b";var W;t:{W=10;break t}s[W]="\\n";var K;t:{K=13;break t}s[K]="\\r",s[12]="\\f"}t=s;break e}return t}function jp(t){var i=t._get_currentTagOrNull__0_k$(),s;if(i==null)s=null;else{var c;e:{var p;t:{p=t.currentElement_6wfw3l_k$(i);break t}c=p;break e}s=c}var v=s;return v==null?t._get_value__0_k$():v}function xl(t,i){throw kf(-1,"Failed to parse '"+i+"'",Bt(jp(t)))}function BX(t,i,s){var c=t instanceof Gs?t:null,p;if(c==null)throw xd(-1,"Unexpected 'null' when "+s+" was expected");return p=c,p}function _r(t,i){Ss.call(this),this._json_2=t,this._value_10=i,this._configuration_2=this._get_json__0_k$()._configuration}_r.prototype._get_json__0_k$=function(){return this._json_2},_r.prototype._get_value__0_k$=function(){return this._value_10},_r.prototype._get_serializersModule__0_k$=function(){return this._get_json__0_k$()._get_serializersModule__0_k$()},_r.prototype._get_configuration__0_k$=function(){return this._configuration_2},_r.prototype.decodeJsonElement_0_k$=function(){return jp(this)},_r.prototype.decodeSerializableValue_f8566k_k$=function(t){return J4(this,t)},_r.prototype.composeName_jg38oy_k$=function(t,i){return i},_r.prototype.beginStructure_6qhf5t_k$=function(t){var i=jp(this),s=t._get_kind__0_k$(),c,p;if(xt(s,_b())?p=!0:p=s instanceof x_,p){var v=this._get_json__0_k$(),k;e:{if(!(i instanceof xo))throw xd(-1,"Expected "+de(xo)+" as the serialized body of "+t._get_serialName__0_k$()+", but had "+Xo(i));k=i;break e}c=new Nc(v,k)}else if(xt(s,fb())){var x;e:{var T=this._get_json__0_k$(),N=Q4(t.getElementDescriptor_ha5a7z_k$(0),T._get_serializersModule__0_k$()),B=N._get_kind__0_k$(),L,O;if(B instanceof Qi?O=!0:O=xt(B,cb()),O){var W;t:{var K=this._get_json__0_k$(),q;n:{if(!(i instanceof Ci))throw xd(-1,"Expected "+de(Ci)+" as the serialized body of "+t._get_serialName__0_k$()+", but had "+Xo(i));q=i;break n}W=new Rc(K,q);break t}L=W}else if(T._configuration._allowStructuredMapKeys_0){var Q;t:{var ee=this._get_json__0_k$(),ie;n:{if(!(i instanceof xo))throw xd(-1,"Expected "+de(xo)+" as the serialized body of "+t._get_serialName__0_k$()+", but had "+Xo(i));ie=i;break n}Q=new Nc(ee,ie);break t}L=Q}else throw AX(N);x=L;break e}c=x}else{var fe=this._get_json__0_k$(),le;e:{if(!(i instanceof Ci))throw xd(-1,"Expected "+de(Ci)+" as the serialized body of "+t._get_serialName__0_k$()+", but had "+Xo(i));le=i;break e}var Se=le;c=$0e(fe,Se,null,null,12,null)}return c},_r.prototype.endStructure_g940c0_k$=function(t){},_r.prototype.decodeNotNullMark_0_k$=function(){var t=jp(this);return!(t instanceof E_)},_r.prototype.getPrimitiveValue_6wfw3l_k$=function(t){var i=this.currentElement_6wfw3l_k$(t),s=i instanceof ou?i:null,c;if(s==null)throw kf(-1,"Expected JsonPrimitive at "+t+", found "+i,Bt(jp(this)));return c=s,c},_r.prototype.decodeTaggedNotNullMark_6wfw3l_k$=function(t){return this.currentElement_6wfw3l_k$(t)!==fv()},_r.prototype.decodeTaggedNotNullMark_1qgfv_k$=function(t){return this.decodeTaggedNotNullMark_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_r.prototype.decodeTaggedBoolean_6wfw3l_k$=function(t){var i=this.getPrimitiveValue_6wfw3l_k$(t);if(!this._get_json__0_k$()._configuration._isLenient_0){var s=BX(i,this,"boolean");if(s._isString)throw kf(-1,"Boolean literal for key '"+t+"' should be unquoted.\nUse 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.",Bt(jp(this)))}var c;e:try{var p;t:{var v=SX(i),k;if(v==null)throw EJ();k=v,p=k;break t}var x=p,T;x==null?xl(this,"boolean"):T=x,c=T;break e}catch(N){if(N instanceof co)xl(this,"boolean");else throw N}return c},_r.prototype.decodeTaggedBoolean_1qgfv_k$=function(t){return this.decodeTaggedBoolean_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_r.prototype.decodeTaggedByte_6wfw3l_k$=function(t){var i;e:{var s=this.getPrimitiveValue_6wfw3l_k$(t);try{var c;t:{var p=C4(s),v,k=Yh()._MIN_VALUE_3;(p<=Yh()._MAX_VALUE_3?k<=p:!1)?v=hi(p):v=null,c=v;break t}var x=c,T;x==null?xl(this,"byte"):T=x,i=T;break e}catch(N){if(N instanceof co)xl(this,"byte");else throw N}}return i},_r.prototype.decodeTaggedByte_1qgfv_k$=function(t){return this.decodeTaggedByte_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_r.prototype.decodeTaggedShort_6wfw3l_k$=function(t){var i;e:{var s=this.getPrimitiveValue_6wfw3l_k$(t);try{var c;t:{var p=C4(s),v,k=b()._MIN_VALUE_4;(p<=b()._MAX_VALUE_4?k<=p:!1)?v=Ty(p):v=null,c=v;break t}var x=c,T;x==null?xl(this,"short"):T=x,i=T;break e}catch(N){if(N instanceof co)xl(this,"short");else throw N}}return i},_r.prototype.decodeTaggedShort_1qgfv_k$=function(t){return this.decodeTaggedShort_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_r.prototype.decodeTaggedInt_6wfw3l_k$=function(t){var i;e:{var s=this.getPrimitiveValue_6wfw3l_k$(t);try{var c;t:{c=C4(s);break t}var p=c,v;p==null?xl(this,"int"):v=p,i=v;break e}catch(k){if(k instanceof co)xl(this,"int");else throw k}}return i},_r.prototype.decodeTaggedInt_1qgfv_k$=function(t){return this.decodeTaggedInt_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_r.prototype.decodeTaggedLong_6wfw3l_k$=function(t){var i;e:{var s=this.getPrimitiveValue_6wfw3l_k$(t);try{var c;t:{c=Tye(s);break t}var p=c,v;p==null?xl(this,"long"):v=p,i=v;break e}catch(k){if(k instanceof co)xl(this,"long");else throw k}}return i},_r.prototype.decodeTaggedLong_1qgfv_k$=function(t){return this.decodeTaggedLong_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_r.prototype.decodeTaggedFloat_6wfw3l_k$=function(t){var i;e:{var s=this.getPrimitiveValue_6wfw3l_k$(t);try{var c;t:{c=Iye(s);break t}var p=c,v;p==null?xl(this,"float"):v=p,i=v;break e}catch(T){if(T instanceof co)xl(this,"float");else throw T}}var k=i,x=this._get_json__0_k$()._configuration._allowSpecialFloatingPointValues_0;if(x?!0:iO(k))return k;throw IX(k,t,Bt(jp(this)))},_r.prototype.decodeTaggedFloat_1qgfv_k$=function(t){return this.decodeTaggedFloat_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_r.prototype.decodeTaggedDouble_6wfw3l_k$=function(t){var i;e:{var s=this.getPrimitiveValue_6wfw3l_k$(t);try{var c;t:{c=Mye(s);break t}var p=c,v;p==null?xl(this,"double"):v=p,i=v;break e}catch(T){if(T instanceof co)xl(this,"double");else throw T}}var k=i,x=this._get_json__0_k$()._configuration._allowSpecialFloatingPointValues_0;if(x?!0:IT(k))return k;throw IX(k,t,Bt(jp(this)))},_r.prototype.decodeTaggedDouble_1qgfv_k$=function(t){return this.decodeTaggedDouble_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_r.prototype.decodeTaggedChar_6wfw3l_k$=function(t){var i;e:{var s=this.getPrimitiveValue_6wfw3l_k$(t);try{var c;t:{c=ef(s._get_content__0_k$());break t}var p=c,v;p==null?xl(this,"char"):v=p,i=v;break e}catch(k){if(k instanceof co)xl(this,"char");else throw k}}return i},_r.prototype.decodeTaggedChar_1qgfv_k$=function(t){return this.decodeTaggedChar_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_r.prototype.decodeTaggedString_6wfw3l_k$=function(t){var i=this.getPrimitiveValue_6wfw3l_k$(t);if(!this._get_json__0_k$()._configuration._isLenient_0){var s=BX(i,this,"string");if(!s._isString)throw kf(-1,"String literal for key '"+t+"' should be quoted.\nUse 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.",Bt(jp(this)))}if(i instanceof E_)throw kf(-1,"Unexpected 'null' value instead of string literal",Bt(jp(this)));return i._get_content__0_k$()},_r.prototype.decodeTaggedString_1qgfv_k$=function(t){return this.decodeTaggedString_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_r.prototype.decodeTaggedInline_b4mn6q_k$=function(t,i){return X4(i)?new wl(new Ju(this.getPrimitiveValue_6wfw3l_k$(t)._get_content__0_k$()),this._get_json__0_k$()):Ss.prototype.decodeTaggedInline_322cgq_k$.call(this,t,i)},_r.prototype.decodeTaggedInline_322cgq_k$=function(t,i){return this.decodeTaggedInline_b4mn6q_k$((t!=null?typeof t=="string":!1)?t:M(),i)},_r.$metadata$={simpleName:"AbstractJsonTreeDecoder",kind:"class",interfaces:[sE]};function FX(t,i,s,c,p,v,k){return(p&4)!=0&&(s=null),(p&8)!=0&&(c=null),Es.call(k,t,i,s,c),k}function $0e(t,i,s,c,p,v){return FX(t,i,s,c,p,v,Object.create(Es.prototype))}function b0e(t,i,s,c){var p;e:{var v=t._get_json__0_k$(),k=i.getElementDescriptor_ha5a7z_k$(s),x;if(k._get_isNullable__0_k$())x=!1;else{var T;t:{var N=t.currentElement_6wfw3l_k$(c);T=N instanceof E_;break t}x=T}if(x){p=!0;break e}if(xt(k._get_kind__0_k$(),cb())){var B;t:{var L=t.currentElement_6wfw3l_k$(c),O=L instanceof ou?L:null;B=O==null?null:Nye(O);break t}var W=B,K;if(W==null){p=!1;break e}else K=W;var q=K,Q=YI(k,v,q);if(Q===-3){t:{F();break t}p=!0;break e}}p=!1;break e}return p}function w0e(t,i,s){return t._forceNull=(t._get_json__0_k$()._configuration._explicitNulls_0?!1:!i.isElementOptional_ha5a7z_k$(s))?i.getElementDescriptor_ha5a7z_k$(s)._get_isNullable__0_k$():!1,t._forceNull}function rM(t){this._$boundThis_1=t}rM.prototype.invoke_0_k$=function(){return q4(this._$boundThis_1)},rM.prototype._get_name__0_k$=function(){return"buildAlternativeNamesMap"},rM.$metadata$={kind:"class",interfaces:[]};function Es(t,i,s,c){_r.call(this,t,i),this._value_11=i,this._polyDiscriminator=s,this._polyDescriptor=c,this._position_7=0,this._forceNull=!1}Es.prototype._get_value__0_k$=function(){return this._value_11},Es.prototype.decodeElementIndex_6qhf5t_k$=function(t){for(;this._position_7<t._get_elementsCount__0_k$();){var i=this,s=i._position_7;i._position_7=s+1|0;var c=this.getTag_jmml4e_k$(t,s),p=this._position_7-1|0;this._forceNull=!1;var v,k,x;e:{var T=this._get_value__0_k$(),N;t:{N=(Ce(T,wo)?T:M()).containsKey_2bw_k$(c);break t}x=N;break e}if(x?k=!0:k=w0e(this,t,p),k?v=this._get_configuration__0_k$()._coerceInputValues_0?!b0e(this,t,p,c):!0:v=!1,v)return p}return-1},Es.prototype.decodeNotNullMark_0_k$=function(){return this._forceNull?!1:_r.prototype.decodeNotNullMark_0_k$.call(this)},Es.prototype.elementName_5vyt7k_k$=function(t,i){var s=t.getElementName_ha5a7z_k$(i);if(!this._get_configuration__0_k$()._useAlternativeNames_0||this._get_value__0_k$()._get_keys__0_k$().contains_2bq_k$(s))return s;var c=lM(this._get_json__0_k$()),p=c.getOrPut_79b7zv_k$(t,fE,S0e(t)),v;e:{var k=this._get_value__0_k$()._get_keys__0_k$(),x;t:{for(var T=k.iterator_0_k$();T.hasNext_0_k$();){var N=T.next_0_k$(),B;n:{B=p.get_2bw_k$(N)===i;break n}if(B){x=N;break t}}x=null;break t}v=x;break e}var L=v,O=L;return O==null?s:O},Es.prototype.currentElement_6wfw3l_k$=function(t){return Gg(this._get_value__0_k$(),t)},Es.prototype.beginStructure_6qhf5t_k$=function(t){return t===this._polyDescriptor?this:_r.prototype.beginStructure_6qhf5t_k$.call(this,t)},Es.prototype.endStructure_g940c0_k$=function(t){var i;if(this._get_configuration__0_k$()._ignoreUnknownKeys_0)i=!0;else{var s=t._get_kind__0_k$();i=s instanceof x_}if(i)return F();var c;if(!this._get_configuration__0_k$()._useAlternativeNames_0)c=Vz(t);else{var p=Vz(t),v;e:{var k=lM(this._get_json__0_k$()).get_u6yqq1_k$(t,fE),x=k==null?null:k._get_keys__0_k$(),T=x;v=T==null?c_():T;break e}c=wm(p,v)}for(var N=c,B=this._get_value__0_k$()._get_keys__0_k$().iterator_0_k$();B.hasNext_0_k$();){var L=B.next_0_k$();if(N.contains_2bq_k$(L)?!1:L!==this._polyDiscriminator)throw Xye(L,this._get_value__0_k$().toString())}},Es.$metadata$={simpleName:"JsonTreeDecoder",kind:"class",interfaces:[]};function Nc(t,i){_r.call(this,t,i),this._value_12=i,this._size_4=this._value_12._get_size__0_k$(),this._currentIndex_0=-1}Nc.prototype._get_value__0_k$=function(){return this._value_12},Nc.prototype.elementName_5vyt7k_k$=function(t,i){return i.toString()},Nc.prototype.currentElement_6wfw3l_k$=function(t){return this._value_12.get_ha5a7z_k$(zK(t))},Nc.prototype.decodeElementIndex_6qhf5t_k$=function(t){for(;this._currentIndex_0<(this._size_4-1|0);){var i=this,s=i._currentIndex_0;return i._currentIndex_0=s+1|0,F(),this._currentIndex_0}return-1},Nc.$metadata$={simpleName:"JsonTreeListDecoder",kind:"class",interfaces:[]};function Rc(t,i){FX(t,i,null,null,12,null,this),this._value_13=i,this._keys_0=an(this._value_13._get_keys__0_k$()),this._size_5=pt(this._keys_0._get_size__0_k$(),2),this._position_8=-1}Rc.prototype._get_value__0_k$=function(){return this._value_13},Rc.prototype.elementName_5vyt7k_k$=function(t,i){var s=i/2|0;return this._keys_0.get_ha5a7z_k$(s)},Rc.prototype.decodeElementIndex_6qhf5t_k$=function(t){for(;this._position_8<(this._size_5-1|0);){var i=this,s=i._position_8;return i._position_8=s+1|0,F(),this._position_8}return-1},Rc.prototype.currentElement_6wfw3l_k$=function(t){return this._position_8%2==0?E4(t):Gg(this._value_13,t)},Rc.prototype.endStructure_g940c0_k$=function(t){},Rc.$metadata$={simpleName:"JsonTreeMapDecoder",kind:"class",interfaces:[]};function x0e(t,i,s,c){return new Es(t,s,i,c._get_descriptor__0_k$()).decodeSerializableValue_f8566k_k$(c)}function S0e(t){var i=new rM(t),s=function(){return i.invoke_0_k$()};return s.callableName=i._get_name__0_k$(),s}var LX,DX,OX,zX;function E0e(){return[hE(),dE(),mE(),oM()]}var UX;function iM(){if(UX)return F();UX=!0,LX=new pv("OBJ",0,new pe(123),new pe(125)),DX=new pv("LIST",1,new pe(91),new pe(93)),OX=new pv("MAP",2,new pe(123),new pe(125)),zX=new pv("POLY_OBJ",3,new pe(91),new pe(93))}function pv(t,i,s,c){yi.call(this,t,i),this._begin=s,this._end=c}pv.$metadata$={simpleName:"WriteMode",kind:"class",interfaces:[]};function jX(t,i){var s=i._get_kind__0_k$(),c;if(s instanceof x_)c=oM();else if(xt(s,_b()))c=dE();else if(xt(s,fb())){var p;e:{var v=Q4(i.getElementDescriptor_ha5a7z_k$(0),t._get_serializersModule__0_k$()),k=v._get_kind__0_k$(),x,T;if(k instanceof Qi?T=!0:T=xt(k,cb()),T){var N;t:{N=mE();break t}x=N}else if(t._configuration._allowStructuredMapKeys_0){var B;t:{B=dE();break t}x=B}else throw AX(v);p=x;break e}c=p}else c=hE();return c}function Q4(t,i){var s;if(xt(t._get_kind__0_k$(),aX())){var c=fge(i,t),p=c==null?null:Q4(c,i);s=p==null?t:p}else t._get_isInline__0_k$()?s=t.getElementDescriptor_ha5a7z_k$(0):s=t;return s}function hE(){return iM(),LX}function dE(){return iM(),DX}function mE(){return iM(),OX}function oM(){return iM(),zX}function C0e(t,i,s){return t.appendRange_rvwcgf_k$(i,s),T0e(t,s+1|0)}function Z4(t,i,s){t.appendRange_rvwcgf_k$(i,s);var c=t._escapedString.toString();return t._escapedString.setLength_majfzk_k$(0),c}function GX(t){var i;e:{var s=Ei(t._peekedString);t._peekedString=null,i=s;break e}return i}function A0e(t){return!kn(t._get_source__0_k$(),t._currentPosition-1|0).equals(new pe(34))}function T0e(t,i){var s=i;s=t.definitelyNotEof_ha5a7z_k$(s),s===-1&&t.fail$default_6ncsww_k$("Expected escape sequence to continue, got EOF",0,2,null);var c=t._get_source__0_k$(),p=s;s=p+1|0;var v=kn(c,p);if(v.equals(new pe(117)))return I0e(t,t._get_source__0_k$(),s);var k;e:{k=v.toInt_0_k$();break e}var x=M0e(k);if(x.equals(new pe(0))){var T="Invalid escaped char '"+v+"'";t.fail$default_6ncsww_k$(T,0,2,null)}return t._escapedString.append_wi8o78_k$(x),F(),s}function I0e(t,i,s){return(s+4|0)>=sr(i)&&t.fail$default_6ncsww_k$("Unexpected EOF during unicode escape",0,2,null),t._escapedString.append_wi8o78_k$(wp((((aM(t,i,s)<<12)+(aM(t,i,s+1|0)<<8)|0)+(aM(t,i,s+2|0)<<4)|0)+aM(t,i,s+3|0)|0)),F(),s+4|0}function aM(t,i,s){var c=kn(i,s),p;if(new pe(48)<=c?c<=new pe(57):!1){var v;e:{v=c.toInt_0_k$();break e}var k=v,x;e:{x=48;break e}p=k-x|0}else if(new pe(97)<=c?c<=new pe(102):!1){var T;e:{T=c.toInt_0_k$();break e}var N=T,B;e:{B=97;break e}p=(N-B|0)+10|0}else if(new pe(65)<=c?c<=new pe(70):!1){var L;e:{L=c.toInt_0_k$();break e}var O=L,W;e:{W=65;break e}p=(O-W|0)+10|0}else{var K="Invalid toHexChar char '"+c+"' in unicode escape";t.fail$default_6ncsww_k$(K,0,2,null)}return p}function WX(t,i){var s=t.definitelyNotEof_ha5a7z_k$(i);(s>=sr(t._get_source__0_k$())?!0:s===-1)&&t.fail$default_6ncsww_k$("EOF",0,2,null);var c;e:{var p=t._get_source__0_k$(),v=s;s=v+1|0;var k=kn(p,v);c=k.toInt_0_k$();break e}var x=c|32,T,N;e:{N=116;break e}if(x===N)HX(t,"rue",s),T=!0;else{var B;e:{B=102;break e}if(x===B)HX(t,"alse",s),T=!1;else{var L="Expected valid boolean literal prefix, but had '"+t.consumeStringLenient_0_k$()+"'";t.fail$default_6ncsww_k$(L,0,2,null)}}return T}function HX(t,i,s){(sr(t._get_source__0_k$())-s|0)<i.length&&t.fail$default_6ncsww_k$("Unexpected end of boolean literal",0,2,null);var c=0,p=sr(i)-1|0;if(c<=p)do{var v=c;c=c+1|0;var k=kn(i,v),x=kn(t._get_source__0_k$(),s+v|0),T;e:{T=k.toInt_0_k$();break e}var N=T,B;e:{B=x.toInt_0_k$();break e}if(N!==(B|32)){var L="Expected valid boolean literal prefix, but had '"+t.consumeStringLenient_0_k$()+"'";t.fail$default_6ncsww_k$(L,0,2,null)}}while(c<=p);t._currentPosition=s+i.length|0}function Ti(){this._currentPosition=0,this._peekedString=null,this._escapedString=$y()}Ti.prototype._set_currentPosition__majfzk_k$=function(t){this._currentPosition=t},Ti.prototype._get_currentPosition__0_k$=function(){return this._currentPosition},Ti.prototype.ensureHaveChars_sv8swh_k$=function(){},Ti.prototype.isValidValueStart_wi8o78_k$=function(t){var i=t;return!(((i.equals(new pe(125))?!0:i.equals(new pe(93)))?!0:i.equals(new pe(58)))?!0:i.equals(new pe(44)))},Ti.prototype.expectEof_sv8swh_k$=function(){var t=this.consumeNextToken_0_k$();if(t!==10){var i="Expected EOF after parsing an object, but had "+kn(this._get_source__0_k$(),this._currentPosition-1|0)+" instead";this.fail$default_6ncsww_k$(i,0,2,null)}},Ti.prototype.consumeNextToken_wi8e9i_k$=function(t){var i=this.consumeNextToken_0_k$();return i!==t&&this.fail_hpsj51_k$(t),i},Ti.prototype.consumeNextToken_9o0tv_k$=function(t){this.ensureHaveChars_sv8swh_k$();var i=this._get_source__0_k$(),s=this._currentPosition;e:for(;;){if(s=this.definitelyNotEof_ha5a7z_k$(s),s===-1)break e;var c=s;s=c+1|0;var p=kn(i,c);if(((p.equals(new pe(32))?!0:p.equals(new pe(10)))?!0:p.equals(new pe(13)))?!0:p.equals(new pe(9)))continue e;if(this._currentPosition=s,p.equals(t))return F();this.unexpectedToken_9o0tv_k$(t)}this._currentPosition=s,this.unexpectedToken_9o0tv_k$(t)},Ti.prototype.unexpectedToken_9o0tv_k$=function(t){var i=this;i._currentPosition=i._currentPosition-1|0,F(),((this._currentPosition>=0?t.equals(new pe(34)):!1)?this.consumeStringLenient_0_k$()==="null":!1)&&this.fail_8i7b4u_k$("Expected string literal but 'null' literal was found.\nUse 'coerceInputValues = true' in 'Json {}` builder to coerce nulls to default values.",this._currentPosition-4|0),this.fail_hpsj51_k$(n0(t))},Ti.prototype.fail_hpsj51_k$=function(t){var i=t,s=i===1?`quotation mark '"'`:i===4?"comma ','":i===5?"semicolon ':'":i===6?"start of the object '{'":i===7?"end of the object '}'":i===8?"start of the array '['":i===9?"end of the array ']'":"valid token",c=(this._currentPosition===sr(this._get_source__0_k$())?!0:this._currentPosition<=0)?"EOF":kn(this._get_source__0_k$(),this._currentPosition-1|0).toString();this.fail_8i7b4u_k$("Expected "+s+", but had '"+c+"' instead",this._currentPosition-1|0)},Ti.prototype.peekNextToken_0_k$=function(){var t=this._get_source__0_k$(),i=this._currentPosition;e:for(;;){if(i=this.definitelyNotEof_ha5a7z_k$(i),i===-1)break e;var s=kn(t,i);if(((s.equals(new pe(32))?!0:s.equals(new pe(10)))?!0:s.equals(new pe(13)))?!0:s.equals(new pe(9))){i=i+1|0,F();continue e}return this._currentPosition=i,n0(s)}return this._currentPosition=i,10},Ti.prototype.tryConsumeNotNull_0_k$=function(){var t=this.skipWhitespaces_0_k$();t=this.definitelyNotEof_ha5a7z_k$(t);var i=sr(this._get_source__0_k$())-t|0;if(i<4?!0:t===-1)return!0;var s=0;if(s<=3)do{var c=s;if(s=s+1|0,!kn("null",c).equals(kn(this._get_source__0_k$(),t+c|0)))return!0}while(s<=3);return(i>4?n0(kn(this._get_source__0_k$(),t+4|0))===0:!1)?!0:(this._currentPosition=t+4|0,!1)},Ti.prototype.skipWhitespaces_0_k$=function(){var t=this._currentPosition;e:for(;;){if(t=this.definitelyNotEof_ha5a7z_k$(t),t===-1)break e;var i=kn(this._get_source__0_k$(),t);if(((i.equals(new pe(32))?!0:i.equals(new pe(10)))?!0:i.equals(new pe(13)))?!0:i.equals(new pe(9)))t=t+1|0,F();else break e}return this._currentPosition=t,t},Ti.prototype.peekString_vcj5fe_k$=function(t){var i=this.peekNextToken_0_k$(),s;if(t){if(i!==1?i!==0:!1)return null;s=this.consumeStringLenient_0_k$()}else{if(i!==1)return null;s=this.consumeString_0_k$()}var c=s;return this._peekedString=c,c},Ti.prototype.substring_27zxwg_k$=function(t,i){var s;e:{var c=this._get_source__0_k$();s=Bt(Sy(c,t,i));break e}return s},Ti.prototype.consumeString_0_k$=function(){return this._peekedString!=null?GX(this):this.consumeKeyString_0_k$()},Ti.prototype.consumeString2=function(t,i,s){for(var c=s,p=i,v=kn(t,c),k=!1;!v.equals(new pe(34));)v.equals(new pe(92))?(k=!0,c=C0e(this,p,c),p=c):(c=c+1|0,c>=sr(t)&&(k=!0,this.appendRange_rvwcgf_k$(p,c),c=this.definitelyNotEof_ha5a7z_k$(c),c===-1&&this.fail_8i7b4u_k$("EOF",c),p=c)),v=kn(t,c);var x;k?x=Z4(this,p,c):x=this.substring_27zxwg_k$(p,c);var T=x;return this._currentPosition=c+1|0,T},Ti.prototype.consumeStringLenientNotNull_0_k$=function(){var t=this.consumeStringLenient_0_k$();return(t==="null"?A0e(this):!1)&&this.fail$default_6ncsww_k$("Unexpected 'null' value instead of string literal",0,2,null),t},Ti.prototype.consumeStringLenient_0_k$=function(){if(this._peekedString!=null)return GX(this);var t=this.skipWhitespaces_0_k$();(t>=sr(this._get_source__0_k$())?!0:t===-1)&&this.fail_8i7b4u_k$("EOF",t);var i=n0(kn(this._get_source__0_k$(),t));if(i===1)return this.consumeString_0_k$();if(i!==0){var s="Expected beginning of the string, but got "+kn(this._get_source__0_k$(),t);this.fail$default_6ncsww_k$(s,0,2,null)}for(var c=!1;n0(kn(this._get_source__0_k$(),t))===0;)if(t=t+1|0,F(),t>=sr(this._get_source__0_k$())){c=!0,this.appendRange_rvwcgf_k$(this._currentPosition,t);var p=this.definitelyNotEof_ha5a7z_k$(t);if(p===-1)return this._currentPosition=t,Z4(this,0,0);t=p}var v;c?v=Z4(this,this._currentPosition,t):v=this.substring_27zxwg_k$(this._currentPosition,t);var k=v;return this._currentPosition=t,k},Ti.prototype.appendRange_rvwcgf_k$=function(t,i){this._escapedString.append_n5ylwa_k$(this._get_source__0_k$(),t,i),F()},Ti.prototype.skipElement_rpwsgn_k$=function(t){var i;e:{i=Di();break e}var s=i,c=this.peekNextToken_0_k$();if(c!==8?c!==6:!1)return this.consumeStringLenient_0_k$(),F(),F();for(;;){if(c=this.peekNextToken_0_k$(),c===1){t?(this.consumeStringLenient_0_k$(),F()):(this.consumeKeyString_0_k$(),F());continue}var p=c;if(p===8?!0:p===6)s.add_2bq_k$(c),F();else if(p===9){if(An(s)!==8)throw kf(this._currentPosition,"found ] instead of }",this._get_source__0_k$());Tm(s),F()}else if(p===7){if(An(s)!==6)throw kf(this._currentPosition,"found } instead of ]",this._get_source__0_k$());Tm(s),F()}else p===10&&this.fail$default_6ncsww_k$("Unexpected end of input due to malformed JSON during ignoring unknown keys",0,2,null);if(this.consumeNextToken_0_k$(),F(),s._get_size__0_k$()===0)return F()}},Ti.prototype.toString=function(){return"JsonReader(source='"+this._get_source__0_k$()+"', currentPosition="+this._currentPosition+")"},Ti.prototype.failOnUnknownKey_a4enbm_k$=function(t){var i=this.substring_27zxwg_k$(0,this._currentPosition),s=X1(i,t,0,!1,6);this.fail_8i7b4u_k$("Encountered an unknown key '"+t+`'.
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.`,s)},Ti.prototype.fail_8i7b4u_k$=function(t,i){throw kf(i,t,this._get_source__0_k$())},Ti.prototype.fail$default_6ncsww_k$=function(t,i,s,c){return(s&2)!=0&&(i=this._currentPosition),this.fail_8i7b4u_k$(t,i)},Ti.prototype.consumeNumericLiteral_0_k$=function(){var t=this.skipWhitespaces_0_k$();t=this.definitelyNotEof_ha5a7z_k$(t),(t>=sr(this._get_source__0_k$())?!0:t===-1)&&this.fail$default_6ncsww_k$("EOF",0,2,null);var i;kn(this._get_source__0_k$(),t).equals(new pe(34))?(t=t+1|0,t===sr(this._get_source__0_k$())&&this.fail$default_6ncsww_k$("EOF",0,2,null),i=!0):i=!1;var s=i,c=new at(0,0),p=!1,v=t,k=!0;e:for(;k;){var x=kn(this._get_source__0_k$(),t);if(x.equals(new pe(45))){t!==v&&this.fail$default_6ncsww_k$("Unexpected symbol '-' in numeric literal",0,2,null),p=!0,t=t+1|0,F();continue e}var T=n0(x);if(T!==0)break e;t=t+1|0,F(),k=t!==sr(this._get_source__0_k$());var N=x.minus_wi8o78_k$(new pe(48));if(!(0<=N?N<=9:!1)){var B="Unexpected symbol '"+x+"' in numeric literal";this.fail$default_6ncsww_k$(B,0,2,null)}var L;t:{var O;n:{var W=c;O=W.times_wiekkq_k$(new at(10,0));break n}var K=O;L=K.minus_wiekkq_k$(Yi(N));break t}c=L,c.compareTo_wiekkq_k$(new at(0,0))>0&&this.fail$default_6ncsww_k$("Numeric value overflow",0,2,null)}(v===t?!0:p?v===(t-1|0):!1)&&this.fail$default_6ncsww_k$("Expected numeric literal",0,2,null),s&&(k||this.fail$default_6ncsww_k$("EOF",0,2,null),kn(this._get_source__0_k$(),t).equals(new pe(34))||this.fail$default_6ncsww_k$("Expected closing quotation mark",0,2,null),t=t+1|0,F()),this._currentPosition=t;var q;if(p)q=c;else{var Q=c;ks(),Q.equals(new at(0,-2147483648))?this.fail$default_6ncsww_k$("Numeric value overflow",0,2,null):q=c.unaryMinus_0_k$()}return q},Ti.prototype.consumeBoolean_0_k$=function(){return WX(this,this.skipWhitespaces_0_k$())},Ti.prototype.consumeBooleanLenient_0_k$=function(){var t=this.skipWhitespaces_0_k$();t===sr(this._get_source__0_k$())&&this.fail$default_6ncsww_k$("EOF",0,2,null);var i;kn(this._get_source__0_k$(),t).equals(new pe(34))?(t=t+1|0,F(),i=!0):i=!1;var s=i,c=WX(this,t);if(s){this._currentPosition===sr(this._get_source__0_k$())&&this.fail$default_6ncsww_k$("EOF",0,2,null),kn(this._get_source__0_k$(),this._currentPosition).equals(new pe(34))||this.fail$default_6ncsww_k$("Expected closing quotation mark",0,2,null);var p=this;p._currentPosition=p._currentPosition+1|0,F()}return c},Ti.$metadata$={simpleName:"AbstractJsonLexer",kind:"class",interfaces:[]};function n0(t){var i,s;e:{s=t.toInt_0_k$();break e}if(s<126){var c=qX()._CHAR_TO_TOKEN,p;e:{p=t.toInt_0_k$();break e}i=c[p]}else i=0;return i}function M0e(t){return t<117?qX()._ESCAPE_2_CHAR[t]:new pe(0)}function N0e(t){var i=0;if(i<=31)do{var s=i;i=i+1|0,r0(t,s,new pe(117))}while(i<=31);r0(t,8,new pe(98)),r0(t,9,new pe(116)),r0(t,10,new pe(110)),r0(t,12,new pe(102)),r0(t,13,new pe(114)),eU(t,new pe(47),new pe(47)),eU(t,new pe(34),new pe(34)),eU(t,new pe(92),new pe(92))}function R0e(t){var i=0;if(i<=32)do{var s=i;i=i+1|0,Pb(t,s,127)}while(i<=32);Pb(t,9,3),Pb(t,10,3),Pb(t,13,3),Pb(t,32,3),hv(t,new pe(44),4),hv(t,new pe(58),5),hv(t,new pe(123),6),hv(t,new pe(125),7),hv(t,new pe(91),8),hv(t,new pe(93),9),hv(t,new pe(34),1),hv(t,new pe(92),2)}function r0(t,i,s){if(!s.equals(new pe(117))){var c;e:{c=s.toInt_0_k$();break e}t._ESCAPE_2_CHAR[c]=wp(i)}}function eU(t,i,s){var c;e:{c=i.toInt_0_k$();break e}return r0(t,c,s)}function Pb(t,i,s){t._CHAR_TO_TOKEN[i]=s}function hv(t,i,s){var c;e:{c=i.toInt_0_k$();break e}return Pb(t,c,s)}function VX(){tU=this,this._ESCAPE_2_CHAR=pS(117),this._CHAR_TO_TOKEN=new Int8Array(126),N0e(this),R0e(this)}VX.$metadata$={simpleName:"CharMappings",kind:"object",interfaces:[]};var tU;function qX(){return tU==null&&new VX,tU}function Ju(t){Ti.call(this),this._source=t}Ju.prototype._get_source__0_k$=function(){return this._source},Ju.prototype.definitelyNotEof_ha5a7z_k$=function(t){return t<this._source.length?t:-1},Ju.prototype.consumeNextToken_0_k$=function(){for(var t=this._source;this._get_currentPosition__0_k$()!==-1?this._get_currentPosition__0_k$()<t.length:!1;){var i=this,s=i._get_currentPosition__0_k$();i._set_currentPosition__majfzk_k$(s+1|0);var c=kn(t,s),p=n0(c),v;if(p!==3)return v=p,v}return 10},Ju.prototype.tryConsumeComma_0_k$=function(){var t=this.skipWhitespaces_0_k$();if(t===this._source.length?!0:t===-1)return!1;if(kn(this._source,t).equals(new pe(44))){var i=this;return i._set_currentPosition__majfzk_k$(i._get_currentPosition__0_k$()+1|0),i._get_currentPosition__0_k$(),F(),!0}return!1},Ju.prototype.canConsumeValue_0_k$=function(){var t=this._get_currentPosition__0_k$();if(t===-1)return!1;for(;t<this._source.length;){var i=kn(this._source,t);if(((i.equals(new pe(32))?!0:i.equals(new pe(10)))?!0:i.equals(new pe(13)))?!0:i.equals(new pe(9))){t=t+1|0,F();continue}return this._set_currentPosition__majfzk_k$(t),this.isValidValueStart_wi8o78_k$(i)}return this._set_currentPosition__majfzk_k$(t),!1},Ju.prototype.skipWhitespaces_0_k$=function(){var t=this._get_currentPosition__0_k$();if(t===-1)return t;e:for(;t<this._source.length;){var i=kn(this._source,t);if(((i.equals(new pe(32))?!0:i.equals(new pe(10)))?!0:i.equals(new pe(13)))?!0:i.equals(new pe(9)))t=t+1|0,F();else break e}return this._set_currentPosition__majfzk_k$(t),t},Ju.prototype.consumeNextToken_9o0tv_k$=function(t){this._get_currentPosition__0_k$()===-1&&this.unexpectedToken_9o0tv_k$(t);for(var i=this._source;this._get_currentPosition__0_k$()<i.length;){var s=this,c=s._get_currentPosition__0_k$();s._set_currentPosition__majfzk_k$(c+1|0);var p=kn(i,c);if(!(((p.equals(new pe(32))?!0:p.equals(new pe(10)))?!0:p.equals(new pe(13)))?!0:p.equals(new pe(9)))){if(p.equals(t))return F();this.unexpectedToken_9o0tv_k$(t)}}this.unexpectedToken_9o0tv_k$(t)},Ju.prototype.consumeKeyString_0_k$=function(){this.consumeNextToken_9o0tv_k$(new pe(34));var t=this._get_currentPosition__0_k$(),i=new pe(34),s=j1(this._source,i,t,!1,4);s===-1&&this.fail_hpsj51_k$(1);var c=t;if(c<s)do{var p=c;if(c=c+1|0,kn(this._source,p).equals(new pe(92)))return this.consumeString2(this._source,this._get_currentPosition__0_k$(),p)}while(c<s);this._set_currentPosition__majfzk_k$(s+1|0);var v;e:{var k=this._source,x;t:{x=k;break t}v=x.substring(t,s);break e}return v},Ju.$metadata$={simpleName:"StringJsonLexer",kind:"class",interfaces:[]};function sM(t,i,s){return KX(t,i,s)}function lM(t){return t.__schemaCache}function KX(t,i,s){var c=typeof s,p;switch(c){case"boolean":case"number":case"string":p=new Gp(s,t);break;default:var v;F0e(s)?v=new Pc(s,t):v=new cr(s,t),p=v;break}var k=p;return k.decodeSerializableValue_f8566k_k$(i)}function P0e(t,i,s,c){var p;e:{var v=t._get_json__0_k$(),k=i.getElementDescriptor_ha5a7z_k$(s),x;if(k._get_isNullable__0_k$())x=!1;else{var T;t:{T=t.getByTag_6wfw3l_k$(c)==null;break t}x=T}if(x){p=!0;break e}if(xt(k._get_kind__0_k$(),cb())){var N;t:{var B=t.getByTag_6wfw3l_k$(c);N=(B!=null?typeof B=="string":!1)?B:null;break t}var L=N,O;if(L==null){p=!1;break e}else O=L;var W=O,K=YI(k,v,W);if(K===-3){t:{F();break t}p=!0;break e}}p=!1;break e}return p}function JX(t,i){return t._value_14[i]!==void 0}function B0e(t,i,s){return t._forceNull_0=(t._get_json__0_k$()._configuration._explicitNulls_0?!1:!i.isElementOptional_ha5a7z_k$(s))?i.getElementDescriptor_ha5a7z_k$(s)._get_isNullable__0_k$():!1,t._forceNull_0}function XX(t,i){throw Cc("Value for field "+i+" is missing")}function uM(t){this._$boundThis_2=t}uM.prototype.invoke_0_k$=function(){return q4(this._$boundThis_2)},uM.prototype._get_name__0_k$=function(){return"buildAlternativeNamesMap"},uM.$metadata$={kind:"class",interfaces:[]};function cr(t,i){Ss.call(this),this._value_14=t,this._json_3=i;var s=this,c=this._value_14;s._keys_1=Object.keys(c==null?{}:c);var p=this,v=this._keys_1.length;p._size_6=(v!=null?typeof v=="number":!1)?v:M(),this._forceNull_0=!1,this._currentPosition_0=0}cr.prototype._get_value__0_k$=function(){return this._value_14},cr.prototype._get_json__0_k$=function(){return this._json_3},cr.prototype._get_keys__0_k$=function(){return this._keys_1},cr.prototype._get_size__0_k$=function(){return this._size_6},cr.prototype._get_serializersModule__0_k$=function(){return this._get_json__0_k$()._get_serializersModule__0_k$()},cr.prototype.decodeJsonElement_0_k$=function(){var t=this._get_currentTagOrNull__0_k$();if(t!=null)return sM(this._get_json__0_k$(),lE().serializer_0_k$(),this._value_14[t]);if(this._value_14==null)return fv();var i;e:{var s=new HI;{var c=0,p=this._get_size__0_k$();if(c<p)do{var v=c;c=c+1|0;var k=this._keys_1[v],x=KX(this._get_json__0_k$(),lE().serializer_0_k$(),this._value_14[k]);s.put_3k8z0d_k$(Bt(k),x),F()}while(c<p)}i=s.build_0_k$();break e}return i},cr.prototype.decodeSerializableValue_f8566k_k$=function(t){return J4(this,t)},cr.prototype.composeName_jg38oy_k$=function(t,i){return i},cr.prototype.decodeElementIndex_6qhf5t_k$=function(t){for(;this._currentPosition_0<t._get_elementsCount__0_k$();){var i=this,s=i._currentPosition_0;i._currentPosition_0=s+1|0;var c=this.getTag_jmml4e_k$(t,s),p=this._currentPosition_0-1|0;if(this._forceNull_0=!1,(JX(this,c)?!0:B0e(this,t,p))?this._get_json__0_k$()._configuration._coerceInputValues_0?!P0e(this,t,p,c):!0:!1)return p}return-1},cr.prototype.elementName_5vyt7k_k$=function(t,i){var s=t.getElementName_ha5a7z_k$(i);if(!this._get_json__0_k$()._configuration._useAlternativeNames_0||JX(this,s))return s;var c=lM(this._get_json__0_k$()),p=c.getOrPut_79b7zv_k$(t,fE,L0e(t)),v;e:{var k=this._keys_1,x=(k!=null?uo(k):!1)?k:M(),T;t:{for(var N=x,B=0,L=N.length;B<L;){var O=N[B];B=B+1|0;var W;n:{W=p.get_2bw_k$(O)===i;break n}if(W){T=O;break t}}T=null;break t}v=T;break e}var K=v,q=K;return q==null?s:q},cr.prototype.getByTag_6wfw3l_k$=function(t){return this._value_14[t]},cr.prototype.decodeTaggedChar_6wfw3l_k$=function(t){var i=this.getByTag_6wfw3l_k$(t),s;if(i!=null?typeof i=="string":!1){var c;if(i.length===1)c=kn(i,0);else throw Cc(""+i+" can't be represented as Char");s=c}else if(AO(i))s=wp(i);else throw Cc(""+i+" can't be represented as Char");return s},cr.prototype.decodeTaggedChar_1qgfv_k$=function(t){return this.decodeTaggedChar_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},cr.prototype.decodeTaggedLong_6wfw3l_k$=function(t){var i=this.getByTag_6wfw3l_k$(t),s=(i!=null?typeof i=="number":!1)?i:null,c;if(s==null)throw Cc(""+i+" is not a Number");c=s;var p=c;return this.toJavascriptLong_e2tf9d_k$(p)},cr.prototype.decodeTaggedLong_1qgfv_k$=function(t){return this.decodeTaggedLong_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},cr.prototype.toJavascriptLong_e2tf9d_k$=function(t){var i;if(IT(t)){var s;e:{s=Math.floor(t);break e}i=s===t}else i=!1;var c=i;if(!c)throw Cc(""+t+" can't be represented as Long because it is not finite or has non-zero fractional part");var p;e:{p=Math.abs(t);break e}var v=p<=9007199254740991;if(!v)throw Cc(""+t+" can't be deserialized to Long due to a potential precision loss");return CO(t)},cr.prototype.decodeTaggedValue_6wfw3l_k$=function(t){var i=this.getByTag_6wfw3l_k$(t),s;i==null?(XX(this,t),s=F()):s=i;var c=s;return Re(c)?c:M()},cr.prototype.decodeTaggedValue_1qgfv_k$=function(t){return this.decodeTaggedValue_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},cr.prototype.decodeTaggedNotNullMark_6wfw3l_k$=function(t){if(this._forceNull_0)return!1;var i=this.getByTag_6wfw3l_k$(t);return i===void 0&&XX(this,t),i!=null},cr.prototype.decodeTaggedNotNullMark_1qgfv_k$=function(t){return this.decodeTaggedNotNullMark_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},cr.prototype.beginStructure_6qhf5t_k$=function(t){var i=this._get_currentTagOrNull__0_k$(),s;if(i==null)s=null;else{var c;e:{var p;t:{p=this._value_14[i];break t}c=p;break e}s=c}var v=s,k=v==null?this._value_14:v,x=t._get_kind__0_k$(),T;x instanceof x_?T=this._get_json__0_k$()._configuration._useArrayPolymorphism_0?_b():fb():T=t._get_kind__0_k$();var N=T,B=N;return xt(B,_b())?new Pc(k,this._get_json__0_k$()):xt(B,fb())?new Oo(k,this._get_json__0_k$()):new cr(k,this._get_json__0_k$())},cr.$metadata$={simpleName:"DynamicInput",kind:"class",interfaces:[sE]};function Gp(t,i){cr.call(this,t,i),this.pushTag_22hlsm_k$("primitive")}Gp.prototype.getByTag_6wfw3l_k$=function(t){return this._get_value__0_k$()},Gp.prototype.decodeJsonElement_0_k$=function(){var t=Bt(this._get_value__0_k$()),i=typeof this._get_value__0_k$(),s;switch(i){case"boolean":s=Aye(Gde(t));break;case"number":var c=Uh(t);if(c!=null)return xX(c);var p=H$(t);return p!=null?xX(p):E4(t);default:s=E4(t);break}return s},Gp.$metadata$={simpleName:"PrimitiveDynamicInput",kind:"class",interfaces:[]};function Pc(t,i){cr.call(this,t,i);var s=this,c=t.length;s._size_7=(c!=null?typeof c=="number":!1)?c:M(),this._currentPosition_1=-1}Pc.prototype._get_size__0_k$=function(){return this._size_7},Pc.prototype.elementName_5vyt7k_k$=function(t,i){return i.toString()},Pc.prototype.decodeElementIndex_6qhf5t_k$=function(t){for(;this._currentPosition_1<(this._size_7-1|0);){var i=this._get_value__0_k$(),s=this;s._currentPosition_1=s._currentPosition_1+1|0;var c=i[s._currentPosition_1];if(c!==void 0)return this._currentPosition_1}return-1},Pc.prototype.decodeJsonElement_0_k$=function(){var t=this._get_currentTagOrNull__0_k$();if(t!=null)return sM(this._get_json__0_k$(),lE().serializer_0_k$(),this._get_value__0_k$()[t]);var i;e:{var s=new VI;{var c=0,p=this._size_7;if(c<p)do{var v=c;c=c+1|0,s.add_fgzk9u_k$(sM(this._get_json__0_k$(),lE().serializer_0_k$(),this._get_value__0_k$()[v])),F()}while(c<p)}i=s.build_0_k$();break e}return i},Pc.$metadata$={simpleName:"DynamicListInput",kind:"class",interfaces:[]};function Bb(t){return t._currentPosition_2%2==0}function i0(t,i,s,c){throw Cc("Property "+i+" is not valid type "+c+": "+s)}function Oo(t,i){cr.call(this,t,i);var s=this,c=this._get_keys__0_k$().length;s._size_8=pt((c!=null?typeof c=="number":!1)?c:M(),2),this._currentPosition_2=-1}Oo.prototype._get_size__0_k$=function(){return this._size_8},Oo.prototype.elementName_5vyt7k_k$=function(t,i){var s=i/2|0,c=this._get_keys__0_k$()[s];return(c!=null?typeof c=="string":!1)?c:M()},Oo.prototype.decodeTaggedByte_6wfw3l_k$=function(t){var i;e:{if(Bb(this)){var s=this.decodeTaggedValue_6wfw3l_k$(t);if(typeof s!="string"){var c;t:{c=cr.prototype.decodeTaggedByte_1qgfv_k$.call(this,t);break t}i=c;break e}var p;t:{var v=Bt(s);p=g$(v);break t}var k=p,x;k==null?i0(this,t,s,"byte"):x=k,i=x;break e}var T;t:{T=cr.prototype.decodeTaggedByte_1qgfv_k$.call(this,t);break t}i=T;break e}return i},Oo.prototype.decodeTaggedByte_1qgfv_k$=function(t){return this.decodeTaggedByte_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},Oo.prototype.decodeTaggedShort_6wfw3l_k$=function(t){var i;e:{if(Bb(this)){var s=this.decodeTaggedValue_6wfw3l_k$(t);if(typeof s!="string"){var c;t:{c=cr.prototype.decodeTaggedShort_1qgfv_k$.call(this,t);break t}i=c;break e}var p;t:{var v=Bt(s);p=Yg(v);break t}var k=p,x;k==null?i0(this,t,s,"short"):x=k,i=x;break e}var T;t:{T=cr.prototype.decodeTaggedShort_1qgfv_k$.call(this,t);break t}i=T;break e}return i},Oo.prototype.decodeTaggedShort_1qgfv_k$=function(t){return this.decodeTaggedShort_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},Oo.prototype.decodeTaggedInt_6wfw3l_k$=function(t){var i;e:{if(Bb(this)){var s=this.decodeTaggedValue_6wfw3l_k$(t);if(typeof s!="string"){var c;t:{c=cr.prototype.decodeTaggedInt_1qgfv_k$.call(this,t);break t}i=c;break e}var p;t:{var v=Bt(s);p=lo(v);break t}var k=p,x;k==null?i0(this,t,s,"int"):x=k,i=x;break e}var T;t:{T=cr.prototype.decodeTaggedInt_1qgfv_k$.call(this,t);break t}i=T;break e}return i},Oo.prototype.decodeTaggedInt_1qgfv_k$=function(t){return this.decodeTaggedInt_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},Oo.prototype.decodeTaggedLong_6wfw3l_k$=function(t){var i;e:{if(Bb(this)){var s=this.decodeTaggedValue_6wfw3l_k$(t);if(typeof s!="string"){var c;t:{c=cr.prototype.decodeTaggedLong_6wfw3l_k$.call(this,t);break t}i=c;break e}var p;t:{var v=Bt(s),k=H$(v),x;k==null?i0(this,t,v,"long"):x=k,p=this.toJavascriptLong_e2tf9d_k$(x);break t}var T=p,N;T==null?i0(this,t,s,"long"):N=T,i=N;break e}var B;t:{B=cr.prototype.decodeTaggedLong_6wfw3l_k$.call(this,t);break t}i=B;break e}return i},Oo.prototype.decodeTaggedLong_1qgfv_k$=function(t){return this.decodeTaggedLong_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},Oo.prototype.decodeTaggedFloat_6wfw3l_k$=function(t){var i;e:{if(Bb(this)){var s=this.decodeTaggedValue_6wfw3l_k$(t);if(typeof s!="string"){var c;t:{c=cr.prototype.decodeTaggedFloat_1qgfv_k$.call(this,t);break t}i=c;break e}var p;t:{var v=Bt(s),k;n:{var x;r:{var T=H$(v),N;i:{N=T;break i}x=N;break r}k=x;break n}p=k;break t}var B=p,L;B==null?i0(this,t,s,"float"):L=B,i=L;break e}var O;t:{O=cr.prototype.decodeTaggedFloat_1qgfv_k$.call(this,t);break t}i=O;break e}return i},Oo.prototype.decodeTaggedFloat_1qgfv_k$=function(t){return this.decodeTaggedFloat_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},Oo.prototype.decodeTaggedDouble_6wfw3l_k$=function(t){var i;e:{if(Bb(this)){var s=this.decodeTaggedValue_6wfw3l_k$(t);if(typeof s!="string"){var c;t:{c=cr.prototype.decodeTaggedDouble_1qgfv_k$.call(this,t);break t}i=c;break e}var p;t:{var v=Bt(s);p=H$(v);break t}var k=p,x;k==null?i0(this,t,s,"double"):x=k,i=x;break e}var T;t:{T=cr.prototype.decodeTaggedDouble_1qgfv_k$.call(this,t);break t}i=T;break e}return i},Oo.prototype.decodeTaggedDouble_1qgfv_k$=function(t){return this.decodeTaggedDouble_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},Oo.prototype.decodeElementIndex_6qhf5t_k$=function(t){for(;this._currentPosition_2<(this._size_8-1|0);){var i=this,s=i._currentPosition_2;i._currentPosition_2=s+1|0;var c=s/2|0,p=this._get_keys__0_k$()[c],v=(p!=null?typeof p=="string":!1)?p:M();if(this._get_value__0_k$()[v]!==void 0)return this._currentPosition_2}return-1},Oo.prototype.getByTag_6wfw3l_k$=function(t){return this._currentPosition_2%2==0?t:this._get_value__0_k$()[t]},Oo.$metadata$={simpleName:"DynamicMapInput",kind:"class",interfaces:[]};function F0e(t){return Array.isArray(t)}function L0e(t){var i=new uM(t),s=function(){return i.invoke_0_k$()};return s.callableName=i._get_name__0_k$(),s}function dv(){this._sb_0=YT(128)}dv.prototype.append_kdfck9_k$=function(t){this._sb_0.append_wi7j7l_k$(t),F()},dv.prototype.append_9o0tv_k$=function(t){this._sb_0.append_wi8o78_k$(t),F()},dv.prototype.append_a4enbm_k$=function(t){this._sb_0.append_uch40_k$(t),F()},dv.prototype.appendQuoted_a4enbm_k$=function(t){Y4(this._sb_0,t)},dv.prototype.toString=function(){return this._sb_0.toString()},dv.prototype.release_sv8swh_k$=function(){},dv.$metadata$={simpleName:"JsonStringBuilder",kind:"class",interfaces:[]};function nU(t){return ZD(t)}var rU;function D0e(){return Ul().nextBytes_ha5a7z_k$(16)}function O0e(t){return t._uuidBytes}function YX(){iU=this,this._uuidByteRanges=Ji([be(0,4),be(4,6),be(6,8),be(8,10),be(10,16)])}YX.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var iU;function QX(){return iU==null&&new YX,iU}function Ed(t){QX(),this._uuidBytes=t;{var i;e:{var s=this._uuidBytes;i=s.length;break e}var c=i===16;if(!c){var p;e:{var v;t:{var k=this._uuidBytes;v=k.length;break t}p="Invalid UUID bytes. Expected 16 bytes; found "+v;break e}var x=p;throw sn(Bt(x))}}F()}Ed.prototype.toString=function(){for(var t=pS(36),i=0,s=QX()._uuidByteRanges.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$(),p=c._get_first__0_k$(),v=c._get_last__0_k$();if(p<=v)do{var k=p;p=p+1|0;var x=this._uuidBytes[k],T=x>>4&15,N=x&15,B=i;i=B+1|0,t[B]=rU.get_ha5a7z_k$(T);var L=i;i=L+1|0,t[L]=rU.get_ha5a7z_k$(N)}while(k!==v);if(i<36){var O=i;i=O+1|0,t[O]=new pe(45)}}return Vde(t)},Ed.prototype.equals=function(t){var i;return t instanceof Ed?i=vJ(this._uuidBytes,t._uuidBytes):i=!1,i},Ed.prototype.hashCode=function(){return Lme(this._uuidBytes)},Ed.prototype.compareTo_x1v5ek_k$=function(t){var i=0,s=16;if(i<s)do{var c=i;i=i+1|0;var p=iv(this._uuidBytes[c],t._uuidBytes[c]);if(p!==0)return p}while(i<s);return 0},Ed.prototype.compareTo_2c5_k$=function(t){return this.compareTo_x1v5ek_k$(t instanceof Ed?t:M())},Ed.$metadata$={simpleName:"Uuid",kind:"class",interfaces:[v_]};function z0e(){var t;e:{var i=D0e(),s;t:{i[6]=hi(i[6]&15|64),i[8]=hi(i[8]&63|128),s=i;break t}t=s;break e}return new Ed(t)}var ZX,oU;function U0e(){return eY}var eY,tY;function aU(t,i,s){var c=Wp().all(Ji([i,s]));return c.map(j0e())}function cM(){}cM.prototype.invoke_v3nsd1_k$=function(t){var i=t.get_ha5a7z_k$(0),s=(i==null?!0:Re(i))?i:M(),c=t.get_ha5a7z_k$(1);return W0e(s,(c==null?!0:Re(c))?c:M())},cM.prototype.invoke_20e8_k$=function(t){return this.invoke_v3nsd1_k$((t!=null?Ce(t,Hr):!1)?t:M())},cM.$metadata$={kind:"class",interfaces:[]};function j0e(){var t=new cM;return function(i){return t.invoke_v3nsd1_k$(i)}}function G0e(t){var i=Tn(),s=t.toList_0_k$(),c=i.all(Ce(s,Hr)?s:M()),p=c,v;if(p instanceof _n){var k=c._value_16.get_ha5a7z_k$(0),x=Re(k)?k:M(),T=c._value_16.get_ha5a7z_k$(1);v=new _n(new Ws(x,Re(T)?T:M()))}else p instanceof fn?v=c:Lr();return v}function W0e(t,i){return new Ws(t,i)}function nY(){}nY.$metadata$={simpleName:"Tuple",kind:"interface",interfaces:[]};function Ws(t,i){this.__0=t,this.__1=i}Ws.prototype.toList_0_k$=function(){return Ji([this.__0,this.__1])},Ws.prototype.component1_0_k$=function(){return this.__0},Ws.prototype.component2_0_k$=function(){return this.__1},Ws.prototype.toString=function(){return"Tuple2(_0="+this.__0+", _1="+this.__1+")"},Ws.prototype.hashCode=function(){var t=this.__0==null?0:ur(this.__0);return t=pt(t,31)+(this.__1==null?0:ur(this.__1))|0,t},Ws.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Ws))return!1;var i=t instanceof Ws?t:M();return!(!xt(this.__0,i.__0)||!xt(this.__1,i.__1))},Ws.$metadata$={simpleName:"Tuple2",kind:"class",interfaces:[nY]};var rY;function H0e(){var t;e:{var i;t:{var s;n:{s=["169.254.99.37","192.168.88.220","192.168.88.232"];break n}i=s;break t}t=i;break e}return t}var iY;function _M(t){this._$activationData=t}_M.prototype.invoke_6wfw3l_k$=function(t){return new cn(t,this._$activationData)},_M.prototype.invoke_20e8_k$=function(t){return this.invoke_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},_M.$metadata$={kind:"class",interfaces:[]};function V0e(t,i){if(i==null){var s=oY();return _a(sY(s,null,2,null))}var c=iE(null,ake(),1),p=i.fileAt_1hpm3o_k$(t._activationPath),v=o0(p,ske()),k=jM(v,lke(c));return k.peek(uke()),F(),k.map(cke())}function q0e(t,i,s){var c=i,p;if(c==null)p=null;else{var v=fO(s.toJson_0_k$());p=c.writeFile$default_d4gjvw_k$(t._activationPath,v,null,4,null)}var k=p;k==null||ZU(k,"Error saving activation data, will perform re-activation next run"),F()}function oY(t){var i;e:{var s=O0e(z0e()),c;t:{var p;n:{p=s;break n}c=p.slice();break t}i=Qa(c);break e}return yY(i)}function K0e(t,i){var s;e:{for(var c=i,p=0,v=c.length;p<v;){var k=kn(c,p);p=p+1|0;var x;t:{x=Ode(k);break t}if(!x){s=!1;break e}}s=!0;break e}return s}function aY(t,i,s){var c=i+s;return yY(yU().digest_8si7a2_k$(c))}function J0e(t,i,s,c,p){return(c&4)!=0&&(s=iee()),aY(t,i,s)}function X0e(t,i,s){var c=iee(),p;e:{p=c.minus_wiekkq_k$(new at(7,0));break e}var v=p,k=v,x=new at(1,0);if(k.compareTo_wiekkq_k$(c)<=0)do{var T=k;if(k=k.plus_wiekkq_k$(x),s===aY(t,i,v))return!0}while(!T.equals(c));return!1}function fM(t){this._$apiKey=t}fM.prototype.invoke_e9yqjl_k$=function(t){if(t._activationToken!=null?X0e(Cd(),t._userId,t._activationToken):!1)return _a(Tn().success(new cn(null,t)));var i=Ii().encodePathSegment_6wfw3l_k$(this._$apiKey),s=_Ae(),c=GK(s,'"','\\"',!1,4),p=fAe(),v=GK(p,'"','\\"',!1,4),k='{ "user_id": "'+t._userId+'", "sdk_version": "'+oU+'", "sdk_name": "'+ZX+'", "device": "'+c+'", "os": "'+v+'" }',x=JCe("https://api.studio.facemoji.co/tracking/keys/validity/"+i,k,pi(Le("Content-Type","application/json")),$xe());return Ad(x,_ke(t))},fM.prototype.invoke_20e8_k$=function(t){return this.invoke_e9yqjl_k$(t instanceof vv?t:M())},fM.$metadata$={kind:"class",interfaces:[]};function pM(t){this._$fileSystem=t}pM.prototype.invoke_gg8bnr_k$=function(t){var i=t.component1_0_k$(),s=t.component2_0_k$();Cd()._activated.set_majfzk_k$(1);var c=s;if(i!=null){qR(_o(),"API key activated successfully");var p=Cd();c=new vv(s._userId,J0e(p,s._userId,new at(0,0),4))}return q0e(Cd(),this._$fileSystem,c),!0},pM.prototype.invoke_20e8_k$=function(t){return this.invoke_gg8bnr_k$(t instanceof cn?t:M())},pM.$metadata$={kind:"class",interfaces:[]};function hM(){}hM.prototype.invoke_13y3of_k$=function(t){var i;return t instanceof l0?i=t._code>=400:i=!1,i?t._code===401?KR(_o(),"Error activating the API key: Invalid API key."):KR(_o(),"Error activating the API key: code "+t._code):KR(_o(),"Error activating the API key: "+t.message),!1},hM.prototype.invoke_20e8_k$=function(t){return this.invoke_13y3of_k$(t instanceof ki?t:M())},hM.$metadata$={kind:"class",interfaces:[]};function dM(t){this._$cb=t}dM.prototype.invoke_lf1xdg_k$=function(t){return t.add_2bq_k$(this._$cb)},dM.prototype.invoke_20e8_k$=function(t){return this.invoke_lf1xdg_k$((t!=null?Ce(t,Cp):!1)?t:M())},dM.$metadata$={kind:"class",interfaces:[]};function mM(){}mM.prototype.invoke_ha5a7z_k$=function(t){return 1},mM.prototype.invoke_20e8_k$=function(t){return this.invoke_ha5a7z_k$((t!=null?typeof t=="number":!1)?t:M())},mM.$metadata$={kind:"class",interfaces:[]};function vM(){}vM.prototype.invoke_rrujww_k$=function(t){t._allowStructuredMapKeys=!0},vM.prototype.invoke_20e8_k$=function(t){return this.invoke_rrujww_k$(t instanceof cv?t:M()),F()},vM.$metadata$={kind:"class",interfaces:[]};function gM(){}gM.prototype.invoke_1hjdyz_k$=function(t){return t.readAllText_0_k$()},gM.prototype.invoke_20e8_k$=function(t){return this.invoke_1hjdyz_k$((t!=null?Ce(t,yv):!1)?t:M())},gM.$metadata$={kind:"class",interfaces:[]};function yM(t){this._$json=t}yM.prototype.invoke_6wfw3l_k$=function(t){var i;e:{Tn();var s;try{var c;t:{var p=this._$json.decodeFromString_ed5pl9_k$(cU().serializer_0_k$(),t);if(!K0e(Cd(),p._userId))throw xp("Invalid user data ID: "+p._userId);c=p;break t}s=new _n(c)}catch(k){var v;if(k instanceof ki)v=new fn(k);else throw k;s=v}i=s;break e}return i},yM.prototype.invoke_20e8_k$=function(t){return this.invoke_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},yM.$metadata$={kind:"class",interfaces:[]};function kM(){}kM.prototype.invoke_brzmk3_k$=function(t){t instanceof fn&&qR(_o(),"Did not load "+Cd()._activationPath+", will create a new activation ("+t._error+")")},kM.prototype.invoke_20e8_k$=function(t){return this.invoke_brzmk3_k$(t instanceof Ot?t:M()),F()},kM.$metadata$={kind:"class",interfaces:[]};function $M(){}$M.prototype.invoke_29qhcu_k$=function(t){var i=t._get_optional__0_k$(),s;if(i==null){var c=oY(Cd());s=sY(c,null,2,null)}else s=i;return s},$M.prototype.invoke_20e8_k$=function(t){return this.invoke_29qhcu_k$(t instanceof Ot?t:M())},$M.$metadata$={kind:"class",interfaces:[]};function $f(){sU=this,this._activationTimeout=Zb().start(),this._activationPath=new bn("facemoji.json"),this._activated=new is(tY?1:0),this._activationWarningPrinted=new is(0),this._demoTimeoutCallbacks=new pa(bI()),F()}$f.prototype.initialize=function(t,i){var s=xCe(),c=V0e(this,s),p=c.flatMap(tke(t)),v=Ad(p,nke(s));return uY(v,rke())},$f.prototype._get_isFullyActivated__0_k$=function(){return this._activated.get_0_k$()!==0},$f.prototype._get_isDemoMode__0_k$=function(){return this._activated.get_0_k$()===0?this._activationTimeout.tick()._elapsed<=90:!1},$f.prototype.addDemoTimeoutCallback=function(t){this._demoTimeoutCallbacks.getAndUpdate_bsv4z7_k$(ike(t)),F()},$f.prototype.map_0_k$=function(){if(this._activated.get_0_k$()!==0)return!0;var t=this._get_isDemoMode__0_k$(),i;if(t?i=!1:i=this._activationWarningPrinted.getAndUpdate_q6uncz_k$(oke())===0,i){iY();for(var s=this._demoTimeoutCallbacks.get_0_k$(),c=s.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$();p()}}return t},$f.$metadata$={simpleName:"FacemojiAPI",kind:"object",interfaces:[]},Object.defineProperty($f.prototype,"isFullyActivated",{configurable:!0,get:$f.prototype._get_isFullyActivated__0_k$}),Object.defineProperty($f.prototype,"isDemoMode",{configurable:!0,get:$f.prototype._get_isDemoMode__0_k$});var sU;function Cd(){return sU==null&&new $f,sU}function Y0e(t,i,s,c,p){return(s&2)!=0&&(i=null),vv.call(p,t,i),p}function sY(t,i,s,c){return Y0e(t,i,s,c,Object.create(vv.prototype))}function lU(){uU=this}lU.prototype.serializer_0_k$=function(){return fU()},lU.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var uU;function cU(){return uU==null&&new lU,uU}function mv(){_U=this;var t=new Yo("ActivationData",this,2);t.addElement_5xhc52_k$("userId",!1),t.addElement_5xhc52_k$("activationToken",!0),this._descriptor_23=t}mv.prototype._get_descriptor__0_k$=function(){return this._descriptor_23},mv.prototype.childSerializers_0_k$=function(){var t;e:{var i=[db(),_ge(db())],s;t:{var c;n:{c=i;break n}s=c;break t}t=s;break e}return t},mv.prototype.deserialize_u9oizh_k$=function(t){var i=this._descriptor_23,s=!0,c=0,p=0,v=null,k=null,x=t.beginStructure_6qhf5t_k$(i);if(x.decodeSequentially_0_k$())v=x.decodeStringElement_5vyt7k_k$(i,0),p=p|1,k=x.decodeNullableSerializableElement_hmkm73_k$(i,1,db(),k),p=p|2;else for(;s;)switch(c=x.decodeElementIndex_6qhf5t_k$(i),c){case-1:s=!1;break;case 0:v=x.decodeStringElement_5vyt7k_k$(i,0),p=p|1;break;case 1:k=x.decodeNullableSerializableElement_hmkm73_k$(i,1,db(),k),p=p|2;break;default:throw XJ(c)}return x.endStructure_g940c0_k$(i),Z0e(p,v,k,null)},mv.prototype.serialize_7ex5ix_k$=function(t,i){var s=this._descriptor_23,c=t.beginStructure_6qhf5t_k$(s);c.encodeStringElement_mom8tu_k$(s,0,i._userId),(c.shouldEncodeElementDefault_5vyt7k_k$(s,1)?!0:i._activationToken!=null)&&c.encodeNullableSerializableElement_6l2lkq_k$(s,1,db(),i._activationToken),c.endStructure_g940c0_k$(s)},mv.prototype.serialize_whawnb_k$=function(t,i){return this.serialize_7ex5ix_k$(t,i instanceof vv?i:M())},mv.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[pb]};var _U;function fU(){return _U==null&&new mv,_U}function Q0e(t,i,s,c,p){return(1&t)!=1&&Wge(t,1,fU()._descriptor_23),p._userId=i,(t&2)==0?p._activationToken=null:p._activationToken=s,p}function Z0e(t,i,s,c){return Q0e(t,i,s,c,Object.create(vv.prototype))}function bM(){}bM.prototype.invoke_rrujww_k$=function(t){t._allowStructuredMapKeys=!0},bM.prototype.invoke_20e8_k$=function(t){return this.invoke_rrujww_k$(t instanceof cv?t:M()),F()},bM.$metadata$={kind:"class",interfaces:[]};function vv(t,i){cU(),this._userId=t,this._activationToken=i}vv.prototype.toJson_0_k$=function(){var t=iE(null,fke(),1);return t.encodeToString_onvojc_k$(cU().serializer_0_k$(),this)},vv.$metadata$={simpleName:"ActivationData",kind:"class",interfaces:[],associatedObjects:{0:fU}};function wM(){}wM.prototype.invoke_sv8swh_k$=function(){Wb(_o(),"API activation timed out, deactivating API outputs")},wM.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},wM.$metadata$={kind:"class",interfaces:[]};function eke(){var t=new wM;return function(){return t.invoke_sv8swh_k$(),F()}}function tke(t){var i=new fM(t);return function(s){return i.invoke_e9yqjl_k$(s)}}function nke(t){var i=new pM(t);return function(s){return i.invoke_gg8bnr_k$(s)}}function rke(){var t=new hM;return function(i){return t.invoke_13y3of_k$(i)}}function ike(t){var i=new dM(t);return function(s){return i.invoke_lf1xdg_k$(s)}}function oke(){var t=new mM;return function(i){return t.invoke_ha5a7z_k$(i)}}function ake(){var t=new vM;return function(i){return t.invoke_rrujww_k$(i),F()}}function ske(){var t=new gM;return function(i){return t.invoke_1hjdyz_k$(i)}}function lke(t){var i=new yM(t);return function(s){return i.invoke_6wfw3l_k$(s)}}function uke(){var t=new kM;return function(i){return t.invoke_brzmk3_k$(i),F()}}function cke(){var t=new $M;return function(i){return t.invoke_29qhcu_k$(i)}}function _ke(t){var i=new _M(t);return function(s){return i.invoke_6wfw3l_k$(s)}}function fke(){var t=new bM;return function(i){return t.invoke_rrujww_k$(i),F()}}function pke(){return eke()}function hke(){return lY}var lY;function xM(){}xM.prototype.invoke_vcj5fe_k$=function(t){return!0},xM.prototype.invoke_20e8_k$=function(t){return this.invoke_vcj5fe_k$((t!=null?typeof t=="boolean":!1)?t:M())},xM.$metadata$={kind:"class",interfaces:[]};function SM(t,i){this._$isDone=t,this._$fulfill=i}SM.prototype.invoke_iav7o_k$=function(t){this._$isDone.getAndUpdate_bsv4z7_k$(Nke())||this._$fulfill(t)},SM.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},SM.$metadata$={kind:"class",interfaces:[]};function EM(t){this._$fulfill_0=t}EM.prototype.invoke_sv8swh_k$=function(){this._$fulfill_0(Da())},EM.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},EM.$metadata$={kind:"class",interfaces:[]};function CM(t,i,s){this._$countdown=t,this._$fulfill_1=i,this._$futures=s}CM.prototype.invoke_iav7o_k$=function(t){var i=this._$countdown.addAndGet_ha5a7z_k$(-1);if(i===0){var s;e:{var c;t:{for(var p=Wr(so(this._$futures,10)),v=this._$futures.iterator_0_k$();v.hasNext_0_k$();){var k=v.next_0_k$(),x;n:{var T=k._get_currentValue__0_k$();x=(T==null?!0:Re(T))?T:M();break n}p.add_2bq_k$(x),F()}c=p;break t}s=c;break e}this._$fulfill_1(s)}if(i<0)throw xp("Some futures were fulfilled multiple times")},CM.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},CM.$metadata$={kind:"class",interfaces:[]};function AM(t,i){this._$fulfill_2=t,this._$fn=i}AM.prototype.invoke_sv8swh_k$=function(){this._$fulfill_2(this._$fn())},AM.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},AM.$metadata$={kind:"class",interfaces:[]};function TM(t){this._$futures_0=t}TM.prototype.invoke_pql811_k$=function(t){for(var i=new pa(!1),s=this._$futures_0,c=0,p=s.length;c<p;){var v=s[c];c=c+1|0,v.whenDone(Mke(i,t))}},TM.prototype.invoke_20e8_k$=function(t){return this.invoke_pql811_k$((t!=null?typeof t=="function":!1)?t:M()),F()},TM.$metadata$={kind:"class",interfaces:[]};function IM(t){this._$futures_1=t}IM.prototype.invoke_w1k72t_k$=function(t){if(this._$futures_1.isEmpty_0_k$())return KE.queue(Rke(t)),F();for(var i=new is(this._$futures_1._get_size__0_k$()),s=this._$futures_1.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$();c.whenDone(Pke(i,t,this._$futures_1))}},IM.prototype.invoke_20e8_k$=function(t){return this.invoke_w1k72t_k$((t!=null?typeof t=="function":!1)?t:M()),F()},IM.$metadata$={kind:"class",interfaces:[]};function MM(t){this._$fn_0=t}MM.prototype.invoke_pql811_k$=function(t){KE.queue(Bke(t,this._$fn_0))},MM.prototype.invoke_20e8_k$=function(t){return this.invoke_pql811_k$((t!=null?typeof t=="function":!1)?t:M()),F()},MM.$metadata$={kind:"class",interfaces:[]};function NM(t,i){this._$consumer=t,this._$vl=i}NM.prototype.invoke_sv8swh_k$=function(){this._$consumer(this._$vl)},NM.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},NM.$metadata$={kind:"class",interfaces:[]};function RM(t){this._$consumer_0=t}RM.prototype.invoke_iav7o_k$=function(t){KE.queue(Wke(this._$consumer_0,t))},RM.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},RM.$metadata$={kind:"class",interfaces:[]};function dke(t,i,s){t(i(s))}function vE(t,i){this._$fulfill_3=t,this._$mapper=i}vE.prototype.invoke_iav7o_k$=function(t){return dke(this._$fulfill_3,this._$mapper,t)},vE.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},vE.prototype._get_name__0_k$=function(){return"futureMapper"},vE.$metadata$={kind:"class",interfaces:[]};function mke(t,i,s){t(s),i(s)}function gE(t,i){this._$consumer_1=t,this._$fulfill_4=i}gE.prototype.invoke_iav7o_k$=function(t){return mke(this._$consumer_1,this._$fulfill_4,t)},gE.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},gE.prototype._get_name__0_k$=function(){return"futureMapper"},gE.$metadata$={kind:"class",interfaces:[]};function vke(t,i,s){t(i(s))}function yE(t,i){this._$fulfill_5=t,this._$mapper_0=i}yE.prototype.invoke_iav7o_k$=function(t){return vke(this._$fulfill_5,this._$mapper_0,t)},yE.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},yE.prototype._get_name__0_k$=function(){return"futureMapper"},yE.$metadata$={kind:"class",interfaces:[]};function PM(t,i){this._$mapper_1=t,this._$fulfill_6=i}PM.prototype.invoke_iav7o_k$=function(t){this._$mapper_1(t).whenDone(this._$fulfill_6)},PM.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},PM.$metadata$={kind:"class",interfaces:[]};function gke(t,i){Yt.call(i);var s=new pa(null),c=new pa(bI()),p=new p0,v=new Pf;i._fulfilled=p,i._listeners=c,i._value_15=s,i._lock=v;var k=Cke(p,i,s,v,c);return F(),t(k),i}function Hs(t){return gke(t,Object.create(Yt.prototype))}function yke(t,i){return Yt.call(i),i._fulfilled=new p0,i._listeners=new pa(bI()),i._value_15=new pa(t),i._fulfilled.signalAll_sv8swh_k$(),i._lock=new Pf,i}function _a(t){return yke(t,Object.create(Yt.prototype))}function kE(){pU=this;var t;e:{var i=Fr(de(Yt));t=i;break e}Ni(this,t,Kr(["all","async","any"]))}kE.prototype.any=function(t){return Hs(Ake(t))},kE.prototype.all=function(t){return Hs(Tke(t))},kE.prototype.async=function(t){return Hs(Ike(t))},kE.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var pU;function Wp(){return pU==null&&new kE,pU}function kke(t,i){if(t._lock.lock_sv8swh_k$(),t._fulfilled._get_signaled__0_k$()){t._lock.unlock_sv8swh_k$();var s=t._value_15.get_0_k$();return i((s==null?!0:Re(s))?s:M()),F()}t._listeners.getAndUpdate_bsv4z7_k$(Fke(i)),F(),t._lock.unlock_sv8swh_k$()}function $ke(t,i,s,c,p,v){if(t._get_signaled__0_k$())throw xp("Tried to fulfill future "+i+" twice, already holding value "+s.get_0_k$());c.lock_sv8swh_k$(),s.set_iav7o_k$(v),t.signalAll_sv8swh_k$(),c.unlock_sv8swh_k$();for(var k=p.get_0_k$(),x=k.iterator_0_k$();x.hasNext_0_k$();){var T=x.next_0_k$();T(v)}}function $E(t,i,s,c,p){this._$fulfilled=t,this._this$0_20=i,this._$value=s,this._$lock=c,this._$listeners=p}$E.prototype.invoke_iav7o_k$=function(t){return $ke(this._$fulfilled,this._this$0_20,this._$value,this._$lock,this._$listeners,t)},$E.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},$E.prototype._get_name__0_k$=function(){return"fulfill"},$E.$metadata$={kind:"class",interfaces:[]};function BM(t){this._$consumer_2=t}BM.prototype.invoke_z34d3f_k$=function(t){return t.add_2bq_k$(this._$consumer_2)},BM.prototype.invoke_20e8_k$=function(t){return this.invoke_z34d3f_k$((t!=null?Ce(t,Cp):!1)?t:M())},BM.$metadata$={kind:"class",interfaces:[]};function FM(t,i){this._$consumer_3=t,this._$v=i}FM.prototype.invoke_sv8swh_k$=function(){this._$consumer_3(this._$v)},FM.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},FM.$metadata$={kind:"class",interfaces:[]};function LM(t){this._$consumer_4=t}LM.prototype.invoke_z34d3f_k$=function(t){return t.add_2bq_k$(Gke(this._$consumer_4))},LM.prototype.invoke_20e8_k$=function(t){return this.invoke_z34d3f_k$((t!=null?Ce(t,Cp):!1)?t:M())},LM.$metadata$={kind:"class",interfaces:[]};function DM(t,i){this._this$0_21=t,this._$mapper_2=i}DM.prototype.invoke_pxbrlw_k$=function(t){kke(this._this$0_21,Hke(t,this._$mapper_2))},DM.prototype.invoke_20e8_k$=function(t){return this.invoke_pxbrlw_k$((t!=null?typeof t=="function":!1)?t:M()),F()},DM.$metadata$={kind:"class",interfaces:[]};function OM(t,i){this._this$0_22=t,this._$consumer_5=i}OM.prototype.invoke_pql811_k$=function(t){this._this$0_22.whenDone(Vke(this._$consumer_5,t))},OM.prototype.invoke_20e8_k$=function(t){return this.invoke_pql811_k$((t!=null?typeof t=="function":!1)?t:M()),F()},OM.$metadata$={kind:"class",interfaces:[]};function zM(t,i){this._this$0_23=t,this._$mapper_3=i}zM.prototype.invoke_pxbrlw_k$=function(t){this._this$0_23.whenDone(qke(t,this._$mapper_3))},zM.prototype.invoke_20e8_k$=function(t){return this.invoke_pxbrlw_k$((t!=null?typeof t=="function":!1)?t:M()),F()},zM.$metadata$={kind:"class",interfaces:[]};function UM(t,i){this._this$0_24=t,this._$mapper_4=i}UM.prototype.invoke_pxbrlw_k$=function(t){this._this$0_24.whenDone(Kke(this._$mapper_4,t))},UM.prototype.invoke_20e8_k$=function(t){return this.invoke_pxbrlw_k$((t!=null?typeof t=="function":!1)?t:M()),F()},UM.$metadata$={kind:"class",interfaces:[]},Yt.prototype._get_listeners__0_k$=function(){return this._listeners},Yt.prototype._get_value__0_k$=function(){return this._value_15},Yt.prototype.whenDone=function(t){if(this._lock.lock_sv8swh_k$(),this._fulfilled._get_signaled__0_k$()){var i=this._value_15.get_0_k$(),s=(i==null?!0:Re(i))?i:M();return this._lock.unlock_sv8swh_k$(),KE.queue(Lke(t,s)),F()}try{this._listeners.getAndUpdate_bsv4z7_k$(Dke(t)),F()}finally{this._lock.unlock_sv8swh_k$()}},Yt.prototype.useOriginalQueueAndMap_i05jc9_k$=function(t){return Hs(Oke(this,t))},Yt.prototype.peek=function(t){return Hs(zke(this,t))},Yt.prototype.map=function(t){return Hs(Uke(this,t))},Yt.prototype.flatMap=function(t){return Hs(jke(this,t))},Yt.prototype.waitFor0=function(){var t=this._value_15.get_0_k$();if(t!=null)return t;this._fulfilled.waitFor_sv8swh_k$();var i=this._value_15.get_0_k$();return(i==null?!0:Re(i))?i:M()},Yt.prototype.waitForWithInt=function(t){var i=this._value_15.get_0_k$();return i!=null?i:(this._fulfilled.waitFor_ha5a7z_k$(t),F(),this._value_15.get_0_k$())},Yt.prototype._get_resolved__0_k$=function(){return this._fulfilled._get_signaled__0_k$()},Yt.prototype._get_currentValue__0_k$=function(){return this._value_15.get_0_k$()},Yt.prototype.mapTry=function(t){var i=this instanceof Yt?this:M();return Ad(i,t)},Yt.prototype.mapTryFlat=function(t){var i=this instanceof Yt?this:M();return jM(i,t)},Yt.prototype.flatMapTry=function(t){var i=this instanceof Yt?this:M();return o0(i,t)},Yt.prototype.flatMapTryFlat=function(t){var i=this instanceof Yt?this:M();return bke(i,t)},Yt.prototype.catchError=function(t){var i=this instanceof Yt?this:M();return uY(i,t)},Yt.prototype.orTry=function(t){var i=this instanceof Yt?this:M();return wke(i,t)},Yt.prototype.orTryFlat=function(t){var i=this instanceof Yt?this:M();return xke(i,t)},Yt.prototype.logError=function(t){return this.logErrorExt_81uyzo_k$(t===void 0?null:t)},Yt.prototype.logErrorExt_81uyzo_k$=function(t){var i=this instanceof Yt?this:M();return Gxe(i,t)},Yt.prototype.logErrorExt$default_f5ooyi_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.logErrorExt_81uyzo_k$(t)},Yt.prototype.logWarning=function(t){return this.logWarningExt_81uyzo_k$(t===void 0?null:t)},Yt.prototype.logWarningExt_81uyzo_k$=function(t){var i=this instanceof Yt?this:M();return ZU(i,t)},Yt.prototype.logWarningExt$default_f5ooyi_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.logWarningExt_81uyzo_k$(t)},Yt.prototype.logInfo=function(t){return this.logInfoExt_81uyzo_k$(t===void 0?null:t)},Yt.prototype.logInfoExt_81uyzo_k$=function(t){var i=this instanceof Yt?this:M();return Wxe(i,t)},Yt.prototype.logInfoExt$default_f5ooyi_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.logInfoExt_81uyzo_k$(t)},Yt.prototype.logDebug=function(t){return this.logDebugExt_81uyzo_k$(t===void 0?null:t)},Yt.prototype.logDebugExt_81uyzo_k$=function(t){var i=this instanceof Yt?this:M();return Hxe(i,t)},Yt.prototype.logDebugExt$default_f5ooyi_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.logDebugExt_81uyzo_k$(t)},Yt.prototype.logInternal=function(t){return this.logInternalExt_81uyzo_k$(t===void 0?null:t)},Yt.prototype.logInternalExt_81uyzo_k$=function(t){var i=this instanceof Yt?this:M();return Vxe(i,t)},Yt.prototype.logInternalExt$default_f5ooyi_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.logInternalExt_81uyzo_k$(t)},Yt.prototype.promiseWithFutureOfTryOfT=function(){var t=this instanceof Yt?this:M();return uee(t)},Yt.prototype.promiseWithFutureOfT=function(){var t=this instanceof Yt?this:M();return cee(t)},Yt.prototype.thenWithFutureOfTryOfT=function(t,i){return this.thenExt_7pjj6f_k$(t,i===void 0?null:i)},Yt.prototype.thenExt_7pjj6f_k$=function(t,i){var s=this instanceof Yt?this:M();return _ee(s,t,i)},Yt.prototype.thenExt$default_y7gszv_k$=function(t,i,s,c){return(s&2)!=0&&(i=null),this.thenExt_7pjj6f_k$(t,i)},Yt.prototype.thenWithFutureOfT=function(t){var i=this instanceof Yt?this:M();return fee(i,t)},Yt.prototype.waitFor=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.waitForWithInt((v!=null?typeof v=="number":!1)?v:M());return k}if(i.length===0){var x=this.waitFor0();return x}throw At("Error choosing proper overload of function Future.waitFor for the given parameters")},Yt.prototype.promise=function(t){var i=arguments,s,c;e:{c=de(Yt).isInstance_wi7j7l_k$(this);break e}if(c?s=i.length===0:s=!1,s){var p=uee(this instanceof Yt?this:M());return p}var v,k;e:{k=de(Yt).isInstance_wi7j7l_k$(this);break e}if(k?v=i.length===0:v=!1,v){var x=cee(this instanceof Yt?this:M());return x}throw At("Error choosing proper overload of function Future.promise for the given parameters")},Yt.prototype.then=function(t){var i=arguments,s,c,p,v;e:{v=de(Yt).isInstance_wi7j7l_k$(this);break e}if(v?p=i.length===2:p=!1,p){var k;e:{var x=i[0];k=ce().functionClass(1).isInstance_wi7j7l_k$(x);break e}c=k}else c=!1;if(c){var T;e:{var N=i[1];T=N==null?!0:ce().functionClass(1).isInstance_wi7j7l_k$(N);break e}s=T}else s=!1;if(s){var B=this instanceof Yt?this:M(),L=i[0],O=(L!=null?typeof L=="function":!1)?L:M(),W=i[1],K=_ee(B,O,(W==null?!0:typeof W=="function")?W:M());return K}var q,Q,ee;e:{ee=de(Yt).isInstance_wi7j7l_k$(this);break e}if(ee?Q=i.length===1:Q=!1,Q){var ie;e:{var fe=i[0];ie=ce().functionClass(1).isInstance_wi7j7l_k$(fe);break e}q=ie}else q=!1;if(q){var le=this instanceof Yt?this:M(),Se=i[0],Ee=fee(le,(Se!=null?typeof Se=="function":!1)?Se:M());return Ee}throw At("Error choosing proper overload of function Future.then for the given parameters")};function Yt(){Wp()}Yt.$metadata$={simpleName:"Future",kind:"class",interfaces:[]},Object.defineProperty(Yt.prototype,"resolved",{configurable:!0,get:Yt.prototype._get_resolved__0_k$}),Object.defineProperty(Yt.prototype,"currentValue",{configurable:!0,get:Yt.prototype._get_currentValue__0_k$});function Ad(t,i){return t.map(Jke(i))}function jM(t,i){return t.map(Xke(i))}function o0(t,i){return t.flatMap(Yke(i))}function bke(t,i){return t.flatMap(Qke(i))}function uY(t,i){return t.map(Zke(i))}function wke(t,i){return t.map(e$e(i))}function xke(t,i){return t.flatMap(t$e(i))}function cY(t){var i=t,s;return i instanceof _n?s=t._value_16.map(n$e()):i instanceof fn?s=_a(t):Lr(),s}function Ske(t){var i=t,s;return i instanceof _n?s=t._value_16:i instanceof fn?s=_a(t):Lr(),s}function GM(){}GM.prototype.invoke_sv8swh_k$=function(){Wp(),F(),F()},GM.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},GM.$metadata$={kind:"class",interfaces:[]};function WM(t){this._$mapper_5=t}WM.prototype.invoke_fc38ei_k$=function(t){return t.map(this._$mapper_5)},WM.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},WM.$metadata$={kind:"class",interfaces:[]};function HM(t){this._$mapper_6=t}HM.prototype.invoke_fc38ei_k$=function(t){return t.flatMap(this._$mapper_6)},HM.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},HM.$metadata$={kind:"class",interfaces:[]};function VM(t){this._$mapper_7=t}VM.prototype.invoke_fc38ei_k$=function(t){var i=t.map(this._$mapper_7),s;return i instanceof _n?s=i._value_16:i instanceof fn?s=_a(i):Lr(),s},VM.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},VM.$metadata$={kind:"class",interfaces:[]};function qM(){}qM.prototype.invoke_2c6_k$=function(t){return Tn().success(t)},qM.prototype.invoke_20e8_k$=function(t){return this.invoke_2c6_k$((t==null?!0:Re(t))?t:M())},qM.$metadata$={kind:"class",interfaces:[]};function KM(t){this._$mapper_8=t}KM.prototype.invoke_2c5_k$=function(t){var i=this._$mapper_8(t),s;return i instanceof _n?s=i._value_16.map(r$e()):i instanceof fn?s=_a(i):Lr(),s},KM.prototype.invoke_20e8_k$=function(t){return this.invoke_2c5_k$((t==null?!0:Re(t))?t:M())},KM.$metadata$={kind:"class",interfaces:[]};function JM(t){this._$catcher=t}JM.prototype.invoke_fc38ei_k$=function(t){var i;e:{var s=t,c;s instanceof _n?c=t._value_16:s instanceof fn?c=this._$catcher(t._error):Lr(),i=c;break e}return i},JM.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},JM.$metadata$={kind:"class",interfaces:[]};function XM(t){this._$fn_1=t}XM.prototype.invoke_fc38ei_k$=function(t){return $U(t,this._$fn_1)},XM.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},XM.$metadata$={kind:"class",interfaces:[]};function YM(t){this._$fn_2=t}YM.prototype.invoke_fc38ei_k$=function(t){var i=t,s;return i instanceof _n?s=_a(t):i instanceof fn?s=this._$fn_2(t):Lr(),s},YM.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},YM.$metadata$={kind:"class",interfaces:[]};function QM(){}QM.prototype.invoke_2c5_k$=function(t){return Tn().success(t)},QM.prototype.invoke_20e8_k$=function(t){return this.invoke_2c5_k$((t==null?!0:Re(t))?t:M())},QM.$metadata$={kind:"class",interfaces:[]};function Eke(){var t=new GM;return function(){return t.invoke_sv8swh_k$(),F()}}function Cke(t,i,s,c,p){var v=new $E(t,i,s,c,p),k=function(x){return v.invoke_iav7o_k$(x),F()};return k.callableName=v._get_name__0_k$(),k}function Ake(t){var i=new TM(t);return function(s){return i.invoke_pql811_k$(s),F()}}function Tke(t){var i=new IM(t);return function(s){return i.invoke_w1k72t_k$(s),F()}}function Ike(t){var i=new MM(t);return function(s){return i.invoke_pql811_k$(s),F()}}function Mke(t,i){var s=new SM(t,i);return function(c){return s.invoke_iav7o_k$(c),F()}}function Nke(){var t=new xM;return function(i){return t.invoke_vcj5fe_k$(i)}}function Rke(t){var i=new EM(t);return function(){return i.invoke_sv8swh_k$(),F()}}function Pke(t,i,s){var c=new CM(t,i,s);return function(p){return c.invoke_iav7o_k$(p),F()}}function Bke(t,i){var s=new AM(t,i);return function(){return s.invoke_sv8swh_k$(),F()}}function Fke(t){var i=new BM(t);return function(s){return i.invoke_z34d3f_k$(s)}}function Lke(t,i){var s=new FM(t,i);return function(){return s.invoke_sv8swh_k$(),F()}}function Dke(t){var i=new LM(t);return function(s){return i.invoke_z34d3f_k$(s)}}function Oke(t,i){var s=new DM(t,i);return function(c){return s.invoke_pxbrlw_k$(c),F()}}function zke(t,i){var s=new OM(t,i);return function(c){return s.invoke_pql811_k$(c),F()}}function Uke(t,i){var s=new zM(t,i);return function(c){return s.invoke_pxbrlw_k$(c),F()}}function jke(t,i){var s=new UM(t,i);return function(c){return s.invoke_pxbrlw_k$(c),F()}}function Gke(t){var i=new RM(t);return function(s){return i.invoke_iav7o_k$(s),F()}}function Wke(t,i){var s=new NM(t,i);return function(){return s.invoke_sv8swh_k$(),F()}}function Hke(t,i){var s=new vE(t,i),c=function(p){return s.invoke_iav7o_k$(p),F()};return c.callableName=s._get_name__0_k$(),c}function Vke(t,i){var s=new gE(t,i),c=function(p){return s.invoke_iav7o_k$(p),F()};return c.callableName=s._get_name__0_k$(),c}function qke(t,i){var s=new yE(t,i),c=function(p){return s.invoke_iav7o_k$(p),F()};return c.callableName=s._get_name__0_k$(),c}function Kke(t,i){var s=new PM(t,i);return function(c){return s.invoke_iav7o_k$(c),F()}}function Jke(t){var i=new WM(t);return function(s){return i.invoke_fc38ei_k$(s)}}function Xke(t){var i=new HM(t);return function(s){return i.invoke_fc38ei_k$(s)}}function Yke(t){var i=new VM(t);return function(s){return i.invoke_fc38ei_k$(s)}}function Qke(t){var i=new KM(t);return function(s){return i.invoke_2c5_k$(s)}}function Zke(t){var i=new JM(t);return function(s){return i.invoke_fc38ei_k$(s)}}function e$e(t){var i=new XM(t);return function(s){return i.invoke_fc38ei_k$(s)}}function t$e(t){var i=new YM(t);return function(s){return i.invoke_fc38ei_k$(s)}}function n$e(){var t=new QM;return function(i){return t.invoke_2c5_k$(i)}}function r$e(){var t=new qM;return function(i){return t.invoke_2c6_k$(i)}}function i$e(){return _Y}var _Y;function ZM(t){this._$end=t}ZM.prototype.invoke_t434tn_k$=function(t){this._$end()},ZM.prototype.invoke_20e8_k$=function(t){return this.invoke_t434tn_k$((t!=null?Ce(t,Hr):!1)?t:M()),F()},ZM.$metadata$={kind:"class",interfaces:[]};function fY(t,i,s,c,p){t.invoke_fexekg_k$(T$e(s,c)),i.unsubscribe(I$e(t,i,s,c))}function bE(t,i,s,c){this._$lock_5=t,this._$element_2=i,this._$counted_4=s,this._$countdown_0=c}bE.prototype.invoke_iav7o_k$=function(t){return fY(this._$lock_5,this._$element_2,this._$counted_4,this._$countdown_0)},bE.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},bE.prototype._get_name__0_k$=function(){return"listener_6"},bE.$metadata$={kind:"class",interfaces:[]};function eN(t,i,s){this._$countdown_1=t,this._$fire=i,this._$observableList=s}eN.prototype.invoke_iav7o_k$=function(t){{var i=this._$countdown_1.get_0_k$()>=0;if(!i){var s;e:{s="Failed requirement.";break e}var c=s;throw sn(Bt(c))}}if(this._$countdown_1.get_0_k$()<=0){var p;e:{var v;t:{for(var k=Wr(so(this._$observableList,10)),x=this._$observableList.iterator_0_k$();x.hasNext_0_k$();){var T=x.next_0_k$(),N;n:{var B=T._get_value__0_k$();N=(B==null?!0:Re(B))?B:M();break n}k.add_2bq_k$(N),F()}v=k;break t}p=v;break e}this._$fire(p)}},eN.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},eN.$metadata$={kind:"class",interfaces:[]};function tN(t){this._$end_0=t}tN.prototype.invoke_t434tn_k$=function(t){this._$end_0()},tN.prototype.invoke_20e8_k$=function(t){return this.invoke_t434tn_k$((t!=null?Ce(t,Hr):!1)?t:M()),F()},tN.$metadata$={kind:"class",interfaces:[]};function nN(t,i){this._$counted_4_0=t,this._$countdown_2=i}nN.prototype.invoke_sv8swh_k$=function(){this._$counted_4_0.get_0_k$()===0&&(this._$counted_4_0.set_majfzk_k$(1),this._$countdown_2.addAndGet_ha5a7z_k$(-1),F())},nN.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},nN.$metadata$={kind:"class",interfaces:[]};function wE(t,i,s,c){this._$lock_5_0=t,this._$element_2_0=i,this._$counted_4_1=s,this._$countdown_3=c}wE.prototype.invoke_iav7o_k$=function(t){return fY(this._$lock_5_0,this._$element_2_0,this._$counted_4_1,this._$countdown_3)},wE.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},wE.prototype._get_name__0_k$=function(){return"listener_6"},wE.$metadata$={kind:"class",interfaces:[]};function rN(t,i,s){this._$fire_0=t,this._$fn_3=i,this._$end_1=s}rN.prototype.invoke_sv8swh_k$=function(){this._$fire_0(this._$fn_3()),this._$end_1()},rN.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},rN.$metadata$={kind:"class",interfaces:[]};function iN(t){this._$observables=t}iN.prototype.invoke_kw0wm4_k$=function(t,i){for(var s=this._$observables.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$();c.subscribe(t)}var p=Wp(),v;e:{var k;t:{for(var x=Wr(so(this._$observables,10)),T=this._$observables.iterator_0_k$();T.hasNext_0_k$();){var N=T.next_0_k$(),B;n:{B=N._last_3;break n}x.add_2bq_k$(B),F()}k=x;break t}v=k;break e}var L=p.all(v);L.whenDone(S$e(i))},iN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_kw0wm4_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},iN.$metadata$={kind:"class",interfaces:[]};function oN(t){this._$observables_0=t}oN.prototype.invoke_1tzdpo_k$=function(t,i){var s=an(this._$observables_0);if(s.isEmpty_0_k$())return t(Da()),i(),F();for(var c=new is(an(s)._get_size__0_k$()),p=s.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$();{var k=new is(0),x=new Pf;v.subscribe(E$e(x,v,k,c)),v.subscribe(C$e(c,t,s));var T=Wp(),N;e:{var B;t:{for(var L=Wr(so(s,10)),O=s.iterator_0_k$();O.hasNext_0_k$();){var W=O.next_0_k$(),K;n:{K=W._last_3;break n}L.add_2bq_k$(K),F()}B=L;break t}N=B;break e}var q=T.all(N);q.map(A$e(i)),F()}}},oN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_1tzdpo_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},oN.$metadata$={kind:"class",interfaces:[]};function aN(t,i){this._$queue=t,this._$fn_4=i}aN.prototype.invoke_kw0wm4_k$=function(t,i){this._$queue.queue(M$e(t,this._$fn_4,i))},aN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_kw0wm4_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},aN.$metadata$={kind:"class",interfaces:[]};function o$e(t,i,s,c){t.set_iav7o_k$(c),i.set_majfzk_k$(1),s.forEach_pql811_k$(W$e(c))}function a$e(t,i){t(i.get_0_k$())}function xE(t,i,s){this._$lastValue=t,this._$hasLastValue=i,this._$observers=s}xE.prototype.invoke_iav7o_k$=function(t){return o$e(this._$lastValue,this._$hasLastValue,this._$observers,t)},xE.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},xE.prototype._get_name__0_k$=function(){return"fire"},xE.$metadata$={kind:"class",interfaces:[]};function SE(t,i){this._$fulfill_7=t,this._$lastValue_0=i}SE.prototype.invoke_sv8swh_k$=function(){return a$e(this._$fulfill_7,this._$lastValue_0)},SE.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},SE.prototype._get_name__0_k$=function(){return"end"},SE.$metadata$={kind:"class",interfaces:[]};function sN(t){this._$value_0=t}sN.prototype.invoke_pql811_k$=function(t){try{t(this._$value_0)}catch(i){if(i instanceof ki)QU(_o(),"Error during evaluating observable callback",i);else throw i}},sN.prototype.invoke_20e8_k$=function(t){return this.invoke_pql811_k$((t!=null?typeof t=="function":!1)?t:M()),F()},sN.$metadata$={kind:"class",interfaces:[]};function lN(t,i,s){this._$fire_1=t,this._$countdown_4=i,this._$end_2=s}lN.prototype.invoke_iav7o_k$=function(t){this._$fire_1(t),this._$countdown_4.addAndGet_ha5a7z_k$(-1)===0&&this._$end_2()},lN.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},lN.$metadata$={kind:"class",interfaces:[]};function uN(t,i){this._$fire_2=t,this._$mapper_9=i}uN.prototype.invoke_iav7o_k$=function(t){this._$fire_2(this._$mapper_9(t))},uN.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},uN.$metadata$={kind:"class",interfaces:[]};function cN(t){this._$end_3=t}cN.prototype.invoke_itszi1_k$=function(t){this._$end_3()},cN.prototype.invoke_20e8_k$=function(t){return this.invoke_itszi1_k$((t==null?!0:Re(t))?t:M()),F()},cN.$metadata$={kind:"class",interfaces:[]};function _N(t,i){this._$ended=t,this._$end_4=i}_N.prototype.invoke_2c69js_k$=function(t){this._$ended.get_0_k$()>0&&this._$end_4()},_N.prototype.invoke_20e8_k$=function(t){return this.invoke_2c69js_k$((t==null?!0:Re(t))?t:M()),F()},_N.$metadata$={kind:"class",interfaces:[]};function fN(t,i,s,c,p){this._$previous=t,this._$fire_3=i,this._$mapper_10=s,this._$ended_0=c,this._$end_5=p}fN.prototype.invoke_iav7o_k$=function(t){var i=this._$previous.get_0_k$();i==null||(i.unsubscribe(this._$fire_3),F()),F();var s=this._$mapper_10(t);s.subscribe(this._$fire_3),s._last_3.whenDone(X$e(this._$ended_0,this._$end_5)),this._$previous.set_iav7o_k$(s)},fN.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},fN.$metadata$={kind:"class",interfaces:[]};function pN(t){this._$ended_1=t}pN.prototype.invoke_itszi1_k$=function(t){this._$ended_1.set_majfzk_k$(1)},pN.prototype.invoke_20e8_k$=function(t){return this.invoke_itszi1_k$((t==null?!0:Re(t))?t:M()),F()},pN.$metadata$={kind:"class",interfaces:[]};function hN(t,i){this._$mapper_11=t,this._$fire_4=i}hN.prototype.invoke_iav7o_k$=function(t){var i=this._$mapper_11(t);i!=null&&this._$fire_4(i)},hN.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},hN.$metadata$={kind:"class",interfaces:[]};function dN(t){this._$end_6=t}dN.prototype.invoke_itszi1_k$=function(t){this._$end_6()},dN.prototype.invoke_20e8_k$=function(t){return this.invoke_itszi1_k$((t==null?!0:Re(t))?t:M()),F()},dN.$metadata$={kind:"class",interfaces:[]};function mN(t,i){this._$fn_5=t,this._$fire_5=i}mN.prototype.invoke_iav7o_k$=function(t){this._$fn_5(t),this._$fire_5(t)},mN.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},mN.$metadata$={kind:"class",interfaces:[]};function vN(t){this._$end_7=t}vN.prototype.invoke_itszi1_k$=function(t){this._$end_7()},vN.prototype.invoke_20e8_k$=function(t){return this.invoke_itszi1_k$((t==null?!0:Re(t))?t:M()),F()},vN.$metadata$={kind:"class",interfaces:[]};function gN(t,i){this._$fn_6=t,this._$fire_6=i}gN.prototype.invoke_iav7o_k$=function(t){this._$fn_6(t)&&this._$fire_6(t)},gN.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},gN.$metadata$={kind:"class",interfaces:[]};function yN(t){this._$end_8=t}yN.prototype.invoke_itszi1_k$=function(t){this._$end_8()},yN.prototype.invoke_20e8_k$=function(t){return this.invoke_itszi1_k$((t==null?!0:Re(t))?t:M()),F()},yN.$metadata$={kind:"class",interfaces:[]};function kN(t){this._$end_9=t}kN.prototype.invoke_itszi1_k$=function(t){this._$end_9()},kN.prototype.invoke_20e8_k$=function(t){return this.invoke_itszi1_k$((t==null?!0:Re(t))?t:M()),F()},kN.$metadata$={kind:"class",interfaces:[]};function $N(t,i,s,c){this._$fire_7=t,this._$withValue=i,this._this$0_25=s,this._$end_10=c}$N.prototype.invoke_iav7o_k$=function(t){this._$fire_7(new cn(t,this._$withValue)),this._this$0_25._last_3.map(ibe(this._$end_10)),F()},$N.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},$N.$metadata$={kind:"class",interfaces:[]};function bN(t){this._$end_11=t}bN.prototype.invoke_itszi1_k$=function(t){this._$end_11()},bN.prototype.invoke_20e8_k$=function(t){return this.invoke_itszi1_k$((t==null?!0:Re(t))?t:M()),F()},bN.$metadata$={kind:"class",interfaces:[]};function wN(t,i,s,c){this._$fire_8=t,this._$withValue_0=i,this._this$0_26=s,this._$end_12=c}wN.prototype.invoke_iav7o_k$=function(t){this._$fire_8(new cn(this._$withValue_0,t)),this._this$0_26._last_3.map(abe(this._$end_12)),F()},wN.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},wN.$metadata$={kind:"class",interfaces:[]};function xN(t,i){this._$fire_9=t,this._$mapper_12=i}xN.prototype.invoke_iav7o_k$=function(t){this._$fire_9(new cn(t,this._$mapper_12(t)))},xN.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},xN.$metadata$={kind:"class",interfaces:[]};function SN(t){this._$end_13=t}SN.prototype.invoke_itszi1_k$=function(t){this._$end_13()},SN.prototype.invoke_20e8_k$=function(t){return this.invoke_itszi1_k$((t==null?!0:Re(t))?t:M()),F()},SN.$metadata$={kind:"class",interfaces:[]};function EN(t,i){this._$fulfilled_0=t,this._$fulfill_8=i}EN.prototype.invoke_iav7o_k$=function(t){this._$fulfilled_0.addAndGet_ha5a7z_k$(1)===1&&this._$fulfill_8(t)},EN.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},EN.$metadata$={kind:"class",interfaces:[]};function s$e(t,i,s,c,p,v,k){return fr.call(k,t,i,s,Hs(k$e(v,i,s,t)),c,p),k}function pY(t,i){return s$e(new ew,new pa(null),new is(0),lee(),CE()._idGenerator.addAndGet_ha5a7z_k$(1),t,i),i}function Xu(t){return pY(t,Object.create(fr.prototype))}function l$e(t,i){return hY(u(t),i),i}function u$e(t){return l$e(t,Object.create(fr.prototype))}function hY(t,i){return pY($$e(t),i),i}function c$e(t){return hY(t,Object.create(fr.prototype))}function _$e(t,i){return fr.call(i,new ew,new pa(t),new is(1),_a(t),lee(),CE()._idGenerator.addAndGet_ha5a7z_k$(1)),i}function Fb(t){return _$e(t,Object.create(fr.prototype))}function EE(){hU=this,this._idGenerator=new is(0);var t;e:{var i=Fr(de(fr));t=i;break e}Ni(this,t,Kr(["all","async","idGenerator","any"]))}EE.prototype.any=function(t){return Xu(b$e(t))},EE.prototype.all=function(t){return Xu(w$e(t))},EE.prototype.async_hen9m0_k$=function(t,i){var s;return t.targetsThisThread()===!0?s=Fb(i()):s=Xu(x$e(t,i)),s},EE.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var hU;function CE(){return hU==null&&new EE,hU}function CN(t,i,s,c){this._$generator=t,this._$lastValue_1=i,this._$hasLastValue_0=s,this._$observers_0=c}CN.prototype.invoke_qsxh1w_k$=function(t){var i=j$e(this._$lastValue_1,this._$hasLastValue_0,this._$observers_0);this._$generator(i,G$e(t,this._$lastValue_1))},CN.prototype.invoke_20e8_k$=function(t){return this.invoke_qsxh1w_k$((t!=null?typeof t=="function":!1)?t:M()),F()},CN.$metadata$={kind:"class",interfaces:[]};function AN(t){this._$futures_2=t}AN.prototype.invoke_kw0wm4_k$=function(t,i){if(this._$futures_2.isEmpty_0_k$())i();else for(var s=new is(this._$futures_2._get_size__0_k$()),c=this._$futures_2.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$();p.whenDone(H$e(t,s,i))}},AN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_kw0wm4_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},AN.$metadata$={kind:"class",interfaces:[]};function TN(t){this._$observer=t}TN.prototype.invoke_o72mru_k$=function(t){return xt(t,this._$observer)},TN.prototype.invoke_20e8_k$=function(t){return this.invoke_o72mru_k$((t!=null?typeof t=="function":!1)?t:M())},TN.$metadata$={kind:"class",interfaces:[]};function IN(t,i){this._this$0_27=t,this._$mapper_13=i}IN.prototype.invoke_j7y0fx_k$=function(t,i){this._this$0_27.subscribe(V$e(t,this._$mapper_13)),this._this$0_27._last_3.map(q$e(i)),F()},IN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_j7y0fx_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},IN.$metadata$={kind:"class",interfaces:[]};function MN(t,i){this._this$0_28=t,this._$mapper_14=i}MN.prototype.invoke_j7y0fx_k$=function(t,i){var s=new pa(null),c=new is(0);this._this$0_28.subscribe(K$e(s,t,this._$mapper_14,c,i)),this._this$0_28._last_3.map(J$e(c)),F()},MN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_j7y0fx_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},MN.$metadata$={kind:"class",interfaces:[]};function NN(t,i){this._this$0_29=t,this._$mapper_15=i}NN.prototype.invoke_j7y0fx_k$=function(t,i){this._this$0_29.subscribe(Y$e(this._$mapper_15,t)),this._this$0_29._last_3.map(Q$e(i)),F()},NN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_j7y0fx_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},NN.$metadata$={kind:"class",interfaces:[]};function RN(t,i){this._this$0_30=t,this._$fn_7=i}RN.prototype.invoke_kw0wm4_k$=function(t,i){this._this$0_30.subscribe(Z$e(this._$fn_7,t)),this._this$0_30._last_3.map(ebe(i)),F()},RN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_kw0wm4_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},RN.$metadata$={kind:"class",interfaces:[]};function PN(t,i){this._this$0_31=t,this._$fn_8=i}PN.prototype.invoke_kw0wm4_k$=function(t,i){this._this$0_31.subscribe(tbe(this._$fn_8,t)),this._this$0_31._last_3.map(nbe(i)),F()},PN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_kw0wm4_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},PN.$metadata$={kind:"class",interfaces:[]};function BN(t,i){this._this$0_32=t,this._$withValue_1=i}BN.prototype.invoke_322gg0_k$=function(t,i){this._this$0_32.subscribe(rbe(t,this._$withValue_1,this._this$0_32,i))},BN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_322gg0_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},BN.$metadata$={kind:"class",interfaces:[]};function FN(t,i){this._this$0_33=t,this._$withValue_2=i}FN.prototype.invoke_iwfog0_k$=function(t,i){this._this$0_33.subscribe(obe(t,this._$withValue_2,this._this$0_33,i))},FN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_iwfog0_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},FN.$metadata$={kind:"class",interfaces:[]};function LN(t,i){this._this$0_34=t,this._$mapper_16=i}LN.prototype.invoke_322gg0_k$=function(t,i){this._this$0_34.subscribe(sbe(t,this._$mapper_16)),this._this$0_34._last_3.map(lbe(i)),F()},LN.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_322gg0_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},LN.$metadata$={kind:"class",interfaces:[]};function DN(t){this._this$0_35=t}DN.prototype.invoke_pql811_k$=function(t){var i=new is(0);this._this$0_35.subscribe(ube(i,t))},DN.prototype.invoke_20e8_k$=function(t){return this.invoke_pql811_k$((t!=null?typeof t=="function":!1)?t:M()),F()},DN.$metadata$={kind:"class",interfaces:[]};function fr(t,i,s,c,p,v){CE(),this._observers=t,this._lastValue=i,this._hasLastValue=s,this._last_3=c,this._startThreadId=p,this._id=v}fr.prototype._get_observers__0_k$=function(){return this._observers},fr.prototype._get_lastValue__0_k$=function(){return this._lastValue},fr.prototype._get_last__0_k$=function(){return this._last_3},fr.prototype._get_id__0_k$=function(){return this._id},fr.prototype.subscribe=function(t){if(this._observers.add_iav7o_k$(t),this._hasLastValue.get_0_k$()!==0){var i=this._lastValue.get_0_k$();t((i==null?!0:Re(i))?i:M())}},fr.prototype.unsubscribe=function(t){this._observers.removeAll_rmmh13_k$(N$e(t))},fr.prototype.map=function(t){return Xu(R$e(this,t))},fr.prototype.flatMap=function(t){return Xu(P$e(this,t))},fr.prototype.mapNotNull=function(t){return Xu(B$e(this,t))},fr.prototype.peek=function(t){return Xu(F$e(this,t))},fr.prototype.filter=function(t){return Xu(L$e(this,t))},fr.prototype.zipSecond=function(t){return Xu(D$e(this,t))},fr.prototype.zipFirst=function(t){return Xu(O$e(this,t))},fr.prototype.zipMap=function(t){return Xu(z$e(this,t))},fr.prototype._get_first__0_k$=function(){return Hs(U$e(this))},fr.prototype._get_value__0_k$=function(){return this._lastValue.get_0_k$()},fr.prototype.mapTry=function(t){var i=this instanceof fr?this:M();return f$e(i,t)},fr.prototype.mapTryFlat=function(t){var i=this instanceof fr?this:M();return p$e(i,t)},fr.prototype.flatMapTry=function(t){var i=this instanceof fr?this:M();return h$e(i,t)},fr.prototype.flatMapTryFlat=function(t){var i=this instanceof fr?this:M();return d$e(i,t)},fr.prototype.catchObservableError=function(t){var i=this instanceof fr?this:M();return m$e(i,t)},fr.prototype.orTry=function(t){var i=this instanceof fr?this:M();return v$e(i,t)},fr.prototype.orTryFlat=function(t){var i=this instanceof fr?this:M();return g$e(i,t)},fr.$metadata$={simpleName:"Observable",kind:"class",interfaces:[]},Object.defineProperty(fr.prototype,"last",{configurable:!0,get:fr.prototype._get_last__0_k$}),Object.defineProperty(fr.prototype,"id",{configurable:!0,get:fr.prototype._get_id__0_k$}),Object.defineProperty(fr.prototype,"first",{configurable:!0,get:fr.prototype._get_first__0_k$}),Object.defineProperty(fr.prototype,"value",{configurable:!0,get:fr.prototype._get_value__0_k$});function f$e(t,i){return t.map(cbe(i))}function p$e(t,i){return t.map(_be(i))}function h$e(t,i){return t.flatMap(fbe(i))}function d$e(t,i){return t.flatMap(pbe(i))}function m$e(t,i){return t.map(hbe(i))}function v$e(t,i){return t.map(dbe(i))}function g$e(t,i){return t.flatMap(mbe(i))}function dY(t){var i=t,s;return i instanceof _n?s=t._value_16.map(vbe()):i instanceof fn?s=Fb(t):Lr(),s}function ON(){}ON.prototype.invoke_sv8swh_k$=function(){CE(),F(),F()},ON.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},ON.$metadata$={kind:"class",interfaces:[]};function zN(t){this._$mapper_17=t}zN.prototype.invoke_fc38ei_k$=function(t){return t.map(this._$mapper_17)},zN.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},zN.$metadata$={kind:"class",interfaces:[]};function UN(t){this._$mapper_18=t}UN.prototype.invoke_fc38ei_k$=function(t){return t.flatMap(this._$mapper_18)},UN.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},UN.$metadata$={kind:"class",interfaces:[]};function jN(t){this._$mapper_19=t}jN.prototype.invoke_fc38ei_k$=function(t){var i=t.map(this._$mapper_19),s;return i instanceof _n?s=i._value_16:i instanceof fn?s=Fb(i):Lr(),s},jN.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},jN.$metadata$={kind:"class",interfaces:[]};function GN(){}GN.prototype.invoke_2c6_k$=function(t){return Tn().success(t)},GN.prototype.invoke_20e8_k$=function(t){return this.invoke_2c6_k$((t==null?!0:Re(t))?t:M())},GN.$metadata$={kind:"class",interfaces:[]};function WN(t){this._$mapper_20=t}WN.prototype.invoke_2c5_k$=function(t){var i=this._$mapper_20(t),s;return i instanceof _n?s=i._value_16.map(gbe()):i instanceof fn?s=Fb(i):Lr(),s},WN.prototype.invoke_20e8_k$=function(t){return this.invoke_2c5_k$((t==null?!0:Re(t))?t:M())},WN.$metadata$={kind:"class",interfaces:[]};function HN(t){this._$catcher_0=t}HN.prototype.invoke_fc38ei_k$=function(t){var i;e:{var s=t,c;s instanceof _n?c=t._value_16:s instanceof fn?c=this._$catcher_0(t._error):Lr(),i=c;break e}return i},HN.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},HN.$metadata$={kind:"class",interfaces:[]};function VN(t){this._$fn_9=t}VN.prototype.invoke_fc38ei_k$=function(t){return $U(t,this._$fn_9)},VN.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},VN.$metadata$={kind:"class",interfaces:[]};function qN(t){this._$fn_10=t}qN.prototype.invoke_fc38ei_k$=function(t){var i=t,s;return i instanceof _n?s=Fb(t):i instanceof fn?s=this._$fn_10(t):Lr(),s},qN.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},qN.$metadata$={kind:"class",interfaces:[]};function KN(){}KN.prototype.invoke_2c5_k$=function(t){return Tn().success(t)},KN.prototype.invoke_20e8_k$=function(t){return this.invoke_2c5_k$((t==null?!0:Re(t))?t:M())},KN.$metadata$={kind:"class",interfaces:[]};function y$e(){var t=new ON;return function(){return t.invoke_sv8swh_k$(),F()}}function k$e(t,i,s,c){var p=new CN(t,i,s,c);return function(v){return p.invoke_qsxh1w_k$(v),F()}}function $$e(t){var i=new AN(t);return function(s,c){return i.invoke_kw0wm4_k$(s,c),F()}}function b$e(t){var i=new iN(t);return function(s,c){return i.invoke_kw0wm4_k$(s,c),F()}}function w$e(t){var i=new oN(t);return function(s,c){return i.invoke_1tzdpo_k$(s,c),F()}}function x$e(t,i){var s=new aN(t,i);return function(c,p){return s.invoke_kw0wm4_k$(c,p),F()}}function S$e(t){var i=new ZM(t);return function(s){return i.invoke_t434tn_k$(s),F()}}function E$e(t,i,s,c){var p=new bE(t,i,s,c),v=function(k){return p.invoke_iav7o_k$(k),F()};return v.callableName=p._get_name__0_k$(),v}function C$e(t,i,s){var c=new eN(t,i,s);return function(p){return c.invoke_iav7o_k$(p),F()}}function A$e(t){var i=new tN(t);return function(s){return i.invoke_t434tn_k$(s),F()}}function T$e(t,i){var s=new nN(t,i);return function(){return s.invoke_sv8swh_k$(),F()}}function I$e(t,i,s,c){var p=new wE(t,i,s,c),v=function(k){return p.invoke_iav7o_k$(k),F()};return v.callableName=p._get_name__0_k$(),v}function M$e(t,i,s){var c=new rN(t,i,s);return function(){return c.invoke_sv8swh_k$(),F()}}function N$e(t){var i=new TN(t);return function(s){return i.invoke_o72mru_k$(s)}}function R$e(t,i){var s=new IN(t,i);return function(c,p){return s.invoke_j7y0fx_k$(c,p),F()}}function P$e(t,i){var s=new MN(t,i);return function(c,p){return s.invoke_j7y0fx_k$(c,p),F()}}function B$e(t,i){var s=new NN(t,i);return function(c,p){return s.invoke_j7y0fx_k$(c,p),F()}}function F$e(t,i){var s=new RN(t,i);return function(c,p){return s.invoke_kw0wm4_k$(c,p),F()}}function L$e(t,i){var s=new PN(t,i);return function(c,p){return s.invoke_kw0wm4_k$(c,p),F()}}function D$e(t,i){var s=new BN(t,i);return function(c,p){return s.invoke_322gg0_k$(c,p),F()}}function O$e(t,i){var s=new FN(t,i);return function(c,p){return s.invoke_iwfog0_k$(c,p),F()}}function z$e(t,i){var s=new LN(t,i);return function(c,p){return s.invoke_322gg0_k$(c,p),F()}}function U$e(t){var i=new DN(t);return function(s){return i.invoke_pql811_k$(s),F()}}function j$e(t,i,s){var c=new xE(t,i,s),p=function(v){return c.invoke_iav7o_k$(v),F()};return p.callableName=c._get_name__0_k$(),p}function G$e(t,i){var s=new SE(t,i),c=function(){return s.invoke_sv8swh_k$(),F()};return c.callableName=s._get_name__0_k$(),c}function W$e(t){var i=new sN(t);return function(s){return i.invoke_pql811_k$(s),F()}}function H$e(t,i,s){var c=new lN(t,i,s);return function(p){return c.invoke_iav7o_k$(p),F()}}function V$e(t,i){var s=new uN(t,i);return function(c){return s.invoke_iav7o_k$(c),F()}}function q$e(t){var i=new cN(t);return function(s){return i.invoke_itszi1_k$(s),F()}}function K$e(t,i,s,c,p){var v=new fN(t,i,s,c,p);return function(k){return v.invoke_iav7o_k$(k),F()}}function J$e(t){var i=new pN(t);return function(s){return i.invoke_itszi1_k$(s),F()}}function X$e(t,i){var s=new _N(t,i);return function(c){return s.invoke_2c69js_k$(c),F()}}function Y$e(t,i){var s=new hN(t,i);return function(c){return s.invoke_iav7o_k$(c),F()}}function Q$e(t){var i=new dN(t);return function(s){return i.invoke_itszi1_k$(s),F()}}function Z$e(t,i){var s=new mN(t,i);return function(c){return s.invoke_iav7o_k$(c),F()}}function ebe(t){var i=new vN(t);return function(s){return i.invoke_itszi1_k$(s),F()}}function tbe(t,i){var s=new gN(t,i);return function(c){return s.invoke_iav7o_k$(c),F()}}function nbe(t){var i=new yN(t);return function(s){return i.invoke_itszi1_k$(s),F()}}function rbe(t,i,s,c){var p=new $N(t,i,s,c);return function(v){return p.invoke_iav7o_k$(v),F()}}function ibe(t){var i=new kN(t);return function(s){return i.invoke_itszi1_k$(s),F()}}function obe(t,i,s,c){var p=new wN(t,i,s,c);return function(v){return p.invoke_iav7o_k$(v),F()}}function abe(t){var i=new bN(t);return function(s){return i.invoke_itszi1_k$(s),F()}}function sbe(t,i){var s=new xN(t,i);return function(c){return s.invoke_iav7o_k$(c),F()}}function lbe(t){var i=new SN(t);return function(s){return i.invoke_itszi1_k$(s),F()}}function ube(t,i){var s=new EN(t,i);return function(c){return s.invoke_iav7o_k$(c),F()}}function cbe(t){var i=new zN(t);return function(s){return i.invoke_fc38ei_k$(s)}}function _be(t){var i=new UN(t);return function(s){return i.invoke_fc38ei_k$(s)}}function fbe(t){var i=new jN(t);return function(s){return i.invoke_fc38ei_k$(s)}}function pbe(t){var i=new WN(t);return function(s){return i.invoke_2c5_k$(s)}}function hbe(t){var i=new HN(t);return function(s){return i.invoke_fc38ei_k$(s)}}function dbe(t){var i=new VN(t);return function(s){return i.invoke_fc38ei_k$(s)}}function mbe(t){var i=new qN(t);return function(s){return i.invoke_fc38ei_k$(s)}}function vbe(){var t=new KN;return function(i){return t.invoke_2c5_k$(i)}}function gbe(){var t=new GN;return function(i){return t.invoke_2c6_k$(i)}}function AE(){dU=this;var t;e:{var i=Fr(de(Bc));t=i;break e}Ni(this,t,Kr(["elements","elementsWithIndices","elementsWithBlendshapes"]))}AE.prototype.elementsWithBlendshapes=function(t,i,s){var c;e:{var p;t:{for(var v=Wr(so(t,10)),k=t.iterator_0_k$();k.hasNext_0_k$();){var x=k.next_0_k$(),T;n:{var N=i.get_2bw_k$(x),B;if(N==null)B=null;else{var L;r:{L=N;break r}B=L}var O=B;T=O==null?s:O;break n}v.add_2bq_k$(T),F()}p=v;break t}c=p;break e}var W=c;return K1e(W)},AE.prototype.elementsWithIndices=function(t,i,s){var c;e:{for(var p=new Float32Array(t._get_size__0_k$()),v=ot(i,s),k=v.iterator_0_k$();k.hasNext_0_k$();){var x=k.next_0_k$();{var T=x.component1_0_k$(),N=x.component2_0_k$();if(T>=0?T<p.length:!1){var B;t:{B=N;break t}p[T]=B}else Wb(_o(),"Blendshape index "+T+" out of bounds for "+t._get_size__0_k$()+" names "+t)}}c=p;break e}return c},AE.prototype.elements=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=de(Hr).isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=de(wo).isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=i[0],O=(L!=null?Ce(L,Hr):!1)?L:M(),W=i[1],K=(W!=null?Ce(W,wo):!1)?W:M(),q=i[2],Q=this.elementsWithBlendshapes(O,K,(q!=null?typeof q=="number":!1)?q:M());return Q}var ee,ie,fe;if(i.length===3){var le;e:{var Se=i[0];le=de(Hr).isInstance_wi7j7l_k$(Se);break e}fe=le}else fe=!1;if(fe){var Ee;e:{var Te=i[1];Ee=de(tu).isInstance_wi7j7l_k$(Te);break e}ie=Ee}else ie=!1;if(ie){var Me;e:{var Ne=i[2];Me=de(tu).isInstance_wi7j7l_k$(Ne);break e}ee=Me}else ee=!1;if(ee){var Pe=i[0],Ye=(Pe!=null?Ce(Pe,Hr):!1)?Pe:M(),Ke=i[1],nt=(Ke!=null?Ce(Ke,tu):!1)?Ke:M(),Ze=i[2],ct=this.elementsWithIndices(Ye,nt,(Ze!=null?Ce(Ze,tu):!1)?Ze:M());return ct}throw At("Error choosing proper overload of function Companion.elements for the given parameters")},AE.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var dU;function mY(){return dU==null&&new AE,dU}function mU(t,i){this._this$0_36=t,this._$elements=i}mU.prototype.invoke_0_k$=function(){var t;e:{var i=Lh(this._this$0_36._names_1),s;t:{var c=Wr(so(i,10)),p=i._get_first__0_k$(),v=i._get_last__0_k$();if(p<=v)do{var k=p;p=p+1|0;var x;n:{x=new cn(this._this$0_36._names_1.get_ha5a7z_k$(k),this._$elements[k]);break n}c.add_2bq_k$(x),F()}while(k!==v);s=c;break t}t=s;break e}return Cm(t)},mU.$metadata$={kind:"class",interfaces:[]};function Bc(t,i){mY(),Jt.call(this,i),this._names_1=t;var s=this;s._blendshapes$delegate=Ev(kbe(this,i))}Bc.prototype._get_blendshapes__0_k$=function(){var t;e:{ybe(),t=this._blendshapes$delegate._get_value__0_k$();break e}return t},Bc.prototype.factory1=function(t){return this.factory_vl29rg_k$(t,this._names_1)},Bc.prototype.factory_txu12t_k$=function(t){return this.factory1(t)},Bc.prototype.factory_dispatcher=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_floatArrayClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(Hr).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=(T!=null?Lu(T):!1)?T:M(),B=i[1],L=this.factory_vl29rg_k$(N,(B!=null?Ce(B,Hr):!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=ce()._get_floatArrayClass__0_k$().isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.factory1((q!=null?Lu(q):!1)?q:M());return Q}return Jt.prototype.factory.call(this,i.slice())},Bc.prototype.factory=function(t){return this.factory_dispatcher(t)},Bc.$metadata$={simpleName:"AbstractBlendshapes",kind:"class",interfaces:[]};function ybe(){return Fu("blendshapes",1,Zl,function(t){return t._get_blendshapes__0_k$()},null)}function kbe(t,i){var s=new mU(t,i);return function(){return s.invoke_0_k$()}}function $be(){return JN}var JN;function Ua(){vU=this,this._HAPPY=l_([Le("mouthSmile_L",1.2),Le("mouthSmile_R",1.2),Le("eyeWink_L",.3),Le("eyeWink_R",.3),Le("mouthUpperUp_L",.6),Le("mouthUpperUp_R",.6),Le("mouthLowerDown_L",.6),Le("mouthLowerDown_R",.6)]),this._SAD=l_([Le("mouthFrown_L",1),Le("mouthFrown_R",1),Le("browUp_L",.5),Le("browUp_R",.5),Le("eyeWide_L",.5),Le("eyeWide_R",.5)]),this._ANGRY=l_([Le("browDown_L",1),Le("browDown_R",1),Le("eyeSquint_L",1),Le("eyeSquint_R",1),Le("mouthUpperUp_L",1),Le("mouthUpperUp_R",1),Le("mouthLowerDown_L",.5),Le("mouthLowerDown_R",.5),Le("noseSneer_L",1),Le("noseSneer_R",1)]),this._VICIOUS=l_([Le("browDown_L",1),Le("browDown_R",1),Le("eyeSquint_L",1),Le("eyeSquint_R",1),Le("mouthSmile_L",1),Le("mouthSmile_R",1),Le("jawOpen",.15),Le("noseSneer_L",1),Le("noseSneer_R",1)]),this._SURPRISED=l_([Le("eyeWide_L",1),Le("eyeWide_R",1),Le("browInnerUp_L",1),Le("browInnerUp_R",1),Le("jawOpen",1)]),this._SCARED=l_([Le("eyeWide_L",.9),Le("eyeWide_R",.9),Le("browUp_L",1),Le("browUp_R",1),Le("mouthFrown_L",.3),Le("mouthFrown_R",.3),Le("jawOpen",.1)])}Ua.prototype._get_HAPPY__0_k$=function(){return this._HAPPY},Ua.prototype._get_SAD__0_k$=function(){return this._SAD},Ua.prototype._get_ANGRY__0_k$=function(){return this._ANGRY},Ua.prototype._get_VICIOUS__0_k$=function(){return this._VICIOUS},Ua.prototype._get_SURPRISED__0_k$=function(){return this._SURPRISED},Ua.prototype._get_SCARED__0_k$=function(){return this._SCARED},Ua.$metadata$={simpleName:"CommonEmotions",kind:"object",interfaces:[]},Object.defineProperty(Ua.prototype,"HAPPY",{configurable:!0,get:Ua.prototype._get_HAPPY__0_k$}),Object.defineProperty(Ua.prototype,"SAD",{configurable:!0,get:Ua.prototype._get_SAD__0_k$}),Object.defineProperty(Ua.prototype,"ANGRY",{configurable:!0,get:Ua.prototype._get_ANGRY__0_k$}),Object.defineProperty(Ua.prototype,"VICIOUS",{configurable:!0,get:Ua.prototype._get_VICIOUS__0_k$}),Object.defineProperty(Ua.prototype,"SURPRISED",{configurable:!0,get:Ua.prototype._get_SURPRISED__0_k$}),Object.defineProperty(Ua.prototype,"SCARED",{configurable:!0,get:Ua.prototype._get_SCARED__0_k$});var vU;function bbe(){return vU==null&&new Ua,vU}function wbe(t,i,s,c){return C_.call(c,t,mY().elementsWithBlendshapes(t,i,s)),c}function vY(t,i,s){var c;if(i===void 0){var p;e:{p=0,F();break e}c=p}else c=i;var v=c;return wbe(JN,t,v,s),s}function gY(t,i){return vY(t,i,Object.create(C_.prototype))}function xbe(t,i,s,c,p){if((s&2)!=0){var v;e:{v=0,F();break e}i=v}return vY(t,i,p),p}function Sbe(t,i,s,c){return xbe(t,i,s,c,Object.create(C_.prototype))}function C_(t,i){Bc.call(this,t,i)}C_.prototype.factoryWithListOfString=function(t,i){return new C_(i,t)},C_.prototype.factory_vl29rg_k$=function(t,i){return this.factoryWithListOfString(t,i)},C_.prototype.factory_dispatcher=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_floatArrayClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(Hr).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=(T!=null?Lu(T):!1)?T:M(),B=i[1],L=this.factoryWithListOfString(N,(B!=null?Ce(B,Hr):!1)?B:M());return L}return Bc.prototype.factory_dispatcher.call(this,i.slice())},C_.prototype.factory=function(t){return this.factory_dispatcher(t)},C_.$metadata$={simpleName:"ExpressionBlendshapes",kind:"class",interfaces:[]};function Ebe(t,i){var s;e:{var c;t:{var p=Hp(i,7),v=Hp(i,18);c=ze(Qe(p)^Qe(v));break t}var k=c,x;t:{x=ze(Qe(i)>>>3);break t}var T=x;s=ze(Qe(k)^Qe(T));break e}return s}function Cbe(t,i){var s;e:{var c;t:{var p=Hp(i,17),v=Hp(i,19);c=ze(Qe(p)^Qe(v));break t}var k=c,x;t:{x=ze(Qe(i)>>>10);break t}var T=x;s=ze(Qe(k)^Qe(T));break e}return s}function Abe(t,i){var s;e:{var c;t:{var p=Hp(i,2),v=Hp(i,13);c=ze(Qe(p)^Qe(v));break t}var k=c,x=Hp(i,22);s=ze(Qe(k)^Qe(x));break e}return s}function Tbe(t,i){var s;e:{var c;t:{var p=Hp(i,6),v=Hp(i,11);c=ze(Qe(p)^Qe(v));break t}var k=c,x=Hp(i,25);s=ze(Qe(k)^Qe(x));break e}return s}function Ibe(t,i,s,c){var p;e:{var v;t:{v=ze(Qe(i)&Qe(s));break t}var k=v,x;t:{var T;n:{var N=ze(-1);T=ze(Qe(i)^Qe(N));break n}var B=T;x=ze(Qe(B)&Qe(c));break t}var L=x;p=ze(Qe(k)^Qe(L));break e}return p}function Mbe(t,i,s,c){var p;e:{var v;t:{var k;n:{k=ze(Qe(i)&Qe(s));break n}var x=k,T;n:{T=ze(Qe(i)&Qe(c));break n}var N=T;v=ze(Qe(x)^Qe(N));break t}var B=v,L;t:{L=ze(Qe(s)&Qe(c));break t}var O=L;p=ze(Qe(B)^Qe(O));break e}return p}function Nbe(t,i){var s=0,c=64,p;e:{p=ca(Array(c),null);break e}for(var v=p;s<c;){var k=s,x;e:{var T=k,N;if(0<=T?T<16:!1){var B;t:{var L;n:{var O;r:{var W;i:{var K;o:{var q=Vm(i,pt(k,4));K=ze(ua(q)&255);break o}var Q=K;W=ze(Qe(Q)<<24);break i}var ee=W,ie;i:{var fe;o:{var le=Vm(i,pt(k,4)+1|0);fe=ze(ua(le)&255);break o}var Se=fe;ie=ze(Qe(Se)<<16);break i}var Ee=ie;O=ze(Qe(ee)+Qe(Ee)|0);break r}var Te=O,Me;r:{var Ne;i:{var Pe=Vm(i,pt(k,4)+2|0);Ne=ze(ua(Pe)&255);break i}var Ye=Ne;Me=ze(Qe(Ye)<<8);break r}var Ke=Me;L=ze(Qe(Te)+Qe(Ke)|0);break n}var nt=L,Ze;n:{var ct=Vm(i,pt(k,4)+3|0);Ze=ze(ua(ct)&255);break n}var ht=Ze;B=ze(Qe(nt)+Qe(ht)|0);break t}var bt=B;N=bt}else N=ze(0);x=N;break e}v[k]=new dt(x),s=s+1|0}var It=v,Nt=16,Rt=64;if(Nt<Rt)do{var Xt=Nt;Nt=Nt+1|0;var rn=Ebe(t,It[Xt-15|0]._data_0),En=Cbe(t,It[Xt-2|0]._data_0),un;e:{var gn;t:{var Fn;n:{var Un=It[Xt-16|0]._data_0;Fn=ze(Qe(Un)+Qe(rn)|0);break n}var en=Fn,Nn=It[Xt-7|0]._data_0;gn=ze(Qe(en)+Qe(Nn)|0);break t}var wn=gn;un=ze(Qe(wn)+Qe(En)|0);break e}It[Xt]=new dt(un)}while(Nt<Rt);return It}function Rbe(t,i,s){var c=i[0]._data_0,p=i[1]._data_0,v=i[2]._data_0,k=i[3]._data_0,x=i[4]._data_0,T=i[5]._data_0,N=i[6]._data_0,B=i[7]._data_0,L=0,O=64;if(L<O)do{var W=L;L=L+1|0;var K=Tbe(t,x),q=Ibe(t,x,T,N),Q;e:{var ee;t:{var ie;n:{var fe;r:{var le=B;fe=ze(Qe(le)+Qe(K)|0);break r}var Se=fe;ie=ze(Qe(Se)+Qe(q)|0);break n}var Ee=ie,Te=t._k[W]._data_0;ee=ze(Qe(Ee)+Qe(Te)|0);break t}var Me=ee,Ne=s[W]._data_0;Q=ze(Qe(Me)+Qe(Ne)|0);break e}var Pe=Q,Ye=Abe(t,c),Ke=Mbe(t,c,p,v),nt;e:{nt=ze(Qe(Ye)+Qe(Ke)|0);break e}var Ze=nt;B=N,N=T,T=x;var ct;e:{var ht=k;ct=ze(Qe(ht)+Qe(Pe)|0);break e}x=ct,k=v,v=p,p=c;var bt;e:{bt=ze(Qe(Pe)+Qe(Ze)|0);break e}c=bt}while(L<O);var It=i,Nt=0,Rt;e:{var Xt=It[Nt]._data_0,rn=c;Rt=ze(Qe(Xt)+Qe(rn)|0);break e}It[Nt]=new dt(Rt);var En=i,un=1,gn;e:{var Fn=En[un]._data_0,Un=p;gn=ze(Qe(Fn)+Qe(Un)|0);break e}En[un]=new dt(gn);var en=i,Nn=2,wn;e:{var yr=en[Nn]._data_0,rr=v;wn=ze(Qe(yr)+Qe(rr)|0);break e}en[Nn]=new dt(wn);var Or=i,Jn=3,qr;e:{var $r=Or[Jn]._data_0,ei=k;qr=ze(Qe($r)+Qe(ei)|0);break e}Or[Jn]=new dt(qr);var br=i,$i=4,zr;e:{var oi=br[$i]._data_0,ti=x;zr=ze(Qe(oi)+Qe(ti)|0);break e}br[$i]=new dt(zr);var Ri=i,ni=5,ai;e:{var fo=Ri[ni]._data_0,po=T;ai=ze(Qe(fo)+Qe(po)|0);break e}Ri[ni]=new dt(ai);var ha=i,Hi=6,ho;e:{var eo=ha[Hi]._data_0,os=N;ho=ze(Qe(eo)+Qe(os)|0);break e}ha[Hi]=new dt(ho);var ta=i,Ga=7,da;e:{var as=ta[Ga]._data_0,Wa=B;da=ze(Qe(as)+Qe(Wa)|0);break e}return ta[Ga]=new dt(da),i}function Pbe(t,i){var s=vt(new at(255,0)),c;e:{for(var p=0,v=8,k=new Int8Array(v);p<v;){var x=p,T;t:{var N;n:{var B;r:{var L=x,O;switch(L){case 7:var W;i:{var K;o:{K=vt(Dn(t).and_wiekkq_k$(Dn(s)));break o}var q=K,Q;o:{var ee=Dn(q);Q=la(ee.toByte_0_k$());break o}W=Q;break i}O=W;break;case 6:var ie;i:{var fe;o:{var le;a:{le=vt(Dn(t).ushr_ha5a7z_k$(8));break a}var Se=le;fe=vt(Dn(Se).and_wiekkq_k$(Dn(s)));break o}var Ee=fe,Te;o:{var Me=Dn(Ee);Te=la(Me.toByte_0_k$());break o}ie=Te;break i}O=ie;break;case 5:var Ne;i:{var Pe;o:{var Ye;a:{Ye=vt(Dn(t).ushr_ha5a7z_k$(16));break a}var Ke=Ye;Pe=vt(Dn(Ke).and_wiekkq_k$(Dn(s)));break o}var nt=Pe,Ze;o:{var ct=Dn(nt);Ze=la(ct.toByte_0_k$());break o}Ne=Ze;break i}O=Ne;break;case 4:var ht;i:{var bt;o:{var It;a:{It=vt(Dn(t).ushr_ha5a7z_k$(24));break a}var Nt=It;bt=vt(Dn(Nt).and_wiekkq_k$(Dn(s)));break o}var Rt=bt,Xt;o:{var rn=Dn(Rt);Xt=la(rn.toByte_0_k$());break o}ht=Xt;break i}O=ht;break;case 3:var En;i:{var un;o:{var gn;a:{gn=vt(Dn(t).ushr_ha5a7z_k$(32));break a}var Fn=gn;un=vt(Dn(Fn).and_wiekkq_k$(Dn(s)));break o}var Un=un,en;o:{var Nn=Dn(Un);en=la(Nn.toByte_0_k$());break o}En=en;break i}O=En;break;case 2:var wn;i:{var yr;o:{var rr;a:{rr=vt(Dn(t).ushr_ha5a7z_k$(40));break a}var Or=rr;yr=vt(Dn(Or).and_wiekkq_k$(Dn(s)));break o}var Jn=yr,qr;o:{var $r=Dn(Jn);qr=la($r.toByte_0_k$());break o}wn=qr;break i}O=wn;break;case 1:var ei;i:{var br;o:{var $i;a:{$i=vt(Dn(t).ushr_ha5a7z_k$(48));break a}var zr=$i;br=vt(Dn(zr).and_wiekkq_k$(Dn(s)));break o}var oi=br,ti;o:{var Ri=Dn(oi);ti=la(Ri.toByte_0_k$());break o}ei=ti;break i}O=ei;break;case 0:var ni;i:{var ai;o:{var fo;a:{fo=vt(Dn(t).ushr_ha5a7z_k$(54));break a}var po=fo;ai=vt(Dn(po).and_wiekkq_k$(Dn(s)));break o}var ha=ai,Hi;o:{var ho=Dn(ha);Hi=la(ho.toByte_0_k$());break o}ni=Hi;break i}O=ni;break;default:throw jO("Invalid conversion")}B=O;break r}var eo=B;N=ua(eo);break n}T=N;break t}k[x]=T,p=p+1|0}c=Qa(k);break e}return c}function gv(t,i){var s=ze(255),c;e:{for(var p=0,v=4,k=new Int8Array(v);p<v;){var x=p,T;t:{var N;n:{var B;r:{var L=x,O;switch(L){case 3:var W;i:{var K;o:{K=ze(Qe(t)&Qe(s));break o}var q=K,Q;o:{var ee=Qe(q);Q=la(hi(ee));break o}W=Q;break i}O=W;break;case 2:var ie;i:{var fe;o:{var le;a:{le=ze(Qe(t)>>>8);break a}var Se=le;fe=ze(Qe(Se)&Qe(s));break o}var Ee=fe,Te;o:{var Me=Qe(Ee);Te=la(hi(Me));break o}ie=Te;break i}O=ie;break;case 1:var Ne;i:{var Pe;o:{var Ye;a:{Ye=ze(Qe(t)>>>16);break a}var Ke=Ye;Pe=ze(Qe(Ke)&Qe(s));break o}var nt=Pe,Ze;o:{var ct=Qe(nt);Ze=la(hi(ct));break o}Ne=Ze;break i}O=Ne;break;case 0:var ht;i:{var bt;o:{var It;a:{It=ze(Qe(t)>>>24);break a}var Nt=It;bt=ze(Qe(Nt)&Qe(s));break o}var Rt=bt,Xt;o:{var rn=Qe(Rt);Xt=la(hi(rn));break o}ht=Xt;break i}O=ht;break;default:throw jO("Invalid conversion")}B=O;break r}var En=B;N=ua(En);break n}T=N;break t}k[x]=T,p=p+1|0}c=Qa(k);break e}return c}function TE(){gU=this,this._BLOCK_SIZE=512,this._BLOCK_SIZE_IN_BYTES=64,this._UINT_MASK=ze(-1),this._BYTE_MASK_FROM_ULONG=vt(new at(255,0)),this._BYTE_MASK_FROM_UINT=ze(255),this._MAX_HASH_BYTES=32,this._HEX_DIGEST_LENGTH=64;var t=this,i;e:{var s;t:{var c;n:{c=[new dt(ze(1779033703)),new dt(ze(-1150833019)),new dt(ze(1013904242)),new dt(ze(-1521486534)),new dt(ze(1359893119)),new dt(ze(-1694144372)),new dt(ze(528734635)),new dt(ze(1541459225))];break n}s=c;break t}i=s;break e}t._iv=i;var p=this,v;e:{var k;t:{var x;n:{x=[new dt(ze(1116352408)),new dt(ze(1899447441)),new dt(ze(-1245643825)),new dt(ze(-373957723)),new dt(ze(961987163)),new dt(ze(1508970993)),new dt(ze(-1841331548)),new dt(ze(-1424204075)),new dt(ze(-670586216)),new dt(ze(310598401)),new dt(ze(607225278)),new dt(ze(1426881987)),new dt(ze(1925078388)),new dt(ze(-2132889090)),new dt(ze(-1680079193)),new dt(ze(-1046744716)),new dt(ze(-459576895)),new dt(ze(-272742522)),new dt(ze(264347078)),new dt(ze(604807628)),new dt(ze(770255983)),new dt(ze(1249150122)),new dt(ze(1555081692)),new dt(ze(1996064986)),new dt(ze(-1740746414)),new dt(ze(-1473132947)),new dt(ze(-1341970488)),new dt(ze(-1084653625)),new dt(ze(-958395405)),new dt(ze(-710438585)),new dt(ze(113926993)),new dt(ze(338241895)),new dt(ze(666307205)),new dt(ze(773529912)),new dt(ze(1294757372)),new dt(ze(1396182291)),new dt(ze(1695183700)),new dt(ze(1986661051)),new dt(ze(-2117940946)),new dt(ze(-1838011259)),new dt(ze(-1564481375)),new dt(ze(-1474664885)),new dt(ze(-1035236496)),new dt(ze(-949202525)),new dt(ze(-778901479)),new dt(ze(-694614492)),new dt(ze(-200395387)),new dt(ze(275423344)),new dt(ze(430227734)),new dt(ze(506948616)),new dt(ze(659060556)),new dt(ze(883997877)),new dt(ze(958139571)),new dt(ze(1322822218)),new dt(ze(1537002063)),new dt(ze(1747873779)),new dt(ze(1955562222)),new dt(ze(2024104815)),new dt(ze(-2067236844)),new dt(ze(-1933114872)),new dt(ze(-1866530822)),new dt(ze(-1538233109)),new dt(ze(-1090935817)),new dt(ze(-965641998))];break n}k=x;break t}v=k;break e}p._k=v,see(this._iv),F(),see(this._k),F()}TE.prototype.digest_8si7a2_k$=function(t){var i;e:{var s=fO(t),c;t:{var p;n:{p=s;break n}c=p.slice();break t}i=Qa(c);break e}var v=i;return this.digest_idfus1_k$(v)},TE.prototype.digest_idfus1_k$=function(t){var i;e:{var s=this._iv,c;t:{c=s;break t}i=c.slice();break e}var p=i,v=this.createExpansionArray_4qjdqp_k$(Yi(tS(t))),k;e:{var x;t:{var T;n:{var N=Fi(t),B=Fi(v);T=nd([N,B]);break n}x=Qa(T);break t}var L=x,O;t:{var W=pt(tS(t),8);O=vt(Yi(W));break t}var K=Pbe(O),q;t:{var Q=Fi(L),ee=Fi(K);q=nd([Q,ee]);break t}k=Qa(q);break e}for(var ie=Mn(new _i(k),64),fe=ie.iterator_0_k$();fe.hasNext_0_k$();){var le=fe.next_0_k$();{var Se=Nbe(yU(),e$(le));e:{var Ee=Rbe(yU(),p,Se),Te=Ee.length;Ve(Ee,p,0,0,Te);break e}F()}}var Me;e:{var Ne;t:{var Pe;n:{var Ye;r:{var Ke;i:{var nt;o:{var Ze;a:{var ct=gv(p[0]._data_0),ht=gv(p[1]._data_0),bt;s:{var It=Fi(ct),Nt=Fi(ht);bt=nd([It,Nt]);break s}Ze=Qa(bt);break a}var Rt=Ze,Xt=gv(p[2]._data_0),rn;a:{var En=Fi(Rt),un=Fi(Xt);rn=nd([En,un]);break a}nt=Qa(rn);break o}var gn=nt,Fn=gv(p[3]._data_0),Un;o:{var en=Fi(gn),Nn=Fi(Fn);Un=nd([en,Nn]);break o}Ke=Qa(Un);break i}var wn=Ke,yr=gv(p[4]._data_0),rr;i:{var Or=Fi(wn),Jn=Fi(yr);rr=nd([Or,Jn]);break i}Ye=Qa(rr);break r}var qr=Ye,$r=gv(p[5]._data_0),ei;r:{var br=Fi(qr),$i=Fi($r);ei=nd([br,$i]);break r}Pe=Qa(ei);break n}var zr=Pe,oi=gv(p[6]._data_0),ti;n:{var Ri=Fi(zr),ni=Fi(oi);ti=nd([Ri,ni]);break n}Ne=Qa(ti);break t}var ai=Ne,fo=gv(p[7]._data_0),po;t:{var ha=Fi(ai),Hi=Fi(fo);po=nd([ha,Hi]);break t}Me=Qa(po);break e}var ho=Me;return ho},TE.prototype.createExpansionArray_4qjdqp_k$=function(t){var i;e:{i=t.times_wiekkq_k$(new at(8,0));break e}var s=i,c;e:{var p;t:{var v;n:{var k=64;v=s.plus_wiekkq_k$(Yi(k));break n}var x=v;p=x.plus_wiekkq_k$(new at(1,0));break t}var T=p,N=512;c=T.rem_wiekkq_k$(Yi(N));break e}var B=c,L=B,O;if(L.equals(new at(0,0)))O=0;else{var W;e:{var K=CO(512).minus_wiekkq_k$(B);W=K.div_wiekkq_k$(new at(8,0));break e}O=W.toInt_0_k$()}var q=O,Q;e:{for(var ee=q+1|0,ie=0,fe=ee,le=new Int8Array(fe);ie<fe;){var Se=ie,Ee;t:{var Te;n:{var Me;r:{var Ne=Se;Me=la(Ne===0?-128:0);break r}var Pe=Me;Te=ua(Pe);break n}Ee=Te;break t}le[Se]=Ee,ie=ie+1|0}Q=Qa(le);break e}var Ye=Q;return Ye},TE.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var gU;function yU(){return gU==null&&new TE,gU}function yY(t){var i=new _i(t);return Ge(i,"",null,null,0,null,Bbe(),30)}function Hp(t,i){var s;e:{var c;t:{c=ze(Qe(t)>>>i);break t}var p=c,v;t:{var k=32-i|0;v=ze(Qe(t)<<k);break t}var x=v;s=ze(Qe(p)^Qe(x));break e}return s}function XN(){}XN.prototype.invoke_dj4lnz_k$=function(t){return dp(cf(t,16),2,new pe(48))},XN.prototype.invoke_20e8_k$=function(t){return this.invoke_dj4lnz_k$(t instanceof Lo?t._data:M())},XN.$metadata$={kind:"class",interfaces:[]};function Bbe(){var t=new XN;return function(i){return t.invoke_dj4lnz_k$(i._data)}}function Fbe(){return kY}var kY;function Lbe(t,i){return fn.call(i,xp(t)),i}function Dbe(t){return Lbe(t,Object.create(fn.prototype))}function Vp(){kU=this;var t;e:{var i=Fr(de(Ot));t=i;break e}Ni(this,t,Kr(["errorWithMessage","all","success","invoke","errorWithException","error"]))}Vp.prototype.invoke_fexekg_k$=function(t){var i;try{i=new _n(t())}catch(c){var s;if(c instanceof ki)s=new fn(c);else throw c;i=s}return i},Vp.prototype.invoke_yb0t6p_k$=function(t,i){var s;try{s=new _n(i())}catch(p){var c;if(p instanceof ki)c=new fn(OO(""+t+": "+p,p));else throw p;s=c}return s},Vp.prototype.success=function(t){return new _n(t)},Vp.prototype.errorWithException=function(t){return new fn(t)},Vp.prototype.errorWithMessage=function(t){return new fn(xp(t))},Vp.prototype.all=function(t){for(var i=DEe(t,"items"),s=Di(),c=i.iterator_0_k$();c.hasNext_0_k$();){var p=c.next_0_k$(),v=p;if(v instanceof _n)s.add_2bq_k$(p._value_16),F();else if(v instanceof fn)return p}return new _n(s)},Vp.prototype.invoke=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=ce().functionClass(0).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T;e:{var N=i[0],B=(N!=null?typeof N=="string":!1)?N:M(),L=i[1],O=(L!=null?typeof L=="function":!1)?L:M(),W;try{W=new _n(O())}catch(Ne){var K;if(Ne instanceof ki)K=new fn(OO(""+B+": "+Ne,Ne));else throw Ne;W=K}T=W;break e}var q=T;return q}var Q;if(i.length===1){var ee;e:{var ie=i[0];ee=ce().functionClass(0).isInstance_wi7j7l_k$(ie);break e}Q=ee}else Q=!1;if(Q){var fe;e:{var le=i[0],Se=(le!=null?typeof le=="function":!1)?le:M(),Ee;try{Ee=new _n(Se())}catch(Ne){var Te;if(Ne instanceof ki)Te=new fn(Ne);else throw Ne;Ee=Te}fe=Ee;break e}var Me=fe;return Me}throw At("Error choosing proper overload of function Companion.invoke for the given parameters")},Vp.prototype.error=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(ki).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.errorWithException(v instanceof ki?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.errorWithMessage((B!=null?typeof B=="string":!1)?B:M());return L}throw At("Error choosing proper overload of function Companion.error for the given parameters")},Vp.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var kU;function Tn(){return kU==null&&new Vp,kU}function _n(t){Ot.call(this),this._value_16=t}_n.prototype._get_value__0_k$=function(){return this._value_16},_n.prototype.component1=function(){return this._value_16},_n.prototype.copy=function(t){return this.copy_2c5_k$(t===void 0?this._value_16:t)},_n.prototype.copy_2c5_k$=function(t){return new _n(t)},_n.prototype.copy$default_3d9r20_k$=function(t,i,s){return(i&1)!=0&&(t=this._value_16),this.copy_2c5_k$(t)},_n.prototype.toString=function(){return"Value(value="+this._value_16+")"},_n.prototype.hashCode=function(){return this._value_16==null?0:ur(this._value_16)},_n.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof _n))return!1;var i=t instanceof _n?t:M();return!!xt(this._value_16,i._value_16)},_n.$metadata$={simpleName:"Value",kind:"class",interfaces:[]},Object.defineProperty(_n.prototype,"value",{configurable:!0,get:_n.prototype._get_value__0_k$});function fn(t){Ot.call(this),this._error=t}fn.prototype._get_error__0_k$=function(){return this._error},fn.prototype.component1=function(){return this._error},fn.prototype.copy=function(t){return this.copy_13y3of_k$(t===void 0?this._error:t)},fn.prototype.copy_13y3of_k$=function(t){return new fn(t)},fn.prototype.copy$default_s97ays_k$=function(t,i,s){return(i&1)!=0&&(t=this._error),this.copy_13y3of_k$(t)},fn.prototype.toString=function(){return"Error(error="+this._error+")"},fn.prototype.hashCode=function(){return ur(this._error)},fn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof fn))return!1;var i=t instanceof fn?t:M();return!!xt(this._error,i._error)},fn.$metadata$={simpleName:"Error",kind:"class",interfaces:[]},Object.defineProperty(fn.prototype,"error",{configurable:!0,get:fn.prototype._get_error__0_k$});function YN(t){this._this$0_37=t}YN.prototype.invoke_2c6_k$=function(t){return new Ws(this._this$0_37._value_16,t)},YN.prototype.invoke_20e8_k$=function(t){return this.invoke_2c6_k$((t==null?!0:Re(t))?t:M())},YN.$metadata$={kind:"class",interfaces:[]};function Ot(){Tn()}Ot.prototype.flatMap=function(t){var i=this,s;return i instanceof _n?s=t(this._value_16):i instanceof fn?s=this:Lr(),s},Ot.prototype.flatZipMap_tm47ru_k$=function(t){var i=this,s;if(i instanceof _n){var c=t(this._value_16);s=c.map(Ube(this))}else i instanceof fn?s=this:Lr();return s},Ot.prototype.map=function(t){var i=this,s;return i instanceof _n?s=new _n(t(this._value_16)):i instanceof fn?s=this:Lr(),s},Ot.prototype.zipMap_i05jc9_k$=function(t){var i=this,s;return i instanceof _n?s=new _n(new Ws(this._value_16,t(this._value_16))):i instanceof fn?s=this:Lr(),s},Ot.prototype._get_optional__0_k$=function(){var t=this,i;return t instanceof _n?i=this._value_16:t instanceof fn?i=null:Lr(),i},Ot.prototype._get_exception__0_k$=function(){var t=this,i;return t instanceof _n?i=null:t instanceof fn?i=this._error:Lr(),i},Ot.prototype._get_bool__0_k$=function(){var t=this,i;return t instanceof _n?i=!0:t instanceof fn?i=!1:Lr(),i},Ot.prototype._get_orThrow__0_k$=function(){var t=this,i;if(t instanceof _n)i=this._value_16;else{if(t instanceof fn)throw this._error;Lr()}return i},Ot.prototype.deferWithTryOfFutureOfT=function(){var t=this instanceof Ot?this:M();return cY(t)},Ot.prototype.squash=function(){var t=this instanceof Ot?this:M();return Ske(t)},Ot.prototype.deferWithTryOfObservableOfT=function(){var t=this instanceof Ot?this:M();return dY(t)},Ot.prototype.catchException=function(t){var i=this instanceof Ot?this:M(),s;e:{var c=i,p;c instanceof _n?p=i._value_16:c instanceof fn?p=t(i._error):Lr(),s=p;break e}return s},Ot.prototype.catchError=function(t){var i=this instanceof Ot?this:M(),s;e:{var c=i,p;c instanceof _n?p=i._value_16:c instanceof fn?p=t(i):Lr(),s=p;break e}return s},Ot.prototype.or=function(t){var i=this instanceof Ot?this:M();return $U(i,t)},Ot.prototype.flatten=function(){var t=this instanceof Ot?this:M();return Obe(t)},Ot.prototype.logError=function(t){return this.logErrorExt_81uyzo_k$(t===void 0?null:t)},Ot.prototype.logErrorExt_81uyzo_k$=function(t){var i=this instanceof Ot?this:M();return zxe(i,t)},Ot.prototype.logErrorExt$default_f5ooyi_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.logErrorExt_81uyzo_k$(t)},Ot.prototype.logWarning=function(t){return this.logWarningExt_81uyzo_k$(t===void 0?null:t)},Ot.prototype.logWarningExt_81uyzo_k$=function(t){var i=this instanceof Ot?this:M();return gQ(i,t)},Ot.prototype.logWarningExt$default_f5ooyi_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.logWarningExt_81uyzo_k$(t)},Ot.prototype.logInfo=function(t){return this.logInfoExt_81uyzo_k$(t===void 0?null:t)},Ot.prototype.logInfoExt_81uyzo_k$=function(t){var i=this instanceof Ot?this:M();return Uxe(i,t)},Ot.prototype.logInfoExt$default_f5ooyi_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.logInfoExt_81uyzo_k$(t)},Ot.prototype.logDebug=function(t){return this.logDebugExt_81uyzo_k$(t===void 0?null:t)},Ot.prototype.logDebugExt_81uyzo_k$=function(t){var i=this instanceof Ot?this:M();return yQ(i,t)},Ot.prototype.logDebugExt$default_f5ooyi_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.logDebugExt_81uyzo_k$(t)},Ot.prototype.logInternal=function(t){return this.logInternalExt_81uyzo_k$(t===void 0?null:t)},Ot.prototype.logInternalExt_81uyzo_k$=function(t){var i=this instanceof Ot?this:M();return jxe(i,t)},Ot.prototype.logInternalExt$default_f5ooyi_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.logInternalExt_81uyzo_k$(t)},Ot.prototype.defer=function(t){var i=arguments,s,c;e:{c=de(Ot).isInstance_wi7j7l_k$(this);break e}if(c?s=i.length===0:s=!1,s){var p=cY(this instanceof Ot?this:M());return p}var v,k;e:{k=de(Ot).isInstance_wi7j7l_k$(this);break e}if(k?v=i.length===0:v=!1,v){var x=dY(this instanceof Ot?this:M());return x}throw At("Error choosing proper overload of function Try.defer for the given parameters")},Ot.$metadata$={simpleName:"Try",kind:"class",interfaces:[]},Object.defineProperty(Ot.prototype,"optional",{configurable:!0,get:Ot.prototype._get_optional__0_k$}),Object.defineProperty(Ot.prototype,"exception",{configurable:!0,get:Ot.prototype._get_exception__0_k$}),Object.defineProperty(Ot.prototype,"bool",{configurable:!0,get:Ot.prototype._get_bool__0_k$}),Object.defineProperty(Ot.prototype,"orThrow",{configurable:!0,get:Ot.prototype._get_orThrow__0_k$});function $U(t,i){var s=t,c;return s instanceof _n?c=t:s instanceof fn?c=i(t):Lr(),c}function Obe(t){var i=t,s;return i instanceof _n?s=t._value_16:i instanceof fn?s=t:Lr(),s}function QN(){}QN.prototype.invoke_sv8swh_k$=function(){Tn(),F(),F()},QN.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},QN.$metadata$={kind:"class",interfaces:[]};function zbe(){var t=new QN;return function(){return t.invoke_sv8swh_k$(),F()}}function Ube(t){var i=new YN(t);return function(s){return i.invoke_2c6_k$(s)}}function bf(){bU=this,this._Stretch=SY(),this._Zoom=EY(),this._Shrink=CY()}bf.prototype._get_Stretch__0_k$=function(){return this._Stretch},bf.prototype._get_Zoom__0_k$=function(){return this._Zoom},bf.prototype._get_Shrink__0_k$=function(){return this._Shrink},bf.$metadata$={simpleName:"FillModeEnum",kind:"object",interfaces:[]},Object.defineProperty(bf.prototype,"Stretch",{configurable:!0,get:bf.prototype._get_Stretch__0_k$}),Object.defineProperty(bf.prototype,"Zoom",{configurable:!0,get:bf.prototype._get_Zoom__0_k$}),Object.defineProperty(bf.prototype,"Shrink",{configurable:!0,get:bf.prototype._get_Shrink__0_k$});var bU;function jbe(){return bU==null&&new bf,bU}var $Y,bY,wY,xY;function wU(){if(xY)return F();xY=!0,$Y=new wf("Stretch",0),bY=new wf("Zoom",1),wY=new wf("Shrink",2)}function wf(t,i){yi.call(this,t,i)}wf.$metadata$={simpleName:"FillMode",kind:"class",interfaces:[]};function SY(){return wU(),$Y}function EY(){return wU(),bY}function CY(){return wU(),wY}function xf(){xU=this,this._R=Wbe(),this._RG=Hbe(),this._RGBA=Vbe()}xf.prototype._get_R__0_k$=function(){return this._R},xf.prototype._get_RG__0_k$=function(){return this._RG},xf.prototype._get_RGBA__0_k$=function(){return this._RGBA},xf.$metadata$={simpleName:"PixelComponentsEnum",kind:"object",interfaces:[]},Object.defineProperty(xf.prototype,"R",{configurable:!0,get:xf.prototype._get_R__0_k$}),Object.defineProperty(xf.prototype,"RG",{configurable:!0,get:xf.prototype._get_RG__0_k$}),Object.defineProperty(xf.prototype,"RGBA",{configurable:!0,get:xf.prototype._get_RGBA__0_k$});var xU;function Gbe(){return xU==null&&new xf,xU}var AY,TY,IY,MY;function SU(){if(MY)return F();MY=!0,AY=new a0("R",0,1),TY=new a0("RG",1,2),IY=new a0("RGBA",2,4)}function a0(t,i,s){yi.call(this,t,i),this._count_0=s}a0.$metadata$={simpleName:"PixelComponents",kind:"class",interfaces:[]};function Wbe(){return SU(),AY}function Hbe(){return SU(),TY}function Vbe(){return SU(),IY}function qbe(t,i,s,c,p,v){return(c&2)!=0&&(i=0),(c&4)!=0&&(s=t.length-i|0),IE.call(v,t,i,s),v}function Kbe(t,i,s,c,p){return qbe(t,i,s,c,p,Object.create(IE.prototype))}function IE(t,i,s){if(this._array_1=t,this._start=i,this._length=s,this._size_9=this._array_1.length-this._start|0,(this._start+this._length|0)>this._array_1.length)throw b_("Array index "+this._start+" out of bounds "+this._array_1.length)}IE.prototype.set_25a3pl_k$=function(t,i){return this._array_1[this._start+t|0]=i,i},IE.$metadata$={simpleName:"SlicedByteArray",kind:"class",interfaces:[]};function Jbe(t,i){zo.call(i);var s=i,c=new Int8Array(t);return s._slicedBytearray=Kbe(c,0,0,6,null),i._limit_0=t,i}function Xbe(t){return Jbe(t,Object.create(zo.prototype))}function Ybe(t,i,s,c){return zo.call(c),c._slicedBytearray=new IE(t,i,s),c._limit_0=t.length,c}function Qbe(t,i,s,c,p,v){return(c&2)!=0&&(i=0),(c&4)!=0&&(s=t.length),Ybe(t,i,s,v),v}function Zbe(t,i,s,c,p){return Qbe(t,i,s,c,p,Object.create(zo.prototype))}function ZN(){EU=this}ZN.prototype.allocate_ha5a7z_k$=function(t){return Xbe(t)},ZN.prototype.wrap_b1bk5f_k$=function(t){return Zbe(t,0,0,6,null)},ZN.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var EU;function CU(){return EU==null&&new ZN,EU}zo.prototype.get_0_k$=function(){var t;e:{var i=this._slicedBytearray,s=this,c=s._position_9;s._position_9=c+1|0;var p=c;t=i._array_1[i._start+p|0];break e}return t},zo.prototype.nextFloat_0_k$=function(){var t;e:{var i=this._position_9,s;t:{we();var c;n:{var p;r:{var v=this._slicedBytearray,k=i+3|0;p=v._array_1[v._start+k|0];break r}var x=p<<24,T;r:{var N=this._slicedBytearray,B=i+2|0;T=N._array_1[N._start+B|0];break r}var L=x|(T&255)<<16,O;r:{var W=this._slicedBytearray,K=i+1|0;O=W._array_1[W._start+K|0];break r}var q=L|(O&255)<<8,Q;r:{var ee=this._slicedBytearray;Q=ee._array_1[ee._start+i|0];break r}c=q|Q&255;break n}var ie=c;s=rme(ie);break t}t=s;break e}var fe=t,le=this;return le._position_9=le._position_9+4|0,fe},zo.prototype.nextShort_0_k$=function(){var t;e:{var i=this._position_9,s;t:{var c=this._slicedBytearray,p=i+1|0;s=c._array_1[c._start+p|0];break t}var v=s<<8,k;t:{var x=this._slicedBytearray;k=x._array_1[x._start+i|0];break t}t=Ty(v|k&255);break e}var T=t,N=this;return N._position_9=N._position_9+2|0,T},zo.prototype.get_irqg4d_k$=function(t,i,s){for(var c=0;c<s;){t[c+i|0]=this.get_0_k$();var p=c;c=p+1|0,F()}return this},zo.prototype.get_b1bk5f_k$=function(t){return this.get_irqg4d_k$(t,0,t.length)},zo.prototype.set_25a3pl_k$=function(t,i){return this._slicedBytearray.set_25a3pl_k$(t,i),F(),this},zo.prototype.putShort_unsn8k_k$=function(t,i){var s=t,c=s;s=c+1|0,this._slicedBytearray.set_25a3pl_k$(c,hi(i&255)),F(),this._slicedBytearray.set_25a3pl_k$(s,hi(i>>8&255)),F()},zo.prototype.putFloat_z49mik_k$=function(t,i){var s=t,c=dve(i),p=s;s=p+1|0,this._slicedBytearray.set_25a3pl_k$(p,hi(c&255)),F();var v=s;s=v+1|0,this._slicedBytearray.set_25a3pl_k$(v,hi(c>>8&255)),F();var k=s;s=k+1|0,this._slicedBytearray.set_25a3pl_k$(k,hi(c>>16&255)),F(),this._slicedBytearray.set_25a3pl_k$(s,hi(c>>24&255)),F()},zo.prototype.put_wi8e9i_k$=function(t){var i=this,s=i._position_9;return i._position_9=s+1|0,this.set_25a3pl_k$(s,t)},zo.prototype.putShort_dip2j2_k$=function(t){this.putShort_unsn8k_k$(this._position_9,t);var i=this;return i._position_9=i._position_9+2|0,this},zo.prototype.putFloat_dbmacu_k$=function(t){this.putFloat_z49mik_k$(this._position_9,t);var i=this;return i._position_9=i._position_9+4|0,this},zo.prototype.put_9piif6_k$=function(t,i,s,c){for(var p=0;p<c;){this._slicedBytearray.set_25a3pl_k$(t+p|0,i[s+p|0]),F();var v=p;p=v+1|0,F()}return this},zo.prototype.put_irqg4d_k$=function(t,i,s){this.put_9piif6_k$(this._position_9,t,i,s),F();var c=this;return c._position_9=c._position_9+s|0,this},zo.prototype.put_b1bk5f_k$=function(t){return this.put_irqg4d_k$(t,0,t.length)},zo.prototype.array_0_k$=function(){return this._slicedBytearray._array_1},zo.prototype.position_0_k$=function(){return this._position_9},zo.prototype.limit_0_k$=function(){return this._slicedBytearray._size_9},zo.prototype.rewind_0_k$=function(){return this._position_9=0,this},zo.prototype.order_pnds3d_k$=function(t){if(!t.equals(AU()))throw xp("Big endian is currently unsupported");return this};function zo(){CU(),this._position_9=0}zo.$metadata$={simpleName:"ByteBuffer",kind:"class",interfaces:[]};var NY,RY;function ewe(){if(RY)return F();RY=!0,NY=new Lb("LITTLE_ENDIAN",0),new Lb("BIG_ENDIAN",1)}function Lb(t,i){yi.call(this,t,i)}Lb.$metadata$={simpleName:"ByteOrder",kind:"class",interfaces:[]};function AU(){return ewe(),NY}function yv(){}yv.$metadata$={simpleName:"File",kind:"interface",interfaces:[]};function twe(t){var i=t.readAllText_0_k$();return Ad(i,nwe())}function eR(){}eR.prototype.invoke_6wfw3l_k$=function(t){return Dm(t,[`\r
`,`
`,"\r"],!1,0,6)},eR.prototype.invoke_20e8_k$=function(t){return this.invoke_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},eR.$metadata$={kind:"class",interfaces:[]};function nwe(){var t=new eR;return function(i){return t.invoke_6wfw3l_k$(i)}}function Zo(t,i){this._parent=t,this._newRoot=i}Zo.prototype._get_parent__0_k$=function(){return this._parent},Zo.prototype._get_newRoot__0_k$=function(){return this._newRoot},Zo.prototype.fileAt_1hpm3o_k$=function(t){return this._parent.fileAt_1hpm3o_k$(this._newRoot.joinWithPath(t))},Zo.prototype.watch_1hpm3o_k$=function(t){return this._parent.watchWithPath(this._newRoot.joinWithPath(t))},Zo.prototype.watchWithPath=function(t){return this.watch_1hpm3o_k$(t)},Zo.prototype.exists_1hpm3o_k$=function(t){return this._parent.exists_1hpm3o_k$(this._newRoot.joinWithPath(t))},Zo.prototype.lastModified_1hpm3o_k$=function(t){return this._parent.lastModified_1hpm3o_k$(this._newRoot.joinWithPath(t))},Zo.prototype._get_root__0_k$=function(){return this._parent._get_root__0_k$().joinWithPath(this._newRoot)},Zo.prototype.subSystemExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Db(i,t)},Zo.prototype.subSystem=function(t){return this.subSystemExt_1hpm3o_k$(t)},Zo.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,Et)?this:M();return zb(i,t)},Zo.prototype.textAtExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},Zo.prototype.textAt=function(t){return this.textAtExt_1hpm3o_k$(t)},Zo.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},Zo.$metadata$={simpleName:"FileSubSystem",kind:"class",interfaces:[Et]},Object.defineProperty(Zo.prototype,"root",{configurable:!0,get:Zo.prototype._get_root__0_k$});function Sl(t,i){Zo.call(this,t,i)}Sl.prototype.writeFile_mjqkfe_k$=function(t,i,s){return this._get_parent__0_k$().writeFile_mjqkfe_k$(this._get_newRoot__0_k$().joinWithPath(t),i,s)},Sl.prototype.textAtExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},Sl.prototype.textAt=function(t){return this.textAtExt_1hpm3o_k$(t)},Sl.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},Sl.prototype.subSystemExt_1hpm3o_k$=function(t){var i=Ce(this,fa)?this:M();return Ob(i,t)},Sl.prototype.subSystem=function(t){return this.subSystemExt_1hpm3o_k$(t)},Sl.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,fa)?this:M();return ME(i,t)},Sl.$metadata$={simpleName:"WriteableFileSubSystem",kind:"class",interfaces:[fa]};function tR(){}tR.prototype.invoke_oxsxsn_k$=function(t){return t._error.toString()},tR.prototype.invoke_20e8_k$=function(t){return this.invoke_oxsxsn_k$(t instanceof fn?t:M())},tR.$metadata$={kind:"class",interfaces:[]};function rwe(t,i){return Sa.call(i,ES(t)),i}function iwe(t){return rwe(t,Object.create(Sa.prototype))}function nR(t,i){this._$fs=t,this._$path=i}nR.prototype.invoke_1blrcu_k$=function(t){var i=t,s;return i instanceof _n?s=_a(t):i instanceof fn?s=this._$fs.fileAt_1hpm3o_k$(this._$path):Lr(),s},nR.prototype.invoke_20e8_k$=function(t){return this.invoke_1blrcu_k$(t instanceof Ot?t:M())},nR.$metadata$={kind:"class",interfaces:[]};function rR(t){this._$path_0=t}rR.prototype.invoke_tdb558_k$=function(t){var i;e:{var s;t:{for(var c=Di(),p=t.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$();v instanceof _n&&(c.add_2bq_k$(v),F())}s=c;break t}i=s;break e}var k=i,x;return k.isEmpty_0_k$()?x=Tn().errorWithMessage("The file "+this._$path_0+" cannot be watched on any of the child filesystems"):x=k.get_ha5a7z_k$(0),x},rR.prototype.invoke_20e8_k$=function(t){return this.invoke_tdb558_k$((t!=null?Ce(t,Hr):!1)?t:M())},rR.$metadata$={kind:"class",interfaces:[]};function iR(t){this._$previous_0=t}iR.prototype.invoke_1blrcu_k$=function(t){var i=!xt(t,this._$previous_0.get_0_k$());return this._$previous_0.set_iav7o_k$(t),i},iR.prototype.invoke_20e8_k$=function(t){return this.invoke_1blrcu_k$(t instanceof Ot?t:M())},iR.$metadata$={kind:"class",interfaces:[]};function oR(t,i){this._$fs_0=t,this._$path_1=i}oR.prototype.invoke_vcj5fe_k$=function(t){var i;return t?i=_a(!0):i=this._$fs_0.exists_1hpm3o_k$(this._$path_1),i},oR.prototype.invoke_20e8_k$=function(t){return this.invoke_vcj5fe_k$((t!=null?typeof t=="boolean":!1)?t:M())},oR.$metadata$={kind:"class",interfaces:[]};function aR(t){this._$path_2=t}aR.prototype.invoke_dxgt1t_k$=function(t){var i;e:{Tn();var s;try{var c;t:{var p;n:{var v;r:{var k;i:{for(var x=Di(),T=t.iterator_0_k$();T.hasNext_0_k$();){var N=T.next_0_k$();N instanceof _n&&(x.add_2bq_k$(N),F())}k=x;break i}v=k;break r}var B=v,L=B.iterator_0_k$();if(!L.hasNext_0_k$()){p=null;break n}var O;r:{var W=L.next_0_k$();O=W._value_16;break r}for(var K=O;L.hasNext_0_k$();){var q;r:{var Q=L.next_0_k$();q=Q._value_16;break r}var ee=q;iv(K,ee)<0&&(K=ee)}p=K;break n}var ie=p,fe;if(ie==null){var le;n:{var Se;r:{for(var Ee=Di(),Te=t.iterator_0_k$();Te.hasNext_0_k$();){var Me=Te.next_0_k$();Me instanceof fn&&(Ee.add_2bq_k$(Me),F())}Se=Ee;break r}le=Se;break n}var Ne=le,Pe="Failed to load "+this._$path_2+" from all file systems with "+Ge(Ne,null,null,null,0,null,Dwe(),31,null);throw At(Bt(Pe))}else fe=ie;c=fe;break t}s=new _n(c)}catch(Ke){var Ye;if(Ke instanceof ki)Ye=new fn(Ke);else throw Ke;s=Ye}i=s;break e}return i},aR.prototype.invoke_20e8_k$=function(t){return this.invoke_dxgt1t_k$((t!=null?Ce(t,Hr):!1)?t:M())},aR.$metadata$={kind:"class",interfaces:[]};function Sa(t){this._filesystems=t}Sa.prototype.fileAt_1hpm3o_k$=function(t){for(var i=_a(Tn().errorWithMessage("No available filesystems")),s=this._filesystems.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$(),p=i;i=p.flatMap(Rwe(c,t))}return i},Sa.prototype.watch_1hpm3o_k$=function(t){var i=new pa(null),s=CE(),c;e:{var p=this._filesystems,v;t:{for(var k=Wr(so(p,10)),x=p.iterator_0_k$();x.hasNext_0_k$();){var T=x.next_0_k$(),N;n:{N=T.watchWithPath(t);break n}k.add_2bq_k$(N),F()}v=k;break t}c=v;break e}var B=s.all(c),L=B.map(Pwe(t));return L.filter(Bwe(i))},Sa.prototype.watchWithPath=function(t){return this.watch_1hpm3o_k$(t)},Sa.prototype.exists_1hpm3o_k$=function(t){for(var i=_a(!1),s=this._filesystems.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$(),p=i;i=p.flatMap(Fwe(c,t))}return i},Sa.prototype.lastModified_1hpm3o_k$=function(t){var i=Wp(),s;e:{var c=this._filesystems,p;t:{for(var v=Wr(so(c,10)),k=c.iterator_0_k$();k.hasNext_0_k$();){var x=k.next_0_k$(),T;n:{T=x.lastModified_1hpm3o_k$(t);break n}v.add_2bq_k$(T),F()}p=v;break t}s=p;break e}var N=i.all(s);return N.map(Lwe(t))},Sa.prototype._get_root__0_k$=function(){var t,i;e:{var s=this._filesystems;i=!s.isEmpty_0_k$();break e}return i?t=mn(this._filesystems)._get_root__0_k$():t=new bn(""),t},Sa.prototype.subSystemExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Db(i,t)},Sa.prototype.subSystem=function(t){return this.subSystemExt_1hpm3o_k$(t)},Sa.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,Et)?this:M();return zb(i,t)},Sa.prototype.textAtExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},Sa.prototype.textAt=function(t){return this.textAtExt_1hpm3o_k$(t)},Sa.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},Sa.$metadata$={simpleName:"FallbackFileSystem",kind:"class",interfaces:[Et]},Object.defineProperty(Sa.prototype,"root",{configurable:!0,get:Sa.prototype._get_root__0_k$});function sR(){}sR.prototype.invoke_rrujww_k$=function(t){t._allowStructuredMapKeys=!0},sR.prototype.invoke_20e8_k$=function(t){return this.invoke_rrujww_k$(t instanceof cv?t:M()),F()},sR.$metadata$={kind:"class",interfaces:[]};function TU(t,i){this._index_9=t,this._lastIndexReload=i}TU.$metadata$={simpleName:"State",kind:"class",interfaces:[]};function PY(t){var i=t._baseFileSystem.fileAt_1hpm3o_k$(xxe("index.json")),s=o0(i,Owe()),c=ZU(jM(s,zwe()),"Did not load index.json, checking for updates will be slower");return c.map(Uwe())}function BY(){IU=this;var t=this;t._json_4=iE(null,Wwe(),1);var i;e:{var s=Fr(de(Vs));i=s;break e}Ni(this,i,Zr("json"))}BY.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var IU;function FY(){return IU==null&&new BY,IU}function lR(){}lR.prototype.invoke_1hjdyz_k$=function(t){return t.readAllText_0_k$()},lR.prototype.invoke_20e8_k$=function(t){return this.invoke_1hjdyz_k$((t!=null?Ce(t,yv):!1)?t:M())},lR.$metadata$={kind:"class",interfaces:[]};function uR(){}uR.prototype.invoke_6wfw3l_k$=function(t){var i;e:{Tn();var s;try{var c;t:{var p=FY()._json_4.parseToJsonElement_6wfw3l_k$(t),v=_v(p).get_6wfw3l_k$("index"),k=v==null?null:_v(v),x=k==null?new Ci(Ds()):k,T=null,N;n:{var B=x._get_entries__0_k$(),L;r:{for(var O=Di(),W=B.iterator_0_k$();W.hasNext_0_k$();){var K=W.next_0_k$();{var q;i:{var Q;o:{Q=K._get_key__0_k$();break o}var ee=Q,ie;o:{ie=K._get_value__0_k$();break o}var fe=ie,le=KCe(uE(fe)._get_content__0_k$()),Se;le instanceof _n?Se=new cn(ee,le._value_16):le instanceof fn?(T==null&&(T="Failed to parse index date for "+ee+" with error "+le._error.message),Se=null):Lr(),q=Se;break i}var Ee=q;if(Ee!=null){var Te;i:{O.add_2bq_k$(Ee),Te=F();break i}F()}F()}}L=O;break r}N=L;break n}var Me=Cm(N),Ne=T;if(Ne!=null){var Pe;n:{Pe=Wb(_o(),Ne);break n}F()}F(),c=Me;break t}s=new _n(c)}catch(Ke){var Ye;if(Ke instanceof ki)Ye=new fn(Ke);else throw Ke;s=Ye}i=s;break e}return i},uR.prototype.invoke_20e8_k$=function(t){return this.invoke_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},uR.$metadata$={kind:"class",interfaces:[]};function cR(){}cR.prototype.invoke_4ald0r_k$=function(t){var i=t;return i==null?Ds():i},cR.prototype.invoke_20e8_k$=function(t){return this.invoke_4ald0r_k$((t==null?!0:Ce(t,wo))?t:M())},cR.$metadata$={kind:"class",interfaces:[]};function MU(t){this._this$0_38=t}MU.prototype.invoke_0_k$=function(){var t=this._this$0_38._state_3.get_0_k$(),i=t._lastIndexReload.tick(),s=t._index_9;return(s==null?!0:i._elapsed>this._this$0_38._indexReloadInterval)&&(s=PY(this._this$0_38),this._this$0_38._state_3.set_iav7o_k$(new TU(s,i))),s},MU.$metadata$={kind:"class",interfaces:[]};function _R(t,i){this._$path_3=t,this._this$0_39=i}_R.prototype.invoke_4wghue_k$=function(t){var i=t.get_2bw_k$(this._$path_3.toString()),s;if(i==null)s=null;else{var c;e:{var p;t:{p=_a(Tn().success(i));break t}c=p;break e}s=c}var v=s;return v==null?this._this$0_39._baseFileSystem.lastModified_1hpm3o_k$(this._$path_3):v},_R.prototype.invoke_20e8_k$=function(t){return this.invoke_4wghue_k$((t!=null?Ce(t,wo):!1)?t:M())},_R.$metadata$={kind:"class",interfaces:[]};function Vs(t,i){FY();var s=i===void 0?36e5:i;this._baseFileSystem=t,this._state_3=new pa(new TU(PY(this),Zb().start())),this._indexReloadInterval=s/1e3,this._indexLock=new Pf}Vs.prototype._get_baseFileSystem__0_k$=function(){return this._baseFileSystem},Vs.prototype.watchWithPath=function(t){return this._baseFileSystem.watchWithPath(t)},Vs.prototype.exists_1hpm3o_k$=function(t){return this._baseFileSystem.exists_1hpm3o_k$(t)},Vs.prototype.fileAt_1hpm3o_k$=function(t){return this._baseFileSystem.fileAt_1hpm3o_k$(t)},Vs.prototype._get_root__0_k$=function(){return this._baseFileSystem._get_root__0_k$()},Vs.prototype.lastModified_1hpm3o_k$=function(t){var i=this._indexLock.invoke_fexekg_k$(jwe(this));return i.flatMap(Gwe(t,this))},Vs.prototype.subSystemExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Db(i,t)},Vs.prototype.subSystem=function(t){return this.subSystemExt_1hpm3o_k$(t)},Vs.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,Et)?this:M();return zb(i,t)},Vs.prototype.textAtExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},Vs.prototype.textAt=function(t){return this.textAtExt_1hpm3o_k$(t)},Vs.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},Vs.$metadata$={simpleName:"IndexedFileSystem",kind:"class",interfaces:[Et]};function Fc(t,i){var s=i===void 0?36e5:i;Vs.call(this,t,s)}Fc.prototype.writeFile_mjqkfe_k$=function(t,i,s){return this._get_baseFileSystem__0_k$().writeFile_mjqkfe_k$(t,i,s)},Fc.prototype.textAtExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},Fc.prototype.textAt=function(t){return this.textAtExt_1hpm3o_k$(t)},Fc.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},Fc.prototype.subSystemExt_1hpm3o_k$=function(t){var i=Ce(this,fa)?this:M();return Ob(i,t)},Fc.prototype.subSystem=function(t){return this.subSystemExt_1hpm3o_k$(t)},Fc.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,fa)?this:M();return ME(i,t)},Fc.$metadata$={simpleName:"IndexedWriteableFileSystem",kind:"class",interfaces:[fa]};function fR(t){this._$end_14=t}fR.prototype.invoke_wrfpe0_k$=function(t){this._$end_14()},fR.prototype.invoke_20e8_k$=function(t){return this.invoke_wrfpe0_k$((t==null?!0:t instanceof Ot)?t:M()),F()},fR.$metadata$={kind:"class",interfaces:[]};function pR(t,i,s){this._$path_9=t,this._$fire_10=i,this._$end_15=s}pR.prototype.invoke_jyqqyd_k$=function(t){var i;if(t!=null){var s=t.watchWithPath(this._$path_9);s.subscribe(this._$fire_10),i=s._last_3.map(txe(this._$end_15))}else this._$fire_10(Tn().errorWithMessage("No development server to watch")),this._$end_15(),i=F();return i},pR.prototype.invoke_20e8_k$=function(t){return this.invoke_jyqqyd_k$((t==null?!0:Ce(t,Et))?t:M())},pR.$metadata$={kind:"class",interfaces:[]};function owe(t,i,s,c){var p=s===void 0?"8000":s,v;e:{v=Ht(i);break e}return LY(t,v,p,c),c}function awe(t,i,s){return owe(t,i,s,Object.create(Eo.prototype))}function LY(t,i,s,c){var p=t===void 0?new bn(""):t,v=i===void 0?null:i,k=s===void 0?"8000":s,x=yxe(k),T=x.map(Hwe()),N=v;return lwe(T,p,N==null?vee():N,c),c}function swe(t,i,s){return LY(t,i,s,Object.create(Eo.prototype))}function lwe(t,i,s,c){return Eo.call(c,t,t.map(Vwe(s,i)),i,s),c}function hR(){}hR.prototype.invoke_uch40_k$=function(t){var i;return t!=null?(qR(_o(),"Found development server at "+t),i=new vi(t,!0,new bn(""))):(Wb(_o(),"No development server found!"),i=null),i},hR.prototype.invoke_20e8_k$=function(t){return this.invoke_uch40_k$((t==null?!0:typeof t=="string")?t:M())},hR.$metadata$={kind:"class",interfaces:[]};function dR(t,i){this._$resourceDirs=t,this._$root=i}dR.prototype.invoke_yp4x34_k$=function(t){var i;if(t!=null){var s;e:{var c;t:{for(var p=Wr(this._$resourceDirs.length),v=this._$resourceDirs,k=0,x=v.length;k<x;){var T=v[k];k=k+1|0;var N;n:{N=Ob(t,new bn(T).joinWithPath(this._$root));break n}p.add_2bq_k$(N),F()}c=p;break t}s=c;break e}var B=s;i=new Sa(B)}else i=null;return i},dR.prototype.invoke_20e8_k$=function(t){return this.invoke_yp4x34_k$((t==null?!0:t instanceof vi)?t:M())},dR.$metadata$={kind:"class",interfaces:[]};function mR(t,i,s){this._$path_10=t,this._$bytes=i,this._$lastModified=s}mR.prototype.invoke_yp4x34_k$=function(t){var i=t,s=i==null?null:i.writeFile_mjqkfe_k$(this._$path_10,this._$bytes,this._$lastModified);return s==null?_a(Tn().errorWithMessage("No server to write "+this._$path_10+" to")):s},mR.prototype.invoke_20e8_k$=function(t){return this.invoke_yp4x34_k$((t==null?!0:t instanceof vi)?t:M())},mR.$metadata$={kind:"class",interfaces:[]};function vR(t){this._$path_11=t}vR.prototype.invoke_jyqqyd_k$=function(t){var i=t,s=i==null?null:i.fileAt_1hpm3o_k$(this._$path_11);return s==null?_a(Tn().errorWithMessage("No development server")):s},vR.prototype.invoke_20e8_k$=function(t){return this.invoke_jyqqyd_k$((t==null?!0:Ce(t,Et))?t:M())},vR.$metadata$={kind:"class",interfaces:[]};function gR(t,i){this._this$0_47=t,this._$path_12=i}gR.prototype.invoke_z0upnb_k$=function(t,i){this._this$0_47._networkFileSystem.map(exe(this._$path_12,t,i)),F()},gR.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_z0upnb_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},gR.$metadata$={kind:"class",interfaces:[]};function yR(t){this._$path_13=t}yR.prototype.invoke_jyqqyd_k$=function(t){var i=t,s=i==null?null:i.exists_1hpm3o_k$(this._$path_13);return s==null?_a(!1):s},yR.prototype.invoke_20e8_k$=function(t){return this.invoke_jyqqyd_k$((t==null?!0:Ce(t,Et))?t:M())},yR.$metadata$={kind:"class",interfaces:[]};function kR(t){this._$path_14=t}kR.prototype.invoke_jyqqyd_k$=function(t){var i=t,s=i==null?null:i.lastModified_1hpm3o_k$(this._$path_14);return s==null?_a(Tn().errorWithMessage("No development server available when checking path "+this._$path_14)):s},kR.prototype.invoke_20e8_k$=function(t){return this.invoke_jyqqyd_k$((t==null?!0:Ce(t,Et))?t:M())},kR.$metadata$={kind:"class",interfaces:[]};function $R(t,i){this._this$0_48=t,this._$watchPaths=i}$R.prototype.invoke_yp4x34_k$=function(t){var i=t,s;if(i==null)s=null;else{var c;e:{var p=this._this$0_48._resourceDirs,v;t:{for(var k=Di(),x=p,T=0,N=x.length;T<N;){var B=x[T];T=T+1|0;var L;n:{var O;r:{var W;i:{for(var K=Wr(so(this._$watchPaths,10)),q=this._$watchPaths.iterator_0_k$();q.hasNext_0_k$();){var Q=q.next_0_k$(),ee;o:{ee=new bn(B).joinWithString(Q).toString();break o}K.add_2bq_k$(ee),F()}W=K;break i}O=W;break r}L=O;break n}var ie=L;Cu(k,ie),F()}v=k;break t}c=v;break e}s=i.watchWithSetOfString(Gt(c))}var fe=s;return fe==null?_a(c_()):fe},$R.prototype.invoke_20e8_k$=function(t){return this.invoke_yp4x34_k$((t==null?!0:t instanceof vi)?t:M())},$R.$metadata$={kind:"class",interfaces:[]};function bR(t){this._this$0_49=t}bR.prototype.invoke_ojk41r_k$=function(t){var i;e:{var s=this._this$0_49._resourceDirs,c;t:{for(var p=Di(),v=s,k=0,x=v.length;k<x;){var T=v[k];k=k+1|0;var N;n:{var B;r:{var L;i:{for(var O=Wr(so(t,10)),W=t.iterator_0_k$();W.hasNext_0_k$();){var K=W.next_0_k$(),q;o:{q=Om(K,T);break o}O.add_2bq_k$(q),F()}L=O;break i}B=L;break r}N=B;break n}var Q=N;Cu(p,Q),F()}c=p;break t}i=c;break e}return Gt(i)},bR.prototype.invoke_20e8_k$=function(t){return this.invoke_ojk41r_k$((t!=null?Ce(t,ys):!1)?t:M())},bR.$metadata$={kind:"class",interfaces:[]};function Eo(t,i,s,c){this._rootNetworkFileSystem=t,this._networkFileSystem=i,this._root_1=s,this._resourceDirs=c}Eo.prototype._get_root__0_k$=function(){return this._root_1},Eo.prototype.writeFile_mjqkfe_k$=function(t,i,s){return this._rootNetworkFileSystem.flatMap(qwe(t,i,s))},Eo.prototype.fileAt_1hpm3o_k$=function(t){return this._networkFileSystem.flatMap(Kwe(t))},Eo.prototype.watchWithPath=function(t){return Xu(Jwe(this,t))},Eo.prototype.exists_1hpm3o_k$=function(t){return this._networkFileSystem.flatMap(Xwe(t))},Eo.prototype.lastModified_1hpm3o_k$=function(t){return this._networkFileSystem.flatMap(Ywe(t))},Eo.prototype.watchWithSetOfString=function(t){var i=this._rootNetworkFileSystem.flatMap(Qwe(this,t));return i.map(Zwe(this))},Eo.prototype.watchWithWatchPaths=function(t){return this.watchWithSetOfString(t)},Eo.prototype.textAtExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},Eo.prototype.textAt=function(t){return this.textAtExt_1hpm3o_k$(t)},Eo.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},Eo.prototype.subSystemExt_1hpm3o_k$=function(t){var i=Ce(this,fa)?this:M();return Ob(i,t)},Eo.prototype.subSystem=function(t){return this.subSystemExt_1hpm3o_k$(t)},Eo.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,fa)?this:M();return ME(i,t)},Eo.prototype.watch=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(bn).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.watchWithPath(v instanceof bn?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=de(ys).isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.watchWithSetOfString((B!=null?Ce(B,ys):!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(ys).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.watchWithSetOfString((q!=null?Ce(q,ys):!1)?q:M());return Q}throw At("Error choosing proper overload of function DevelopmentFileSystem.watch for the given parameters")},Eo.$metadata$={simpleName:"DevelopmentFileSystem",kind:"class",interfaces:[Et,xR,fa]},Object.defineProperty(Eo.prototype,"root",{configurable:!0,get:Eo.prototype._get_root__0_k$});function uwe(t,i,s,c){var p=i===void 0?null:i,v=s===void 0?If():s;return kv.call(c,new pa(mwe(t,p,v))),c}function DY(t,i,s){return uwe(t,i,s,Object.create(kv.prototype))}function wR(t){this._this$0_50=t}wR.prototype.invoke_hbh4re_k$=function(t){var i=t.component1_0_k$(),s=t.component2_0_k$();return this._this$0_50._watch.set_iav7o_k$(i),s},wR.prototype.invoke_20e8_k$=function(t){return this.invoke_hbh4re_k$(t instanceof cn?t:M())},wR.$metadata$={kind:"class",interfaces:[]};function kv(t){this._watch=t}kv.prototype.watchWithTAndFn=function(t,i){var s;e:{var c=this._watch.get_0_k$().watch_bp5we9_k$(t,i),p;t:{var v=c.component1_0_k$(),k=c.component2_0_k$();this._watch.set_iav7o_k$(v),p=k;break t}s=p;break e}return s},kv.prototype.watchWithTAndFileSystem=function(t,i,s){var c;e:{var p=this._watch.get_0_k$().watch_ka0cuh_k$(t,i,s),v;t:{var k=p.component1_0_k$(),x=p.component2_0_k$();this._watch.set_iav7o_k$(k),v=x;break t}c=v;break e}return c},kv.prototype.watchFlat=function(t,i){var s=this._watch.get_0_k$().watchFlat_swzqfm_k$(t,i);return s.map(nxe(this))},kv.prototype.watch=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=k==null?!0:ce()._get_anyClass__0_k$().isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=de(Et).isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=ce().functionClass(1).isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=i[0],O=(L==null?!0:Re(L))?L:M(),W=i[1],K=(W!=null?Ce(W,Et):!1)?W:M(),q=i[2],Q=this.watchWithTAndFileSystem(O,K,(q!=null?typeof q=="function":!1)?q:M());return Q}var ee,ie;if(i.length===2){var fe;e:{var le=i[0];fe=le==null?!0:ce()._get_anyClass__0_k$().isInstance_wi7j7l_k$(le);break e}ie=fe}else ie=!1;if(ie){var Se;e:{var Ee=i[1];Se=ce().functionClass(1).isInstance_wi7j7l_k$(Ee);break e}ee=Se}else ee=!1;if(ee){var Te=i[0],Me=(Te==null?!0:Re(Te))?Te:M(),Ne=i[1],Pe=this.watchWithTAndFn(Me,(Ne!=null?typeof Ne=="function":!1)?Ne:M());return Pe}throw At("Error choosing proper overload of function FileSystemWatcher.watch for the given parameters")},kv.$metadata$={simpleName:"FileSystemWatcher",kind:"class",interfaces:[]};function Sf(){NU=this,this._LOW=GU(),this._MEDIUM=If(),this._HIGH=Nwe()}Sf.prototype._get_LOW__0_k$=function(){return this._LOW},Sf.prototype._get_MEDIUM__0_k$=function(){return this._MEDIUM},Sf.prototype._get_HIGH__0_k$=function(){return this._HIGH},Sf.$metadata$={simpleName:"FileWatchErrorSensitivityEnum",kind:"object",interfaces:[]},Object.defineProperty(Sf.prototype,"LOW",{configurable:!0,get:Sf.prototype._get_LOW__0_k$}),Object.defineProperty(Sf.prototype,"MEDIUM",{configurable:!0,get:Sf.prototype._get_MEDIUM__0_k$}),Object.defineProperty(Sf.prototype,"HIGH",{configurable:!0,get:Sf.prototype._get_HIGH__0_k$});var NU;function cwe(){return NU==null&&new Sf,NU}Et.prototype.subSystem=function(t){var i=Ce(this,Et)?this:M();return Db(i,t)},Et.prototype.indexed=function(t){return this.indexedExt_ha5a7z_k$(t===void 0?36e5:t)},Et.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,Et)?this:M();return zb(i,t)},Et.prototype.indexedExt$default_l3mjq9_k$=function(t,i,s){return(i&1)!=0&&(t=36e5),s==null?this.indexedExt_ha5a7z_k$(t):s(t)},Et.prototype.textAt=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},Et.prototype.watcher=function(t,i){return this.watcherExt_gyro5k_k$(t===void 0?null:t,i===void 0?If():i)},Et.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},Et.prototype.watcherExt$default_w0x9wb_k$=function(t,i,s,c){return(s&1)!=0&&(t=null),(s&2)!=0&&(i=If()),c==null?this.watcherExt_gyro5k_k$(t,i):c(t,i)};function Et(){}Et.$metadata$={simpleName:"FileSystem",kind:"interface",interfaces:[]};function fa(){}fa.prototype.writeFile$default_d4gjvw_k$=function(t,i,s,c,p){return(c&4)!=0&&(s=null),p==null?this.writeFile_mjqkfe_k$(t,i,s):p(t,i,s)},fa.$metadata$={simpleName:"WriteableFileSystem",kind:"interface",interfaces:[Et]};function Db(t,i){return new Zo(t,i)}function Ob(t,i){return new Sl(t,i)}function zb(t,i){return new Vs(t,i)}function ME(t,i){return new Fc(t,i)}function Ef(t,i){var s=t.fileAt_1hpm3o_k$(i);return o0(s,rxe())}function xR(){}xR.$metadata$={simpleName:"InternalFileSystem",kind:"interface",interfaces:[Et]};function OY(t,i){return ECe(i,null,2,null)}function zY(t,i,s){return new Go(i,s)}function _we(t,i){return new Wo(i)}function UY(t,i){return n5(i,!1,null,6,null)}function jY(t,i,s){return n5(i,s,null,4,null)}function GY(t,i,s){return n5(i,!1,s,2,null)}function WY(t,i,s,c){return new Zi(i,s,c)}function HY(t,i){return i5(i,!1,null,6,null)}function VY(t,i,s){return i5(i,s,null,4,null)}function qY(t,i,s){return i5(i,!1,s,2,null)}function KY(t,i,s,c){return new vi(i,s,c)}function RU(){}RU.$metadata$={simpleName:"FileSystemWatch",kind:"interface",interfaces:[]};function PU(t,i){this._this$0_51=t,this._$tmp0_let_0=i}PU.prototype.invoke_0_k$=function(){var t=this._this$0_51._previousFileMap.get_2bw_k$(this._$tmp0_let_0),i;if(t==null)i=null;else{var s;e:{var c;t:{c=_a(t);break t}s=c;break e}i=s}return i},PU.$metadata$={kind:"class",interfaces:[]};function SR(t,i,s,c){this._this$0_52=t,this._$path_15=i,this._$tmp0_also_0_3=s,this._$tmp0_let_0_0=c}SR.prototype.invoke_sv8swh_k$=function(){{var t=this._this$0_52._newFileMap,i=new fl(this._$path_15,this._this$0_52._fileSystem,this._$tmp0_also_0_3);t.put_1q9pf_k$(this._$tmp0_let_0_0,i),F()}},SR.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},SR.$metadata$={kind:"class",interfaces:[]};function BU(t,i){this._$loggingFileSystem=t,this._this$0_53=i}BU.prototype.invoke_0_k$=function(){var t;e:{var i=this._$loggingFileSystem._newFileMap,s;t:{var c=hf(xi(i._get_size__0_k$())),p;n:{for(var v=i._get_entries__0_k$(),k=v.iterator_0_k$();k.hasNext_0_k$();){var x=k.next_0_k$(),T;r:{T=x._get_key__0_k$();break r}var N=T,B;r:{var L;i:{L=x._get_value__0_k$();break i}var O=L,W=O,K=W.component1_0_k$(),q=W.component2_0_k$(),Q=W.component3_0_k$(),ee=Q._get_currentValue__0_k$(),ie;if(ee==null)ie=null;else{var fe;i:{var le;o:{var Se=ee._get_optional__0_k$(),Ee;if(Se==null)Ee=null;else{var Te;a:{var Me;s:{Me=tQ(K,q,Se,this._this$0_53._errorSensitivity,!1,16,null);break s}Te=Me;break a}Ee=Te}le=Ee;break o}fe=le;break i}ie=fe}var Ne=ie,Pe;Ne==null?Pe=nQ(q,K,this._this$0_53._errorSensitivity,!1,8,null):Pe=Ne,B=Pe;break r}c.put_1q9pf_k$(N,B),F()}p=c;break n}s=p;break t}t=s;break e}return t},BU.$metadata$={kind:"class",interfaces:[]};function Lc(t,i,s,c){this._$this_6=t,this._fileSystem=i,this._newFileMap=s,this._previousFileMap=c,this._lock_0=new Pf}Lc.prototype.fileAt_1hpm3o_k$=function(t){var i;e:{var s=this._fileSystem._get_root__0_k$().joinWithPath(t).normalized(),c;t:{var p,v=this._$this_6._watchFilter;if((v==null?null:v(s.toString()))===!1)p=this._fileSystem.fileAt_1hpm3o_k$(t);else{var k;n:{var x=this._lock_0.invoke_fexekg_k$(ixe(this,s)),T=x==null?this._fileSystem.fileAt_1hpm3o_k$(t):x;this._lock_0.invoke_fexekg_k$(oxe(this,t,T,s)),k=T;break n}p=k}c=p;break t}i=c;break e}return i},Lc.prototype.watch_1hpm3o_k$=function(t){return this._fileSystem.watchWithPath(t)},Lc.prototype.watchWithPath=function(t){return this.watch_1hpm3o_k$(t)},Lc.prototype.exists_1hpm3o_k$=function(t){return this._fileSystem.exists_1hpm3o_k$(t)},Lc.prototype.lastModified_1hpm3o_k$=function(t){return this._fileSystem.lastModified_1hpm3o_k$(t)},Lc.prototype._get_root__0_k$=function(){return this._fileSystem._get_root__0_k$()},Lc.$metadata$={simpleName:"LoggingFileSystem",kind:"class",interfaces:[Et]};function fwe(t,i,s,c){return Cf.call(c,t,!1,i,Ds(),s),c}function pwe(t,i,s){return fwe(t,i,s,Object.create(Cf.prototype))}function FU(t,i){this._$loggingFileSystem_0=t,this._this$0_54=i}FU.prototype.invoke_0_k$=function(){var t;e:{var i=this._$loggingFileSystem_0._newFileMap,s;t:{var c=hf(xi(i._get_size__0_k$())),p;n:{for(var v=i._get_entries__0_k$(),k=v.iterator_0_k$();k.hasNext_0_k$();){var x=k.next_0_k$(),T;r:{T=x._get_key__0_k$();break r}var N=T,B;r:{var L;i:{L=x._get_value__0_k$();break i}var O=L,W=O,K=W.component1_0_k$(),q=W.component2_0_k$(),Q=W.component3_0_k$(),ee=Q._get_currentValue__0_k$(),ie;if(ee==null)ie=null;else{var fe;i:{var le;o:{var Se=ee._get_optional__0_k$(),Ee;if(Se==null)Ee=null;else{var Te;a:{var Me;s:{Me=tQ(K,q,Se,this._this$0_54._errorSensitivity,!1,16,null);break s}Te=Me;break a}Ee=Te}le=Ee;break o}fe=le;break i}ie=fe}var Ne=ie,Pe;Ne==null?Pe=nQ(q,K,this._this$0_54._errorSensitivity,!1,8,null):Pe=Ne,B=Pe;break r}c.put_1q9pf_k$(N,B),F()}p=c;break n}s=p;break t}t=s;break e}return t},FU.$metadata$={kind:"class",interfaces:[]};function ER(t,i,s){this._$fileSystem_0=t,this._this$0_55=i,this._$loggingFileSystem_1=s}ER.prototype.invoke_2c5_k$=function(t){return new cn(new Cf(this._$fileSystem_0,!0,this._this$0_55._watchFilter,this._$loggingFileSystem_1._lock_0.invoke_fexekg_k$(lxe(this._$loggingFileSystem_1,this._this$0_55)),this._this$0_55._errorSensitivity),t)},ER.prototype.invoke_20e8_k$=function(t){return this.invoke_2c5_k$((t==null?!0:Re(t))?t:M())},ER.$metadata$={kind:"class",interfaces:[]};function Cf(t,i,s,c,p){this._fileSystem_0=t,this._changed=i,this._watchFilter=s,this._watches=c,this._errorSensitivity=p}Cf.prototype.watch_bp5we9_k$=function(t,i){return this.watch_ka0cuh_k$(t,this._fileSystem_0,i)},Cf.prototype.watch_ka0cuh_k$=function(t,i,s){var c,p;if(this._watches.isEmpty_0_k$())p=!0;else{var v;e:{var k=this._watches._get_values__0_k$(),x;if(Ce(k,Si)?x=k.isEmpty_0_k$():x=!1,x){v=!1;break e}for(var T=k.iterator_0_k$();T.hasNext_0_k$();){var N=T.next_0_k$(),B;t:{B=N._changed_2;break t}if(B){v=!0;break e}}v=!1;break e}p=v}if(p){var L=Ql(),O;e:{var W;t:{var K=this._watches,q;n:{var Q=hf(xi(K._get_size__0_k$())),ee;r:{for(var ie=K._get_entries__0_k$(),fe=ie.iterator_0_k$();fe.hasNext_0_k$();){var le=fe.next_0_k$(),Se;i:{Se=le._get_key__0_k$();break i}var Ee=Se,Te;i:{var Me;o:{Me=le._get_value__0_k$();break o}var Ne=Me;Te=Ne.getFile_0_k$();break i}Q.put_1q9pf_k$(Ee,Te),F()}ee=Q;break r}q=ee;break n}W=q;break t}var Pe=W,Ye=Ql(),Ke;t:{Ke=Pe._get_entries__0_k$().iterator_0_k$();break t}for(var nt=Ke;nt.hasNext_0_k$();){var Ze=nt.next_0_k$(),ct;t:{var ht=Ze._get_value__0_k$();ct=ht._get_bool__0_k$();break t}ct&&(Ye.put_1q9pf_k$(Ze._get_key__0_k$(),Ze._get_value__0_k$()),F())}O=Ye;break e}var bt=new Lc(this,i,L,O),It=s(bt);c=new cn(new Cf(i,!0,this._watchFilter,bt._lock_0.invoke_fexekg_k$(axe(bt,this)),this._errorSensitivity),It)}else{var Nt;e:{var Rt=this._watches,Xt;t:{var rn=hf(xi(Rt._get_size__0_k$())),En;n:{for(var un=Rt._get_entries__0_k$(),gn=un.iterator_0_k$();gn.hasNext_0_k$();){var Fn=gn.next_0_k$(),Un;r:{Un=Fn._get_key__0_k$();break r}var en=Un,Nn;r:{var wn;i:{wn=Fn._get_value__0_k$();break i}var yr=wn;Nn=yr.watch_9t4vbe_k$(i);break r}rn.put_1q9pf_k$(en,Nn),F()}En=rn;break n}Xt=En;break t}Nt=Xt;break e}c=new cn(new Cf(i,!1,this._watchFilter,Nt,this._errorSensitivity),t)}return c},Cf.prototype.watchFlat_swzqfm_k$=function(t,i){return this.watchFlat_w7m256_k$(t,this._fileSystem_0,i)},Cf.prototype.watchFlat_w7m256_k$=function(t,i,s){var c,p;if(this._watches.isEmpty_0_k$())p=!0;else{var v;e:{var k=this._watches._get_values__0_k$(),x;if(Ce(k,Si)?x=k.isEmpty_0_k$():x=!1,x){v=!1;break e}for(var T=k.iterator_0_k$();T.hasNext_0_k$();){var N=T.next_0_k$(),B;t:{B=N._changed_2;break t}if(B){v=!0;break e}}v=!1;break e}p=v}if(p){var L=Ql(),O;e:{var W;t:{var K=this._watches,q;n:{var Q=hf(xi(K._get_size__0_k$())),ee;r:{for(var ie=K._get_entries__0_k$(),fe=ie.iterator_0_k$();fe.hasNext_0_k$();){var le=fe.next_0_k$(),Se;i:{Se=le._get_key__0_k$();break i}var Ee=Se,Te;i:{var Me;o:{Me=le._get_value__0_k$();break o}var Ne=Me;Te=Ne.getFile_0_k$();break i}Q.put_1q9pf_k$(Ee,Te),F()}ee=Q;break r}q=ee;break n}W=q;break t}var Pe=W,Ye=Ql(),Ke;t:{Ke=Pe._get_entries__0_k$().iterator_0_k$();break t}for(var nt=Ke;nt.hasNext_0_k$();){var Ze=nt.next_0_k$(),ct;t:{var ht=Ze._get_value__0_k$();ct=ht._get_bool__0_k$();break t}ct&&(Ye.put_1q9pf_k$(Ze._get_key__0_k$(),Ze._get_value__0_k$()),F())}O=Ye;break e}var bt=new Lc(this,i,L,O),It=s(bt);c=It.map(sxe(i,this,bt))}else{var Nt;e:{var Rt=this._watches,Xt;t:{var rn=hf(xi(Rt._get_size__0_k$())),En;n:{for(var un=Rt._get_entries__0_k$(),gn=un.iterator_0_k$();gn.hasNext_0_k$();){var Fn=gn.next_0_k$(),Un;r:{Un=Fn._get_key__0_k$();break r}var en=Un,Nn;r:{var wn;i:{wn=Fn._get_value__0_k$();break i}var yr=wn;Nn=yr.watch_9t4vbe_k$(i);break r}rn.put_1q9pf_k$(en,Nn),F()}En=rn;break n}Xt=En;break t}Nt=Xt;break e}c=_a(new cn(new Cf(i,!1,this._watchFilter,Nt,this._errorSensitivity),t))}return c},Cf.$metadata$={simpleName:"FileSystemWatchGeneral",kind:"class",interfaces:[RU]};function LU(t,i){this._this$0_56=t,this._$tmp0_let_0_1=i}LU.prototype.invoke_0_k$=function(){return this._this$0_56._previousFileMap_0.get_2bw_k$(this._$tmp0_let_0_1)},LU.$metadata$={kind:"class",interfaces:[]};function CR(t,i,s,c){this._this$0_57=t,this._$path_16=i,this._$tmp0_also_0_3_0=s,this._$tmp0_let_0_2=c}CR.prototype.invoke_sv8swh_k$=function(){{var t=this._this$0_57._newFileMap_0,i=new fl(this._$path_16,this._this$0_57._fileSystem_1,this._$tmp0_also_0_3_0);t.put_1q9pf_k$(this._$tmp0_let_0_2,i),F()}},CR.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},CR.$metadata$={kind:"class",interfaces:[]};function DU(t){this._$loggingFileSystem_2=t}DU.prototype.invoke_0_k$=function(){var t;e:{var i=this._$loggingFileSystem_2._newFileMap_0,s;t:{var c=hf(xi(i._get_size__0_k$())),p;n:{for(var v=i._get_entries__0_k$(),k=v.iterator_0_k$();k.hasNext_0_k$();){var x=k.next_0_k$(),T;r:{T=x._get_key__0_k$();break r}var N=T,B;r:{var L;i:{L=x._get_value__0_k$();break i}var O=L,W=O,K=W.component3_0_k$();B=K;break r}c.put_1q9pf_k$(N,B),F()}p=c;break n}s=p;break t}t=s;break e}return t},DU.$metadata$={kind:"class",interfaces:[]};function Dc(t,i,s,c){this._$this_7=t,this._fileSystem_1=i,this._newFileMap_0=s,this._previousFileMap_0=c,this._lock_1=new Pf}Dc.prototype.fileAt_1hpm3o_k$=function(t){var i;e:{var s=this._fileSystem_1._get_root__0_k$().joinWithPath(t).normalized(),c;t:{var p,v=this._$this_7._watchFilter_0;if((v==null?null:v(s.toString()))===!1)p=this._fileSystem_1.fileAt_1hpm3o_k$(t);else{var k;n:{var x=this._lock_1.invoke_fexekg_k$(uxe(this,s)),T=x==null?this._fileSystem_1.fileAt_1hpm3o_k$(t):x;this._lock_1.invoke_fexekg_k$(cxe(this,t,T,s)),k=T;break n}p=k}c=p;break t}i=c;break e}return i},Dc.prototype.watch_1hpm3o_k$=function(t){return this._fileSystem_1.watchWithPath(t)},Dc.prototype.watchWithPath=function(t){return this.watch_1hpm3o_k$(t)},Dc.prototype.exists_1hpm3o_k$=function(t){return this._fileSystem_1.exists_1hpm3o_k$(t)},Dc.prototype.lastModified_1hpm3o_k$=function(t){return this._fileSystem_1.lastModified_1hpm3o_k$(t)},Dc.prototype._get_root__0_k$=function(){return this._fileSystem_1._get_root__0_k$()},Dc.$metadata$={simpleName:"LoggingFileSystem",kind:"class",interfaces:[Et]};function hwe(t,i,s){return Td.call(s,t,!1,i,Ds(),null),s}function dwe(t,i){return hwe(t,i,Object.create(Td.prototype))}function JY(t,i,s){var c=Ql(),p;e:{var v=t._watched,k;t:{var x=Ql(),T;n:{T=v._get_entries__0_k$().iterator_0_k$();break n}for(var N=T;N.hasNext_0_k$();){var B=N.next_0_k$(),L;n:{L=!i.contains_2bq_k$(B._get_key__0_k$().toString());break n}L&&(x.put_1q9pf_k$(B._get_key__0_k$(),B._get_value__0_k$()),F())}k=x;break t}p=k;break e}var O=new Dc(t,t._fileSystem_2,c,p),W=s(O);return W.map(fxe(O,t))}function OU(t){this._$loggingFileSystem_3=t}OU.prototype.invoke_0_k$=function(){var t;e:{var i=this._$loggingFileSystem_3._newFileMap_0,s;t:{var c=hf(xi(i._get_size__0_k$())),p;n:{for(var v=i._get_entries__0_k$(),k=v.iterator_0_k$();k.hasNext_0_k$();){var x=k.next_0_k$(),T;r:{T=x._get_key__0_k$();break r}var N=T,B;r:{var L;i:{L=x._get_value__0_k$();break i}var O=L,W=O,K=W.component3_0_k$();B=K;break r}c.put_1q9pf_k$(N,B),F()}p=c;break n}s=p;break t}t=s;break e}return t},OU.$metadata$={kind:"class",interfaces:[]};function AR(t,i){this._$loggingFileSystem_4=t,this._this$0_58=i}AR.prototype.invoke_2c5_k$=function(t){var i=this._$loggingFileSystem_4._lock_1.invoke_fexekg_k$(hxe(this._$loggingFileSystem_4)),s,c;e:{c=!i.isEmpty_0_k$();break e}if(c){var p;e:{var v=i._get_keys__0_k$(),k;t:{for(var x=Wr(so(v,10)),T=v.iterator_0_k$();T.hasNext_0_k$();){var N=T.next_0_k$(),B;n:{B=N.toString();break n}x.add_2bq_k$(B),F()}k=x;break t}p=k;break e}s=this._this$0_58._fileSystem_2.watchWithWatchPaths(Gt(p))}else s=null;return new cn(new Td(this._this$0_58._fileSystem_2,!0,this._this$0_58._watchFilter_0,i,s),t)},AR.prototype.invoke_20e8_k$=function(t){return this.invoke_2c5_k$((t==null?!0:Re(t))?t:M())},AR.$metadata$={kind:"class",interfaces:[]};function TR(t,i){this._this$0_59=t,this._$watcher=i}TR.prototype.invoke_ojk41r_k$=function(t){return JY(this._this$0_59,t,this._$watcher)},TR.prototype.invoke_20e8_k$=function(t){return this.invoke_ojk41r_k$((t!=null?Ce(t,ys):!1)?t:M())},TR.$metadata$={kind:"class",interfaces:[]};function Td(t,i,s,c,p){this._fileSystem_2=t,this._changed_0=i,this._watchFilter_0=s,this._watched=c,this._changedSet=p}Td.prototype.watch_bp5we9_k$=function(t,i){var s=this._changedSet,c;if(s==null){var p,v;e:{var k=this._watched;v=!k.isEmpty_0_k$();break e}if(v){var x;e:{var T=this._watched._get_keys__0_k$(),N;t:{for(var B=Wr(so(T,10)),L=T.iterator_0_k$();L.hasNext_0_k$();){var O=L.next_0_k$(),W;n:{W=O.toString();break n}B.add_2bq_k$(W),F()}N=B;break t}x=N;break e}p=this._fileSystem_2.watchWithWatchPaths(Gt(x))}else p=null;c=p}else c=s;var K=c,q,Q;if(K==null)Q=!0;else{var ee=K._get_currentValue__0_k$(),ie;if(ee==null)ie=null;else{var fe;e:{fe=!ee.isEmpty_0_k$();break e}ie=fe}Q=ie===!0}if(Q){var le=Ql(),Se;e:{var Ee=this._watched,Te;t:{var Me=Ql(),Ne;n:{Ne=Ee._get_entries__0_k$().iterator_0_k$();break n}for(var Pe=Ne;Pe.hasNext_0_k$();){var Ye=Pe.next_0_k$(),Ke;n:{var nt=K,Ze=nt==null?null:nt._get_currentValue__0_k$();Ke=(Ze==null?null:Ze.contains_2bq_k$(Ye._get_key__0_k$().toString()))!==!0;break n}Ke&&(Me.put_1q9pf_k$(Ye._get_key__0_k$(),Ye._get_value__0_k$()),F())}Te=Me;break t}Se=Te;break e}var ct=new Dc(this,this._fileSystem_2,le,Se),ht=i(ct);q=new cn(new Td(this._fileSystem_2,!0,this._watchFilter_0,ct._lock_1.invoke_fexekg_k$(_xe(ct)),null),ht)}else q=new cn(new Td(this._fileSystem_2,!1,this._watchFilter_0,this._watched,K),t);return q},Td.prototype.watch_ka0cuh_k$=function(t,i,s){return this.watch_bp5we9_k$(t,s)},Td.prototype.watchFlat_swzqfm_k$=function(t,i){var s=this._changedSet,c;s==null?c=null:c=s.flatMap(pxe(this,i));var p=c;return p==null?JY(this,c_(),i):p},Td.$metadata$={simpleName:"FileSystemWatchInternal",kind:"class",interfaces:[RU]};function mwe(t,i,s){var c;return Ce(t,xR)?c=dwe(t,i):c=pwe(t,i,s),c}function Af(t,i,s){return DY(t,i,s)}var XY,YY,QY,ZY;function zU(){if(ZY)return F();ZY=!0,XY=new s0("LOW",0),YY=new s0("MEDIUM",1),QY=new s0("HIGH",2)}function s0(t,i){yi.call(this,t,i)}s0.$metadata$={simpleName:"FileWatchErrorSensitivity",kind:"class",interfaces:[]};function vwe(t,i,s,c,p,v){return Yu.call(v,t,!1,Tn().success(s),i,null,null,Oc()._noException,c,p),v}function gwe(t,i,s,c,p){return vwe(t,i,s,c,p,Object.create(Yu.prototype))}function ywe(t,i,s,c,p){return Yu.call(p,t,!1,null,i,c?Oc()._emptyArray:null,c?null:Oc()._zeroDate,null,s,c),p}function kwe(t,i,s,c){return ywe(t,i,s,c,Object.create(Yu.prototype))}function $we(t,i,s,c,p){return Yu.call(p,i,!1,null,t,null,null,null,s,c),p}function bwe(t,i,s,c){return $we(t,i,s,c,Object.create(Yu.prototype))}function wwe(t,i){var s=i.fileAt_1hpm3o_k$(t._path_1),c=o0(s,dxe()),p=aU(Wp(),s,c);return p.map(mxe(t,i))}function xwe(t,i){var s=i.fileAt_1hpm3o_k$(t._path_1),c=i.lastModified_1hpm3o_k$(t._path_1),p=aU(Wp(),s,c);return p.map(vxe(t,i))}function eQ(){UU=this,this._timeOut=Tn().errorWithMessage("Request timed out"),this._noException=xp("NoException"),this._emptyArray=new Int8Array(0),this._zeroDate=new at(0,-2147483648)}eQ.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var UU;function Oc(){return UU==null&&new eQ,UU}function IR(){}IR.prototype.invoke_1hjdyz_k$=function(t){return t.readAllBytes_0_k$()},IR.prototype.invoke_20e8_k$=function(t){return this.invoke_1hjdyz_k$((t!=null?Ce(t,yv):!1)?t:M())},IR.$metadata$={kind:"class",interfaces:[]};function MR(t,i){this._this$0_60=t,this._$fileSystem_1=i}MR.prototype.invoke_5qpst9_k$=function(t){var i=t.component1_0_k$(),s=t.component2_0_k$(),c=s,p;if(c instanceof _n){var v=this._this$0_60._lastArray!=null?vJ(this._this$0_60._lastArray,s._value_16):!1,k;if(this._this$0_60._errorSensitivity_0.compareTo_2bq_k$(If())>0)k=Oc()._noException;else{var x=this._this$0_60._lastError;k=x==null?Oc()._noException:x}p=new Yu(this._this$0_60._path_1,v,i,this._$fileSystem_1,s._value_16,null,k,this._this$0_60._errorSensitivity_0,this._this$0_60._watchContents)}else if(c instanceof fn){var T=(this._this$0_60._errorSensitivity_0.compareTo_2bq_k$(GU())>0?this._this$0_60._lastError!=null:!1)?s._error.message!=this._this$0_60._lastError.message:!1,N;if(this._this$0_60._errorSensitivity_0.compareTo_2bq_k$(If())>0)N=Oc()._emptyArray;else{var B=this._this$0_60._lastArray;N=B==null?Oc()._emptyArray:B}p=new Yu(this._this$0_60._path_1,T,i,this._$fileSystem_1,N,null,s._error,this._this$0_60._errorSensitivity_0,this._this$0_60._watchContents)}else Lr();return p},MR.prototype.invoke_20e8_k$=function(t){return this.invoke_5qpst9_k$(t instanceof Ws?t:M())},MR.$metadata$={kind:"class",interfaces:[]};function NR(t,i){this._this$0_61=t,this._$fileSystem_2=i}NR.prototype.invoke_f12si2_k$=function(t){var i=t.component1_0_k$(),s=t.component2_0_k$(),c=s,p;if(c instanceof _n){var v=this._this$0_61._lastDate!=null?this._this$0_61._lastDate.compareTo_wiekkq_k$(s._value_16)<0:!1,k;if(this._this$0_61._errorSensitivity_0.compareTo_2bq_k$(If())>0)k=Oc()._noException;else{var x=this._this$0_61._lastError;k=x==null?Oc()._noException:x}p=new Yu(this._this$0_61._path_1,v,i,this._$fileSystem_2,null,s._value_16,k,this._this$0_61._errorSensitivity_0,this._this$0_61._watchContents)}else if(c instanceof fn){var T=(this._this$0_61._errorSensitivity_0.compareTo_2bq_k$(GU())>0?this._this$0_61._lastError!=null:!1)?s._error.message!=this._this$0_61._lastError.message:!1,N;if(this._this$0_61._errorSensitivity_0.compareTo_2bq_k$(If())>0)N=Oc()._zeroDate;else{var B=this._this$0_61._lastDate;N=B==null?Oc()._zeroDate:B}p=new Yu(this._this$0_61._path_1,T,i,this._$fileSystem_2,null,N,s._error,this._this$0_61._errorSensitivity_0,this._this$0_61._watchContents)}else Lr();return p},NR.prototype.invoke_20e8_k$=function(t){return this.invoke_f12si2_k$(t instanceof Ws?t:M())},NR.$metadata$={kind:"class",interfaces:[]};function Yu(t,i,s,c,p,v,k,x,T){Oc(),this._path_1=t,this._changed_1=i,this._file=s,this._fileSystem_3=c,this._lastArray=p,this._lastDate=v,this._lastError=k,this._errorSensitivity_0=x,this._watchContents=T}Yu.prototype.getFile_0_k$=function(){var t=this._file;return t==null?Oc()._timeOut:t},Yu.prototype.watch_9t4vbe_k$=function(t){return this._watchContents?wwe(this,t):xwe(this,t)},Yu.prototype.watch$default_6p0h65_k$=function(t,i,s){return(i&1)!=0&&(t=this._fileSystem_3),this.watch_9t4vbe_k$(t)},Yu.$metadata$={simpleName:"FileWatchAsync",kind:"class",interfaces:[]};function Swe(t,i,s,c,p,v){var k=Tn().success(s),x=gwe(t,i,s,c,p);return Tf.call(v,t,!1,i,k,x.watch$default_6p0h65_k$(null,1,null)),v}function Ewe(t,i,s,c,p,v,k,x){return(v&8)!=0&&(c=If()),(v&16)!=0&&(p=!1),Swe(t,i,s,c,p,x),x}function tQ(t,i,s,c,p,v,k){return Ewe(t,i,s,c,p,v,k,Object.create(Tf.prototype))}function Cwe(t,i,s,c,p){return Tf.call(p,t,!1,i,null,_a(kwe(t,i,s,c))),p}function Awe(t,i,s,c,p,v,k){return(p&4)!=0&&(s=If()),(p&8)!=0&&(c=!1),Cwe(t,i,s,c,k),k}function Twe(t,i,s,c,p,v){return Awe(t,i,s,c,p,v,Object.create(Tf.prototype))}function Iwe(t,i,s,c,p){var v=bwe(t,i,s,c);return Tf.call(p,i,!1,t,null,v.watch$default_6p0h65_k$(null,1,null)),p}function Mwe(t,i,s,c,p,v,k){return(p&4)!=0&&(s=If()),(p&8)!=0&&(c=!1),Iwe(t,i,s,c,k),k}function nQ(t,i,s,c,p,v){return Mwe(t,i,s,c,p,v,Object.create(Tf.prototype))}function rQ(){jU=this,this._timeOut_0=Tn().errorWithMessage("Request timed out")}rQ.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var jU;function iQ(){return jU==null&&new rQ,jU}function Tf(t,i,s,c,p){iQ(),this._path_2=t,this._changed_2=i,this._fileSystem_4=s,this._file_0=c,this._fileWatchAsync=p}Tf.prototype.getFile_0_k$=function(){var t=this._file_0,i;if(t==null){var s=this._fileWatchAsync._get_currentValue__0_k$();i=s==null?null:s.getFile_0_k$()}else i=t;var c=i;return c==null?iQ()._timeOut_0:c},Tf.prototype.watch_9t4vbe_k$=function(t){var i=this._fileWatchAsync._get_currentValue__0_k$(),s;if(i==null)s=null;else{var c;e:{var p;t:{p=new Tf(this._path_2,i._changed_1,t,i.getFile_0_k$(),i.watch_9t4vbe_k$(t));break t}c=p;break e}s=c}var v=s;return v==null?new Tf(this._path_2,!1,t,this._file_0,this._fileWatchAsync):v},Tf.$metadata$={simpleName:"FileWatch",kind:"class",interfaces:[]};function RR(){}RR.prototype.invoke_1hjdyz_k$=function(t){return t.readAllText_0_k$()},RR.prototype.invoke_20e8_k$=function(t){return this.invoke_1hjdyz_k$((t!=null?Ce(t,yv):!1)?t:M())},RR.$metadata$={kind:"class",interfaces:[]};function GU(){return zU(),XY}function If(){return zU(),YY}function Nwe(){return zU(),QY}function Rwe(t,i){var s=new nR(t,i);return function(c){return s.invoke_1blrcu_k$(c)}}function Pwe(t){var i=new rR(t);return function(s){return i.invoke_tdb558_k$(s)}}function Bwe(t){var i=new iR(t);return function(s){return i.invoke_1blrcu_k$(s)}}function Fwe(t,i){var s=new oR(t,i);return function(c){return s.invoke_vcj5fe_k$(c)}}function Lwe(t){var i=new aR(t);return function(s){return i.invoke_dxgt1t_k$(s)}}function Dwe(){var t=new tR;return function(i){return t.invoke_oxsxsn_k$(i)}}function Owe(){var t=new lR;return function(i){return t.invoke_1hjdyz_k$(i)}}function zwe(){var t=new uR;return function(i){return t.invoke_6wfw3l_k$(i)}}function Uwe(){var t=new cR;return function(i){return t.invoke_4ald0r_k$(i)}}function jwe(t){var i=new MU(t);return function(){return i.invoke_0_k$()}}function Gwe(t,i){var s=new _R(t,i);return function(c){return s.invoke_4wghue_k$(c)}}function Wwe(){var t=new sR;return function(i){return t.invoke_rrujww_k$(i),F()}}function Hwe(){var t=new hR;return function(i){return t.invoke_uch40_k$(i)}}function Vwe(t,i){var s=new dR(t,i);return function(c){return s.invoke_yp4x34_k$(c)}}function qwe(t,i,s){var c=new mR(t,i,s);return function(p){return c.invoke_yp4x34_k$(p)}}function Kwe(t){var i=new vR(t);return function(s){return i.invoke_jyqqyd_k$(s)}}function Jwe(t,i){var s=new gR(t,i);return function(c,p){return s.invoke_z0upnb_k$(c,p),F()}}function Xwe(t){var i=new yR(t);return function(s){return i.invoke_jyqqyd_k$(s)}}function Ywe(t){var i=new kR(t);return function(s){return i.invoke_jyqqyd_k$(s)}}function Qwe(t,i){var s=new $R(t,i);return function(c){return s.invoke_yp4x34_k$(c)}}function Zwe(t){var i=new bR(t);return function(s){return i.invoke_ojk41r_k$(s)}}function exe(t,i,s){var c=new pR(t,i,s);return function(p){return c.invoke_jyqqyd_k$(p)}}function txe(t){var i=new fR(t);return function(s){return i.invoke_wrfpe0_k$(s),F()}}function nxe(t){var i=new wR(t);return function(s){return i.invoke_hbh4re_k$(s)}}function rxe(){var t=new RR;return function(i){return t.invoke_1hjdyz_k$(i)}}function ixe(t,i){var s=new PU(t,i);return function(){return s.invoke_0_k$()}}function oxe(t,i,s,c){var p=new SR(t,i,s,c);return function(){return p.invoke_sv8swh_k$(),F()}}function axe(t,i){var s=new FU(t,i);return function(){return s.invoke_0_k$()}}function sxe(t,i,s){var c=new ER(t,i,s);return function(p){return c.invoke_2c5_k$(p)}}function lxe(t,i){var s=new BU(t,i);return function(){return s.invoke_0_k$()}}function uxe(t,i){var s=new LU(t,i);return function(){return s.invoke_0_k$()}}function cxe(t,i,s,c){var p=new CR(t,i,s,c);return function(){return p.invoke_sv8swh_k$(),F()}}function _xe(t){var i=new OU(t);return function(){return i.invoke_0_k$()}}function fxe(t,i){var s=new AR(t,i);return function(c){return s.invoke_2c5_k$(c)}}function pxe(t,i){var s=new TR(t,i);return function(c){return s.invoke_ojk41r_k$(c)}}function hxe(t){var i=new DU(t);return function(){return i.invoke_0_k$()}}function dxe(){var t=new IR;return function(i){return t.invoke_1hjdyz_k$(i)}}function mxe(t,i){var s=new MR(t,i);return function(c){return s.invoke_5qpst9_k$(c)}}function vxe(t,i){var s=new NR(t,i);return function(c){return s.invoke_f12si2_k$(c)}}function PR(){}PR.prototype.invoke_rrujww_k$=function(t){t._ignoreUnknownKeys=!0,t._prettyPrint=!0},PR.prototype.invoke_20e8_k$=function(t){return this.invoke_rrujww_k$(t instanceof cv?t:M()),F()},PR.$metadata$={kind:"class",interfaces:[]};function Ub(){WU=this;var t=this;t._json_5=iE(null,gxe(),1)}Ub.prototype._get_json__0_k$=function(){return this._json_5},Ub.prototype.parseJson=function(t,i){var s;e:{Tn();var c;try{var p;t:{p=VCe(t,i);break t}c=new _n(p)}catch(k){var v;if(k instanceof ki)v=new fn(k);else throw k;c=v}s=c;break e}return s},Ub.$metadata$={simpleName:"JsonEncoderDecoder",kind:"object",interfaces:[]},Object.defineProperty(Ub.prototype,"json",{configurable:!0,get:Ub.prototype._get_json__0_k$});var WU;function oQ(){return WU==null&&new Ub,WU}function gxe(){var t=new PR;return function(i){return t.invoke_rrujww_k$(i),F()}}function yxe(t){var i;e:{var s=rY,c;t:{for(var p=Wr(s.length),v=s,k=0,x=v.length;k<x;){var T=v[k];k=k+1|0;var N;n:{N="http://"+T+":"+t;break n}p.add_2bq_k$(N),F()}c=p;break t}i=c;break e}var B=i,L=Wp(),O;e:{var W;t:{for(var K=Wr(so(B,10)),q=B.iterator_0_k$();q.hasNext_0_k$();){q.next_0_k$();var Q;n:{Q=qCe();break n}K.add_2bq_k$(Q),F()}W=K;break t}O=W;break e}var ee=L.all(O),ie=ee.map(bxe(B));return ie.map(wxe())}var aQ,sQ;function kxe(){if(sQ)return F();sQ=!0,new $v("HEAD",0),new $v("GET",1),new $v("PUT",2),aQ=new $v("POST",3)}function $v(t,i){yi.call(this,t,i)}$v.$metadata$={simpleName:"HTTPMethod",kind:"class",interfaces:[]};function l0(t,i){kI(i,this),this._code=t,hr(this,l0)}l0.$metadata$={simpleName:"HTTPException",kind:"class",interfaces:[]};function BR(t){this._$servers=t}BR.prototype.invoke_8b69x0_k$=function(t){return ot(this._$servers,t)},BR.prototype.invoke_20e8_k$=function(t){return this.invoke_8b69x0_k$((t!=null?Ce(t,Hr):!1)?t:M())},BR.$metadata$={kind:"class",interfaces:[]};function FR(){}FR.prototype.invoke_659zsl_k$=function(t){var i;e:{for(var s=t.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$(),p;t:{var v=c.component2_0_k$();p=v;break t}if(p){i=c;break e}}i=null;break e}var k=i;return k==null?null:k._first},FR.prototype.invoke_20e8_k$=function(t){return this.invoke_659zsl_k$((t!=null?Ce(t,Hr):!1)?t:M())},FR.$metadata$={kind:"class",interfaces:[]};function $xe(){return kxe(),aQ}function bxe(t){var i=new BR(t);return function(s){return i.invoke_8b69x0_k$(s)}}function wxe(){var t=new FR;return function(i){return t.invoke_659zsl_k$(i)}}function bn(t){this._path_3=t}bn.prototype.lastComponent=function(){var t;e:{t=wy([new pe(92),new pe(47)]);break e}var i=t,s=O1(this._path_3,i,0,!1,6);if(s>0){var c;e:{var p=this._path_3,v=s+1|0,k;t:{k=p;break t}c=k.substring(v);break e}return c}return this._path_3},bn.prototype.extension=function(){var t=this.lastComponent(),i=new pe(46),s=zm(t,i,0,!1,6);if(s>=0){var c;e:{var p;t:{p=t;break t}c=p.substring(s);break e}return c}return""},bn.prototype.baseName=function(){var t=this.lastComponent(),i=new pe(46),s=zm(t,i,0,!1,6);return s>=0?Qg(t,be(0,s)):t},bn.prototype.directory=function(){var t;e:{t=wy([new pe(92),new pe(47)]);break e}var i=t,s=O1(this._path_3,i,0,!1,6);return s>=0?new bn(Qg(this._path_3,be(0,s))):new bn("")},bn.prototype.joinWithString=function(t){var i;e:{var s=this._path_3;i=sr(s)===0;break e}if(i)return new bn(t);var c,p=new pe(47);if(Zg(this._path_3,p,!1,2))c=!0;else{var v=new pe(92);c=Zg(this._path_3,v,!1,2)}return c?new bn(this._path_3+t):new bn(this._path_3+"/"+t)},bn.prototype.joinWithPath=function(t){return this.joinWithString(t._path_3)},bn.prototype.divWithString=function(t){return this.joinWithString(t)},bn.prototype.divWithPath=function(t){return this.joinWithPath(t)},bn.prototype.normalized=function(){var t=wy([new pe(92),new pe(47)]),i=U1(this._path_3,t,!1,0,6),s;e:{s=Di();break e}for(var c=s,p=i.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$();{var k,x,T;e:{T=sr(v)>0;break e}if(T?x=v!==".":x=!1,x?k=v!=="..":k=!1,k)c.add_2bq_k$(v),F();else{var N;if(v===".."){var B;e:{B=!c.isEmpty_0_k$();break e}N=B}else N=!1;N&&(c.removeAt_ha5a7z_k$(c._get_size__0_k$()-1|0),F())}}}var L,O;if(V$(this._path_3,"//",!1,2)?O=!0:O=V$(this._path_3,"\\\\",!1,2),O)L="//";else{var W;V$(this._path_3,"/",!1,2)?W=!0:W=V$(this._path_3,"\\",!1,2),W?L="/":L=""}var K=L,q,Q=WK(this._path_3,"/",!1,2);Q|WK(this._path_3,"\\",!1,2)?q="/":q="";var ee=q;return new bn(Ge(c,"/",K,ee,0,null,null,56))},bn.prototype.toString=function(){return this._path_3},bn.prototype.join=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.joinWithString((v!=null?typeof v=="string":!1)?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=de(bn).isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.joinWithPath(B instanceof bn?B:M());return L}throw At("Error choosing proper overload of function Path.join for the given parameters")},bn.prototype.div=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.divWithString((v!=null?typeof v=="string":!1)?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=de(bn).isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.divWithPath(B instanceof bn?B:M());return L}throw At("Error choosing proper overload of function Path.div for the given parameters")},bn.prototype.copy=function(t){return this.copy_6wfw3l_k$(t===void 0?this._path_3:t)},bn.prototype.copy_6wfw3l_k$=function(t){return new bn(t)},bn.prototype.copy$default_nmiqce_k$=function(t,i,s){return(i&1)!=0&&(t=this._path_3),this.copy_6wfw3l_k$(t)},bn.prototype.hashCode=function(){return td(this._path_3)},bn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof bn))return!1;var i=t instanceof bn?t:M();return this._path_3===i._path_3},bn.$metadata$={simpleName:"Path",kind:"class",interfaces:[]};function xxe(t){return new bn(t)}function zc(t,i,s){return t.add_2bq_k$(s)}function jb(t,i,s){return t.remove_2bq_k$(s)}function u0(t,i,s){Cu(t,s),F()}function HU(t,i,s){var c=Zhe(t);return s(c),c}function NE(t,i,s){return s(t),t}function lQ(t,i){for(var s=gp(),c=i,p=0,v=c.length;p<v;){var k=c[p];p=p+1|0,zc(s,Ii(),k),F()}return s}function VU(t,i){var s=gp();{var c=i._get_first__0_k$(),p=i._get_last__0_k$();if(c<=p)do{var v=c;c=c.plus_ha5a7z_k$(1),zc(s,Ii(),v),F()}while(!v.equals(p))}return s}function Gb(t,i,s){var c=gp();return u0(c,i,t),u0(c,i,s),c}function Sxe(t,i,s){for(var c=YT(pt(i.length,3)),p=Hde(i),v=p,k=0,x=v.length;k<x;){var T=v[k];if(k=k+1|0,s.contains_2bq_k$(T))c.append_wi8o78_k$(T),F();else for(var N=fO(T.toString()),B=N,L=0,O=B.length;L<O;){var W=B[L];L=L+1|0;var K=W&255;c.append_wi8o78_k$(new pe(37)),F(),c.append_uch40_k$(dp(OK(K,16),2,new pe(48))),F()}}return c.toString()}function LR(){}LR.prototype.invoke_ihgp1j_k$=function(t){zc(t,Ii(),new pe(45)),F(),zc(t,Ii(),new pe(46)),F(),zc(t,Ii(),new pe(95)),F(),zc(t,Ii(),new pe(126)),F()},LR.prototype.invoke_20e8_k$=function(t){return this.invoke_ihgp1j_k$(t instanceof Xi?t:M()),F()},LR.$metadata$={kind:"class",interfaces:[]};function DR(){}DR.prototype.invoke_ihgp1j_k$=function(t){zc(t,Ii(),new pe(58)),F(),zc(t,Ii(),new pe(64)),F()},DR.prototype.invoke_20e8_k$=function(t){return this.invoke_ihgp1j_k$(t instanceof Xi?t:M()),F()},DR.$metadata$={kind:"class",interfaces:[]};function OR(){}OR.prototype.invoke_ihgp1j_k$=function(t){zc(t,Ii(),new pe(58)),F()},OR.prototype.invoke_20e8_k$=function(t){return this.invoke_ihgp1j_k$(t instanceof Xi?t:M()),F()},OR.$metadata$={kind:"class",interfaces:[]};function zR(){}zR.prototype.invoke_ihgp1j_k$=function(t){u0(t,Ii(),Ii()._PCHAR),jb(t,Ii(),new pe(59)),F()},zR.prototype.invoke_20e8_k$=function(t){return this.invoke_ihgp1j_k$(t instanceof Xi?t:M()),F()},zR.$metadata$={kind:"class",interfaces:[]};function UR(){}UR.prototype.invoke_ihgp1j_k$=function(t){u0(t,Ii(),Ii()._PCHAR),jb(t,Ii(),new pe(59)),F(),jb(t,Ii(),new pe(61)),F()},UR.prototype.invoke_20e8_k$=function(t){return this.invoke_ihgp1j_k$(t instanceof Xi?t:M()),F()},UR.$metadata$={kind:"class",interfaces:[]};function jR(){}jR.prototype.invoke_ihgp1j_k$=function(t){u0(t,Ii(),Ii()._PCHAR),jb(t,Ii(),new pe(59)),F()},jR.prototype.invoke_20e8_k$=function(t){return this.invoke_ihgp1j_k$(t instanceof Xi?t:M()),F()},jR.$metadata$={kind:"class",interfaces:[]};function GR(){}GR.prototype.invoke_ihgp1j_k$=function(t){u0(t,Ii(),Ii()._PCHAR),zc(t,Ii(),new pe(47)),F(),zc(t,Ii(),new pe(63)),F(),jb(t,Ii(),new pe(61)),F(),jb(t,Ii(),new pe(38)),F()},GR.prototype.invoke_20e8_k$=function(t){return this.invoke_ihgp1j_k$(t instanceof Xi?t:M()),F()},GR.$metadata$={kind:"class",interfaces:[]};function WR(){}WR.prototype.invoke_ihgp1j_k$=function(t){u0(t,Ii(),Ii()._PCHAR),zc(t,Ii(),new pe(47)),F(),zc(t,Ii(),new pe(63)),F()},WR.prototype.invoke_20e8_k$=function(t){return this.invoke_ihgp1j_k$(t instanceof Xi?t:M()),F()},WR.$metadata$={kind:"class",interfaces:[]};function qU(){KU=this,this._GEN_DELIMS=lQ(this,wy([new pe(58),new pe(47),new pe(63),new pe(35),new pe(91),new pe(93),new pe(64)])),this._SUB_DELIMS=lQ(this,wy([new pe(33),new pe(36),new pe(38),new pe(39),new pe(40),new pe(41),new pe(42),new pe(43),new pe(44),new pe(59),new pe(61)])),this._RESERVED=Gb(this._GEN_DELIMS,this,this._SUB_DELIMS),this._LOW_ALPHA=VU(this,new pe(97).rangeTo_wi8o78_k$(new pe(122))),this._UP_ALPHA=VU(this,new pe(65).rangeTo_wi8o78_k$(new pe(90))),this._ALPHA=Gb(this._LOW_ALPHA,this,this._UP_ALPHA),this._DIGIT=VU(this,new pe(48).rangeTo_wi8o78_k$(new pe(57))),this._ALPHANUM=Gb(this._ALPHA,this,this._DIGIT);var t=this,i=Gb(this._ALPHA,this,this._DIGIT);t._UNRESERVED=HU(i,this,Exe());var s=this,c=Gb(this._UNRESERVED,this,this._SUB_DELIMS);s._PCHAR=HU(c,this,Cxe());var p=this,v=Gb(this._UNRESERVED,this,this._SUB_DELIMS);p._USER_INFO=HU(v,this,Axe());var k=this,x=gp();k._PATH_SEGMENT=NE(x,this,Txe());var T=this,N=gp();T._PATH_PARAM_NAME=NE(N,this,Ixe());var B=this,L=gp();B._PATH_PARAM_VALUE=NE(L,this,Mxe());var O=this,W=gp();O._QUERY=NE(W,this,Nxe());var K=this,q=gp();K._FRAGMENT=NE(q,this,Rxe())}qU.prototype.encodePathSegment_6wfw3l_k$=function(t){return Sxe(this,t,this._PATH_SEGMENT)},qU.$metadata$={simpleName:"UrlEncoding",kind:"object",interfaces:[]};var KU;function Ii(){return KU==null&&new qU,KU}function Exe(){var t=new LR;return function(i){return t.invoke_ihgp1j_k$(i),F()}}function Cxe(){var t=new DR;return function(i){return t.invoke_ihgp1j_k$(i),F()}}function Axe(){var t=new OR;return function(i){return t.invoke_ihgp1j_k$(i),F()}}function Txe(){var t=new zR;return function(i){return t.invoke_ihgp1j_k$(i),F()}}function Ixe(){var t=new UR;return function(i){return t.invoke_ihgp1j_k$(i),F()}}function Mxe(){var t=new jR;return function(i){return t.invoke_ihgp1j_k$(i),F()}}function Nxe(){var t=new GR;return function(i){return t.invoke_ihgp1j_k$(i),F()}}function Rxe(){var t=new WR;return function(i){return t.invoke_ihgp1j_k$(i),F()}}function Pxe(){return uQ}var uQ;function qs(){JU=this,this._Debug=Vb(),this._Internal=BE(),this._Info=c0(),this._Warning=qb(),this._Error=Md()}qs.prototype._get_Debug__0_k$=function(){return this._Debug},qs.prototype._get_Internal__0_k$=function(){return this._Internal},qs.prototype._get_Info__0_k$=function(){return this._Info},qs.prototype._get_Warning__0_k$=function(){return this._Warning},qs.prototype._get_Error__0_k$=function(){return this._Error},qs.$metadata$={simpleName:"LogLevelEnum",kind:"object",interfaces:[]},Object.defineProperty(qs.prototype,"Debug",{configurable:!0,get:qs.prototype._get_Debug__0_k$}),Object.defineProperty(qs.prototype,"Internal",{configurable:!0,get:qs.prototype._get_Internal__0_k$}),Object.defineProperty(qs.prototype,"Info",{configurable:!0,get:qs.prototype._get_Info__0_k$}),Object.defineProperty(qs.prototype,"Warning",{configurable:!0,get:qs.prototype._get_Warning__0_k$}),Object.defineProperty(qs.prototype,"Error",{configurable:!0,get:qs.prototype._get_Error__0_k$});var JU;function Bxe(){return JU==null&&new qs,JU}function HR(t){this._$l=t}HR.prototype.invoke_8aqb2y_k$=function(t){return t.add_2bq_k$(this._$l)},HR.prototype.invoke_20e8_k$=function(t){return this.invoke_8aqb2y_k$((t!=null?Ce(t,Cp):!1)?t:M())},HR.$metadata$={kind:"class",interfaces:[]};function VR(t){this._$l_0=t}VR.prototype.invoke_8aqb2y_k$=function(t){return t.remove_2bq_k$(this._$l_0)},VR.prototype.invoke_20e8_k$=function(t){return this.invoke_8aqb2y_k$((t!=null?Ce(t,Cp):!1)?t:M())},VR.$metadata$={kind:"class",interfaces:[]};function Co(){XU=this,this._logListeners=new pa(bI()),this._logLevelRef=new pa(c0()),this._printLogWithListenersRef=new is(0);var t;e:{var i=Fr(de(YU));t=i;break e}Ni(this,t,Kr(["errorWithString","debug","log","errorWithStringAndException","errorWithError","error","logListeners","addLogListener","logLevel","removeLogListener","warning","logLevelRef","printLogWithListenersRef","time","printLogWithListeners","info"]))}Co.prototype._set_logLevel__irxaku_k$=function(t){return this._logLevelRef.set_iav7o_k$(t)},Co.prototype._get_logLevel__0_k$=function(){return this._logLevelRef.get_0_k$()},Co.prototype._set_printLogWithListeners__rpwsgn_k$=function(t){return this._printLogWithListenersRef.set_majfzk_k$(t?1:0)},Co.prototype._get_printLogWithListeners__0_k$=function(){return this._printLogWithListenersRef.get_0_k$()===1},Co.prototype.log=function(t,i,s){return this.log_xj5xsb_k$(t,i,s===void 0?null:s)},Co.prototype.log_xj5xsb_k$=function(t,i,s){for(var c=this._logListeners.get_0_k$(),p=c.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$();v(t,i)}(t.compareTo_2bq_k$(this._get_logLevel__0_k$())>=0?c.isEmpty_0_k$()?!0:this._get_printLogWithListeners__0_k$():!1)&&iAe().log_xj5xsb_k$(t,i,s)},Co.prototype.log$default_nm5b11_k$=function(t,i,s,c,p){return(c&4)!=0&&(s=null),this.log_xj5xsb_k$(t,i,s)},Co.prototype.addLogListener=function(t){this._logListeners.getAndUpdate_bsv4z7_k$(Kxe(t)),F()},Co.prototype.removeLogListener=function(t){this._logListeners.getAndUpdate_bsv4z7_k$(Jxe(t)),F()},Co.prototype.time=function(){return _o(),mQ()},Co.prototype.debug=function(t){var i=_o();return qR(i,t)},Co.prototype.info=function(t){var i=_o();return Dxe(i,t)},Co.prototype.warning=function(t){var i=_o();return KR(i,t)},Co.prototype.errorWithString=function(t){var i=_o();return Wb(i,t)},Co.prototype.errorWithError=function(t){var i=_o();return vQ(i,t)},Co.prototype.errorWithStringAndException=function(t,i){var s=_o();return QU(s,t,i)},Co.prototype.error=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(ki).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=_o(),N=i[0],B=(N!=null?typeof N=="string":!1)?N:M(),L=i[1];QU(T,B,L instanceof ki?L:M());var O=F();return O}var W;if(i.length===1){var K;e:{var q=i[0];K=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(q);break e}W=K}else W=!1;if(W){var Q=_o(),ee=i[0];Wb(Q,(ee!=null?typeof ee=="string":!1)?ee:M());var ie=F();return ie}var fe;if(i.length===1){var le;e:{var Se=i[0];le=de(ki).isInstance_wi7j7l_k$(Se);break e}fe=le}else fe=!1;if(fe){var Ee=_o(),Te=i[0];vQ(Ee,Te instanceof ki?Te:M());var Me=F();return Me}throw At("Error choosing proper overload of function Companion.error for the given parameters")},Co.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(Co.prototype,"logLevel",{configurable:!0,get:Co.prototype._get_logLevel__0_k$,set:Co.prototype._set_logLevel__irxaku_k$}),Object.defineProperty(Co.prototype,"printLogWithListeners",{configurable:!0,get:Co.prototype._get_printLogWithListeners__0_k$,set:Co.prototype._set_printLogWithListeners__rpwsgn_k$});var XU;function _o(){return XU==null&&new Co,XU}function YU(){_o()}YU.$metadata$={simpleName:"Logger",kind:"class",interfaces:[]};function Fxe(t,i,s,c){return(i&1)!=0&&(t=m0()),A_.call(c,t),c}function Lxe(t,i,s){return Fxe(t,i,s,Object.create(A_.prototype))}function A_(t){var i=t===void 0?m0():t;this._start_0=i}A_.prototype.log=function(t,i,s){return this.log_xj5xsb_k$(t,i,s===void 0?null:s)},A_.prototype.log_xj5xsb_k$=function(t,i,s){var c=m0().minus_wiekkq_k$(this._start_0);_o().log_xj5xsb_k$(t,""+i+" ("+c+" ms)",s)},A_.prototype.log$default_nm5b11_k$=function(t,i,s,c,p){return(c&4)!=0&&(s=null),this.log_xj5xsb_k$(t,i,s)},A_.prototype.debug=function(t){var i=Vb();this.log$default_nm5b11_k$(i,t,null,4,null)},A_.prototype.internal=function(t){var i=BE();this.log$default_nm5b11_k$(i,t,null,4,null)},A_.prototype.info=function(t){var i=c0();this.log$default_nm5b11_k$(i,t,null,4,null)},A_.prototype.warning=function(t){var i=qb();this.log$default_nm5b11_k$(i,t,null,4,null)},A_.prototype.error=function(t){var i=Md();this.log$default_nm5b11_k$(i,t,null,4,null)},A_.$metadata$={simpleName:"TimeLogger",kind:"class",interfaces:[]};var cQ,_Q,fQ,pQ,hQ,dQ;function RE(){if(dQ)return F();dQ=!0,cQ=new Id("Debug",0),_Q=new Id("Internal",1),fQ=new Id("Info",2),pQ=new Id("Warning",3),hQ=new Id("Error",4)}function Id(t,i){yi.call(this,t,i)}Id.$metadata$={simpleName:"LogLevel",kind:"class",interfaces:[]};function mQ(t){return Lxe(new at(0,0),1,null)}function qR(t,i){var s=Vb();t.log$default_nm5b11_k$(s,i,null,4,null)}function Dxe(t,i){var s=c0();t.log$default_nm5b11_k$(s,i,null,4,null)}function KR(t,i){var s=qb();t.log$default_nm5b11_k$(s,i,null,4,null)}function Wb(t,i){var s=Md();t.log$default_nm5b11_k$(s,i,null,4,null)}function vQ(t,i){var s=Md(),c=i.toString()+`
`+a5(i);t.log$default_nm5b11_k$(s,c,null,4,null)}function QU(t,i,s){var c=Md(),p=i+": "+s.toString()+`
`+a5(s);t.log$default_nm5b11_k$(c,p,null,4,null)}function Oxe(t,i,s,c){var p=t,v;if(p instanceof fn){var k=i.equals(Md())?`
`+a5(t._error):"";_o().log_xj5xsb_k$(i,s==null?Bt(t):""+s+": "+t._error+" "+k,c),v=null}else p instanceof _n?v=t._value_16:Lr();return v}function Hb(t,i,s,c,p,v){return(p&2)!=0&&(s=null),(p&4)!=0&&(c=null),Oxe(t,i,s,c)}function PE(t,i,s){return t.useOriginalQueueAndMap_i05jc9_k$(Xxe(i,s))}function zxe(t,i){var s=Md();return Hb(t,s,i,null,4)}function gQ(t,i){var s=qb();return Hb(t,s,i,null,4)}function Uxe(t,i){var s=c0();return Hb(t,s,i,null,4)}function yQ(t,i){var s=Vb();return Hb(t,s,i,null,4)}function jxe(t,i){var s=BE();return Hb(t,s,i,null,4)}function Gxe(t,i){return PE(t,Md(),i)}function ZU(t,i){return PE(t,qb(),i)}function Wxe(t,i){return PE(t,c0(),i)}function Hxe(t,i){return PE(t,Vb(),i)}function Vxe(t,i){return PE(t,BE(),i)}function JR(){}JR.prototype.invoke_sv8swh_k$=function(){_o(),F(),F()},JR.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},JR.$metadata$={kind:"class",interfaces:[]};function XR(t,i){this._$level=t,this._$prefix=i}XR.prototype.invoke_fc38ei_k$=function(t){return Hb(t,this._$level,this._$prefix,null,4)},XR.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},XR.$metadata$={kind:"class",interfaces:[]};function Vb(){return RE(),cQ}function BE(){return RE(),_Q}function c0(){return RE(),fQ}function qb(){return RE(),pQ}function Md(){return RE(),hQ}function qxe(){var t=new JR;return function(){return t.invoke_sv8swh_k$(),F()}}function Kxe(t){var i=new HR(t);return function(s){return i.invoke_8aqb2y_k$(s)}}function Jxe(t){var i=new VR(t);return function(s){return i.invoke_8aqb2y_k$(s)}}function Xxe(t,i){var s=new XR(t,i);return function(c){return s.invoke_fc38ei_k$(c)}}function Yxe(){return kQ}var kQ;function Qxe(){return $Q}var $Q;function bv(){ej=this;var t;e:{var i=Fr(de(Vt));t=i;break e}Ni(this,t,Kr(["lookTo","lookAt"]))}bv.prototype.lookTo=function(t,i,s,c,p){return this.lookTo_h48fyr_k$(t,i,s,c===void 0?!1:c,p===void 0?null:p)},bv.prototype.lookTo_h48fyr_k$=function(t,i,s,c,p){var v=p;return new Vt(t,i,s,c,v==null?i.length_0_k$():v).orthoNormalized()},bv.prototype.lookTo$default_lgrtqj_k$=function(t,i,s,c,p,v,k){return(v&8)!=0&&(c=!1),(v&16)!=0&&(p=null),this.lookTo_h48fyr_k$(t,i,s,c,p)},bv.prototype.lookAt=function(t,i,s,c){return this.lookAt_pr33to_k$(t,i,s,c===void 0?!1:c)},bv.prototype.lookAt_pr33to_k$=function(t,i,s,c){var p=c?i:t,v=i.minusWithT(t);return this.lookTo$default_lgrtqj_k$(p,v,s,c,null,16,null)},bv.prototype.lookAt$default_5lqwh2_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=!1),this.lookAt_pr33to_k$(t,i,s,c)},bv.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var ej;function tj(){return ej==null&&new bv,ej}function nj(t){this._this$0_62=t}nj.prototype.invoke_0_k$=function(){var t=Kt(),i=this._this$0_62._get_eye__0_k$();return NSe(t,i,this._this$0_62._view,this._this$0_62._up,null,8)},nj.$metadata$={kind:"class",interfaces:[]};function rj(t){this._this$0_63=t}rj.prototype.invoke_0_k$=function(){return this._this$0_63._orbit?this._this$0_63._origin_0.minusWithT(this._this$0_63._view.timesWithFloat(this._this$0_63._orbitRadius)):this._this$0_63._origin_0},rj.$metadata$={kind:"class",interfaces:[]};function ij(t){this._this$0_64=t}ij.prototype.invoke_0_k$=function(){return this._this$0_64._view.cross(this._this$0_64._up)},ij.$metadata$={kind:"class",interfaces:[]};function Vt(t,i,s,c,p){tj(),this._origin_0=t,this._view=i,this._up=s,this._orbit=c,this._orbitRadius=p;var v=this;v._viewMatrix$delegate=Ev(i1e(this));var k=this;k._eye$delegate=Ev(o1e(this));var x=this;x._right$delegate=Ev(a1e(this))}Vt.prototype._get_origin__0_k$=function(){return this._origin_0},Vt.prototype._get_view__0_k$=function(){return this._view},Vt.prototype._get_up__0_k$=function(){return this._up},Vt.prototype._get_orbit__0_k$=function(){return this._orbit},Vt.prototype._get_orbitRadius__0_k$=function(){return this._orbitRadius},Vt.prototype._get_viewMatrix__0_k$=function(){var t;e:{Zxe(),t=this._viewMatrix$delegate._get_value__0_k$();break e}return t},Vt.prototype._get_eye__0_k$=function(){var t;e:{e1e(),t=this._eye$delegate._get_value__0_k$();break e}return t},Vt.prototype._get_right__0_k$=function(){var t;e:{t1e(),t=this._right$delegate._get_value__0_k$();break e}return t},Vt.prototype.orthoNormalized=function(){var t=this._view.normalized0(),i=t==null?ec()._xAxis_1:t,s=i.cross(this._up).normalized0(),c=s==null?ec()._yAxis_0:s,p=c.cross(i);return new Vt(this._origin_0,i,p,this._orbit,this._orbitRadius)},Vt.prototype.forward=function(t){var i;if(t===void 0){var s;e:{s=1,F();break e}i=s}else i=t;return this.forward_dbmacu_k$(i)},Vt.prototype.forward_dbmacu_k$=function(t){return new Vt(this._origin_0.plusWithT(this._view.timesWithFloat(t)),this._view,this._up,this._orbit,this._orbitRadius)},Vt.prototype.forward$default_xiu8d0_k$=function(t,i,s){if((i&1)!=0){var c;e:{c=1,F();break e}t=c}return this.forward_dbmacu_k$(t)},Vt.prototype.backward=function(t){var i;if(t===void 0){var s;e:{s=1,F();break e}i=s}else i=t;return this.backward_dbmacu_k$(i)},Vt.prototype.backward_dbmacu_k$=function(t){return new Vt(this._origin_0.minusWithT(this._view.timesWithFloat(t)),this._view,this._up,this._orbit,this._orbitRadius)},Vt.prototype.backward$default_xiu8d0_k$=function(t,i,s){if((i&1)!=0){var c;e:{c=1,F();break e}t=c}return this.backward_dbmacu_k$(t)},Vt.prototype.rightWithNum=function(t){var i;if(t===void 0){var s;e:{s=1,F();break e}i=s}else i=t;return this.right_dbmacu_k$(i)},Vt.prototype.right_dbmacu_k$=function(t){return new Vt(this._origin_0.plusWithT(this._get_right__0_k$().timesWithFloat(t)),this._view,this._up,this._orbit,this._orbitRadius)},Vt.prototype.right$default_xiu8d0_k$=function(t,i,s){if((i&1)!=0){var c;e:{c=1,F();break e}t=c}return this.right_dbmacu_k$(t)},Vt.prototype.left=function(t){var i;if(t===void 0){var s;e:{s=1,F();break e}i=s}else i=t;return this.left_dbmacu_k$(i)},Vt.prototype.left_dbmacu_k$=function(t){return new Vt(this._origin_0.minusWithT(this._get_right__0_k$().timesWithFloat(t)),this._view,this._up,this._orbit,this._orbitRadius)},Vt.prototype.left$default_xiu8d0_k$=function(t,i,s){if((i&1)!=0){var c;e:{c=1,F();break e}t=c}return this.left_dbmacu_k$(t)},Vt.prototype.upWithNum=function(t,i){var s;if(t===void 0){var c;e:{c=1,F();break e}s=c}else s=t;return this.up_91bwi7_k$(s,i===void 0?null:i)},Vt.prototype.up_91bwi7_k$=function(t,i){var s=i,c=s==null?null:s.normalized0();return new Vt(this._origin_0.plusWithT((c==null?this._up:c).timesWithFloat(t)),this._view,this._up,this._orbit,this._orbitRadius)},Vt.prototype.up$default_827jxp_k$=function(t,i,s,c){if((s&1)!=0){var p;e:{p=1,F();break e}t=p}return(s&2)!=0&&(i=null),this.up_91bwi7_k$(t,i)},Vt.prototype.down=function(t,i){var s;if(t===void 0){var c;e:{c=1,F();break e}s=c}else s=t;return this.down_91bwi7_k$(s,i===void 0?null:i)},Vt.prototype.down_91bwi7_k$=function(t,i){var s=i,c=s==null?null:s.normalized0();return new Vt(this._origin_0.minusWithT((c==null?this._up:c).timesWithFloat(t)),this._view,this._up,this._orbit,this._orbitRadius)},Vt.prototype.down$default_827jxp_k$=function(t,i,s,c){if((s&1)!=0){var p;e:{p=1,F();break e}t=p}return(s&2)!=0&&(i=null),this.down_91bwi7_k$(t,i)},Vt.prototype.lookTo=function(t,i){return this.lookTo_cmn33z_k$(t,i===void 0?null:i)},Vt.prototype.lookTo_cmn33z_k$=function(t,i){var s=t.normalized0(),c=s==null?this._view:s;if(i==null){var p=c.dot_2c5_k$(this._view),v,k;e:{k=Math.abs(p);break e}var x=k,T;e:{T=.9;break e}if(x<=T){var N=qp(),B;e:{B=Math.acos(p);break e}var L=B,O=this._view.cross(c).normalized0();v=Fd(this._up,N.fromRotationWithVec(L,O==null?this._get_right__0_k$():O))}else v=this._up;return new Vt(this._origin_0,c,v,this._orbit,this._orbitRadius).orthoNormalized()}else{var W=i.normalized0(),K=W==null?ec()._zAxis:W,q=this._view.cross(K).normalized0(),Q=q==null?this._get_right__0_k$():q,ee=c.cross(K).normalized0(),ie=ee==null?c.cross(this._up).normalized0():ee,fe=ie==null?this._get_right__0_k$():ie,le;e:{var Se=fe.dot_2c5_k$(Q);le=Math.acos(Se);break e}var Ee=le*(Q.cross(fe).dot_2c5_k$(K)>=0?1:-1),Te;e:{var Me=this._view.dot_2c5_k$(K);Te=Math.acos(Me);break e}var Ne=Te,Pe;e:{var Ye=c.dot_2c5_k$(K);Pe=Math.acos(Ye);break e}var Ke=Pe,nt=Ke-Ne;return this.rotate_3pwn3j_k$(Ee,nt,K,null)}},Vt.prototype.lookTo$default_f0lj31_k$=function(t,i,s,c){return(s&2)!=0&&(i=null),this.lookTo_cmn33z_k$(t,i)},Vt.prototype.lookAt=function(t,i){return this.lookAt_cmn33z_k$(t,i===void 0?null:i)},Vt.prototype.lookAt_cmn33z_k$=function(t,i){return this.lookTo_cmn33z_k$(t.minusWithT(this._origin_0),i)},Vt.prototype.lookAt$default_f0lj31_k$=function(t,i,s,c){return(s&2)!=0&&(i=null),this.lookAt_cmn33z_k$(t,i)},Vt.prototype.rotateWithAzimuth=function(t,i,s,c){var p=s===void 0?ec()._zAxis:s,v;if(c===void 0){var k;e:{k=.01,F();break e}v=k}else v=c;return this.rotate_3pwn3j_k$(t,i,p,v)},Vt.prototype.rotate_3pwn3j_k$=function(t,i,s,c){var p=s.normalized0(),v=p==null?ec()._zAxis:p,k;if(c!=null){var x;e:{var T=v.dot_2c5_k$(this._view);x=Math.acos(T);break e}var N=x,B;if(N-i<c*3.141592653589793){var L;e:{var O=3.141592653589793;L=O;break e}B=N-c*L}else if(N-i>(1-c)*3.141592653589793){var W=1-c,K;e:{var q=3.141592653589793;K=q;break e}B=N-W*K}else B=i;k=B}else k=i;var Q=k,ee=qp().fromRotationWithVec(t,v),ie=qp(),fe=this._view.cross(v).normalized0(),le=ee.mulWithQuaternion(ie.fromRotationWithVec(Q,fe==null?this._get_right__0_k$():fe));return new Vt(this._origin_0,Fd(this._view,le),Fd(this._up,le),this._orbit,this._orbitRadius)},Vt.prototype.rotate$default_j52te8_k$=function(t,i,s,c,p,v){if((p&4)!=0&&(s=ec()._zAxis),(p&8)!=0){var k;e:{k=.01,F();break e}c=k}return this.rotate_3pwn3j_k$(t,i,s,c)},Vt.prototype.rotateWithHeading=function(t,i,s){var c=Fd(this._view,qp().fromRotationWithVec(t,this._up)),p=qp(),v=c.cross(this._up).normalized0(),k=p.fromRotationWithVec(i,v==null?this._get_right__0_k$():v),x=Fd(c,k),T=Fd(this._up,k),N=Fd(T,qp().fromRotationWithVec(-s,x));return new Vt(this._origin_0,x,N,this._orbit,this._orbitRadius)},Vt.prototype.withOrigin=function(t){return new Vt(t,this._view,this._up,this._orbit,this._orbitRadius)},Vt.prototype.withView=function(t){return new Vt(this._origin_0,t,this._up,this._orbit,this._orbitRadius).orthoNormalized()},Vt.prototype.withUp=function(t){var i,s;e:{var c=t.normalized0(),p=(c==null?this._view:c).dot_2c5_k$(this._view);s=Math.abs(p);break e}var v=s,k;e:{k=.9999;break e}return v<=k?i=new Vt(this._origin_0,this._view,t,this._orbit,this._orbitRadius).orthoNormalized():i=this,i},Vt.prototype.withOrbit=function(t){return new Vt(this._origin_0,this._view,this._up,t,this._orbitRadius)},Vt.prototype.withOrbitRadius=function(t){return new Vt(this._origin_0,this._view,this._up,this._orbit,t)},Vt.prototype.right=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.right_dbmacu_k$((v!=null?typeof v=="number":!1)?v:M());return k}throw At("Error choosing proper overload of function Camera.right for the given parameters")},Vt.prototype.up=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=x==null?!0:de($t).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=(T!=null?typeof T=="number":!1)?T:M(),B=i[1],L=this.up_91bwi7_k$(N,(B==null?!0:B instanceof $t)?B:M());return L}throw At("Error choosing proper overload of function Camera.up for the given parameters")},Vt.prototype.rotate=function(t){var i=arguments,s,c,p,v;if(i.length===4){var k;e:{var x=i[0];k=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(x);break e}v=k}else v=!1;if(v){var T;e:{var N=i[1];T=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(N);break e}p=T}else p=!1;if(p){var B;e:{var L=i[2];B=de($t).isInstance_wi7j7l_k$(L);break e}c=B}else c=!1;if(c){var O;e:{var W=i[3];O=W==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(W);break e}s=O}else s=!1;if(s){var K=i[0],q=(K!=null?typeof K=="number":!1)?K:M(),Q=i[1],ee=(Q!=null?typeof Q=="number":!1)?Q:M(),ie=i[2],fe=ie instanceof $t?ie:M(),le=i[3],Se=this.rotate_3pwn3j_k$(q,ee,fe,(le==null?!0:typeof le=="number")?le:M());return Se}var Ee,Te,Me;if(i.length===3){var Ne;e:{var Pe=i[0];Ne=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Pe);break e}Me=Ne}else Me=!1;if(Me){var Ye;e:{var Ke=i[1];Ye=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ke);break e}Te=Ye}else Te=!1;if(Te){var nt;e:{var Ze=i[2];nt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ze);break e}Ee=nt}else Ee=!1;if(Ee){var ct=i[0],ht=(ct!=null?typeof ct=="number":!1)?ct:M(),bt=i[1],It=(bt!=null?typeof bt=="number":!1)?bt:M(),Nt=i[2],Rt=this.rotateWithHeading(ht,It,(Nt!=null?typeof Nt=="number":!1)?Nt:M());return Rt}throw At("Error choosing proper overload of function Camera.rotate for the given parameters")},Vt.$metadata$={simpleName:"Camera",kind:"class",interfaces:[]},Object.defineProperty(Vt.prototype,"origin",{configurable:!0,get:Vt.prototype._get_origin__0_k$}),Object.defineProperty(Vt.prototype,"view",{configurable:!0,get:Vt.prototype._get_view__0_k$}),Object.defineProperty(Vt.prototype,"upVec3",{configurable:!0,get:Vt.prototype._get_up__0_k$}),Object.defineProperty(Vt.prototype,"orbit",{configurable:!0,get:Vt.prototype._get_orbit__0_k$}),Object.defineProperty(Vt.prototype,"orbitRadius",{configurable:!0,get:Vt.prototype._get_orbitRadius__0_k$}),Object.defineProperty(Vt.prototype,"viewMatrix",{configurable:!0,get:Vt.prototype._get_viewMatrix__0_k$}),Object.defineProperty(Vt.prototype,"eye",{configurable:!0,get:Vt.prototype._get_eye__0_k$}),Object.defineProperty(Vt.prototype,"rightVec3",{configurable:!0,get:Vt.prototype._get_right__0_k$});function FE(){oj=this;var t;e:{var i=Fr(de(Nd));t=i;break e}Ni(this,t,Zr("from"))}FE.prototype.from=function(t,i,s,c){return this.from_ze7nm8_k$(t,i,s,c===void 0?ec()._zAxis:c)},FE.prototype.from_ze7nm8_k$=function(t,i,s,c){return new Nd(tj().lookAt_pr33to_k$(t,i,c,!0),s,c)},FE.prototype.from$default_g2ugb7_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=ec()._zAxis),this.from_ze7nm8_k$(t,i,s,c)},FE.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var oj;function bQ(){return oj==null&&new FE,oj}function Nd(t,i,s){bQ(),this._camera=t,this._timeToRotate=i,this._rotationalAxis=s}Nd.prototype._get_camera__0_k$=function(){return this._camera},Nd.prototype.tick=function(t){var i,s;e:{s=0;break e}if(this._timeToRotate!==s){var c=t*2*UE/this._timeToRotate,p;e:{p=0;break e}var v=p;i=this._camera.rotate$default_j52te8_k$(c,v,this._rotationalAxis,null,8,null)}else i=this._camera;return new Nd(i,this._timeToRotate,this._rotationalAxis)},Nd.$metadata$={simpleName:"OrbitCameraControls",kind:"class",interfaces:[]},Object.defineProperty(Nd.prototype,"camera",{configurable:!0,get:Nd.prototype._get_camera__0_k$});function YR(){}YR.prototype.invoke_sv8swh_k$=function(){tj(),F(),F()},YR.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},YR.$metadata$={kind:"class",interfaces:[]};function QR(){}QR.prototype.invoke_sv8swh_k$=function(){bQ(),F(),F()},QR.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},QR.$metadata$={kind:"class",interfaces:[]};function Zxe(){return Fu("viewMatrix",1,Zl,function(t){return t._get_viewMatrix__0_k$()},null)}function e1e(){return Fu("eye",1,Zl,function(t){return t._get_eye__0_k$()},null)}function t1e(){return Fu("right",1,Zl,function(t){return t._get_right__0_k$()},null)}function n1e(){var t=new YR;return function(){return t.invoke_sv8swh_k$(),F()}}function r1e(){var t=new QR;return function(){return t.invoke_sv8swh_k$(),F()}}function i1e(t){var i=new nj(t);return function(){return i.invoke_0_k$()}}function o1e(t){var i=new rj(t);return function(){return i.invoke_0_k$()}}function a1e(t){var i=new ij(t);return function(){return i.invoke_0_k$()}}function s1e(){return wQ}var wQ;function l1e(t,i,s,c,p){return On.call(p,Cs(new Float64Array([t,i,s,c]))),p}function u1e(t,i,s,c){return l1e(t,i,s,c,Object.create(On.prototype))}function c1e(t,i,s,c){return On.call(c,Cs(new Float64Array([t,i,s,1]))),c}function _1e(t,i,s){return c1e(t,i,s,Object.create(On.prototype))}function f1e(t,i,s,c,p){return On.call(p,Er(new Float32Array([t,i,s,c]))),p}function Kb(t,i,s,c){return f1e(t,i,s,c,Object.create(On.prototype))}function p1e(t,i,s,c){return On.call(c,Er(new Float32Array([t,i,s,1]))),c}function aj(t,i,s){return p1e(t,i,s,Object.create(On.prototype))}function h1e(t,i,s,c,p){var v;e:{v=255;break e}var k=t/v,x;e:{x=255;break e}var T=i/x,N;e:{N=255;break e}var B=s/N,L;e:{L=255;break e}return On.call(p,Er(new Float32Array([k,T,B,c/L]))),p}function d1e(t,i,s,c){return h1e(t,i,s,c,Object.create(On.prototype))}function m1e(t,i,s,c){var p;e:{p=255;break e}var v=t/p,k;e:{k=255;break e}var x=i/k,T;e:{T=255;break e}var N=s/T,B;e:{B=1;break e}return On.call(c,Er(new Float32Array([v,x,N,B]))),c}function v1e(t,i,s){return m1e(t,i,s,Object.create(On.prototype))}function g1e(t){var i;e:{i=0;break e}var s=i,c;e:{c=0;break e}var p=c,v;e:{v=0;break e}var k=v,x;e:{x=1;break e}return On.call(t,Er(new Float32Array([s,p,k,x]))),t}function y1e(){return g1e(Object.create(On.prototype))}function k1e(t,i,s){var c=i===void 0?LE()._RGB:i,p;if(c[0]>=0){var v=t>>pt(c[0],8)&255,k;e:{k=255;break e}p=v/k}else{var x;e:{x=0;break e}p=x}var T=p,N;if(c[1]>=0){var B=t>>pt(c[1],8)&255,L;e:{L=255;break e}N=B/L}else{var O;e:{O=0;break e}N=O}var W=N,K;if(c[2]>=0){var q=t>>pt(c[2],8)&255,Q;e:{Q=255;break e}K=q/Q}else{var ee;e:{ee=0;break e}K=ee}var ie=K,fe;if(c[3]>=0){var le=t>>pt(c[3],8)&255,Se;e:{Se=255;break e}fe=le/Se}else{var Ee;e:{Ee=1;break e}fe=Ee}return On.call(s,Er(new Float32Array([T,W,ie,fe]))),s}function $1e(t,i){return k1e(t,i,Object.create(On.prototype))}function Qu(){sj=this;var t=this,i;e:{i=new Int32Array([0,1,2,3]);break e}t._RGBA_0=i;var s=this,c;e:{c=new Int32Array([2,1,0,3]);break e}s._BGRA=c;var p=this,v;e:{v=new Int32Array([0,1,2,-1]);break e}p._RGB=v;var k=this,x;e:{x=new Int32Array([2,1,0,-1]);break e}k._BGR=x;var T;e:{var N=Fr(de(On));T=N;break e}Ni(this,T,Kr(["RGBA","BGRA","RGB","BGR"]))}Qu.prototype._get_RGBA__0_k$=function(){return this._RGBA_0},Qu.prototype._get_BGRA__0_k$=function(){return this._BGRA},Qu.prototype._get_RGB__0_k$=function(){return this._RGB},Qu.prototype._get_BGR__0_k$=function(){return this._BGR},Qu.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(Qu.prototype,"RGBA",{configurable:!0,get:Qu.prototype._get_RGBA__0_k$}),Object.defineProperty(Qu.prototype,"BGRA",{configurable:!0,get:Qu.prototype._get_BGRA__0_k$}),Object.defineProperty(Qu.prototype,"RGB",{configurable:!0,get:Qu.prototype._get_RGB__0_k$}),Object.defineProperty(Qu.prototype,"BGR",{configurable:!0,get:Qu.prototype._get_BGR__0_k$});var sj;function LE(){return sj==null&&new Qu,sj}function On(t){LE(),Jt.call(this,t)}On.prototype.factory_txu12t_k$=function(t){return new On(t)},On.prototype._get_r__0_k$=function(){return this._get_elements__0_k$()[0]},On.prototype._get_g__0_k$=function(){return this._get_elements__0_k$()[1]},On.prototype._get_b__0_k$=function(){return this._get_elements__0_k$()[2]},On.prototype._get_a__0_k$=function(){return this._get_elements__0_k$()[3]},On.prototype._get_rgb__0_k$=function(){var t=this._get_r__0_k$(),i=this._get_g__0_k$(),s=this._get_b__0_k$(),c;e:{c=1;break e}return Kb(t,i,s,c)},On.prototype._get_xy__0_k$=function(){return new zn(d(this._get_elements__0_k$(),gf(0,1)))},On.prototype._get_xyz__0_k$=function(){return new $t(d(this._get_elements__0_k$(),gf(0,2)))},On.prototype._get_xyzw__0_k$=function(){return new dn(this._get_elements__0_k$())},On.prototype.withR=function(t){return Kb(t,this._get_g__0_k$(),this._get_b__0_k$(),this._get_a__0_k$())},On.prototype.withG=function(t){return Kb(this._get_r__0_k$(),t,this._get_b__0_k$(),this._get_a__0_k$())},On.prototype.withB=function(t){return Kb(this._get_r__0_k$(),this._get_g__0_k$(),t,this._get_a__0_k$())},On.prototype.withA=function(t){return Kb(this._get_r__0_k$(),this._get_g__0_k$(),this._get_b__0_k$(),t)},On.prototype.toInt=function(t){return this.toInt_o3hfiw_k$(t===void 0?LE()._RGBA_0:t)},On.prototype.toInt_o3hfiw_k$=function(t){var i;if(t[0]>=0){var s=this._get_r__0_k$(),c;e:{c=255;break e}i=Ay(s*c)<<pt(t[0],8)}else i=0;var p=i,v;if(t[1]>=0){var k=this._get_g__0_k$(),x;e:{x=255;break e}v=Ay(k*x)<<pt(t[1],8)}else v=0;var T=p|v,N;if(t[2]>=0){var B=this._get_b__0_k$(),L;e:{L=255;break e}N=Ay(B*L)<<pt(t[2],8)}else N=0;var O=T|N,W;if(t[3]>=0){var K=this._get_a__0_k$(),q;e:{q=255;break e}W=Ay(K*q)<<pt(t[3],8)}else W=0;return O|W},On.prototype.toInt$default_6kigqj_k$=function(t,i,s){return(i&1)!=0&&(t=LE()._RGBA_0),this.toInt_o3hfiw_k$(t)},On.prototype.clamp=function(){var t;e:{var i;t:{i=0;break t}var s=i,c;t:{var p;n:{p=1;break n}var v=p,k=this._get_r__0_k$();c=Math.min(v,k);break t}var x=c;t=Math.max(s,x);break e}var T=t,N;e:{var B;t:{B=0;break t}var L=B,O;t:{var W;n:{W=1;break n}var K=W,q=this._get_g__0_k$();O=Math.min(K,q);break t}var Q=O;N=Math.max(L,Q);break e}var ee=N,ie;e:{var fe;t:{fe=0;break t}var le=fe,Se;t:{var Ee;n:{Ee=1;break n}var Te=Ee,Me=this._get_b__0_k$();Se=Math.min(Te,Me);break t}var Ne=Se;ie=Math.max(le,Ne);break e}var Pe=ie,Ye;e:{var Ke;t:{Ke=0;break t}var nt=Ke,Ze;t:{var ct;n:{ct=1;break n}var ht=ct,bt=this._get_a__0_k$();Ze=Math.min(ht,bt);break t}var It=Ze;Ye=Math.max(nt,It);break e}return new On(Er(new Float32Array([T,ee,Pe,Ye])))},On.$metadata$={simpleName:"Col",kind:"class",interfaces:[]},Object.defineProperty(On.prototype,"r",{configurable:!0,get:On.prototype._get_r__0_k$}),Object.defineProperty(On.prototype,"g",{configurable:!0,get:On.prototype._get_g__0_k$}),Object.defineProperty(On.prototype,"b",{configurable:!0,get:On.prototype._get_b__0_k$}),Object.defineProperty(On.prototype,"a",{configurable:!0,get:On.prototype._get_a__0_k$}),Object.defineProperty(On.prototype,"rgb",{configurable:!0,get:On.prototype._get_rgb__0_k$}),Object.defineProperty(On.prototype,"xy",{configurable:!0,get:On.prototype._get_xy__0_k$}),Object.defineProperty(On.prototype,"xyz",{configurable:!0,get:On.prototype._get_xyz__0_k$}),Object.defineProperty(On.prototype,"xyzw",{configurable:!0,get:On.prototype._get_xyzw__0_k$});function ZR(){}ZR.prototype.invoke_sv8swh_k$=function(){LE(),F(),F()},ZR.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},ZR.$metadata$={kind:"class",interfaces:[]};function b1e(){var t=new ZR;return function(){return t.invoke_sv8swh_k$(),F()}}function w1e(){return xQ}var xQ;function x1e(){return SQ}var SQ;function S1e(){return EQ}var EQ;function E1e(){return CQ}var CQ;function Rd(){lj=this,Ue.call(this),this._transposed=_0()}Rd.prototype.invoke=function(t,i,s){return pt(t,s)+i|0},Rd.prototype._get_transposed__0_k$=function(){return this._transposed},Rd.$metadata$={simpleName:"RowMajor",kind:"object",interfaces:[]},Object.defineProperty(Rd.prototype,"transposed",{configurable:!0,get:Rd.prototype._get_transposed__0_k$});var lj;function wv(){return lj==null&&new Rd,lj}function Pd(){uj=this,Ue.call(this),this._transposed_0=wv()}Pd.prototype.invoke=function(t,i,s){return pt(i,s)+t|0},Pd.prototype._get_transposed__0_k$=function(){return this._transposed_0},Pd.$metadata$={simpleName:"ColumnMajor",kind:"object",interfaces:[]},Object.defineProperty(Pd.prototype,"transposed",{configurable:!0,get:Pd.prototype._get_transposed__0_k$});var uj;function _0(){return uj==null&&new Pd,uj}function DE(){cj=this,this._default=wv();var t;e:{var i=Fr(de(Ue));t=i;break e}Ni(this,t,Zr("default"))}DE.prototype._get_default__0_k$=function(){return this._default},DE.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(DE.prototype,"default",{configurable:!0,get:DE.prototype._get_default__0_k$});var cj;function Be(){return cj==null&&new DE,cj}function Ue(){Be()}Ue.$metadata$={simpleName:"MatrixLayout",kind:"class",interfaces:[]},Object.defineProperty(Ue.prototype,"transposed",{configurable:!0,get:Ue.prototype._get_transposed__0_k$});function e3(){}e3.prototype.invoke_dbmacu_k$=function(t){return t.toString()},e3.prototype.invoke_20e8_k$=function(t){return this.invoke_dbmacu_k$((t!=null?typeof t=="number":!1)?t:M())},e3.$metadata$={kind:"class",interfaces:[]};function t3(){}t3.prototype.invoke_6wfw3l_k$=function(t){return t},t3.prototype.invoke_20e8_k$=function(t){return this.invoke_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},t3.$metadata$={kind:"class",interfaces:[]};function dr(t,i,s){var c=s===void 0?Be()._default:s;Jt.call(this,t),this._order=i,this._layout=c}dr.prototype._get_order__0_k$=function(){return this._order},dr.prototype._get_layout__0_k$=function(){return this._layout},dr.prototype.factory0=function(t){return this.factory_emzw8k_k$(t,this._order,this._layout)},dr.prototype.factory_txu12t_k$=function(t){return this.factory0(t)},dr.prototype.transposed=function(){var t;e:{var i=new Float32Array(this._get_elements__0_k$().length);{var s=0,c=this._order;if(s<c)do{var p=s;s=s+1|0;var v=0,k=this._order;if(v<k)do{var x=v;v=v+1|0,i[this._layout.invoke(x,p,this._order)]=this._get_elements__0_k$()[this._layout.invoke(p,x,this._order)]}while(v<k)}while(s<c)}t=i;break e}return this.factory0(t)},dr.prototype.transposedLayout=function(){return this.factory_emzw8k_k$(this._get_elements__0_k$(),this._order,this._layout._get_transposed__0_k$())},dr.prototype.mulWithT=function(t){var i;e:{var s=new Float32Array(this._get_elements__0_k$().length);{var c=0,p=this._order;if(c<p)do{var v=c;c=c+1|0;var k=0,x=this._order;if(k<x)do{var T=k;k=k+1|0;var N;t:{N=0;break t}var B=N,L=0,O=this._order;if(L<O)do{var W=L;L=L+1|0,B=B+this._get_elements__0_k$()[this._layout.invoke(v,W,this._order)]*t._get_elements__0_k$()[t._layout.invoke(W,T,this._order)]}while(L<O);s[this._layout.invoke(v,T,this._order)]=B}while(k<x)}while(c<p)}i=s;break e}return this.factory0(i)},dr.prototype.timesWithT=function(t){return Jt.prototype.timesWithT.call(this,t)},dr.prototype.inverseWithT=function(t){var i=this.inverse0();return i==null?t:i},dr.prototype.toString=function(){var t;e:{var i=Mn(m(this._get_elements__0_k$()),this._order),s;t:{for(var c=Wr(so(i,10)),p=i.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$(),k;n:{k=Ge(v,null,null,null,0,null,H1e(),31);break n}c.add_2bq_k$(k),F()}s=c;break t}t=s;break e}var x=t,T="), Vec"+this._order+"( ",N=""+Xo(this)._get_simpleName__0_k$()+"(Vec"+this._order+"(";return Ge(x,T,N,"))",0,null,V1e(),24)},dr.prototype.factory_dispatcher=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=ce()._get_floatArrayClass__0_k$().isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=de(Ue).isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=i[0],O=(L!=null?Lu(L):!1)?L:M(),W=i[1],K=(W!=null?typeof W=="number":!1)?W:M(),q=i[2],Q=this.factory_emzw8k_k$(O,K,q instanceof Ue?q:M());return Q}var ee;if(i.length===1){var ie;e:{var fe=i[0];ie=ce()._get_floatArrayClass__0_k$().isInstance_wi7j7l_k$(fe);break e}ee=ie}else ee=!1;if(ee){var le=i[0],Se=this.factory0((le!=null?Lu(le):!1)?le:M());return Se}return Jt.prototype.factory.call(this,i.slice())},dr.prototype.factory=function(t){return this.factory_dispatcher(t)},dr.prototype.mul=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(dr).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.mulWithT(v instanceof dr?v:M());return k}throw At("Error choosing proper overload of function Matrix.mul for the given parameters")},dr.prototype.times_dispatcher=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(dr).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.timesWithT(v instanceof dr?v:M());return k}return Jt.prototype.times.call(this,i.slice())},dr.prototype.times=function(t){return this.times_dispatcher(t)},dr.prototype.inverse=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(dr).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.inverseWithT(v instanceof dr?v:M());return k}if(i.length===0){var x=this.inverse0();return x}throw At("Error choosing proper overload of function Matrix.inverse for the given parameters")},dr.$metadata$={simpleName:"Matrix",kind:"class",interfaces:[]},Object.defineProperty(dr.prototype,"order",{configurable:!0,get:dr.prototype._get_order__0_k$}),Object.defineProperty(dr.prototype,"layout",{configurable:!0,get:dr.prototype._get_layout__0_k$});function C1e(t,i,s,c){var p=s===void 0?Be()._default:s,v;e:{var k=new Float32Array(4);{var x=0;if(x<=1)do{var T=x;x=x+1|0,k[p.invoke(0,T,2)]=t._get_elements__0_k$()[T],k[p.invoke(1,T,2)]=i._get_elements__0_k$()[T]}while(x<=1)}v=k;break e}return Zn.call(c,v,p),c}function OE(t,i,s){return C1e(t,i,s,Object.create(Zn.prototype))}function A1e(t,i){var s=t===void 0?Be()._default:t,c;e:{c=0;break e}return Zn.call(i,Er(new Float32Array([c])),s),i}function T1e(t){return A1e(t,Object.create(Zn.prototype))}function mi(){_j=this;var t;e:{var i=Fr(de(Zn));t=i;break e}Ni(this,t,Kr(["rotate","scaleWithVec","rotateWithFloat","identity","translateWithVec","scale","scaleWithDouble","scaleWithFloat","translateWithFloat","rotateWithDouble","translateWithDouble","translate"]))}mi.prototype.identity=function(t){return this.identityExt_7rrx6e_k$(t===void 0?Be()._default:t)},mi.prototype.identityExt_7rrx6e_k$=function(t){var i=ns();return TSe(i,t)},mi.prototype.identityExt$default_8adopf_k$=function(t,i,s){return(i&1)!=0&&(t=Be()._default),this.identityExt_7rrx6e_k$(t)},mi.prototype.scaleWithDouble=function(t,i,s){return this.scaleExt_77upuf_k$(t,i===void 0?null:i,s===void 0?Be()._default:s)},mi.prototype.scaleExt_77upuf_k$=function(t,i,s){var c=ns();return HQ(c,t,i,s)},mi.prototype.scaleExt$default_p7c1ro_k$=function(t,i,s,c,p){return(c&2)!=0&&(i=null),(c&4)!=0&&(s=Be()._default),this.scaleExt_77upuf_k$(t,i,s)},mi.prototype.scaleWithFloat=function(t,i,s){return this.scale1Ext_x2h4gl_k$(t,i===void 0?null:i,s===void 0?Be()._default:s)},mi.prototype.scale1Ext_x2h4gl_k$=function(t,i,s){var c=ns();return VQ(c,t,i,s)},mi.prototype.scale1Ext$default_scf5hq_k$=function(t,i,s,c,p){return(c&2)!=0&&(i=null),(c&4)!=0&&(s=Be()._default),this.scale1Ext_x2h4gl_k$(t,i,s)},mi.prototype.scaleWithVec=function(t,i){return this.scale2Ext_eqakkz_k$(t,i===void 0?Be()._default:i)},mi.prototype.scale2Ext_eqakkz_k$=function(t,i){var s=ns();return qQ(s,t,i)},mi.prototype.scale2Ext$default_1ft1zk_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.scale2Ext_eqakkz_k$(t,i)},mi.prototype.translateWithDouble=function(t,i,s){return this.translateExt_77upuf_k$(t,i===void 0?null:i,s===void 0?Be()._default:s)},mi.prototype.translateExt_77upuf_k$=function(t,i,s){var c=ns();return aZ(c,t,i,s)},mi.prototype.translateExt$default_p7c1ro_k$=function(t,i,s,c,p){return(c&2)!=0&&(i=null),(c&4)!=0&&(s=Be()._default),this.translateExt_77upuf_k$(t,i,s)},mi.prototype.translateWithFloat=function(t,i,s){return this.translate1Ext_x2h4gl_k$(t,i===void 0?null:i,s===void 0?Be()._default:s)},mi.prototype.translate1Ext_x2h4gl_k$=function(t,i,s){var c=ns();return sZ(c,t,i,s)},mi.prototype.translate1Ext$default_scf5hq_k$=function(t,i,s,c,p){return(c&2)!=0&&(i=null),(c&4)!=0&&(s=Be()._default),this.translate1Ext_x2h4gl_k$(t,i,s)},mi.prototype.translateWithVec=function(t,i){return this.translate2Ext_eqakkz_k$(t,i===void 0?Be()._default:i)},mi.prototype.translate2Ext_eqakkz_k$=function(t,i){var s=ns();return lZ(s,t,i)},mi.prototype.translate2Ext$default_1ft1zk_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.translate2Ext_eqakkz_k$(t,i)},mi.prototype.rotateWithDouble=function(t,i){return this.rotateExt_3drktn_k$(t,i===void 0?Be()._default:i)},mi.prototype.rotateExt_3drktn_k$=function(t,i){var s=ns();return $Z(s,t,i)},mi.prototype.rotateExt$default_2zxvg2_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateExt_3drktn_k$(t,i)},mi.prototype.rotateWithFloat=function(t,i){return this.rotate1Ext_6uxel8_k$(t,i===void 0?Be()._default:i)},mi.prototype.rotate1Ext_6uxel8_k$=function(t,i){var s=ns();return bZ(s,t,i)},mi.prototype.rotate1Ext$default_o9ju69_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotate1Ext_6uxel8_k$(t,i)},mi.prototype.scale=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=T==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=de(Ue).isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=ns(),O=i[0],W=(O!=null?typeof O=="number":!1)?O:M(),K=i[1],q=(K==null?!0:typeof K=="number")?K:M(),Q=i[2],ee=HQ(L,W,q,Q instanceof Ue?Q:M());return ee}var ie,fe,le;if(i.length===3){var Se;e:{var Ee=i[0];Se=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ee);break e}le=Se}else le=!1;if(le){var Te;e:{var Me=i[1];Te=Me==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Me);break e}fe=Te}else fe=!1;if(fe){var Ne;e:{var Pe=i[2];Ne=de(Ue).isInstance_wi7j7l_k$(Pe);break e}ie=Ne}else ie=!1;if(ie){var Ye=ns(),Ke=i[0],nt=(Ke!=null?typeof Ke=="number":!1)?Ke:M(),Ze=i[1],ct=(Ze==null?!0:typeof Ze=="number")?Ze:M(),ht=i[2],bt=VQ(Ye,nt,ct,ht instanceof Ue?ht:M());return bt}var It,Nt;if(i.length===2){var Rt;e:{var Xt=i[0];Rt=de(zn).isInstance_wi7j7l_k$(Xt);break e}Nt=Rt}else Nt=!1;if(Nt){var rn;e:{var En=i[1];rn=de(Ue).isInstance_wi7j7l_k$(En);break e}It=rn}else It=!1;if(It){var un=ns(),gn=i[0],Fn=gn instanceof zn?gn:M(),Un=i[1],en=qQ(un,Fn,Un instanceof Ue?Un:M());return en}throw At("Error choosing proper overload of function Companion.scale for the given parameters")},mi.prototype.translate=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=T==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=de(Ue).isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=ns(),O=i[0],W=(O!=null?typeof O=="number":!1)?O:M(),K=i[1],q=(K==null?!0:typeof K=="number")?K:M(),Q=i[2],ee=aZ(L,W,q,Q instanceof Ue?Q:M());return ee}var ie,fe,le;if(i.length===3){var Se;e:{var Ee=i[0];Se=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ee);break e}le=Se}else le=!1;if(le){var Te;e:{var Me=i[1];Te=Me==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Me);break e}fe=Te}else fe=!1;if(fe){var Ne;e:{var Pe=i[2];Ne=de(Ue).isInstance_wi7j7l_k$(Pe);break e}ie=Ne}else ie=!1;if(ie){var Ye=ns(),Ke=i[0],nt=(Ke!=null?typeof Ke=="number":!1)?Ke:M(),Ze=i[1],ct=(Ze==null?!0:typeof Ze=="number")?Ze:M(),ht=i[2],bt=sZ(Ye,nt,ct,ht instanceof Ue?ht:M());return bt}var It,Nt;if(i.length===2){var Rt;e:{var Xt=i[0];Rt=de(zn).isInstance_wi7j7l_k$(Xt);break e}Nt=Rt}else Nt=!1;if(Nt){var rn;e:{var En=i[1];rn=de(Ue).isInstance_wi7j7l_k$(En);break e}It=rn}else It=!1;if(It){var un=ns(),gn=i[0],Fn=gn instanceof zn?gn:M(),Un=i[1],en=lZ(un,Fn,Un instanceof Ue?Un:M());return en}throw At("Error choosing proper overload of function Companion.translate for the given parameters")},mi.prototype.rotate=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(Ue).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=ns(),N=i[0],B=(N!=null?typeof N=="number":!1)?N:M(),L=i[1],O=$Z(T,B,L instanceof Ue?L:M());return O}var W,K;if(i.length===2){var q;e:{var Q=i[0];q=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Q);break e}K=q}else K=!1;if(K){var ee;e:{var ie=i[1];ee=de(Ue).isInstance_wi7j7l_k$(ie);break e}W=ee}else W=!1;if(W){var fe=ns(),le=i[0],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[1],Te=bZ(fe,Se,Ee instanceof Ue?Ee:M());return Te}throw At("Error choosing proper overload of function Companion.rotate for the given parameters")},mi.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var _j;function ns(){return _j==null&&new mi,_j}function Zn(t,i){ns(),dr.call(this,t,2,i)}Zn.prototype.factoryWithInt=function(t,i,s){return new Zn(t,s)},Zn.prototype.factory_emzw8k_k$=function(t,i,s){return this.factoryWithInt(t,i,s)},Zn.prototype._get_x__0_k$=function(){return Wi(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,2)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,2)])},Zn.prototype._get_y__0_k$=function(){return Wi(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,2)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,2)])},Zn.prototype.withX=function(t){return OE(t,this._get_y__0_k$(),this._get_layout__0_k$())},Zn.prototype.withY=function(t){return OE(this._get_x__0_k$(),t,this._get_layout__0_k$())},Zn.prototype.withZ=function(t){return f0(this._get_x__0_k$()._get_xyz__0_k$(),this._get_y__0_k$()._get_xyz__0_k$(),t,this._get_layout__0_k$())},Zn.prototype._get_mat2__0_k$=function(){return this},Zn.prototype._get_mat3__0_k$=function(){return f0(this._get_x__0_k$()._get_xyz__0_k$(),this._get_y__0_k$()._get_xyz__0_k$(),ec()._zAxis,this._get_layout__0_k$())},Zn.prototype._get_mat4__0_k$=function(){var t=this._get_x__0_k$(),i;e:{i=0;break e}var s=i,c;e:{c=0;break e}var p=zj(t,s,c),v=this._get_y__0_k$(),k;e:{k=0;break e}var x=k,T;e:{T=0;break e}var N=zj(v,x,T),B;e:{B=0;break e}var L=B,O;e:{O=0;break e}var W=O,K;e:{K=1;break e}var q=K,Q;e:{Q=0;break e}return Bd(p,N,rs(L,W,q,Q),HE()._zAxis_0,this._get_layout__0_k$())},Zn.prototype.inverse0=function(){var t=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,2)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,2)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,2)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,2)],i;e:{i=0;break e}if(t===i)return null;var s;e:{s=1;break e}var c=s/t,p;e:{var v=new Float32Array(4);v[this._get_layout__0_k$().invoke(0,0,2)]=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,2)]*c,v[this._get_layout__0_k$().invoke(0,1,2)]=-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,2)]*c,v[this._get_layout__0_k$().invoke(1,0,2)]=-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,2)]*c,v[this._get_layout__0_k$().invoke(1,1,2)]=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,2)]*c,p=v;break e}return new Zn(p,this._get_layout__0_k$())},Zn.prototype.mulVec=function(t){return d3().matMulVec_6xdosn_k$(this,t)},Zn.prototype.scale=function(){var t=this instanceof Zn?this:M();return RSe(t)},Zn.prototype.factory_dispatcher=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=ce()._get_floatArrayClass__0_k$().isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=de(Ue).isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=i[0],O=(L!=null?Lu(L):!1)?L:M(),W=i[1],K=(W!=null?typeof W=="number":!1)?W:M(),q=i[2],Q=this.factoryWithInt(O,K,q instanceof Ue?q:M());return Q}return dr.prototype.factory_dispatcher.call(this,i.slice())},Zn.prototype.factory=function(t){return this.factory_dispatcher(t)},Zn.prototype.inverse_dispatcher=function(t){var i=arguments;if(i.length===0){var s=this.inverse0();return s}return dr.prototype.inverse.call(this,i.slice())},Zn.prototype.inverse=function(t){return this.inverse_dispatcher(t)},Zn.prototype.mul_dispatcher=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(zn).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.mulVec(v instanceof zn?v:M());return k}return dr.prototype.mul.call(this,i.slice())},Zn.prototype.mul=function(t){return this.mul_dispatcher(t)},Zn.$metadata$={simpleName:"Mat2",kind:"class",interfaces:[]},Object.defineProperty(Zn.prototype,"x",{configurable:!0,get:Zn.prototype._get_x__0_k$}),Object.defineProperty(Zn.prototype,"y",{configurable:!0,get:Zn.prototype._get_y__0_k$}),Object.defineProperty(Zn.prototype,"mat2",{configurable:!0,get:Zn.prototype._get_mat2__0_k$}),Object.defineProperty(Zn.prototype,"mat3",{configurable:!0,get:Zn.prototype._get_mat3__0_k$}),Object.defineProperty(Zn.prototype,"mat4",{configurable:!0,get:Zn.prototype._get_mat4__0_k$});function I1e(t,i,s,c,p){return(s&2)!=0&&(i=Be()._default),Ct.call(p,t,i),p}function M1e(t,i,s,c){return I1e(t,i,s,c,Object.create(Ct.prototype))}function AQ(t,i,s,c,p){var v=c===void 0?Be()._default:c,k;e:{var x=new Float32Array(9);{var T=0;if(T<=2)do{var N=T;T=T+1|0,x[v.invoke(0,N,3)]=t._get_elements__0_k$()[N],x[v.invoke(1,N,3)]=i._get_elements__0_k$()[N],x[v.invoke(2,N,3)]=s._get_elements__0_k$()[N]}while(T<=2)}k=x;break e}return Ct.call(p,k,v),p}function f0(t,i,s,c){return AQ(t,i,s,c,Object.create(Ct.prototype))}function N1e(t,i,s,c,p,v,k){return(p&8)!=0&&(c=Be()._default),AQ(t,i,s,c,k),k}function R1e(t,i,s,c,p,v){return N1e(t,i,s,c,p,v,Object.create(Ct.prototype))}function P1e(t,i){var s=t===void 0?Be()._default:t,c;e:{c=0;break e}return Ct.call(i,Er(new Float32Array([c])),s),i}function B1e(t){return P1e(t,Object.create(Ct.prototype))}function Ft(){fj=this;var t;e:{var i=Fr(de(Ct));t=i;break e}Ni(this,t,Kr(["rotate","translateWithFloatAndFloatAndFloat","rotateWithFloat","scale","scaleWithFloatAndFloatAndMatrixLayout","rotateYWithFloat","translateWithFloatAndFloatAndMatrixLayout","translateWithDoubleAndDoubleAndDouble","translate","translateWithDoubleAndDoubleAndMatrixLayout","rotateWithDoubleAndVec3","translateWithVec2","translateWithVec3","scaleWithVec3","rotateXWithDouble","scaleWithVec2","identity","rotateWithV1","rotateWithDouble","rotateX","rotateY","rotateZ","rotateZWithDouble","rotateWithFloatAndFloatAndVec3","scaleWithFloatAndFloatAndFloat","rotateWithFloatAndVec3","rotateZWithFloat","scaleWithDoubleAndDoubleAndMatrixLayout","rotateYWithDouble","rotateXWithFloat","rotateWithDoubleAndDoubleAndVec3","scaleWithDoubleAndDoubleAndDouble"]))}Ft.prototype.identity=function(t){return this.identityExt_7rrx6e_k$(t===void 0?Be()._default:t)},Ft.prototype.identityExt_7rrx6e_k$=function(t){var i=Bn();return ISe(i,t)},Ft.prototype.identityExt$default_8adopf_k$=function(t,i,s){return(i&1)!=0&&(t=Be()._default),this.identityExt_7rrx6e_k$(t)},Ft.prototype.scaleWithDoubleAndDoubleAndMatrixLayout=function(t,i,s){return this.scaleExt_77upuf_k$(t,i===void 0?null:i,s===void 0?Be()._default:s)},Ft.prototype.scaleExt_77upuf_k$=function(t,i,s){var c=Bn();return KQ(c,t,i,s)},Ft.prototype.scaleExt$default_p7c1ro_k$=function(t,i,s,c,p){return(c&2)!=0&&(i=null),(c&4)!=0&&(s=Be()._default),this.scaleExt_77upuf_k$(t,i,s)},Ft.prototype.scaleWithFloatAndFloatAndMatrixLayout=function(t,i,s){return this.scale1Ext_x2h4gl_k$(t,i===void 0?null:i,s===void 0?Be()._default:s)},Ft.prototype.scale1Ext_x2h4gl_k$=function(t,i,s){var c=Bn();return JQ(c,t,i,s)},Ft.prototype.scale1Ext$default_scf5hq_k$=function(t,i,s,c,p){return(c&2)!=0&&(i=null),(c&4)!=0&&(s=Be()._default),this.scale1Ext_x2h4gl_k$(t,i,s)},Ft.prototype.scaleWithVec2=function(t,i){return this.scale2Ext_eqakkz_k$(t,i===void 0?Be()._default:i)},Ft.prototype.scale2Ext_eqakkz_k$=function(t,i){var s=Bn();return XQ(s,t,i)},Ft.prototype.scale2Ext$default_1ft1zk_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.scale2Ext_eqakkz_k$(t,i)},Ft.prototype.scaleWithDoubleAndDoubleAndDouble=function(t,i,s,c){return this.scale3Ext_xj63yt_k$(t,i===void 0?null:i,s===void 0?null:s,c===void 0?Be()._default:c)},Ft.prototype.scale3Ext_xj63yt_k$=function(t,i,s,c){var p=Bn();return YQ(p,t,i,s,c)},Ft.prototype.scale3Ext$default_8vqa0i_k$=function(t,i,s,c,p,v){return(p&2)!=0&&(i=null),(p&4)!=0&&(s=null),(p&8)!=0&&(c=Be()._default),this.scale3Ext_xj63yt_k$(t,i,s,c)},Ft.prototype.scaleWithFloatAndFloatAndFloat=function(t,i,s,c){return this.scale4Ext_rdtt6u_k$(t,i===void 0?null:i,s===void 0?null:s,c===void 0?Be()._default:c)},Ft.prototype.scale4Ext_rdtt6u_k$=function(t,i,s,c){var p=Bn();return QQ(p,t,i,s,c)},Ft.prototype.scale4Ext$default_moadgj_k$=function(t,i,s,c,p,v){return(p&2)!=0&&(i=null),(p&4)!=0&&(s=null),(p&8)!=0&&(c=Be()._default),this.scale4Ext_rdtt6u_k$(t,i,s,c)},Ft.prototype.scaleWithVec3=function(t,i){return this.scale5Ext_n3ag44_k$(t,i===void 0?Be()._default:i)},Ft.prototype.scale5Ext_n3ag44_k$=function(t,i){var s=Bn();return ZQ(s,t,i)},Ft.prototype.scale5Ext$default_pkbln3_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.scale5Ext_n3ag44_k$(t,i)},Ft.prototype.translateWithDoubleAndDoubleAndMatrixLayout=function(t,i,s){return this.translateExt_77upuf_k$(t,i===void 0?null:i,s===void 0?Be()._default:s)},Ft.prototype.translateExt_77upuf_k$=function(t,i,s){var c=Bn();return uZ(c,t,i,s)},Ft.prototype.translateExt$default_p7c1ro_k$=function(t,i,s,c,p){return(c&2)!=0&&(i=null),(c&4)!=0&&(s=Be()._default),this.translateExt_77upuf_k$(t,i,s)},Ft.prototype.translateWithFloatAndFloatAndMatrixLayout=function(t,i,s){return this.translate1Ext_x2h4gl_k$(t,i===void 0?null:i,s===void 0?Be()._default:s)},Ft.prototype.translate1Ext_x2h4gl_k$=function(t,i,s){var c=Bn();return cZ(c,t,i,s)},Ft.prototype.translate1Ext$default_scf5hq_k$=function(t,i,s,c,p){return(c&2)!=0&&(i=null),(c&4)!=0&&(s=Be()._default),this.translate1Ext_x2h4gl_k$(t,i,s)},Ft.prototype.translateWithVec2=function(t,i){return this.translate2Ext_eqakkz_k$(t,i===void 0?Be()._default:i)},Ft.prototype.translate2Ext_eqakkz_k$=function(t,i){var s=Bn();return _Z(s,t,i)},Ft.prototype.translate2Ext$default_1ft1zk_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.translate2Ext_eqakkz_k$(t,i)},Ft.prototype.translateWithDoubleAndDoubleAndDouble=function(t,i,s,c){return this.translate3Ext_xj63yt_k$(t,i===void 0?null:i,s===void 0?null:s,c===void 0?Be()._default:c)},Ft.prototype.translate3Ext_xj63yt_k$=function(t,i,s,c){var p=Bn();return fZ(p,t,i,s,c)},Ft.prototype.translate3Ext$default_8vqa0i_k$=function(t,i,s,c,p,v){return(p&2)!=0&&(i=null),(p&4)!=0&&(s=null),(p&8)!=0&&(c=Be()._default),this.translate3Ext_xj63yt_k$(t,i,s,c)},Ft.prototype.translateWithFloatAndFloatAndFloat=function(t,i,s,c){return this.translate4Ext_rdtt6u_k$(t,i===void 0?null:i,s===void 0?null:s,c===void 0?Be()._default:c)},Ft.prototype.translate4Ext_rdtt6u_k$=function(t,i,s,c){var p=Bn();return pZ(p,t,i,s,c)},Ft.prototype.translate4Ext$default_moadgj_k$=function(t,i,s,c,p,v){return(p&2)!=0&&(i=null),(p&4)!=0&&(s=null),(p&8)!=0&&(c=Be()._default),this.translate4Ext_rdtt6u_k$(t,i,s,c)},Ft.prototype.translateWithVec3=function(t,i){return this.translate5Ext_n3ag44_k$(t,i===void 0?Be()._default:i)},Ft.prototype.translate5Ext_n3ag44_k$=function(t,i){var s=Bn();return hZ(s,t,i)},Ft.prototype.translate5Ext$default_pkbln3_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.translate5Ext_n3ag44_k$(t,i)},Ft.prototype.rotateXWithDouble=function(t,i){return this.rotateXExt_3drktn_k$(t,i===void 0?Be()._default:i)},Ft.prototype.rotateXExt_3drktn_k$=function(t,i){var s=Bn();return wj(s,t,i)},Ft.prototype.rotateXExt$default_2zxvg2_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateXExt_3drktn_k$(t,i)},Ft.prototype.rotateXWithFloat=function(t,i){return this.rotateX1Ext_6uxel8_k$(t,i===void 0?Be()._default:i)},Ft.prototype.rotateX1Ext_6uxel8_k$=function(t,i){var s=Bn();return xj(s,t,i)},Ft.prototype.rotateX1Ext$default_o9ju69_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateX1Ext_6uxel8_k$(t,i)},Ft.prototype.rotateYWithDouble=function(t,i){return this.rotateYExt_3drktn_k$(t,i===void 0?Be()._default:i)},Ft.prototype.rotateYExt_3drktn_k$=function(t,i){var s=Bn();return Sj(s,t,i)},Ft.prototype.rotateYExt$default_2zxvg2_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateYExt_3drktn_k$(t,i)},Ft.prototype.rotateYWithFloat=function(t,i){return this.rotateY1Ext_6uxel8_k$(t,i===void 0?Be()._default:i)},Ft.prototype.rotateY1Ext_6uxel8_k$=function(t,i){var s=Bn();return Ej(s,t,i)},Ft.prototype.rotateY1Ext$default_o9ju69_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateY1Ext_6uxel8_k$(t,i)},Ft.prototype.rotateZWithDouble=function(t,i){return this.rotateZExt_3drktn_k$(t,i===void 0?Be()._default:i)},Ft.prototype.rotateZExt_3drktn_k$=function(t,i){var s=Bn();return Cj(s,t,i)},Ft.prototype.rotateZExt$default_2zxvg2_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateZExt_3drktn_k$(t,i)},Ft.prototype.rotateZWithFloat=function(t,i){return this.rotateZ1Ext_6uxel8_k$(t,i===void 0?Be()._default:i)},Ft.prototype.rotateZ1Ext_6uxel8_k$=function(t,i){var s=Bn();return Aj(s,t,i)},Ft.prototype.rotateZ1Ext$default_o9ju69_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateZ1Ext_6uxel8_k$(t,i)},Ft.prototype.rotateWithDouble=function(t,i,s,c){return this.rotateExt_r1arot_k$(t,i,s,c===void 0?Be()._default:c)},Ft.prototype.rotateExt_r1arot_k$=function(t,i,s,c){var p=Bn();return wZ(p,t,i,s,c)},Ft.prototype.rotateExt$default_8u7nqo_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=Be()._default),this.rotateExt_r1arot_k$(t,i,s,c)},Ft.prototype.rotateWithFloat=function(t,i,s,c){return this.rotate1Ext_wkogtg_k$(t,i,s,c===void 0?Be()._default:c)},Ft.prototype.rotate1Ext_wkogtg_k$=function(t,i,s,c){var p=Bn();return xZ(p,t,i,s,c)},Ft.prototype.rotate1Ext$default_l5nvwf_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=Be()._default),this.rotate1Ext_wkogtg_k$(t,i,s,c)},Ft.prototype.rotateWithDoubleAndVec3=function(t,i,s){return this.rotate2Ext_7vdcut_k$(t,i,s===void 0?Be()._default:s)},Ft.prototype.rotate2Ext_7vdcut_k$=function(t,i,s){var c=Bn();return SZ(c,t,i,s)},Ft.prototype.rotate2Ext$default_9216vi_k$=function(t,i,s,c,p){return(c&4)!=0&&(s=Be()._default),this.rotate2Ext_7vdcut_k$(t,i,s)},Ft.prototype.rotateWithFloatAndVec3=function(t,i,s){return this.rotate3Ext_gc77mi_k$(t,i,s===void 0?Be()._default:s)},Ft.prototype.rotate3Ext_gc77mi_k$=function(t,i,s){var c=Bn();return EZ(c,t,i,s)},Ft.prototype.rotate3Ext$default_uhsbib_k$=function(t,i,s,c,p){return(c&4)!=0&&(s=Be()._default),this.rotate3Ext_gc77mi_k$(t,i,s)},Ft.prototype.rotateWithDoubleAndDoubleAndVec3=function(t,i,s,c){return this.rotate4Ext_sjj9ka_k$(t,i,s,c===void 0?Be()._default:c)},Ft.prototype.rotate4Ext_sjj9ka_k$=function(t,i,s,c){var p=Bn();return CZ(p,t,i,s,c)},Ft.prototype.rotate4Ext$default_6q546r_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=Be()._default),this.rotate4Ext_sjj9ka_k$(t,i,s,c)},Ft.prototype.rotateWithFloatAndFloatAndVec3=function(t,i,s,c){return this.rotate5Ext_4xnuqc_k$(t,i,s,c===void 0?Be()._default:c)},Ft.prototype.rotate5Ext_4xnuqc_k$=function(t,i,s,c){var p=Bn();return AZ(p,t,i,s,c)},Ft.prototype.rotate5Ext$default_hzrpwx_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=Be()._default),this.rotate5Ext_4xnuqc_k$(t,i,s,c)},Ft.prototype.rotateWithV1=function(t,i,s){return this.rotate6Ext_5txgfq_k$(t,i,s===void 0?Be()._default:s)},Ft.prototype.rotate6Ext_5txgfq_k$=function(t,i,s){var c=Bn();return TZ(c,t,i,s)},Ft.prototype.rotate6Ext$default_mm7d9p_k$=function(t,i,s,c,p){return(c&4)!=0&&(s=Be()._default),this.rotate6Ext_5txgfq_k$(t,i,s)},Ft.prototype.scale=function(t){var i=arguments,s,c,p,v;if(i.length===4){var k;e:{var x=i[0];k=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(x);break e}v=k}else v=!1;if(v){var T;e:{var N=i[1];T=N==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(N);break e}p=T}else p=!1;if(p){var B;e:{var L=i[2];B=L==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(L);break e}c=B}else c=!1;if(c){var O;e:{var W=i[3];O=de(Ue).isInstance_wi7j7l_k$(W);break e}s=O}else s=!1;if(s){var K=Bn(),q=i[0],Q=(q!=null?typeof q=="number":!1)?q:M(),ee=i[1],ie=(ee==null?!0:typeof ee=="number")?ee:M(),fe=i[2],le=(fe==null?!0:typeof fe=="number")?fe:M(),Se=i[3],Ee=YQ(K,Q,ie,le,Se instanceof Ue?Se:M());return Ee}var Te,Me,Ne,Pe;if(i.length===4){var Ye;e:{var Ke=i[0];Ye=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ke);break e}Pe=Ye}else Pe=!1;if(Pe){var nt;e:{var Ze=i[1];nt=Ze==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ze);break e}Ne=nt}else Ne=!1;if(Ne){var ct;e:{var ht=i[2];ct=ht==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(ht);break e}Me=ct}else Me=!1;if(Me){var bt;e:{var It=i[3];bt=de(Ue).isInstance_wi7j7l_k$(It);break e}Te=bt}else Te=!1;if(Te){var Nt=Bn(),Rt=i[0],Xt=(Rt!=null?typeof Rt=="number":!1)?Rt:M(),rn=i[1],En=(rn==null?!0:typeof rn=="number")?rn:M(),un=i[2],gn=(un==null?!0:typeof un=="number")?un:M(),Fn=i[3],Un=QQ(Nt,Xt,En,gn,Fn instanceof Ue?Fn:M());return Un}var en,Nn,wn;if(i.length===3){var yr;e:{var rr=i[0];yr=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(rr);break e}wn=yr}else wn=!1;if(wn){var Or;e:{var Jn=i[1];Or=Jn==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(Jn);break e}Nn=Or}else Nn=!1;if(Nn){var qr;e:{var $r=i[2];qr=de(Ue).isInstance_wi7j7l_k$($r);break e}en=qr}else en=!1;if(en){var ei=Bn(),br=i[0],$i=(br!=null?typeof br=="number":!1)?br:M(),zr=i[1],oi=(zr==null?!0:typeof zr=="number")?zr:M(),ti=i[2],Ri=KQ(ei,$i,oi,ti instanceof Ue?ti:M());return Ri}var ni,ai,fo;if(i.length===3){var po;e:{var ha=i[0];po=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(ha);break e}fo=po}else fo=!1;if(fo){var Hi;e:{var ho=i[1];Hi=ho==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(ho);break e}ai=Hi}else ai=!1;if(ai){var eo;e:{var os=i[2];eo=de(Ue).isInstance_wi7j7l_k$(os);break e}ni=eo}else ni=!1;if(ni){var ta=Bn(),Ga=i[0],da=(Ga!=null?typeof Ga=="number":!1)?Ga:M(),as=i[1],Wa=(as==null?!0:typeof as=="number")?as:M(),su=i[2],ss=JQ(ta,da,Wa,su instanceof Ue?su:M());return ss}var ls,us;if(i.length===2){var Aa;e:{var Uc=i[0];Aa=de(zn).isInstance_wi7j7l_k$(Uc);break e}us=Aa}else us=!1;if(us){var Xs;e:{var jc=i[1];Xs=de(Ue).isInstance_wi7j7l_k$(jc);break e}ls=Xs}else ls=!1;if(ls){var lu=Bn(),uu=i[0],cu=uu instanceof zn?uu:M(),_u=i[1],fu=XQ(lu,cu,_u instanceof Ue?_u:M());return fu}var cs,na;if(i.length===2){var pu;e:{var hu=i[0];pu=de($t).isInstance_wi7j7l_k$(hu);break e}na=pu}else na=!1;if(na){var du;e:{var mu=i[1];du=de(Ue).isInstance_wi7j7l_k$(mu);break e}cs=du}else cs=!1;if(cs){var Gc=Bn(),vu=i[0],Ff=vu instanceof $t?vu:M(),Ta=i[1],gu=ZQ(Gc,Ff,Ta instanceof Ue?Ta:M());return gu}throw At("Error choosing proper overload of function Companion.scale for the given parameters")},Ft.prototype.translate=function(t){var i=arguments,s,c,p,v;if(i.length===4){var k;e:{var x=i[0];k=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(x);break e}v=k}else v=!1;if(v){var T;e:{var N=i[1];T=N==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(N);break e}p=T}else p=!1;if(p){var B;e:{var L=i[2];B=L==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(L);break e}c=B}else c=!1;if(c){var O;e:{var W=i[3];O=de(Ue).isInstance_wi7j7l_k$(W);break e}s=O}else s=!1;if(s){var K=Bn(),q=i[0],Q=(q!=null?typeof q=="number":!1)?q:M(),ee=i[1],ie=(ee==null?!0:typeof ee=="number")?ee:M(),fe=i[2],le=(fe==null?!0:typeof fe=="number")?fe:M(),Se=i[3],Ee=fZ(K,Q,ie,le,Se instanceof Ue?Se:M());return Ee}var Te,Me,Ne,Pe;if(i.length===4){var Ye;e:{var Ke=i[0];Ye=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ke);break e}Pe=Ye}else Pe=!1;if(Pe){var nt;e:{var Ze=i[1];nt=Ze==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ze);break e}Ne=nt}else Ne=!1;if(Ne){var ct;e:{var ht=i[2];ct=ht==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(ht);break e}Me=ct}else Me=!1;if(Me){var bt;e:{var It=i[3];bt=de(Ue).isInstance_wi7j7l_k$(It);break e}Te=bt}else Te=!1;if(Te){var Nt=Bn(),Rt=i[0],Xt=(Rt!=null?typeof Rt=="number":!1)?Rt:M(),rn=i[1],En=(rn==null?!0:typeof rn=="number")?rn:M(),un=i[2],gn=(un==null?!0:typeof un=="number")?un:M(),Fn=i[3],Un=pZ(Nt,Xt,En,gn,Fn instanceof Ue?Fn:M());return Un}var en,Nn,wn;if(i.length===3){var yr;e:{var rr=i[0];yr=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(rr);break e}wn=yr}else wn=!1;if(wn){var Or;e:{var Jn=i[1];Or=Jn==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(Jn);break e}Nn=Or}else Nn=!1;if(Nn){var qr;e:{var $r=i[2];qr=de(Ue).isInstance_wi7j7l_k$($r);break e}en=qr}else en=!1;if(en){var ei=Bn(),br=i[0],$i=(br!=null?typeof br=="number":!1)?br:M(),zr=i[1],oi=(zr==null?!0:typeof zr=="number")?zr:M(),ti=i[2],Ri=uZ(ei,$i,oi,ti instanceof Ue?ti:M());return Ri}var ni,ai,fo;if(i.length===3){var po;e:{var ha=i[0];po=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(ha);break e}fo=po}else fo=!1;if(fo){var Hi;e:{var ho=i[1];Hi=ho==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(ho);break e}ai=Hi}else ai=!1;if(ai){var eo;e:{var os=i[2];eo=de(Ue).isInstance_wi7j7l_k$(os);break e}ni=eo}else ni=!1;if(ni){var ta=Bn(),Ga=i[0],da=(Ga!=null?typeof Ga=="number":!1)?Ga:M(),as=i[1],Wa=(as==null?!0:typeof as=="number")?as:M(),su=i[2],ss=cZ(ta,da,Wa,su instanceof Ue?su:M());return ss}var ls,us;if(i.length===2){var Aa;e:{var Uc=i[0];Aa=de(zn).isInstance_wi7j7l_k$(Uc);break e}us=Aa}else us=!1;if(us){var Xs;e:{var jc=i[1];Xs=de(Ue).isInstance_wi7j7l_k$(jc);break e}ls=Xs}else ls=!1;if(ls){var lu=Bn(),uu=i[0],cu=uu instanceof zn?uu:M(),_u=i[1],fu=_Z(lu,cu,_u instanceof Ue?_u:M());return fu}var cs,na;if(i.length===2){var pu;e:{var hu=i[0];pu=de($t).isInstance_wi7j7l_k$(hu);break e}na=pu}else na=!1;if(na){var du;e:{var mu=i[1];du=de(Ue).isInstance_wi7j7l_k$(mu);break e}cs=du}else cs=!1;if(cs){var Gc=Bn(),vu=i[0],Ff=vu instanceof $t?vu:M(),Ta=i[1],gu=hZ(Gc,Ff,Ta instanceof Ue?Ta:M());return gu}throw At("Error choosing proper overload of function Companion.translate for the given parameters")},Ft.prototype.rotateX=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(Ue).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=Bn(),N=i[0],B=(N!=null?typeof N=="number":!1)?N:M(),L=i[1],O=wj(T,B,L instanceof Ue?L:M());return O}var W,K;if(i.length===2){var q;e:{var Q=i[0];q=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Q);break e}K=q}else K=!1;if(K){var ee;e:{var ie=i[1];ee=de(Ue).isInstance_wi7j7l_k$(ie);break e}W=ee}else W=!1;if(W){var fe=Bn(),le=i[0],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[1],Te=xj(fe,Se,Ee instanceof Ue?Ee:M());return Te}throw At("Error choosing proper overload of function Companion.rotateX for the given parameters")},Ft.prototype.rotateY=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(Ue).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=Bn(),N=i[0],B=(N!=null?typeof N=="number":!1)?N:M(),L=i[1],O=Sj(T,B,L instanceof Ue?L:M());return O}var W,K;if(i.length===2){var q;e:{var Q=i[0];q=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Q);break e}K=q}else K=!1;if(K){var ee;e:{var ie=i[1];ee=de(Ue).isInstance_wi7j7l_k$(ie);break e}W=ee}else W=!1;if(W){var fe=Bn(),le=i[0],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[1],Te=Ej(fe,Se,Ee instanceof Ue?Ee:M());return Te}throw At("Error choosing proper overload of function Companion.rotateY for the given parameters")},Ft.prototype.rotateZ=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(Ue).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=Bn(),N=i[0],B=(N!=null?typeof N=="number":!1)?N:M(),L=i[1],O=Cj(T,B,L instanceof Ue?L:M());return O}var W,K;if(i.length===2){var q;e:{var Q=i[0];q=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Q);break e}K=q}else K=!1;if(K){var ee;e:{var ie=i[1];ee=de(Ue).isInstance_wi7j7l_k$(ie);break e}W=ee}else W=!1;if(W){var fe=Bn(),le=i[0],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[1],Te=Aj(fe,Se,Ee instanceof Ue?Ee:M());return Te}throw At("Error choosing proper overload of function Companion.rotateZ for the given parameters")},Ft.prototype.rotate=function(t){var i=arguments,s,c,p,v;if(i.length===4){var k;e:{var x=i[0];k=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(x);break e}v=k}else v=!1;if(v){var T;e:{var N=i[1];T=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(N);break e}p=T}else p=!1;if(p){var B;e:{var L=i[2];B=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(L);break e}c=B}else c=!1;if(c){var O;e:{var W=i[3];O=de(Ue).isInstance_wi7j7l_k$(W);break e}s=O}else s=!1;if(s){var K=Bn(),q=i[0],Q=(q!=null?typeof q=="number":!1)?q:M(),ee=i[1],ie=(ee!=null?typeof ee=="number":!1)?ee:M(),fe=i[2],le=(fe!=null?typeof fe=="number":!1)?fe:M(),Se=i[3],Ee=wZ(K,Q,ie,le,Se instanceof Ue?Se:M());return Ee}var Te,Me,Ne,Pe;if(i.length===4){var Ye;e:{var Ke=i[0];Ye=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ke);break e}Pe=Ye}else Pe=!1;if(Pe){var nt;e:{var Ze=i[1];nt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ze);break e}Ne=nt}else Ne=!1;if(Ne){var ct;e:{var ht=i[2];ct=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(ht);break e}Me=ct}else Me=!1;if(Me){var bt;e:{var It=i[3];bt=de(Ue).isInstance_wi7j7l_k$(It);break e}Te=bt}else Te=!1;if(Te){var Nt=Bn(),Rt=i[0],Xt=(Rt!=null?typeof Rt=="number":!1)?Rt:M(),rn=i[1],En=(rn!=null?typeof rn=="number":!1)?rn:M(),un=i[2],gn=(un!=null?typeof un=="number":!1)?un:M(),Fn=i[3],Un=xZ(Nt,Xt,En,gn,Fn instanceof Ue?Fn:M());return Un}var en,Nn,wn,yr;if(i.length===4){var rr;e:{var Or=i[0];rr=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(Or);break e}yr=rr}else yr=!1;if(yr){var Jn;e:{var qr=i[1];Jn=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(qr);break e}wn=Jn}else wn=!1;if(wn){var $r;e:{var ei=i[2];$r=de($t).isInstance_wi7j7l_k$(ei);break e}Nn=$r}else Nn=!1;if(Nn){var br;e:{var $i=i[3];br=de(Ue).isInstance_wi7j7l_k$($i);break e}en=br}else en=!1;if(en){var zr=Bn(),oi=i[0],ti=(oi!=null?typeof oi=="number":!1)?oi:M(),Ri=i[1],ni=(Ri!=null?typeof Ri=="number":!1)?Ri:M(),ai=i[2],fo=ai instanceof $t?ai:M(),po=i[3],ha=CZ(zr,ti,ni,fo,po instanceof Ue?po:M());return ha}var Hi,ho,eo,os;if(i.length===4){var ta;e:{var Ga=i[0];ta=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ga);break e}os=ta}else os=!1;if(os){var da;e:{var as=i[1];da=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(as);break e}eo=da}else eo=!1;if(eo){var Wa;e:{var su=i[2];Wa=de($t).isInstance_wi7j7l_k$(su);break e}ho=Wa}else ho=!1;if(ho){var ss;e:{var ls=i[3];ss=de(Ue).isInstance_wi7j7l_k$(ls);break e}Hi=ss}else Hi=!1;if(Hi){var us=Bn(),Aa=i[0],Uc=(Aa!=null?typeof Aa=="number":!1)?Aa:M(),Xs=i[1],jc=(Xs!=null?typeof Xs=="number":!1)?Xs:M(),lu=i[2],uu=lu instanceof $t?lu:M(),cu=i[3],_u=AZ(us,Uc,jc,uu,cu instanceof Ue?cu:M());return _u}var fu,cs,na;if(i.length===3){var pu;e:{var hu=i[0];pu=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(hu);break e}na=pu}else na=!1;if(na){var du;e:{var mu=i[1];du=de($t).isInstance_wi7j7l_k$(mu);break e}cs=du}else cs=!1;if(cs){var Gc;e:{var vu=i[2];Gc=de(Ue).isInstance_wi7j7l_k$(vu);break e}fu=Gc}else fu=!1;if(fu){var Ff=Bn(),Ta=i[0],gu=(Ta!=null?typeof Ta=="number":!1)?Ta:M(),Lf=i[1],v0=Lf instanceof $t?Lf:M(),Df=i[2],g0=SZ(Ff,gu,v0,Df instanceof Ue?Df:M());return g0}var Of,Wc,zf;if(i.length===3){var Uf;e:{var y0=i[0];Uf=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(y0);break e}zf=Uf}else zf=!1;if(zf){var Hc;e:{var jf=i[1];Hc=de($t).isInstance_wi7j7l_k$(jf);break e}Wc=Hc}else Wc=!1;if(Wc){var Gf;e:{var k0=i[2];Gf=de(Ue).isInstance_wi7j7l_k$(k0);break e}Of=Gf}else Of=!1;if(Of){var zd=Bn(),Wf=i[0],$0=(Wf!=null?typeof Wf=="number":!1)?Wf:M(),Hf=i[1],b0=Hf instanceof $t?Hf:M(),Vf=i[2],w0=EZ(zd,$0,b0,Vf instanceof Ue?Vf:M());return w0}var x0,S0,E0;if(i.length===3){var sC;e:{var P5=i[0];sC=de($t).isInstance_wi7j7l_k$(P5);break e}E0=sC}else E0=!1;if(E0){var lC;e:{var B5=i[1];lC=de($t).isInstance_wi7j7l_k$(B5);break e}S0=lC}else S0=!1;if(S0){var uC;e:{var F5=i[2];uC=de(Ue).isInstance_wi7j7l_k$(F5);break e}x0=uC}else x0=!1;if(x0){var L5=Bn(),cC=i[0],D5=cC instanceof $t?cC:M(),_C=i[1],O5=_C instanceof $t?_C:M(),fC=i[2],z5=TZ(L5,D5,O5,fC instanceof Ue?fC:M());return z5}throw At("Error choosing proper overload of function Companion.rotate for the given parameters")},Ft.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var fj;function Bn(){return fj==null&&new Ft,fj}function Ct(t,i){Bn(),dr.call(this,t,3,i)}Ct.prototype.factoryWithInt=function(t,i,s){return new Ct(t,s)},Ct.prototype.factory_emzw8k_k$=function(t,i,s){return this.factoryWithInt(t,i,s)},Ct.prototype._get_x__0_k$=function(){return Uo(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,3)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,3)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,3)])},Ct.prototype._get_y__0_k$=function(){return Uo(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,3)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,3)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,3)])},Ct.prototype._get_z__0_k$=function(){return Uo(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,3)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,3)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,3)])},Ct.prototype._get_mat2__0_k$=function(){return OE(this._get_x__0_k$()._get_xy__0_k$(),this._get_y__0_k$()._get_xy__0_k$(),this._get_layout__0_k$())},Ct.prototype._get_mat3__0_k$=function(){return this},Ct.prototype._get_mat4__0_k$=function(){var t=this._get_x__0_k$(),i;e:{i=0;break e}var s=Kp(t,i),c=this._get_y__0_k$(),p;e:{p=0;break e}var v=Kp(c,p),k=this._get_z__0_k$(),x;e:{x=0;break e}return Bd(s,v,Kp(k,x),HE()._wAxis,this._get_layout__0_k$())},Ct.prototype.withX=function(t){return f0(t,this._get_y__0_k$(),this._get_z__0_k$(),this._get_layout__0_k$())},Ct.prototype.withY=function(t){return f0(this._get_x__0_k$(),t,this._get_z__0_k$(),this._get_layout__0_k$())},Ct.prototype.withZ=function(t){return f0(this._get_x__0_k$(),this._get_y__0_k$(),t,this._get_layout__0_k$())},Ct.prototype.withW=function(t){var i=this._get_x__0_k$(),s;e:{s=0;break e}var c=Kp(i,s),p=this._get_y__0_k$(),v;e:{v=0;break e}var k=Kp(p,v),x=this._get_z__0_k$(),T;e:{T=0;break e}return Bd(c,k,Kp(x,T),t,this._get_layout__0_k$())},Ct.prototype.inverse0=function(){var t=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,3)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,3)],i=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,3)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,3)],s=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,3)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,3)],c=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,3)]*t+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,3)]*i+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,3)]*s,p;e:{p=0;break e}if(c===p)return null;var v;e:{v=1;break e}var k=v/c,x;e:{var T=new Float32Array(9);T[this._get_layout__0_k$().invoke(0,0,3)]=t*k,T[this._get_layout__0_k$().invoke(0,1,3)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,3)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,3)])*k,T[this._get_layout__0_k$().invoke(0,2,3)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,3)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,3)])*k,T[this._get_layout__0_k$().invoke(1,0,3)]=i*k,T[this._get_layout__0_k$().invoke(1,1,3)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,3)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,3)])*k,T[this._get_layout__0_k$().invoke(1,2,3)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,3)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,3)])*k,T[this._get_layout__0_k$().invoke(2,0,3)]=s*k,T[this._get_layout__0_k$().invoke(2,1,3)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,3)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,3)])*k,T[this._get_layout__0_k$().invoke(2,2,3)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,3)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,3)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,3)])*k,x=T;break e}return new Ct(x,this._get_layout__0_k$())},Ct.prototype.mulVec=function(t){return d3().matMulVec_6xdosn_k$(this,t)},Ct.prototype.mulWithThis=function(t){var i=this instanceof Ct?this:M();return BQ(i,t)},Ct.prototype.quaternion=function(){var t=this instanceof Ct?this:M();return LQ(t)},Ct.prototype.scale=function(){var t=this instanceof Ct?this:M();return PSe(t)},Ct.prototype.scale2=function(){var t=this instanceof Ct?this:M();return BSe(t)},Ct.prototype.translation=function(){var t=this instanceof Ct?this:M();return LSe(t)},Ct.prototype.rotation=function(){var t=this instanceof Ct?this:M();return HZ(t)},Ct.prototype.factory_dispatcher=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=ce()._get_floatArrayClass__0_k$().isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=de(Ue).isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=i[0],O=(L!=null?Lu(L):!1)?L:M(),W=i[1],K=(W!=null?typeof W=="number":!1)?W:M(),q=i[2],Q=this.factoryWithInt(O,K,q instanceof Ue?q:M());return Q}return dr.prototype.factory_dispatcher.call(this,i.slice())},Ct.prototype.factory=function(t){return this.factory_dispatcher(t)},Ct.prototype.inverse_dispatcher=function(t){var i=arguments;if(i.length===0){var s=this.inverse0();return s}return dr.prototype.inverse.call(this,i.slice())},Ct.prototype.inverse=function(t){return this.inverse_dispatcher(t)},Ct.prototype.mul_dispatcher=function(t){var i=arguments,s,c,p;e:{p=de(Ct).isInstance_wi7j7l_k$(this);break e}if(p?c=i.length===1:c=!1,c){var v;e:{var k=i[0];v=de(Lt).isInstance_wi7j7l_k$(k);break e}s=v}else s=!1;if(s){var x=i[0],T=BQ(this,x instanceof Lt?x:M());return T}var N;if(i.length===1){var B;e:{var L=i[0];B=de($t).isInstance_wi7j7l_k$(L);break e}N=B}else N=!1;if(N){var O=i[0],W=this.mulVec(O instanceof $t?O:M());return W}return dr.prototype.mul.call(this,i.slice())},Ct.prototype.mul=function(t){return this.mul_dispatcher(t)},Ct.$metadata$={simpleName:"Mat3",kind:"class",interfaces:[]},Object.defineProperty(Ct.prototype,"x",{configurable:!0,get:Ct.prototype._get_x__0_k$}),Object.defineProperty(Ct.prototype,"y",{configurable:!0,get:Ct.prototype._get_y__0_k$}),Object.defineProperty(Ct.prototype,"z",{configurable:!0,get:Ct.prototype._get_z__0_k$}),Object.defineProperty(Ct.prototype,"mat2",{configurable:!0,get:Ct.prototype._get_mat2__0_k$}),Object.defineProperty(Ct.prototype,"mat3",{configurable:!0,get:Ct.prototype._get_mat3__0_k$}),Object.defineProperty(Ct.prototype,"mat4",{configurable:!0,get:Ct.prototype._get_mat4__0_k$});function F1e(t,i,s,c,p){return(s&2)!=0&&(i=Be()._default),St.call(p,t,i),p}function L1e(t,i,s,c){return F1e(t,i,s,c,Object.create(St.prototype))}function D1e(t,i,s,c,p,v){var k=p===void 0?Be()._default:p,x;e:{var T=new Float32Array(16);{var N=0;if(N<=3)do{var B=N;N=N+1|0,T[k.invoke(0,B,4)]=t._get_elements__0_k$()[B],T[k.invoke(1,B,4)]=i._get_elements__0_k$()[B],T[k.invoke(2,B,4)]=s._get_elements__0_k$()[B],T[k.invoke(3,B,4)]=c._get_elements__0_k$()[B]}while(N<=3)}x=T;break e}return St.call(v,x,k),v}function Bd(t,i,s,c,p){return D1e(t,i,s,c,p,Object.create(St.prototype))}function O1e(t,i){var s=t===void 0?Be()._default:t,c;e:{c=0;break e}return St.call(i,Er(new Float32Array([c])),s),i}function z1e(t){return O1e(t,Object.create(St.prototype))}function ut(){pj=this;var t;e:{var i=Fr(de(St));t=i;break e}Ni(this,t,Kr(["rotate","orthoRH","rotateWithDoubleAndDoubleAndDouble","viewRH","scale","scaleWithVec4","rotateYWithFloat","translate","rotateWithDoubleAndVec3","translateWithVec3","perspRHSymmetricZ","scaleWithVec3","translateWithFloatAndFloatAndFloatAndFloat","rotateXWithDouble","identity","translateWithVec4","rotateWithV1","orthoRHWithDouble","perspRHSymmetricZWithDouble","perspRHSymmetricZWithFloat","rotateX","rotateY","rotateZ","translateWithDoubleAndDoubleAndDoubleAndDouble","rotateZWithDouble","scaleWithFloatAndFloatAndFloatAndMatrixLayout","rotateWithFloatAndFloatAndVec3","rotateWithFloatAndFloatAndFloat","rotateWithFloatAndVec3","rotateZWithFloat","rotateWithAngleXYZ","rotateYWithDouble","translateWithFloatAndFloatAndFloatAndMatrixLayout","rotateXWithFloat","perspRHWithDouble","rotateWithDoubleAndDoubleAndVec3","scaleWithDoubleAndDoubleAndDoubleAndMatrixLayout","scaleWithDoubleAndDoubleAndDoubleAndDouble","translateWithDoubleAndDoubleAndDoubleAndMatrixLayout","orthoRHWithFloat","scaleWithFloatAndFloatAndFloatAndFloat","perspRHWithFloat","perspRH"]))}ut.prototype.identity=function(t){return this.identityExt_7rrx6e_k$(t===void 0?Be()._default:t)},ut.prototype.identityExt_7rrx6e_k$=function(t){var i=Kt();return MSe(i,t)},ut.prototype.identityExt$default_8adopf_k$=function(t,i,s){return(i&1)!=0&&(t=Be()._default),this.identityExt_7rrx6e_k$(t)},ut.prototype.scaleWithDoubleAndDoubleAndDoubleAndMatrixLayout=function(t,i,s,c){return this.scaleExt_xj63yt_k$(t,i===void 0?null:i,s===void 0?null:s,c===void 0?Be()._default:c)},ut.prototype.scaleExt_xj63yt_k$=function(t,i,s,c){var p=Kt();return eZ(p,t,i,s,c)},ut.prototype.scaleExt$default_8vqa0i_k$=function(t,i,s,c,p,v){return(p&2)!=0&&(i=null),(p&4)!=0&&(s=null),(p&8)!=0&&(c=Be()._default),this.scaleExt_xj63yt_k$(t,i,s,c)},ut.prototype.scaleWithFloatAndFloatAndFloatAndMatrixLayout=function(t,i,s,c){return this.scale1Ext_rdtt6u_k$(t,i===void 0?null:i,s===void 0?null:s,c===void 0?Be()._default:c)},ut.prototype.scale1Ext_rdtt6u_k$=function(t,i,s,c){var p=Kt();return tZ(p,t,i,s,c)},ut.prototype.scale1Ext$default_moadgj_k$=function(t,i,s,c,p,v){return(p&2)!=0&&(i=null),(p&4)!=0&&(s=null),(p&8)!=0&&(c=Be()._default),this.scale1Ext_rdtt6u_k$(t,i,s,c)},ut.prototype.scaleWithVec3=function(t,i){return this.scale2Ext_n3ag44_k$(t,i===void 0?Be()._default:i)},ut.prototype.scale2Ext_n3ag44_k$=function(t,i){var s=Kt();return nZ(s,t,i)},ut.prototype.scale2Ext$default_pkbln3_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.scale2Ext_n3ag44_k$(t,i)},ut.prototype.scaleWithDoubleAndDoubleAndDoubleAndDouble=function(t,i,s,c,p){return this.scale3Ext_ll9lma_k$(t,i,s,c,p===void 0?Be()._default:p)},ut.prototype.scale3Ext_ll9lma_k$=function(t,i,s,c,p){var v=Kt();return rZ(v,t,i,s,c,p)},ut.prototype.scale3Ext$default_uw7smp_k$=function(t,i,s,c,p,v,k){return(v&16)!=0&&(p=Be()._default),this.scale3Ext_ll9lma_k$(t,i,s,c,p)},ut.prototype.scaleWithFloatAndFloatAndFloatAndFloat=function(t,i,s,c,p){return this.scale4Ext_fpbnwq_k$(t,i,s,c,p===void 0?Be()._default:p)},ut.prototype.scale4Ext_fpbnwq_k$=function(t,i,s,c,p){var v=Kt();return iZ(v,t,i,s,c,p)},ut.prototype.scale4Ext$default_eemcb7_k$=function(t,i,s,c,p,v,k){return(v&16)!=0&&(p=Be()._default),this.scale4Ext_fpbnwq_k$(t,i,s,c,p)},ut.prototype.scaleWithVec4=function(t,i){return this.scale5Ext_vgabn9_k$(t,i===void 0?Be()._default:i)},ut.prototype.scale5Ext_vgabn9_k$=function(t,i){var s=Kt();return oZ(s,t,i)},ut.prototype.scale5Ext$default_ignspe_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.scale5Ext_vgabn9_k$(t,i)},ut.prototype.translateWithDoubleAndDoubleAndDoubleAndMatrixLayout=function(t,i,s,c){return this.translateExt_xj63yt_k$(t,i===void 0?null:i,s===void 0?null:s,c===void 0?Be()._default:c)},ut.prototype.translateExt_xj63yt_k$=function(t,i,s,c){var p=Kt();return dZ(p,t,i,s,c)},ut.prototype.translateExt$default_8vqa0i_k$=function(t,i,s,c,p,v){return(p&2)!=0&&(i=null),(p&4)!=0&&(s=null),(p&8)!=0&&(c=Be()._default),this.translateExt_xj63yt_k$(t,i,s,c)},ut.prototype.translateWithFloatAndFloatAndFloatAndMatrixLayout=function(t,i,s,c){return this.translate1Ext_rdtt6u_k$(t,i===void 0?null:i,s===void 0?null:s,c===void 0?Be()._default:c)},ut.prototype.translate1Ext_rdtt6u_k$=function(t,i,s,c){var p=Kt();return mZ(p,t,i,s,c)},ut.prototype.translate1Ext$default_moadgj_k$=function(t,i,s,c,p,v){return(p&2)!=0&&(i=null),(p&4)!=0&&(s=null),(p&8)!=0&&(c=Be()._default),this.translate1Ext_rdtt6u_k$(t,i,s,c)},ut.prototype.translateWithVec3=function(t,i){return this.translate2Ext_n3ag44_k$(t,i===void 0?Be()._default:i)},ut.prototype.translate2Ext_n3ag44_k$=function(t,i){var s=Kt();return vZ(s,t,i)},ut.prototype.translate2Ext$default_pkbln3_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.translate2Ext_n3ag44_k$(t,i)},ut.prototype.translateWithDoubleAndDoubleAndDoubleAndDouble=function(t,i,s,c,p){return this.translate3Ext_ll9lma_k$(t,i,s,c,p===void 0?Be()._default:p)},ut.prototype.translate3Ext_ll9lma_k$=function(t,i,s,c,p){var v=Kt();return gZ(v,t,i,s,c,p)},ut.prototype.translate3Ext$default_uw7smp_k$=function(t,i,s,c,p,v,k){return(v&16)!=0&&(p=Be()._default),this.translate3Ext_ll9lma_k$(t,i,s,c,p)},ut.prototype.translateWithFloatAndFloatAndFloatAndFloat=function(t,i,s,c,p){return this.translate4Ext_fpbnwq_k$(t,i,s,c,p===void 0?Be()._default:p)},ut.prototype.translate4Ext_fpbnwq_k$=function(t,i,s,c,p){var v=Kt();return yZ(v,t,i,s,c,p)},ut.prototype.translate4Ext$default_eemcb7_k$=function(t,i,s,c,p,v,k){return(v&16)!=0&&(p=Be()._default),this.translate4Ext_fpbnwq_k$(t,i,s,c,p)},ut.prototype.translateWithVec4=function(t,i){return this.translate5Ext_vgabn9_k$(t,i===void 0?Be()._default:i)},ut.prototype.translate5Ext_vgabn9_k$=function(t,i){var s=Kt();return kZ(s,t,i)},ut.prototype.translate5Ext$default_ignspe_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.translate5Ext_vgabn9_k$(t,i)},ut.prototype.rotateXWithDouble=function(t,i){return this.rotateXExt_3drktn_k$(t,i===void 0?Be()._default:i)},ut.prototype.rotateXExt_3drktn_k$=function(t,i){var s=Kt();return Tj(s,t,i)},ut.prototype.rotateXExt$default_2zxvg2_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateXExt_3drktn_k$(t,i)},ut.prototype.rotateXWithFloat=function(t,i){return this.rotateX1Ext_6uxel8_k$(t,i===void 0?Be()._default:i)},ut.prototype.rotateX1Ext_6uxel8_k$=function(t,i){var s=Kt();return f3(s,t,i)},ut.prototype.rotateX1Ext$default_o9ju69_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateX1Ext_6uxel8_k$(t,i)},ut.prototype.rotateYWithDouble=function(t,i){return this.rotateYExt_3drktn_k$(t,i===void 0?Be()._default:i)},ut.prototype.rotateYExt_3drktn_k$=function(t,i){var s=Kt();return Ij(s,t,i)},ut.prototype.rotateYExt$default_2zxvg2_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateYExt_3drktn_k$(t,i)},ut.prototype.rotateYWithFloat=function(t,i){return this.rotateY1Ext_6uxel8_k$(t,i===void 0?Be()._default:i)},ut.prototype.rotateY1Ext_6uxel8_k$=function(t,i){var s=Kt();return p3(s,t,i)},ut.prototype.rotateY1Ext$default_o9ju69_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateY1Ext_6uxel8_k$(t,i)},ut.prototype.rotateZWithDouble=function(t,i){return this.rotateZExt_3drktn_k$(t,i===void 0?Be()._default:i)},ut.prototype.rotateZExt_3drktn_k$=function(t,i){var s=Kt();return Mj(s,t,i)},ut.prototype.rotateZExt$default_2zxvg2_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateZExt_3drktn_k$(t,i)},ut.prototype.rotateZWithFloat=function(t,i){return this.rotateZ1Ext_6uxel8_k$(t,i===void 0?Be()._default:i)},ut.prototype.rotateZ1Ext_6uxel8_k$=function(t,i){var s=Kt();return h3(s,t,i)},ut.prototype.rotateZ1Ext$default_o9ju69_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotateZ1Ext_6uxel8_k$(t,i)},ut.prototype.rotateWithDoubleAndDoubleAndDouble=function(t,i,s,c){return this.rotateExt_r1arot_k$(t,i,s,c===void 0?Be()._default:c)},ut.prototype.rotateExt_r1arot_k$=function(t,i,s,c){var p=Kt();return IZ(p,t,i,s,c)},ut.prototype.rotateExt$default_8u7nqo_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=Be()._default),this.rotateExt_r1arot_k$(t,i,s,c)},ut.prototype.rotateWithFloatAndFloatAndFloat=function(t,i,s,c){return this.rotate1Ext_wkogtg_k$(t,i,s,c===void 0?Be()._default:c)},ut.prototype.rotate1Ext_wkogtg_k$=function(t,i,s,c){var p=Kt();return MZ(p,t,i,s,c)},ut.prototype.rotate1Ext$default_l5nvwf_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=Be()._default),this.rotate1Ext_wkogtg_k$(t,i,s,c)},ut.prototype.rotateWithAngleXYZ=function(t,i){return this.rotate2Ext_n3ag44_k$(t,i===void 0?Be()._default:i)},ut.prototype.rotate2Ext_n3ag44_k$=function(t,i){var s=Kt();return NZ(s,t,i)},ut.prototype.rotate2Ext$default_pkbln3_k$=function(t,i,s,c){return(s&2)!=0&&(i=Be()._default),this.rotate2Ext_n3ag44_k$(t,i)},ut.prototype.rotateWithDoubleAndVec3=function(t,i,s){return this.rotate3Ext_7vdcut_k$(t,i,s===void 0?Be()._default:s)},ut.prototype.rotate3Ext_7vdcut_k$=function(t,i,s){var c=Kt();return RZ(c,t,i,s)},ut.prototype.rotate3Ext$default_9216vi_k$=function(t,i,s,c,p){return(c&4)!=0&&(s=Be()._default),this.rotate3Ext_7vdcut_k$(t,i,s)},ut.prototype.rotateWithFloatAndVec3=function(t,i,s){return this.rotate4Ext_gc77mi_k$(t,i,s===void 0?Be()._default:s)},ut.prototype.rotate4Ext_gc77mi_k$=function(t,i,s){var c=Kt();return PZ(c,t,i,s)},ut.prototype.rotate4Ext$default_uhsbib_k$=function(t,i,s,c,p){return(c&4)!=0&&(s=Be()._default),this.rotate4Ext_gc77mi_k$(t,i,s)},ut.prototype.rotateWithDoubleAndDoubleAndVec3=function(t,i,s,c){return this.rotate5Ext_sjj9ka_k$(t,i,s,c===void 0?Be()._default:c)},ut.prototype.rotate5Ext_sjj9ka_k$=function(t,i,s,c){var p=Kt();return BZ(p,t,i,s,c)},ut.prototype.rotate5Ext$default_6q546r_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=Be()._default),this.rotate5Ext_sjj9ka_k$(t,i,s,c)},ut.prototype.rotateWithFloatAndFloatAndVec3=function(t,i,s,c){return this.rotate6Ext_4xnuqc_k$(t,i,s,c===void 0?Be()._default:c)},ut.prototype.rotate6Ext_4xnuqc_k$=function(t,i,s,c){var p=Kt();return FZ(p,t,i,s,c)},ut.prototype.rotate6Ext$default_hzrpwx_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=Be()._default),this.rotate6Ext_4xnuqc_k$(t,i,s,c)},ut.prototype.rotateWithV1=function(t,i,s){return this.rotate7Ext_5txgfq_k$(t,i,s===void 0?Be()._default:s)},ut.prototype.rotate7Ext_5txgfq_k$=function(t,i,s){var c=Kt();return LZ(c,t,i,s)},ut.prototype.rotate7Ext$default_mm7d9p_k$=function(t,i,s,c,p){return(c&4)!=0&&(s=Be()._default),this.rotate7Ext_5txgfq_k$(t,i,s)},ut.prototype.viewRH=function(t,i,s,c){return this.viewRHExt_sznr6c_k$(t,i,s,c===void 0?Be()._default:c)},ut.prototype.viewRHExt_sznr6c_k$=function(t,i,s,c){var p=Kt();return DZ(p,t,i,s,c)},ut.prototype.viewRHExt$default_lbqg35_k$=function(t,i,s,c,p,v){return(p&8)!=0&&(c=Be()._default),this.viewRHExt_sznr6c_k$(t,i,s,c)},ut.prototype.orthoRHWithDouble=function(t,i,s,c,p){return this.orthoRHExt_ll9lma_k$(t,i,s,c,p===void 0?Be()._default:p)},ut.prototype.orthoRHExt_ll9lma_k$=function(t,i,s,c,p){var v=Kt();return OZ(v,t,i,s,c,p)},ut.prototype.orthoRHExt$default_uw7smp_k$=function(t,i,s,c,p,v,k){return(v&16)!=0&&(p=Be()._default),this.orthoRHExt_ll9lma_k$(t,i,s,c,p)},ut.prototype.orthoRHWithFloat=function(t,i,s,c,p){return this.orthoRH1Ext_fpbnwq_k$(t,i,s,c,p===void 0?Be()._default:p)},ut.prototype.orthoRH1Ext_fpbnwq_k$=function(t,i,s,c,p){var v=Kt();return zZ(v,t,i,s,c,p)},ut.prototype.orthoRH1Ext$default_eemcb7_k$=function(t,i,s,c,p,v,k){return(v&16)!=0&&(p=Be()._default),this.orthoRH1Ext_fpbnwq_k$(t,i,s,c,p)},ut.prototype.perspRHWithDouble=function(t,i,s,c,p){return this.perspRHExt_ll9lma_k$(t,i,s,c,p===void 0?Be()._default:p)},ut.prototype.perspRHExt_ll9lma_k$=function(t,i,s,c,p){var v=Kt();return UZ(v,t,i,s,c,p)},ut.prototype.perspRHExt$default_uw7smp_k$=function(t,i,s,c,p,v,k){return(v&16)!=0&&(p=Be()._default),this.perspRHExt_ll9lma_k$(t,i,s,c,p)},ut.prototype.perspRHWithFloat=function(t,i,s,c,p){return this.perspRH1Ext_fpbnwq_k$(t,i,s,c,p===void 0?Be()._default:p)},ut.prototype.perspRH1Ext_fpbnwq_k$=function(t,i,s,c,p){var v=Kt();return jZ(v,t,i,s,c,p)},ut.prototype.perspRH1Ext$default_eemcb7_k$=function(t,i,s,c,p,v,k){return(v&16)!=0&&(p=Be()._default),this.perspRH1Ext_fpbnwq_k$(t,i,s,c,p)},ut.prototype.perspRHSymmetricZWithDouble=function(t,i,s,c,p){return this.perspRHSymmetricZExt_ll9lma_k$(t,i,s,c,p===void 0?Be()._default:p)},ut.prototype.perspRHSymmetricZExt_ll9lma_k$=function(t,i,s,c,p){var v=Kt();return GZ(v,t,i,s,c,p)},ut.prototype.perspRHSymmetricZExt$default_uw7smp_k$=function(t,i,s,c,p,v,k){return(v&16)!=0&&(p=Be()._default),this.perspRHSymmetricZExt_ll9lma_k$(t,i,s,c,p)},ut.prototype.perspRHSymmetricZWithFloat=function(t,i,s,c,p){return this.perspRHSymmetricZ1Ext_fpbnwq_k$(t,i,s,c,p===void 0?Be()._default:p)},ut.prototype.perspRHSymmetricZ1Ext_fpbnwq_k$=function(t,i,s,c,p){var v=Kt();return WZ(v,t,i,s,c,p)},ut.prototype.perspRHSymmetricZ1Ext$default_eemcb7_k$=function(t,i,s,c,p,v,k){return(v&16)!=0&&(p=Be()._default),this.perspRHSymmetricZ1Ext_fpbnwq_k$(t,i,s,c,p)},ut.prototype.scale=function(t){var i=arguments,s,c,p,v,k;if(i.length===5){var x;e:{var T=i[0];x=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(T);break e}k=x}else k=!1;if(k){var N;e:{var B=i[1];N=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(B);break e}v=N}else v=!1;if(v){var L;e:{var O=i[2];L=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(O);break e}p=L}else p=!1;if(p){var W;e:{var K=i[3];W=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(K);break e}c=W}else c=!1;if(c){var q;e:{var Q=i[4];q=de(Ue).isInstance_wi7j7l_k$(Q);break e}s=q}else s=!1;if(s){var ee=Kt(),ie=i[0],fe=(ie!=null?typeof ie=="number":!1)?ie:M(),le=i[1],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[2],Te=(Ee!=null?typeof Ee=="number":!1)?Ee:M(),Me=i[3],Ne=(Me!=null?typeof Me=="number":!1)?Me:M(),Pe=i[4],Ye=rZ(ee,fe,Se,Te,Ne,Pe instanceof Ue?Pe:M());return Ye}var Ke,nt,Ze,ct,ht;if(i.length===5){var bt;e:{var It=i[0];bt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(It);break e}ht=bt}else ht=!1;if(ht){var Nt;e:{var Rt=i[1];Nt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Rt);break e}ct=Nt}else ct=!1;if(ct){var Xt;e:{var rn=i[2];Xt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(rn);break e}Ze=Xt}else Ze=!1;if(Ze){var En;e:{var un=i[3];En=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(un);break e}nt=En}else nt=!1;if(nt){var gn;e:{var Fn=i[4];gn=de(Ue).isInstance_wi7j7l_k$(Fn);break e}Ke=gn}else Ke=!1;if(Ke){var Un=Kt(),en=i[0],Nn=(en!=null?typeof en=="number":!1)?en:M(),wn=i[1],yr=(wn!=null?typeof wn=="number":!1)?wn:M(),rr=i[2],Or=(rr!=null?typeof rr=="number":!1)?rr:M(),Jn=i[3],qr=(Jn!=null?typeof Jn=="number":!1)?Jn:M(),$r=i[4],ei=iZ(Un,Nn,yr,Or,qr,$r instanceof Ue?$r:M());return ei}var br,$i,zr,oi;if(i.length===4){var ti;e:{var Ri=i[0];ti=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(Ri);break e}oi=ti}else oi=!1;if(oi){var ni;e:{var ai=i[1];ni=ai==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(ai);break e}zr=ni}else zr=!1;if(zr){var fo;e:{var po=i[2];fo=po==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(po);break e}$i=fo}else $i=!1;if($i){var ha;e:{var Hi=i[3];ha=de(Ue).isInstance_wi7j7l_k$(Hi);break e}br=ha}else br=!1;if(br){var ho=Kt(),eo=i[0],os=(eo!=null?typeof eo=="number":!1)?eo:M(),ta=i[1],Ga=(ta==null?!0:typeof ta=="number")?ta:M(),da=i[2],as=(da==null?!0:typeof da=="number")?da:M(),Wa=i[3],su=eZ(ho,os,Ga,as,Wa instanceof Ue?Wa:M());return su}var ss,ls,us,Aa;if(i.length===4){var Uc;e:{var Xs=i[0];Uc=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Xs);break e}Aa=Uc}else Aa=!1;if(Aa){var jc;e:{var lu=i[1];jc=lu==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(lu);break e}us=jc}else us=!1;if(us){var uu;e:{var cu=i[2];uu=cu==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(cu);break e}ls=uu}else ls=!1;if(ls){var _u;e:{var fu=i[3];_u=de(Ue).isInstance_wi7j7l_k$(fu);break e}ss=_u}else ss=!1;if(ss){var cs=Kt(),na=i[0],pu=(na!=null?typeof na=="number":!1)?na:M(),hu=i[1],du=(hu==null?!0:typeof hu=="number")?hu:M(),mu=i[2],Gc=(mu==null?!0:typeof mu=="number")?mu:M(),vu=i[3],Ff=tZ(cs,pu,du,Gc,vu instanceof Ue?vu:M());return Ff}var Ta,gu;if(i.length===2){var Lf;e:{var v0=i[0];Lf=de($t).isInstance_wi7j7l_k$(v0);break e}gu=Lf}else gu=!1;if(gu){var Df;e:{var g0=i[1];Df=de(Ue).isInstance_wi7j7l_k$(g0);break e}Ta=Df}else Ta=!1;if(Ta){var Of=Kt(),Wc=i[0],zf=Wc instanceof $t?Wc:M(),Uf=i[1],y0=nZ(Of,zf,Uf instanceof Ue?Uf:M());return y0}var Hc,jf;if(i.length===2){var Gf;e:{var k0=i[0];Gf=de(dn).isInstance_wi7j7l_k$(k0);break e}jf=Gf}else jf=!1;if(jf){var zd;e:{var Wf=i[1];zd=de(Ue).isInstance_wi7j7l_k$(Wf);break e}Hc=zd}else Hc=!1;if(Hc){var $0=Kt(),Hf=i[0],b0=Hf instanceof dn?Hf:M(),Vf=i[1],w0=oZ($0,b0,Vf instanceof Ue?Vf:M());return w0}throw At("Error choosing proper overload of function Companion.scale for the given parameters")},ut.prototype.translate=function(t){var i=arguments,s,c,p,v,k;if(i.length===5){var x;e:{var T=i[0];x=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(T);break e}k=x}else k=!1;if(k){var N;e:{var B=i[1];N=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(B);break e}v=N}else v=!1;if(v){var L;e:{var O=i[2];L=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(O);break e}p=L}else p=!1;if(p){var W;e:{var K=i[3];W=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(K);break e}c=W}else c=!1;if(c){var q;e:{var Q=i[4];q=de(Ue).isInstance_wi7j7l_k$(Q);break e}s=q}else s=!1;if(s){var ee=Kt(),ie=i[0],fe=(ie!=null?typeof ie=="number":!1)?ie:M(),le=i[1],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[2],Te=(Ee!=null?typeof Ee=="number":!1)?Ee:M(),Me=i[3],Ne=(Me!=null?typeof Me=="number":!1)?Me:M(),Pe=i[4],Ye=gZ(ee,fe,Se,Te,Ne,Pe instanceof Ue?Pe:M());return Ye}var Ke,nt,Ze,ct,ht;if(i.length===5){var bt;e:{var It=i[0];bt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(It);break e}ht=bt}else ht=!1;if(ht){var Nt;e:{var Rt=i[1];Nt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Rt);break e}ct=Nt}else ct=!1;if(ct){var Xt;e:{var rn=i[2];Xt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(rn);break e}Ze=Xt}else Ze=!1;if(Ze){var En;e:{var un=i[3];En=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(un);break e}nt=En}else nt=!1;if(nt){var gn;e:{var Fn=i[4];gn=de(Ue).isInstance_wi7j7l_k$(Fn);break e}Ke=gn}else Ke=!1;if(Ke){var Un=Kt(),en=i[0],Nn=(en!=null?typeof en=="number":!1)?en:M(),wn=i[1],yr=(wn!=null?typeof wn=="number":!1)?wn:M(),rr=i[2],Or=(rr!=null?typeof rr=="number":!1)?rr:M(),Jn=i[3],qr=(Jn!=null?typeof Jn=="number":!1)?Jn:M(),$r=i[4],ei=yZ(Un,Nn,yr,Or,qr,$r instanceof Ue?$r:M());return ei}var br,$i,zr,oi;if(i.length===4){var ti;e:{var Ri=i[0];ti=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(Ri);break e}oi=ti}else oi=!1;if(oi){var ni;e:{var ai=i[1];ni=ai==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(ai);break e}zr=ni}else zr=!1;if(zr){var fo;e:{var po=i[2];fo=po==null?!0:ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(po);break e}$i=fo}else $i=!1;if($i){var ha;e:{var Hi=i[3];ha=de(Ue).isInstance_wi7j7l_k$(Hi);break e}br=ha}else br=!1;if(br){var ho=Kt(),eo=i[0],os=(eo!=null?typeof eo=="number":!1)?eo:M(),ta=i[1],Ga=(ta==null?!0:typeof ta=="number")?ta:M(),da=i[2],as=(da==null?!0:typeof da=="number")?da:M(),Wa=i[3],su=dZ(ho,os,Ga,as,Wa instanceof Ue?Wa:M());return su}var ss,ls,us,Aa;if(i.length===4){var Uc;e:{var Xs=i[0];Uc=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Xs);break e}Aa=Uc}else Aa=!1;if(Aa){var jc;e:{var lu=i[1];jc=lu==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(lu);break e}us=jc}else us=!1;if(us){var uu;e:{var cu=i[2];uu=cu==null?!0:ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(cu);break e}ls=uu}else ls=!1;if(ls){var _u;e:{var fu=i[3];_u=de(Ue).isInstance_wi7j7l_k$(fu);break e}ss=_u}else ss=!1;if(ss){var cs=Kt(),na=i[0],pu=(na!=null?typeof na=="number":!1)?na:M(),hu=i[1],du=(hu==null?!0:typeof hu=="number")?hu:M(),mu=i[2],Gc=(mu==null?!0:typeof mu=="number")?mu:M(),vu=i[3],Ff=mZ(cs,pu,du,Gc,vu instanceof Ue?vu:M());return Ff}var Ta,gu;if(i.length===2){var Lf;e:{var v0=i[0];Lf=de($t).isInstance_wi7j7l_k$(v0);break e}gu=Lf}else gu=!1;if(gu){var Df;e:{var g0=i[1];Df=de(Ue).isInstance_wi7j7l_k$(g0);break e}Ta=Df}else Ta=!1;if(Ta){var Of=Kt(),Wc=i[0],zf=Wc instanceof $t?Wc:M(),Uf=i[1],y0=vZ(Of,zf,Uf instanceof Ue?Uf:M());return y0}var Hc,jf;if(i.length===2){var Gf;e:{var k0=i[0];Gf=de(dn).isInstance_wi7j7l_k$(k0);break e}jf=Gf}else jf=!1;if(jf){var zd;e:{var Wf=i[1];zd=de(Ue).isInstance_wi7j7l_k$(Wf);break e}Hc=zd}else Hc=!1;if(Hc){var $0=Kt(),Hf=i[0],b0=Hf instanceof dn?Hf:M(),Vf=i[1],w0=kZ($0,b0,Vf instanceof Ue?Vf:M());return w0}throw At("Error choosing proper overload of function Companion.translate for the given parameters")},ut.prototype.rotateX=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(Ue).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=Kt(),N=i[0],B=(N!=null?typeof N=="number":!1)?N:M(),L=i[1],O=Tj(T,B,L instanceof Ue?L:M());return O}var W,K;if(i.length===2){var q;e:{var Q=i[0];q=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Q);break e}K=q}else K=!1;if(K){var ee;e:{var ie=i[1];ee=de(Ue).isInstance_wi7j7l_k$(ie);break e}W=ee}else W=!1;if(W){var fe=Kt(),le=i[0],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[1],Te=f3(fe,Se,Ee instanceof Ue?Ee:M());return Te}throw At("Error choosing proper overload of function Companion.rotateX for the given parameters")},ut.prototype.rotateY=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(Ue).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=Kt(),N=i[0],B=(N!=null?typeof N=="number":!1)?N:M(),L=i[1],O=Ij(T,B,L instanceof Ue?L:M());return O}var W,K;if(i.length===2){var q;e:{var Q=i[0];q=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Q);break e}K=q}else K=!1;if(K){var ee;e:{var ie=i[1];ee=de(Ue).isInstance_wi7j7l_k$(ie);break e}W=ee}else W=!1;if(W){var fe=Kt(),le=i[0],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[1],Te=p3(fe,Se,Ee instanceof Ue?Ee:M());return Te}throw At("Error choosing proper overload of function Companion.rotateY for the given parameters")},ut.prototype.rotateZ=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(Ue).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=Kt(),N=i[0],B=(N!=null?typeof N=="number":!1)?N:M(),L=i[1],O=Mj(T,B,L instanceof Ue?L:M());return O}var W,K;if(i.length===2){var q;e:{var Q=i[0];q=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Q);break e}K=q}else K=!1;if(K){var ee;e:{var ie=i[1];ee=de(Ue).isInstance_wi7j7l_k$(ie);break e}W=ee}else W=!1;if(W){var fe=Kt(),le=i[0],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[1],Te=h3(fe,Se,Ee instanceof Ue?Ee:M());return Te}throw At("Error choosing proper overload of function Companion.rotateZ for the given parameters")},ut.prototype.rotate=function(t){var i=arguments,s,c,p,v;if(i.length===4){var k;e:{var x=i[0];k=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(x);break e}v=k}else v=!1;if(v){var T;e:{var N=i[1];T=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(N);break e}p=T}else p=!1;if(p){var B;e:{var L=i[2];B=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(L);break e}c=B}else c=!1;if(c){var O;e:{var W=i[3];O=de(Ue).isInstance_wi7j7l_k$(W);break e}s=O}else s=!1;if(s){var K=Kt(),q=i[0],Q=(q!=null?typeof q=="number":!1)?q:M(),ee=i[1],ie=(ee!=null?typeof ee=="number":!1)?ee:M(),fe=i[2],le=(fe!=null?typeof fe=="number":!1)?fe:M(),Se=i[3],Ee=IZ(K,Q,ie,le,Se instanceof Ue?Se:M());return Ee}var Te,Me,Ne,Pe;if(i.length===4){var Ye;e:{var Ke=i[0];Ye=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ke);break e}Pe=Ye}else Pe=!1;if(Pe){var nt;e:{var Ze=i[1];nt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ze);break e}Ne=nt}else Ne=!1;if(Ne){var ct;e:{var ht=i[2];ct=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(ht);break e}Me=ct}else Me=!1;if(Me){var bt;e:{var It=i[3];bt=de(Ue).isInstance_wi7j7l_k$(It);break e}Te=bt}else Te=!1;if(Te){var Nt=Kt(),Rt=i[0],Xt=(Rt!=null?typeof Rt=="number":!1)?Rt:M(),rn=i[1],En=(rn!=null?typeof rn=="number":!1)?rn:M(),un=i[2],gn=(un!=null?typeof un=="number":!1)?un:M(),Fn=i[3],Un=MZ(Nt,Xt,En,gn,Fn instanceof Ue?Fn:M());return Un}var en,Nn,wn,yr;if(i.length===4){var rr;e:{var Or=i[0];rr=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(Or);break e}yr=rr}else yr=!1;if(yr){var Jn;e:{var qr=i[1];Jn=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(qr);break e}wn=Jn}else wn=!1;if(wn){var $r;e:{var ei=i[2];$r=de($t).isInstance_wi7j7l_k$(ei);break e}Nn=$r}else Nn=!1;if(Nn){var br;e:{var $i=i[3];br=de(Ue).isInstance_wi7j7l_k$($i);break e}en=br}else en=!1;if(en){var zr=Kt(),oi=i[0],ti=(oi!=null?typeof oi=="number":!1)?oi:M(),Ri=i[1],ni=(Ri!=null?typeof Ri=="number":!1)?Ri:M(),ai=i[2],fo=ai instanceof $t?ai:M(),po=i[3],ha=BZ(zr,ti,ni,fo,po instanceof Ue?po:M());return ha}var Hi,ho,eo,os;if(i.length===4){var ta;e:{var Ga=i[0];ta=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ga);break e}os=ta}else os=!1;if(os){var da;e:{var as=i[1];da=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(as);break e}eo=da}else eo=!1;if(eo){var Wa;e:{var su=i[2];Wa=de($t).isInstance_wi7j7l_k$(su);break e}ho=Wa}else ho=!1;if(ho){var ss;e:{var ls=i[3];ss=de(Ue).isInstance_wi7j7l_k$(ls);break e}Hi=ss}else Hi=!1;if(Hi){var us=Kt(),Aa=i[0],Uc=(Aa!=null?typeof Aa=="number":!1)?Aa:M(),Xs=i[1],jc=(Xs!=null?typeof Xs=="number":!1)?Xs:M(),lu=i[2],uu=lu instanceof $t?lu:M(),cu=i[3],_u=FZ(us,Uc,jc,uu,cu instanceof Ue?cu:M());return _u}var fu,cs,na;if(i.length===3){var pu;e:{var hu=i[0];pu=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(hu);break e}na=pu}else na=!1;if(na){var du;e:{var mu=i[1];du=de($t).isInstance_wi7j7l_k$(mu);break e}cs=du}else cs=!1;if(cs){var Gc;e:{var vu=i[2];Gc=de(Ue).isInstance_wi7j7l_k$(vu);break e}fu=Gc}else fu=!1;if(fu){var Ff=Kt(),Ta=i[0],gu=(Ta!=null?typeof Ta=="number":!1)?Ta:M(),Lf=i[1],v0=Lf instanceof $t?Lf:M(),Df=i[2],g0=RZ(Ff,gu,v0,Df instanceof Ue?Df:M());return g0}var Of,Wc,zf;if(i.length===3){var Uf;e:{var y0=i[0];Uf=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(y0);break e}zf=Uf}else zf=!1;if(zf){var Hc;e:{var jf=i[1];Hc=de($t).isInstance_wi7j7l_k$(jf);break e}Wc=Hc}else Wc=!1;if(Wc){var Gf;e:{var k0=i[2];Gf=de(Ue).isInstance_wi7j7l_k$(k0);break e}Of=Gf}else Of=!1;if(Of){var zd=Kt(),Wf=i[0],$0=(Wf!=null?typeof Wf=="number":!1)?Wf:M(),Hf=i[1],b0=Hf instanceof $t?Hf:M(),Vf=i[2],w0=PZ(zd,$0,b0,Vf instanceof Ue?Vf:M());return w0}var x0,S0,E0;if(i.length===3){var sC;e:{var P5=i[0];sC=de($t).isInstance_wi7j7l_k$(P5);break e}E0=sC}else E0=!1;if(E0){var lC;e:{var B5=i[1];lC=de($t).isInstance_wi7j7l_k$(B5);break e}S0=lC}else S0=!1;if(S0){var uC;e:{var F5=i[2];uC=de(Ue).isInstance_wi7j7l_k$(F5);break e}x0=uC}else x0=!1;if(x0){var L5=Kt(),cC=i[0],D5=cC instanceof $t?cC:M(),_C=i[1],O5=_C instanceof $t?_C:M(),fC=i[2],z5=LZ(L5,D5,O5,fC instanceof Ue?fC:M());return z5}var U5,j5;if(i.length===2){var Hee;e:{var d2e=i[0];Hee=de($t).isInstance_wi7j7l_k$(d2e);break e}j5=Hee}else j5=!1;if(j5){var Vee;e:{var m2e=i[1];Vee=de(Ue).isInstance_wi7j7l_k$(m2e);break e}U5=Vee}else U5=!1;if(U5){var v2e=Kt(),qee=i[0],g2e=qee instanceof $t?qee:M(),Kee=i[1],y2e=NZ(v2e,g2e,Kee instanceof Ue?Kee:M());return y2e}throw At("Error choosing proper overload of function Companion.rotate for the given parameters")},ut.prototype.orthoRH=function(t){var i=arguments,s,c,p,v,k;if(i.length===5){var x;e:{var T=i[0];x=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(T);break e}k=x}else k=!1;if(k){var N;e:{var B=i[1];N=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(B);break e}v=N}else v=!1;if(v){var L;e:{var O=i[2];L=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(O);break e}p=L}else p=!1;if(p){var W;e:{var K=i[3];W=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(K);break e}c=W}else c=!1;if(c){var q;e:{var Q=i[4];q=de(Ue).isInstance_wi7j7l_k$(Q);break e}s=q}else s=!1;if(s){var ee=Kt(),ie=i[0],fe=(ie!=null?typeof ie=="number":!1)?ie:M(),le=i[1],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[2],Te=(Ee!=null?typeof Ee=="number":!1)?Ee:M(),Me=i[3],Ne=(Me!=null?typeof Me=="number":!1)?Me:M(),Pe=i[4],Ye=OZ(ee,fe,Se,Te,Ne,Pe instanceof Ue?Pe:M());return Ye}var Ke,nt,Ze,ct,ht;if(i.length===5){var bt;e:{var It=i[0];bt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(It);break e}ht=bt}else ht=!1;if(ht){var Nt;e:{var Rt=i[1];Nt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Rt);break e}ct=Nt}else ct=!1;if(ct){var Xt;e:{var rn=i[2];Xt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(rn);break e}Ze=Xt}else Ze=!1;if(Ze){var En;e:{var un=i[3];En=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(un);break e}nt=En}else nt=!1;if(nt){var gn;e:{var Fn=i[4];gn=de(Ue).isInstance_wi7j7l_k$(Fn);break e}Ke=gn}else Ke=!1;if(Ke){var Un=Kt(),en=i[0],Nn=(en!=null?typeof en=="number":!1)?en:M(),wn=i[1],yr=(wn!=null?typeof wn=="number":!1)?wn:M(),rr=i[2],Or=(rr!=null?typeof rr=="number":!1)?rr:M(),Jn=i[3],qr=(Jn!=null?typeof Jn=="number":!1)?Jn:M(),$r=i[4],ei=zZ(Un,Nn,yr,Or,qr,$r instanceof Ue?$r:M());return ei}throw At("Error choosing proper overload of function Companion.orthoRH for the given parameters")},ut.prototype.perspRH=function(t){var i=arguments,s,c,p,v,k;if(i.length===5){var x;e:{var T=i[0];x=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(T);break e}k=x}else k=!1;if(k){var N;e:{var B=i[1];N=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(B);break e}v=N}else v=!1;if(v){var L;e:{var O=i[2];L=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(O);break e}p=L}else p=!1;if(p){var W;e:{var K=i[3];W=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(K);break e}c=W}else c=!1;if(c){var q;e:{var Q=i[4];q=de(Ue).isInstance_wi7j7l_k$(Q);break e}s=q}else s=!1;if(s){var ee=Kt(),ie=i[0],fe=(ie!=null?typeof ie=="number":!1)?ie:M(),le=i[1],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[2],Te=(Ee!=null?typeof Ee=="number":!1)?Ee:M(),Me=i[3],Ne=(Me!=null?typeof Me=="number":!1)?Me:M(),Pe=i[4],Ye=UZ(ee,fe,Se,Te,Ne,Pe instanceof Ue?Pe:M());return Ye}var Ke,nt,Ze,ct,ht;if(i.length===5){var bt;e:{var It=i[0];bt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(It);break e}ht=bt}else ht=!1;if(ht){var Nt;e:{var Rt=i[1];Nt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Rt);break e}ct=Nt}else ct=!1;if(ct){var Xt;e:{var rn=i[2];Xt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(rn);break e}Ze=Xt}else Ze=!1;if(Ze){var En;e:{var un=i[3];En=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(un);break e}nt=En}else nt=!1;if(nt){var gn;e:{var Fn=i[4];gn=de(Ue).isInstance_wi7j7l_k$(Fn);break e}Ke=gn}else Ke=!1;if(Ke){var Un=Kt(),en=i[0],Nn=(en!=null?typeof en=="number":!1)?en:M(),wn=i[1],yr=(wn!=null?typeof wn=="number":!1)?wn:M(),rr=i[2],Or=(rr!=null?typeof rr=="number":!1)?rr:M(),Jn=i[3],qr=(Jn!=null?typeof Jn=="number":!1)?Jn:M(),$r=i[4],ei=jZ(Un,Nn,yr,Or,qr,$r instanceof Ue?$r:M());return ei}throw At("Error choosing proper overload of function Companion.perspRH for the given parameters")},ut.prototype.perspRHSymmetricZ=function(t){var i=arguments,s,c,p,v,k;if(i.length===5){var x;e:{var T=i[0];x=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(T);break e}k=x}else k=!1;if(k){var N;e:{var B=i[1];N=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(B);break e}v=N}else v=!1;if(v){var L;e:{var O=i[2];L=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(O);break e}p=L}else p=!1;if(p){var W;e:{var K=i[3];W=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(K);break e}c=W}else c=!1;if(c){var q;e:{var Q=i[4];q=de(Ue).isInstance_wi7j7l_k$(Q);break e}s=q}else s=!1;if(s){var ee=Kt(),ie=i[0],fe=(ie!=null?typeof ie=="number":!1)?ie:M(),le=i[1],Se=(le!=null?typeof le=="number":!1)?le:M(),Ee=i[2],Te=(Ee!=null?typeof Ee=="number":!1)?Ee:M(),Me=i[3],Ne=(Me!=null?typeof Me=="number":!1)?Me:M(),Pe=i[4],Ye=GZ(ee,fe,Se,Te,Ne,Pe instanceof Ue?Pe:M());return Ye}var Ke,nt,Ze,ct,ht;if(i.length===5){var bt;e:{var It=i[0];bt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(It);break e}ht=bt}else ht=!1;if(ht){var Nt;e:{var Rt=i[1];Nt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Rt);break e}ct=Nt}else ct=!1;if(ct){var Xt;e:{var rn=i[2];Xt=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(rn);break e}Ze=Xt}else Ze=!1;if(Ze){var En;e:{var un=i[3];En=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(un);break e}nt=En}else nt=!1;if(nt){var gn;e:{var Fn=i[4];gn=de(Ue).isInstance_wi7j7l_k$(Fn);break e}Ke=gn}else Ke=!1;if(Ke){var Un=Kt(),en=i[0],Nn=(en!=null?typeof en=="number":!1)?en:M(),wn=i[1],yr=(wn!=null?typeof wn=="number":!1)?wn:M(),rr=i[2],Or=(rr!=null?typeof rr=="number":!1)?rr:M(),Jn=i[3],qr=(Jn!=null?typeof Jn=="number":!1)?Jn:M(),$r=i[4],ei=WZ(Un,Nn,yr,Or,qr,$r instanceof Ue?$r:M());return ei}throw At("Error choosing proper overload of function Companion.perspRHSymmetricZ for the given parameters")},ut.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var pj;function Kt(){return pj==null&&new ut,pj}function St(t,i){Kt(),dr.call(this,t,4,i)}St.prototype.factoryWithInt=function(t,i,s){return new St(t,s)},St.prototype.factory_emzw8k_k$=function(t,i,s){return this.factoryWithInt(t,i,s)},St.prototype._get_x__0_k$=function(){return rs(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,3,4)])},St.prototype._get_y__0_k$=function(){return rs(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,3,4)])},St.prototype._get_z__0_k$=function(){return rs(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,3,4)])},St.prototype._get_w__0_k$=function(){return rs(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,0,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,1,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,2,4)],this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,3,4)])},St.prototype._get_mat2__0_k$=function(){return OE(this._get_x__0_k$()._get_xy__0_k$(),this._get_y__0_k$()._get_xy__0_k$(),this._get_layout__0_k$())},St.prototype._get_mat3__0_k$=function(){return f0(this._get_x__0_k$()._get_xyz__0_k$(),this._get_y__0_k$()._get_xyz__0_k$(),this._get_z__0_k$()._get_xyz__0_k$(),this._get_layout__0_k$())},St.prototype._get_mat4__0_k$=function(){return this},St.prototype.withX=function(t){return Bd(t,this._get_y__0_k$(),this._get_z__0_k$(),this._get_w__0_k$(),this._get_layout__0_k$())},St.prototype.withY=function(t){return Bd(this._get_x__0_k$(),t,this._get_z__0_k$(),this._get_w__0_k$(),this._get_layout__0_k$())},St.prototype.withZ=function(t){return Bd(this._get_x__0_k$(),this._get_y__0_k$(),t,this._get_w__0_k$(),this._get_layout__0_k$())},St.prototype.withW=function(t){return Bd(this._get_x__0_k$(),this._get_y__0_k$(),this._get_z__0_k$(),t,this._get_layout__0_k$())},St.prototype.inverse0=function(){var t=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,4)],i=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,4)],s=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,3,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,3,4)],c=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,4)],p=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,3,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,3,4)],v=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,3,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,3,4)],k=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,3,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,2,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,3,4)],x=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,3,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,1,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,3,4)],T=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,2,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,1,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,4)],N=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,3,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,3,4)],B=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,2,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,4)],L=this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,1,4)]-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,0,4)]*this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,4)],O=t*k-i*x+s*T+c*N-p*B+v*L,W;e:{W=0;break e}if(O===W)return null;var K;e:{K=1;break e}var q=K/O,Q;e:{var ee=new Float32Array(16);ee[this._get_layout__0_k$().invoke(0,0,4)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,4)]*k-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,4)]*x+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,3,4)]*T)*q,ee[this._get_layout__0_k$().invoke(0,1,4)]=(-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,4)]*k+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,4)]*x-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,3,4)]*T)*q,ee[this._get_layout__0_k$().invoke(0,2,4)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,1,4)]*v-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,2,4)]*p+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,3,4)]*c)*q,ee[this._get_layout__0_k$().invoke(0,3,4)]=(-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,4)]*v+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,4)]*p-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,3,4)]*c)*q,ee[this._get_layout__0_k$().invoke(1,0,4)]=(-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,4)]*k+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,4)]*N-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,3,4)]*B)*q,ee[this._get_layout__0_k$().invoke(1,1,4)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,4)]*k-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,4)]*N+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,3,4)]*B)*q,ee[this._get_layout__0_k$().invoke(1,2,4)]=(-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,0,4)]*v+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,2,4)]*s-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,3,4)]*i)*q,ee[this._get_layout__0_k$().invoke(1,3,4)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,4)]*v-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,4)]*s+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,3,4)]*i)*q,ee[this._get_layout__0_k$().invoke(2,0,4)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,4)]*x-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,4)]*N+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,3,4)]*L)*q,ee[this._get_layout__0_k$().invoke(2,1,4)]=(-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,4)]*x+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,4)]*N-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,3,4)]*L)*q,ee[this._get_layout__0_k$().invoke(2,2,4)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,0,4)]*p-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,1,4)]*s+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,3,4)]*t)*q,ee[this._get_layout__0_k$().invoke(2,3,4)]=(-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,4)]*p+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,4)]*s-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,3,4)]*t)*q,ee[this._get_layout__0_k$().invoke(3,0,4)]=(-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,0,4)]*T+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,1,4)]*B-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(1,2,4)]*L)*q,ee[this._get_layout__0_k$().invoke(3,1,4)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,0,4)]*T-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,1,4)]*B+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(0,2,4)]*L)*q,ee[this._get_layout__0_k$().invoke(3,2,4)]=(-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,0,4)]*c+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,1,4)]*i-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(3,2,4)]*t)*q,ee[this._get_layout__0_k$().invoke(3,3,4)]=(this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,0,4)]*c-this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,1,4)]*i+this._get_elements__0_k$()[this._get_layout__0_k$().invoke(2,2,4)]*t)*q,Q=ee;break e}return new St(Q,this._get_layout__0_k$())},St.prototype.mulVec=function(t){return d3().matMulVec_6xdosn_k$(this,t)},St.prototype.mulWithThis=function(t){var i=this instanceof St?this:M();return FQ(i,t)},St.prototype.quaternion=function(){var t=this instanceof St?this:M();return DQ(t)},St.prototype.scale=function(){var t=this instanceof St?this:M();return FSe(t)},St.prototype.translation=function(){var t=this instanceof St?this:M();return DSe(t)},St.prototype.rotation=function(){var t=this instanceof St?this:M();return OSe(t)},St.prototype.factory_dispatcher=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=ce()._get_floatArrayClass__0_k$().isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=de(Ue).isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=i[0],O=(L!=null?Lu(L):!1)?L:M(),W=i[1],K=(W!=null?typeof W=="number":!1)?W:M(),q=i[2],Q=this.factoryWithInt(O,K,q instanceof Ue?q:M());return Q}return dr.prototype.factory_dispatcher.call(this,i.slice())},St.prototype.factory=function(t){return this.factory_dispatcher(t)},St.prototype.inverse_dispatcher=function(t){var i=arguments;if(i.length===0){var s=this.inverse0();return s}return dr.prototype.inverse.call(this,i.slice())},St.prototype.inverse=function(t){return this.inverse_dispatcher(t)},St.prototype.mul_dispatcher=function(t){var i=arguments,s,c,p;e:{p=de(St).isInstance_wi7j7l_k$(this);break e}if(p?c=i.length===1:c=!1,c){var v;e:{var k=i[0];v=de(Lt).isInstance_wi7j7l_k$(k);break e}s=v}else s=!1;if(s){var x=i[0],T=FQ(this,x instanceof Lt?x:M());return T}var N;if(i.length===1){var B;e:{var L=i[0];B=de(dn).isInstance_wi7j7l_k$(L);break e}N=B}else N=!1;if(N){var O=i[0],W=this.mulVec(O instanceof dn?O:M());return W}return dr.prototype.mul.call(this,i.slice())},St.prototype.mul=function(t){return this.mul_dispatcher(t)},St.$metadata$={simpleName:"Mat4",kind:"class",interfaces:[]},Object.defineProperty(St.prototype,"x",{configurable:!0,get:St.prototype._get_x__0_k$}),Object.defineProperty(St.prototype,"y",{configurable:!0,get:St.prototype._get_y__0_k$}),Object.defineProperty(St.prototype,"z",{configurable:!0,get:St.prototype._get_z__0_k$}),Object.defineProperty(St.prototype,"w",{configurable:!0,get:St.prototype._get_w__0_k$}),Object.defineProperty(St.prototype,"mat2",{configurable:!0,get:St.prototype._get_mat2__0_k$}),Object.defineProperty(St.prototype,"mat3",{configurable:!0,get:St.prototype._get_mat3__0_k$}),Object.defineProperty(St.prototype,"mat4",{configurable:!0,get:St.prototype._get_mat4__0_k$});function n3(){}n3.prototype.invoke_sv8swh_k$=function(){Be(),F(),F()},n3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},n3.$metadata$={kind:"class",interfaces:[]};function r3(){}r3.prototype.invoke_sv8swh_k$=function(){ns(),F(),F()},r3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},r3.$metadata$={kind:"class",interfaces:[]};function i3(){}i3.prototype.invoke_sv8swh_k$=function(){Bn(),F(),F()},i3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},i3.$metadata$={kind:"class",interfaces:[]};function o3(){}o3.prototype.invoke_sv8swh_k$=function(){Kt(),F(),F()},o3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},o3.$metadata$={kind:"class",interfaces:[]};function U1e(){var t=new n3;return function(){return t.invoke_sv8swh_k$(),F()}}function j1e(){var t=new r3;return function(){return t.invoke_sv8swh_k$(),F()}}function G1e(){var t=new i3;return function(){return t.invoke_sv8swh_k$(),F()}}function W1e(){var t=new o3;return function(){return t.invoke_sv8swh_k$(),F()}}function H1e(){var t=new e3;return function(i){return t.invoke_dbmacu_k$(i)}}function V1e(){var t=new t3;return function(i){return t.invoke_6wfw3l_k$(i)}}function Cs(t){var i;e:{var s=new Float32Array(t.length);{var c=0,p=t.length-1|0;if(c<=p)do{var v=c;c=c+1|0,s[v]=t[v]}while(c<=p)}i=s;break e}return i}function Er(t){var i;e:{var s=t.slice();i=s;break e}return i}function zE(t){var i;e:{var s=new Float32Array(t.length);{var c=0,p=t.length-1|0;if(c<=p)do{var v=c;c=c+1|0,s[v]=t[v]}while(c<=p)}i=s;break e}return i}function q1e(t,i){return Pr(t)}function K1e(t,i,s,c){return q1e(t)}function J1e(){return UE}var UE;function X1e(){return TQ}var TQ;function Y1e(){return IQ}var IQ;function Q1e(){return MQ}var MQ;function Z1e(){var t;e:{var i=3.141592653589793;t=i;break e}return t}function eSe(){var t;e:{t=180;break e}return UE/t}function tSe(){var t;e:{t=180;break e}return t/UE}function nSe(){return NQ}var NQ;function rSe(t,i,s,c,p){return Lt.call(p,Cs(new Float64Array([i,s,c,t]))),p}function iSe(t,i,s,c){return rSe(t,i,s,c,Object.create(Lt.prototype))}function oSe(t,i,s,c,p){return Lt.call(p,Er(new Float32Array([i,s,c,t]))),p}function au(t,i,s,c){return oSe(t,i,s,c,Object.create(Lt.prototype))}function aSe(t,i){return Lt.call(i,t._get_elements__0_k$()),i}function sSe(t){return aSe(t,Object.create(Lt.prototype))}function lSe(t){var i;e:{i=0;break e}var s=i,c;e:{c=0;break e}var p=c,v;e:{v=0;break e}var k=v,x;e:{x=1;break e}return Lt.call(t,Er(new Float32Array([s,p,k,x]))),t}function xv(){return lSe(Object.create(Lt.prototype))}function RQ(t,i,s){var c=t.inverse(),p=c.mulWithQuaternion(i),v=c.mulWithQuaternion(s),k=p.log().plusWithT(v.log()),x;e:{x=4;break e}return k.divWithFloat(x).exp()}function T_(){hj=this,this._identity=xv();var t;e:{var i=Fr(de(Lt));t=i;break e}Ni(this,t,Kr(["fromRotationWithX","fromEulerWithVec","fromMatrix","identity","fromRotation","fromEulerWithX","fromEuler","fromRotationWithVec"]))}T_.prototype._get_identity__0_k$=function(){return this._identity},T_.prototype.fromMatrix=function(t){return DQ(t)},T_.prototype.fromRotationWithX=function(t,i,s,c){var p;e:{var v=t/2;p=Math.sin(v);break e}var k=p,x;e:{var T=t/2;x=Math.cos(T);break e}return au(x,k*i,k*s,k*c)},T_.prototype.fromRotationWithVec=function(t,i){return this.fromRotationWithX(t,i._get_x__0_k$(),i._get_y__0_k$(),i._get_z__0_k$())},T_.prototype.fromEulerWithX=function(t,i,s){var c;e:{var p=t/2;c=Math.cos(p);break e}var v=c,k;e:{var x=t/2;k=Math.sin(x);break e}var T=k,N;e:{var B=i/2;N=Math.cos(B);break e}var L=N,O;e:{var W=i/2;O=Math.sin(W);break e}var K=O,q;e:{var Q=s/2;q=Math.cos(Q);break e}var ee=q,ie;e:{var fe=s/2;ie=Math.sin(fe);break e}var le=ie;return au(v*L*ee+T*K*le,T*L*ee-v*K*le,v*K*ee+T*L*le,v*L*le-T*K*ee)},T_.prototype.fromEulerWithVec=function(t){return this.fromEulerWithX(t._get_x__0_k$(),t._get_y__0_k$(),t._get_z__0_k$())},T_.prototype.fromRotation=function(t){var i=arguments,s,c,p,v;if(i.length===4){var k;e:{var x=i[0];k=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(x);break e}v=k}else v=!1;if(v){var T;e:{var N=i[1];T=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(N);break e}p=T}else p=!1;if(p){var B;e:{var L=i[2];B=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(L);break e}c=B}else c=!1;if(c){var O;e:{var W=i[3];O=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(W);break e}s=O}else s=!1;if(s){var K=i[0],q=(K!=null?typeof K=="number":!1)?K:M(),Q=i[1],ee=(Q!=null?typeof Q=="number":!1)?Q:M(),ie=i[2],fe=(ie!=null?typeof ie=="number":!1)?ie:M(),le=i[3],Se=this.fromRotationWithX(q,ee,fe,(le!=null?typeof le=="number":!1)?le:M());return Se}var Ee,Te;if(i.length===2){var Me;e:{var Ne=i[0];Me=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ne);break e}Te=Me}else Te=!1;if(Te){var Pe;e:{var Ye=i[1];Pe=de($t).isInstance_wi7j7l_k$(Ye);break e}Ee=Pe}else Ee=!1;if(Ee){var Ke=i[0],nt=(Ke!=null?typeof Ke=="number":!1)?Ke:M(),Ze=i[1],ct=this.fromRotationWithVec(nt,Ze instanceof $t?Ze:M());return ct}throw At("Error choosing proper overload of function Companion.fromRotation for the given parameters")},T_.prototype.fromEuler=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=i[0],O=(L!=null?typeof L=="number":!1)?L:M(),W=i[1],K=(W!=null?typeof W=="number":!1)?W:M(),q=i[2],Q=this.fromEulerWithX(O,K,(q!=null?typeof q=="number":!1)?q:M());return Q}var ee;if(i.length===1){var ie;e:{var fe=i[0];ie=de($t).isInstance_wi7j7l_k$(fe);break e}ee=ie}else ee=!1;if(ee){var le=i[0],Se=this.fromEulerWithVec(le instanceof $t?le:M());return Se}throw At("Error choosing proper overload of function Companion.fromEuler for the given parameters")},T_.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(T_.prototype,"identity",{configurable:!0,get:T_.prototype._get_identity__0_k$});var hj;function qp(){return hj==null&&new T_,hj}function dj(t){this._this$0_65=t}dj.prototype.invoke_0_k$=function(){return Nj(this._this$0_65,wv())},dj.$metadata$={kind:"class",interfaces:[]};function mj(t){this._this$0_66=t}mj.prototype.invoke_0_k$=function(){return Nj(this._this$0_66,_0())},mj.$metadata$={kind:"class",interfaces:[]};function vj(t){this._this$0_67=t}vj.prototype.invoke_0_k$=function(){return Rj(this._this$0_67,wv())},vj.$metadata$={kind:"class",interfaces:[]};function gj(t){this._this$0_68=t}gj.prototype.invoke_0_k$=function(){return Rj(this._this$0_68,_0())},gj.$metadata$={kind:"class",interfaces:[]};function Lt(t){qp(),Jt.call(this,t);var i=this;i._mat3RowMajor$delegate=Ev(hSe(this));var s=this;s._mat3ColumnMajor$delegate=Ev(dSe(this));var c=this;c._mat4RowMajor$delegate=Ev(mSe(this));var p=this;p._mat4ColumnMajor$delegate=Ev(vSe(this))}Lt.prototype.factory_txu12t_k$=function(t){return new Lt(t)},Lt.prototype._get_r__0_k$=function(){return this._get_elements__0_k$()[3]},Lt.prototype._get_i__0_k$=function(){return this._get_elements__0_k$()[0]},Lt.prototype._get_j__0_k$=function(){return this._get_elements__0_k$()[1]},Lt.prototype._get_k__0_k$=function(){return this._get_elements__0_k$()[2]},Lt.prototype._get_ijk__0_k$=function(){return Uo(this._get_i__0_k$(),this._get_j__0_k$(),this._get_k__0_k$())},Lt.prototype._get_xyzw__0_k$=function(){return new dn(this._get_elements__0_k$())},Lt.prototype._get_mat3RowMajor__0_k$=function(){var t;e:{uSe(),t=this._mat3RowMajor$delegate._get_value__0_k$();break e}return t},Lt.prototype._get_mat3ColumnMajor__0_k$=function(){var t;e:{cSe(),t=this._mat3ColumnMajor$delegate._get_value__0_k$();break e}return t},Lt.prototype._get_mat4RowMajor__0_k$=function(){var t;e:{_Se(),t=this._mat4RowMajor$delegate._get_value__0_k$();break e}return t},Lt.prototype._get_mat4ColumnMajor__0_k$=function(){var t;e:{fSe(),t=this._mat4ColumnMajor$delegate._get_value__0_k$();break e}return t},Lt.prototype.withR=function(t){return au(t,this._get_i__0_k$(),this._get_j__0_k$(),this._get_k__0_k$())},Lt.prototype.withI=function(t){return au(this._get_r__0_k$(),t,this._get_j__0_k$(),this._get_k__0_k$())},Lt.prototype.withJ=function(t){return au(this._get_r__0_k$(),this._get_i__0_k$(),t,this._get_k__0_k$())},Lt.prototype.withK=function(t){return au(this._get_r__0_k$(),this._get_i__0_k$(),this._get_j__0_k$(),t)},Lt.prototype.mulWithQuaternion=function(t){return this.factory_txu12t_k$(Er(new Float32Array([this._get_r__0_k$()*t._get_i__0_k$()+this._get_i__0_k$()*t._get_r__0_k$()+this._get_j__0_k$()*t._get_k__0_k$()-this._get_k__0_k$()*t._get_j__0_k$(),this._get_r__0_k$()*t._get_j__0_k$()-this._get_i__0_k$()*t._get_k__0_k$()+this._get_j__0_k$()*t._get_r__0_k$()+this._get_k__0_k$()*t._get_i__0_k$(),this._get_r__0_k$()*t._get_k__0_k$()+this._get_i__0_k$()*t._get_j__0_k$()-this._get_j__0_k$()*t._get_i__0_k$()+this._get_k__0_k$()*t._get_r__0_k$(),this._get_r__0_k$()*t._get_r__0_k$()-this._get_i__0_k$()*t._get_i__0_k$()-this._get_j__0_k$()*t._get_j__0_k$()-this._get_k__0_k$()*t._get_k__0_k$()])))},Lt.prototype.mulWithMat3=function(t){var i=t._get_layout__0_k$(),s;return xt(i,wv())?s=this._get_mat3RowMajor__0_k$().mulWithT(t):xt(i,_0())?s=this._get_mat3ColumnMajor__0_k$().mulWithT(t):Lr(),s},Lt.prototype.mulWithMat4=function(t){var i=t._get_layout__0_k$(),s;return xt(i,wv())?s=this._get_mat4RowMajor__0_k$().mulWithT(t):xt(i,_0())?s=this._get_mat4ColumnMajor__0_k$().mulWithT(t):Lr(),s},Lt.prototype.timesWithQuaternion=function(t){return Jt.prototype.timesWithT.call(this,t)},Lt.prototype.timesWithT=function(t){return this.timesWithQuaternion(t instanceof Lt?t:M())},Lt.prototype.mulWithVec3=function(t){var i;e:{i=2;break e}var s=Qb(i,this._get_ijk__0_k$()).cross(t);return t.plusWithT(Qb(this._get_r__0_k$(),s)).plusWithT(this._get_ijk__0_k$().cross(s))},Lt.prototype.inverse=function(){var t=this._get_r__0_k$()*this._get_r__0_k$()+this._get_i__0_k$()*this._get_i__0_k$()+this._get_j__0_k$()*this._get_j__0_k$()+this._get_k__0_k$()*this._get_k__0_k$(),i,s;e:{s=0;break e}return t===s?i=xv():i=this.factory_txu12t_k$(Er(new Float32Array([-this._get_i__0_k$()/t,-this._get_j__0_k$()/t,-this._get_k__0_k$()/t,this._get_r__0_k$()/t]))),i},Lt.prototype.log=function(){var t,i,s,c=this._get_i__0_k$(),p;e:{p=0;break e}if(c===p){var v=this._get_j__0_k$(),k;e:{k=0;break e}s=v===k}else s=!1;if(s){var x=this._get_k__0_k$(),T;e:{T=0;break e}i=x===T}else i=!1;if(i){var N,B=this._get_r__0_k$(),L;e:{L=0;break e}if(B>L){var O;e:{var W=this._get_r__0_k$();O=Math.log(W);break e}var K=O,q;e:{q=0;break e}var Q=q,ee;e:{ee=0;break e}var ie=ee,fe;e:{fe=0;break e}N=au(K,Q,ie,fe)}else{var le=this._get_r__0_k$(),Se;e:{Se=0;break e}if(le<Se){var Ee;e:{var Te=-this._get_r__0_k$();Ee=Math.log(Te);break e}var Me=Ee,Ne;e:{Ne=1;break e}var Pe=Ne,Ye;e:{Ye=0;break e}var Ke=Ye,nt;e:{nt=0;break e}N=au(Me,Pe,Ke,nt)}else N=xv()}t=N}else{var Ze;e:{var ct=this._get_i__0_k$()*this._get_i__0_k$()+this._get_j__0_k$()*this._get_j__0_k$()+this._get_k__0_k$()*this._get_k__0_k$();Ze=Math.sqrt(ct);break e}var ht=Ze,bt;e:{var It=this._get_r__0_k$();bt=Math.atan2(ht,It);break e}var Nt=bt/ht,Rt;e:{var Xt=this.length_0_k$();Rt=Math.log(Xt);break e}t=au(Rt,Nt*this._get_i__0_k$(),Nt*this._get_j__0_k$(),Nt*this._get_k__0_k$())}return t},Lt.prototype.exp=function(){var t,i,s,c=this._get_i__0_k$(),p;e:{p=0;break e}if(c===p){var v=this._get_j__0_k$(),k;e:{k=0;break e}s=v===k}else s=!1;if(s){var x=this._get_k__0_k$(),T;e:{T=0;break e}i=x===T}else i=!1;if(i){var N;e:{var B=this._get_r__0_k$();N=Math.exp(B);break e}var L=N,O;e:{O=0;break e}var W=O,K;e:{K=0;break e}var q=K,Q;e:{Q=0;break e}t=au(L,W,q,Q)}else{var ee;e:{var ie=this._get_i__0_k$()*this._get_i__0_k$()+this._get_j__0_k$()*this._get_j__0_k$()+this._get_k__0_k$()*this._get_k__0_k$();ee=Math.sqrt(ie);break e}var fe=ee,le;e:{var Se=this._get_r__0_k$();le=Math.exp(Se);break e}var Ee=le,Te;e:{Te=Math.sin(fe);break e}var Me=Ee*Te/fe,Ne;e:{Ne=Math.cos(fe);break e}t=au(Ee*Ne,Me*this._get_i__0_k$(),Me*this._get_j__0_k$(),Me*this._get_k__0_k$())}return t},Lt.prototype.toRotation=function(){var t;e:{var i=this._get_r__0_k$();t=Math.acos(i);break e}var s=2*t,c;e:{var p=this._get_i__0_k$()*this._get_i__0_k$()+this._get_j__0_k$()*this._get_j__0_k$()+this._get_k__0_k$()*this._get_k__0_k$();c=Math.sqrt(p);break e}var v=c;return v<1e-4?new cn(s,ec()._xAxis_1):new cn(s,Uo(this._get_i__0_k$()/v,this._get_j__0_k$()/v,this._get_k__0_k$()/v))},Lt.prototype.toEuler=function(){var t;e:{var i=2*(this._get_r__0_k$()*this._get_i__0_k$()+this._get_j__0_k$()*this._get_k__0_k$()),s=1-2*(this._get_i__0_k$()*this._get_i__0_k$()+this._get_j__0_k$()*this._get_j__0_k$());t=Math.atan2(i,s);break e}var c=t,p=2*(this._get_r__0_k$()*this._get_j__0_k$()-this._get_k__0_k$()*this._get_i__0_k$()),v,k;e:{k=Math.abs(p);break e}if(k>=1){var x;e:{x=Math.sign(p);break e}var T=x*2,N;e:{var B=3.141592653589793;N=B;break e}v=T*N}else{var L;e:{L=Math.asin(p);break e}v=L}var O=v,W;e:{var K=2*(this._get_r__0_k$()*this._get_k__0_k$()+this._get_i__0_k$()*this._get_j__0_k$()),q=1-2*(this._get_j__0_k$()*this._get_j__0_k$()+this._get_k__0_k$()*this._get_k__0_k$());W=Math.atan2(K,q);break e}var Q=W;return Uo(c,O,Q)},Lt.prototype.slerp=function(t,i){var s=this.normalized0(),c=s==null?xv():s,p=t.normalized0(),v=p==null?xv():p;if(i<=0)return c;if(i>=1)return v;var k=c.dot_2c5_k$(v);if(k<0&&(k=-k,v=v.unaryMinus_0_k$()),k>.9995){var x=c.timesWithFloat(1-i).plusWithT(v.timesWithFloat(i)).normalized0();return x==null?c:x}var T;e:{var N=k;T=Math.acos(N);break e}var B=T,L;e:{L=Math.sin(B);break e}var O=1/L,W;e:{var K=(1-i)*B;W=Math.sin(K);break e}var q=Qb(W*O,c),Q;e:{var ee=i*B;Q=Math.sin(ee);break e}var ie=q.plusWithT(Qb(Q*O,v)).normalized0();return ie==null?xv():ie},Lt.prototype.spline=function(t,i,s,c){var p=RQ(this,t,i),v=RQ(i,this,s);return this.slerp(i,c).slerp(p.slerp(v,c),2*c*(1-c))},Lt.prototype.toString=function(){return"Quaternion("+this._get_r__0_k$()+", "+this._get_i__0_k$()+", "+this._get_j__0_k$()+", "+this._get_k__0_k$()+")"},Lt.prototype.toMat3=function(t){return this.toMat3Ext_7rrx6e_k$(t===void 0?Be()._default:t)},Lt.prototype.toMat3Ext_7rrx6e_k$=function(t){var i=this instanceof Lt?this:M();return Nj(i,t)},Lt.prototype.toMat3Ext$default_8adopf_k$=function(t,i,s){return(i&1)!=0&&(t=Be()._default),this.toMat3Ext_7rrx6e_k$(t)},Lt.prototype.toMat4=function(t){return this.toMat4Ext_7rrx6e_k$(t===void 0?Be()._default:t)},Lt.prototype.toMat4Ext_7rrx6e_k$=function(t){var i=this instanceof Lt?this:M();return Rj(i,t)},Lt.prototype.toMat4Ext$default_8adopf_k$=function(t,i,s){return(i&1)!=0&&(t=Be()._default),this.toMat4Ext_7rrx6e_k$(t)},Lt.prototype.mul=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(Lt).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.mulWithQuaternion(v instanceof Lt?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=de(Ct).isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.mulWithMat3(B instanceof Ct?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(St).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.mulWithMat4(q instanceof St?q:M());return Q}var ee;if(i.length===1){var ie;e:{var fe=i[0];ie=de($t).isInstance_wi7j7l_k$(fe);break e}ee=ie}else ee=!1;if(ee){var le=i[0],Se=this.mulWithVec3(le instanceof $t?le:M());return Se}throw At("Error choosing proper overload of function Quaternion.mul for the given parameters")},Lt.prototype.times_dispatcher=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(Lt).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.timesWithQuaternion(v instanceof Lt?v:M());return k}return Jt.prototype.times.call(this,i.slice())},Lt.prototype.times=function(t){return this.times_dispatcher(t)},Lt.$metadata$={simpleName:"Quaternion",kind:"class",interfaces:[]},Object.defineProperty(Lt.prototype,"r",{configurable:!0,get:Lt.prototype._get_r__0_k$}),Object.defineProperty(Lt.prototype,"i",{configurable:!0,get:Lt.prototype._get_i__0_k$}),Object.defineProperty(Lt.prototype,"j",{configurable:!0,get:Lt.prototype._get_j__0_k$}),Object.defineProperty(Lt.prototype,"k",{configurable:!0,get:Lt.prototype._get_k__0_k$}),Object.defineProperty(Lt.prototype,"ijk",{configurable:!0,get:Lt.prototype._get_ijk__0_k$}),Object.defineProperty(Lt.prototype,"xyzw",{configurable:!0,get:Lt.prototype._get_xyzw__0_k$}),Object.defineProperty(Lt.prototype,"mat3RowMajor",{configurable:!0,get:Lt.prototype._get_mat3RowMajor__0_k$}),Object.defineProperty(Lt.prototype,"mat3ColumnMajor",{configurable:!0,get:Lt.prototype._get_mat3ColumnMajor__0_k$}),Object.defineProperty(Lt.prototype,"mat4RowMajor",{configurable:!0,get:Lt.prototype._get_mat4RowMajor__0_k$}),Object.defineProperty(Lt.prototype,"mat4ColumnMajor",{configurable:!0,get:Lt.prototype._get_mat4ColumnMajor__0_k$});function PQ(t,i,s){var c=-t[i.invoke(1,0,s)]+t[i.invoke(0,1,s)],p=-t[i.invoke(0,2,s)]+t[i.invoke(2,0,s)],v=-t[i.invoke(2,1,s)]+t[i.invoke(1,2,s)],k=t[i.invoke(1,0,s)]+t[i.invoke(0,1,s)],x=t[i.invoke(0,2,s)]+t[i.invoke(2,0,s)],T=t[i.invoke(2,1,s)]+t[i.invoke(1,2,s)],N=c*c,B=p*p,L=v*v,O=k*k,W=x*x,K=T*T,q=t[0],Q=t[s+1|0],ee=t[pt(2,s)+2|0],ie=q+Q+ee,fe;e:{fe=.5;break e}var le=fe,Se;e:{var Ee;if(ie>0)Ee=1+ie;else{var Te=L+B+N,Me;t:{Me=3;break t}Ee=Te/(Me-ie)}var Ne=Ee;Se=Math.sqrt(Ne);break e}var Pe=le*Se,Ye=q-Q-ee,Ke;e:{Ke=.5;break e}var nt=Ke,Ze;e:{var ct;t:{var ht;if(Ye>0)ht=1+Ye;else{var bt=L+W+O,It;n:{It=3;break n}ht=bt/(It-Ye)}var Nt=ht;ct=Math.sqrt(Nt);break t}var Rt=ct;Ze=VO(Rt,v);break e}var Xt=nt*Ze,rn=-q+Q-ee,En;e:{En=.5;break e}var un=En,gn;e:{var Fn;t:{var Un;if(rn>0)Un=1+rn;else{var en=K+B+O,Nn;n:{Nn=3;break n}Un=en/(Nn-rn)}var wn=Un;Fn=Math.sqrt(wn);break t}var yr=Fn;gn=VO(yr,p);break e}var rr=un*gn,Or=-q-Q+ee,Jn;e:{Jn=.5;break e}var qr=Jn,$r;e:{var ei;t:{var br;if(Or>0)br=1+Or;else{var $i=K+W+N,zr;n:{zr=3;break n}br=$i/(zr-Or)}var oi=br;ei=Math.sqrt(oi);break t}var ti=ei;$r=VO(ti,c);break e}var Ri=qr*$r;return au(Pe,Xt,rr,Ri)}function BQ(t,i){var s=t._get_layout__0_k$(),c;return xt(s,wv())?c=t.mulWithT(i._get_mat3RowMajor__0_k$()):xt(s,_0())?c=t.mulWithT(i._get_mat3ColumnMajor__0_k$()):Lr(),c}function FQ(t,i){var s=t._get_layout__0_k$(),c;return xt(s,wv())?c=t.mulWithT(i._get_mat4RowMajor__0_k$()):xt(s,_0())?c=t.mulWithT(i._get_mat4ColumnMajor__0_k$()):Lr(),c}function Fd(t,i){var s;e:{s=2;break e}var c=Qb(s,i._get_ijk__0_k$()).cross(t);return t.plusWithT(Qb(i._get_r__0_k$(),c)).plusWithT(i._get_ijk__0_k$().cross(c))}function LQ(t){return PQ(t._get_elements__0_k$(),t._get_layout__0_k$(),t._get_order__0_k$())}function DQ(t){return PQ(t._get_elements__0_k$(),t._get_layout__0_k$(),t._get_order__0_k$())}function a3(){}a3.prototype.invoke_sv8swh_k$=function(){qp(),F(),F()},a3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},a3.$metadata$={kind:"class",interfaces:[]};function uSe(){return Fu("mat3RowMajor",1,Zl,function(t){return t._get_mat3RowMajor__0_k$()},null)}function cSe(){return Fu("mat3ColumnMajor",1,Zl,function(t){return t._get_mat3ColumnMajor__0_k$()},null)}function _Se(){return Fu("mat4RowMajor",1,Zl,function(t){return t._get_mat4RowMajor__0_k$()},null)}function fSe(){return Fu("mat4ColumnMajor",1,Zl,function(t){return t._get_mat4ColumnMajor__0_k$()},null)}function pSe(){var t=new a3;return function(){return t.invoke_sv8swh_k$(),F()}}function hSe(t){var i=new dj(t);return function(){return i.invoke_0_k$()}}function dSe(t){var i=new mj(t);return function(){return i.invoke_0_k$()}}function mSe(t){var i=new vj(t);return function(){return i.invoke_0_k$()}}function vSe(t){var i=new gj(t);return function(){return i.invoke_0_k$()}}function s3(){}s3.$metadata$={simpleName:"Stabilizer",kind:"interface",interfaces:[]};function gSe(t,i,s,c){Jb.call(c),c._smoothing=t;var p=c,v;e:{var k;t:{k=Math.log(s);break t}var x=-k;v=Math.sqrt(x);break e}return p._scale=v/i,c._last_4=null,c}function ySe(t,i,s,c,p,v){if((c&4)!=0){var k;e:{k=.01,F();break e}s=k}return gSe(t,i,s,v),v}function jE(t,i,s,c,p){return ySe(t,i,s,c,p,Object.create(Jb.prototype))}function kSe(t,i,s,c){return Jb.call(c),c._smoothing=t,c._scale=i,c._last_4=s,c}function OQ(t,i,s){return kSe(t,i,s,Object.create(Jb.prototype))}function yj(t){this._function_0=t}yj.prototype.invoke_dbmacu_k$=function(t){return this._function_0(t)},yj.$metadata$={simpleName:"sam$Vec_UnaryOperator$0",kind:"class",interfaces:[Yb]};function l3(t){this._this$0_69=t}l3.prototype.invoke_dbmacu_k$=function(t){var i;e:{var s=-t*t;i=Math.exp(s);break e}return i*this._this$0_69._smoothing},l3.prototype.invoke_20e8_k$=function(t){return this.invoke_dbmacu_k$((t!=null?typeof t=="number":!1)?t:M())},l3.$metadata$={kind:"class",interfaces:[]},Jb.prototype.stabilize_2c5_k$=function(t){var i=this._last_4,s;if(i!=null){var c=i.minusWithT(t).timesWithFloat(this._scale),p=ESe(this),v=c.elementWiseWithOperation(new yj(p)),k=i.timesWithT(v),x;e:{x=1;break e}var T=k.plusWithT(t.timesWithT(jj(x,v)));s=new cn(OQ(this._smoothing,this._scale,T),T)}else s=new cn(OQ(this._smoothing,this._scale,t),t);return s};function Jb(){}Jb.$metadata$={simpleName:"SNRStabilizer",kind:"class",interfaces:[s3]};function $Se(t,i,s,c){Xb.call(c),c._smoothing_0=t;var p=c,v;e:{var k;t:{k=Math.log(s);break t}var x=-k;v=Math.sqrt(x);break e}return p._scale_0=CEe(v,i),c._last_5=null,c}function bSe(t,i,s,c,p,v){if((c&4)!=0){var k;e:{k=.01,F();break e}s=k}return $Se(t,i,s,v),v}function wSe(t,i,s,c,p){return bSe(t,i,s,c,p,Object.create(Xb.prototype))}function xSe(t,i,s,c){return Xb.call(c),c._smoothing_0=t,c._scale_0=i,c._last_5=s,c}function zQ(t,i,s){return xSe(t,i,s,Object.create(Xb.prototype))}function kj(t){this._function_1=t}kj.prototype.invoke_dbmacu_k$=function(t){return this._function_1(t)},kj.$metadata$={simpleName:"sam$Vec_UnaryOperator$0",kind:"class",interfaces:[Yb]};function u3(){}u3.prototype.invoke_dbmacu_k$=function(t){var i;e:{var s=-t*t;i=Math.exp(s);break e}return i},u3.prototype.invoke_20e8_k$=function(t){return this.invoke_dbmacu_k$((t!=null?typeof t=="number":!1)?t:M())},u3.$metadata$={kind:"class",interfaces:[]},Xb.prototype.stabilize_2c5_k$=function(t){var i=this._last_5,s;if(i!=null){var c=i.minusWithT(t).timesWithT(this._scale_0),p=CSe(),v=c.elementWiseWithOperation(new kj(p)).timesWithT(this._smoothing_0),k=i.timesWithT(v),x;e:{x=1;break e}var T=k.plusWithT(t.timesWithT(jj(x,v)));s=new cn(zQ(this._smoothing_0,this._scale_0,T),T)}else s=new cn(zQ(this._smoothing_0,this._scale_0,t),t);return s};function Xb(){}Xb.$metadata$={simpleName:"SNRStabilizerVec",kind:"class",interfaces:[s3]};function SSe(t,i){var s;e:{var c=-i;s=Math.exp(c);break e}return 1/(1+s)}function UQ(){$j=this}UQ.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var $j;function jQ(){return $j==null&&new UQ,$j}function bj(t){this._function_2=t}bj.prototype.invoke_dbmacu_k$=function(t){return this._function_2(t)},bj.$metadata$={simpleName:"sam$Vec_UnaryOperator$0",kind:"class",interfaces:[Yb]};function c3(t){this._this$0_70=t}c3.prototype.invoke_dbmacu_k$=function(t){return SSe(jQ(),t-this._this$0_70._threshold)},c3.prototype.invoke_20e8_k$=function(t){return this.invoke_dbmacu_k$((t!=null?typeof t=="number":!1)?t:M())},c3.$metadata$={kind:"class",interfaces:[]};function _3(t,i,s){jQ(),this._below=t,this._above=i,this._threshold=s}_3.prototype.stabilize_2c5_k$=function(t){var i=this._below.stabilize_2c5_k$(t),s=i.component1_0_k$(),c=i.component2_0_k$(),p=this._above.stabilize_2c5_k$(t),v=p.component1_0_k$(),k=p.component2_0_k$(),x=ASe(this),T=t.elementWiseWithOperation(new bj(x)),N;e:{N=1;break e}var B=c.timesWithT(jj(N,T)).plusWithT(k.timesWithT(T));return new cn(new _3(s,v,this._threshold),B)},_3.$metadata$={simpleName:"ThresholdStabilizer",kind:"class",interfaces:[s3]};function ESe(t){var i=new l3(t);return function(s){return i.invoke_dbmacu_k$(s)}}function CSe(){var t=new u3;return function(i){return t.invoke_dbmacu_k$(i)}}function ASe(t){var i=new c3(t);return function(s){return i.invoke_dbmacu_k$(s)}}function GQ(t,i,s,c,p){var v;e:{var k=new Float32Array(16);{var x;t:{var T=t/2;x=Math.tan(T);break t}var N=1/x;k[0]=N/i,k[5]=N,k[10]=c/(s-c),k[p.invoke(3,2,4)]=s*c/(s-c);var B=p.invoke(2,3,4),L;t:{L=-1;break t}k[B]=L}v=k;break e}return new St(v,p)}function WQ(t,i,s,c,p){var v;e:{var k=new Float32Array(16);{var x;t:{var T=t/2;x=Math.tan(T);break t}var N=1/x;k[0]=N/i,k[5]=N,k[10]=(s+c)/(s-c),k[p.invoke(3,2,4)]=2*s*c/(s-c);var B=p.invoke(2,3,4),L;t:{L=-1;break t}k[B]=L}v=k;break e}return new St(v,p)}function TSe(t,i){return new Zn(pn().eye_ha5a7z_k$(2),i)}function ISe(t,i){return new Ct(pn().eye_ha5a7z_k$(3),i)}function MSe(t,i){return new St(pn().eye_ha5a7z_k$(4),i)}function HQ(t,i,s,c){var p=pn(),v=s;return new Zn(p.scale_9p18tm_k$(Cs(new Float64Array([i,v==null?i:v])),2),c)}function VQ(t,i,s,c){var p=pn(),v=s;return new Zn(p.scale_9p18tm_k$(Er(new Float32Array([i,v==null?i:v])),2),c)}function qQ(t,i,s){return new Zn(pn().scale_9p18tm_k$(i._get_elements__0_k$(),2),s)}function KQ(t,i,s,c){var p=pn(),v=s;return new Ct(p.scale_9p18tm_k$(Cs(new Float64Array([i,v==null?i:v])),3),c)}function JQ(t,i,s,c){var p=pn(),v=s;return new Ct(p.scale_9p18tm_k$(Er(new Float32Array([i,v==null?i:v])),3),c)}function XQ(t,i,s){return new Ct(pn().scale_9p18tm_k$(i._get_elements__0_k$(),3),s)}function YQ(t,i,s,c,p){var v=pn(),k=s,x=k==null?i:k,T=c,N=T==null?s:T;return new Ct(v.scale_9p18tm_k$(Cs(new Float64Array([i,x,N==null?i:N])),3),p)}function QQ(t,i,s,c,p){var v=pn(),k=s,x=k==null?i:k,T=c,N=T==null?s:T;return new Ct(v.scale_9p18tm_k$(Er(new Float32Array([i,x,N==null?i:N])),3),p)}function ZQ(t,i,s){return new Ct(pn().scale_9p18tm_k$(i._get_elements__0_k$(),3),s)}function eZ(t,i,s,c,p){var v=pn(),k=s,x=k==null?i:k,T=c,N=T==null?s:T;return new St(v.scale_9p18tm_k$(Cs(new Float64Array([i,x,N==null?i:N])),4),p)}function tZ(t,i,s,c,p){var v=pn(),k=s,x=k==null?i:k,T=c,N=T==null?s:T;return new St(v.scale_9p18tm_k$(Er(new Float32Array([i,x,N==null?i:N])),4),p)}function nZ(t,i,s){return new St(pn().scale_9p18tm_k$(i._get_elements__0_k$(),4),s)}function rZ(t,i,s,c,p,v){return new St(pn().scale_9p18tm_k$(Cs(new Float64Array([i,s,c,p])),4),v)}function iZ(t,i,s,c,p,v){return new St(pn().scale_9p18tm_k$(Er(new Float32Array([i,s,c,p])),4),v)}function oZ(t,i,s){return new St(pn().scale_9p18tm_k$(i._get_elements__0_k$(),4),s)}function aZ(t,i,s,c){var p=pn(),v=s;return new Zn(p.translate_emzw8k_k$(Cs(new Float64Array([i,v==null?i:v])),2,c),c)}function sZ(t,i,s,c){var p=pn(),v=s;return new Zn(p.translate_emzw8k_k$(Er(new Float32Array([i,v==null?i:v])),2,c),c)}function lZ(t,i,s){return new Zn(pn().translate_emzw8k_k$(i._get_elements__0_k$(),2,s),s)}function uZ(t,i,s,c){var p=pn(),v=s;return new Ct(p.translate_emzw8k_k$(Cs(new Float64Array([i,v==null?i:v])),3,c),c)}function cZ(t,i,s,c){var p=pn(),v=s;return new Ct(p.translate_emzw8k_k$(Er(new Float32Array([i,v==null?i:v])),3,c),c)}function _Z(t,i,s){return new Ct(pn().translate_emzw8k_k$(i._get_elements__0_k$(),3,s),s)}function fZ(t,i,s,c,p){var v=pn(),k=s,x=k==null?i:k,T=c,N=T==null?s:T;return new Ct(v.translate_emzw8k_k$(Cs(new Float64Array([i,x,N==null?i:N])),3,p),p)}function pZ(t,i,s,c,p){var v=pn(),k=s,x=k==null?i:k,T=c,N=T==null?s:T;return new Ct(v.translate_emzw8k_k$(Er(new Float32Array([i,x,N==null?i:N])),3,p),p)}function hZ(t,i,s){return new Ct(pn().translate_emzw8k_k$(i._get_elements__0_k$(),3,s),s)}function dZ(t,i,s,c,p){var v=pn(),k=s,x=k==null?i:k,T=c,N=T==null?s:T;return new St(v.translate_emzw8k_k$(Cs(new Float64Array([i,x,N==null?i:N])),4,p),p)}function mZ(t,i,s,c,p){var v=pn(),k=s,x=k==null?i:k,T=c,N=T==null?s:T;return new St(v.translate_emzw8k_k$(Er(new Float32Array([i,x,N==null?i:N])),4,p),p)}function vZ(t,i,s){return new St(pn().translate_emzw8k_k$(i._get_elements__0_k$(),4,s),s)}function gZ(t,i,s,c,p,v){return new St(pn().translate_emzw8k_k$(Cs(new Float64Array([i,s,c,p])),4,v),v)}function yZ(t,i,s,c,p,v){return new St(pn().translate_emzw8k_k$(Er(new Float32Array([i,s,c,p])),4,v),v)}function kZ(t,i,s){return new St(pn().translate_emzw8k_k$(i._get_elements__0_k$(),4,s),s)}function $Z(t,i,s){var c=pn(),p;e:{p=i;break e}return new Zn(c.rotZ_nrrqhj_k$(p,2,s),s)}function bZ(t,i,s){var c=pn(),p;e:{p=i;break e}return new Zn(c.rotZ_nrrqhj_k$(p,2,s),s)}function wj(t,i,s){var c=pn(),p;e:{p=i;break e}return new Ct(c.rotX_nrrqhj_k$(p,3,s),s)}function xj(t,i,s){var c=pn(),p;e:{p=i;break e}return new Ct(c.rotX_nrrqhj_k$(p,3,s),s)}function Sj(t,i,s){var c=pn(),p;e:{p=i;break e}return new Ct(c.rotY_nrrqhj_k$(p,3,s),s)}function Ej(t,i,s){var c=pn(),p;e:{p=i;break e}return new Ct(c.rotY_nrrqhj_k$(p,3,s),s)}function Cj(t,i,s){var c=pn(),p;e:{p=i;break e}return new Ct(c.rotZ_nrrqhj_k$(p,3,s),s)}function Aj(t,i,s){var c=pn(),p;e:{p=i;break e}return new Ct(c.rotZ_nrrqhj_k$(p,3,s),s)}function wZ(t,i,s,c,p){return Cj(Bn(),c,p).mulWithT(Sj(Bn(),s,p)).mulWithT(wj(Bn(),i,p))}function xZ(t,i,s,c,p){return Aj(Bn(),c,p).mulWithT(Ej(Bn(),s,p)).mulWithT(xj(Bn(),i,p))}function SZ(t,i,s,c){var p=s.normalized0(),v;if(p==null)v=null;else{var k;e:{var x;t:{var T=pn(),N;n:{N=i;break n}x=new Ct(T.rot_tm012a_k$(N,p._get_elements__0_k$(),3,c),c);break t}k=x;break e}v=k}var B=v;return B==null?new Ct(pn().eye_ha5a7z_k$(3),c):B}function EZ(t,i,s,c){var p=s.normalized0(),v;if(p==null)v=null;else{var k;e:{var x;t:{var T=pn(),N;n:{N=i;break n}x=new Ct(T.rot_tm012a_k$(N,p._get_elements__0_k$(),3,c),c);break t}k=x;break e}v=k}var B=v;return B==null?new Ct(pn().eye_ha5a7z_k$(3),c):B}function CZ(t,i,s,c,p){var v=c.normalized0(),k;if(v==null)k=null;else{var x;e:{var T;t:{var N=pn(),B;n:{B=i;break n}var L=B,O;n:{O=s;break n}T=new Ct(N.rot_sx3fbg_k$(L,O,v._get_elements__0_k$(),3,p),p);break t}x=T;break e}k=x}var W=k;return W==null?new Ct(pn().eye_ha5a7z_k$(3),p):W}function AZ(t,i,s,c,p){var v=c.normalized0(),k;if(v==null)k=null;else{var x;e:{var T;t:{var N=pn(),B;n:{B=i;break n}var L=B,O;n:{O=s;break n}T=new Ct(N.rot_sx3fbg_k$(L,O,v._get_elements__0_k$(),3,p),p);break t}x=T;break e}k=x}var W=k;return W==null?new Ct(pn().eye_ha5a7z_k$(3),p):W}function TZ(t,i,s,c){return new Ct(pn().rot_un3ec7_k$(i,s,3,c),c)}function Tj(t,i,s){var c=pn(),p;e:{p=i;break e}return new St(c.rotX_nrrqhj_k$(p,4,s),s)}function f3(t,i,s){var c=pn(),p;e:{p=i;break e}return new St(c.rotX_nrrqhj_k$(p,4,s),s)}function Ij(t,i,s){var c=pn(),p;e:{p=i;break e}return new St(c.rotY_nrrqhj_k$(p,4,s),s)}function p3(t,i,s){var c=pn(),p;e:{p=i;break e}return new St(c.rotY_nrrqhj_k$(p,4,s),s)}function Mj(t,i,s){var c=pn(),p;e:{p=i;break e}return new St(c.rotZ_nrrqhj_k$(p,4,s),s)}function h3(t,i,s){return new St(pn().rotZ_nrrqhj_k$(i,4,s),s)}function IZ(t,i,s,c,p){return Mj(Kt(),c,p).mulWithT(Ij(Kt(),s,p)).mulWithT(Tj(Kt(),i,p))}function MZ(t,i,s,c,p){return h3(Kt(),c,p).mulWithT(p3(Kt(),s,p)).mulWithT(f3(Kt(),i,p))}function NZ(t,i,s){return h3(Kt(),i._get_z__0_k$(),s).mulWithT(p3(Kt(),i._get_y__0_k$(),s)).mulWithT(f3(Kt(),i._get_x__0_k$(),s))}function RZ(t,i,s,c){var p=s.normalized0(),v;if(p==null)v=null;else{var k;e:{var x;t:{var T=pn(),N;n:{N=i;break n}x=new St(T.rot_tm012a_k$(N,p._get_elements__0_k$(),4,c),c);break t}k=x;break e}v=k}var B=v;return B==null?new St(pn().eye_ha5a7z_k$(4),c):B}function PZ(t,i,s,c){var p=s.normalized0(),v;if(p==null)v=null;else{var k;e:{var x;t:{var T=pn(),N;n:{N=i;break n}x=new St(T.rot_tm012a_k$(N,p._get_elements__0_k$(),4,c),c);break t}k=x;break e}v=k}var B=v;return B==null?new St(pn().eye_ha5a7z_k$(4),c):B}function BZ(t,i,s,c,p){var v=c.normalized0(),k;if(v==null)k=null;else{var x;e:{var T;t:{var N=pn(),B;n:{B=i;break n}var L=B,O;n:{O=s;break n}T=new St(N.rot_sx3fbg_k$(L,O,v._get_elements__0_k$(),4,p),p);break t}x=T;break e}k=x}var W=k;return W==null?new St(pn().eye_ha5a7z_k$(4),p):W}function FZ(t,i,s,c,p){var v=c.normalized0(),k;if(v==null)k=null;else{var x;e:{var T;t:{var N=pn(),B;n:{B=i;break n}var L=B,O;n:{O=s;break n}T=new St(N.rot_sx3fbg_k$(L,O,v._get_elements__0_k$(),4,p),p);break t}x=T;break e}k=x}var W=k;return W==null?new St(pn().eye_ha5a7z_k$(4),p):W}function LZ(t,i,s,c){return new St(pn().rot_un3ec7_k$(i,s,4,c),c)}function DZ(t,i,s,c,p){var v=s.unaryMinus_0_k$().normalized0(),k=v==null?ec()._zAxis:v,x=c.cross(k).normalized0(),T=x==null?ec()._xAxis_1:x,N=k.cross(T);return Bd(Kp(T,-i.dot_2c5_k$(T)),Kp(N,-i.dot_2c5_k$(N)),Kp(k,-i.dot_2c5_k$(k)),HE()._wAxis,p._get_transposed__0_k$()).transposedLayout()}function NSe(t,i,s,c,p,v,k){return(v&8)!=0&&(p=Be()._default),DZ(t,i,s,c,p)}function OZ(t,i,s,c,p,v){var k;e:{var x=pn(),T;t:{T=2;break t}var N=T,B;t:{B=i;break t}var L=N/B,O;t:{O=2;break t}var W=O,K;t:{K=s;break t}var q=W/K,Q;t:{Q=1;break t}var ee=Q,ie;t:{ie=c;break t}var fe=ie,le;t:{le=p;break t}var Se=x.scale_9p18tm_k$(Er(new Float32Array([L,q,ee/(fe-le)])),4);{var Ee=v.invoke(3,2,4),Te;t:{Te=c;break t}var Me=Te,Ne;t:{Ne=c;break t}var Pe=Ne,Ye;t:{Ye=p;break t}Se[Ee]=Me/(Pe-Ye)}k=Se;break e}return new St(k,v)}function zZ(t,i,s,c,p,v){var k;e:{var x=pn(),T;t:{T=2;break t}var N=T,B;t:{B=i;break t}var L=N/B,O;t:{O=2;break t}var W=O,K;t:{K=s;break t}var q=W/K,Q;t:{Q=1;break t}var ee=Q,ie;t:{ie=c;break t}var fe=ie,le;t:{le=p;break t}var Se=x.scale_9p18tm_k$(Er(new Float32Array([L,q,ee/(fe-le)])),4);{var Ee=v.invoke(3,2,4),Te;t:{Te=c;break t}var Me=Te,Ne;t:{Ne=c;break t}var Pe=Ne,Ye;t:{Ye=p;break t}Se[Ee]=Me/(Pe-Ye)}k=Se;break e}return new St(k,v)}function UZ(t,i,s,c,p,v){var k;e:{k=i;break e}var x=k,T;e:{T=s;break e}var N=T,B;e:{B=c;break e}var L=B,O;e:{O=p;break e}return GQ(x,N,L,O,v)}function jZ(t,i,s,c,p,v){var k;e:{k=i;break e}var x=k,T;e:{T=s;break e}var N=T,B;e:{B=c;break e}var L=B,O;e:{O=p;break e}return GQ(x,N,L,O,v)}function GZ(t,i,s,c,p,v){var k;e:{k=i;break e}var x=k,T;e:{T=s;break e}var N=T,B;e:{B=c;break e}var L=B,O;e:{O=p;break e}return WQ(x,N,L,O,v)}function WZ(t,i,s,c,p,v){var k;e:{k=i;break e}var x=k,T;e:{T=s;break e}var N=T,B;e:{B=c;break e}var L=B,O;e:{O=p;break e}return WQ(x,N,L,O,v)}function Nj(t,i){var s=pn().rot_80y75y_k$(t,3,i);return M1e(s,null,2,null)}function Rj(t,i){var s=pn().rot_80y75y_k$(t,4,i);return L1e(s,null,2,null)}function RSe(t){return Wi(t._get_x__0_k$().length_0_k$(),t._get_y__0_k$().length_0_k$())}function PSe(t){return Uo(t._get_x__0_k$().length_0_k$(),t._get_y__0_k$().length_0_k$(),t._get_z__0_k$().length_0_k$())}function BSe(t){return Wi(t._get_x__0_k$()._get_xy__0_k$().length_0_k$(),t._get_y__0_k$()._get_xy__0_k$().length_0_k$())}function FSe(t){return Uo(t._get_x__0_k$()._get_xyz__0_k$().length_0_k$(),t._get_y__0_k$()._get_xyz__0_k$().length_0_k$(),t._get_z__0_k$()._get_xyz__0_k$().length_0_k$())}function LSe(t){return t._get_z__0_k$()._get_xy__0_k$()}function DSe(t){return t._get_w__0_k$()._get_xyz__0_k$()}function HZ(t){var i=t._get_x__0_k$().normalizedWithT(t._get_x__0_k$()),s=t._get_y__0_k$().normalizedWithT(t._get_y__0_k$()),c=t._get_z__0_k$().normalizedWithT(t._get_z__0_k$());return LQ(R1e(i,s,c,null,8,null))}function OSe(t){return HZ(t._get_mat3__0_k$())}function I_(){Pj=this}I_.prototype.eye_ha5a7z_k$=function(t){var i;e:{var s=new Float32Array(pt(t,t));{var c=0;if(c<t)do{var p=c;c=c+1|0;var v=pt(p,t)+p|0,k;t:{k=1;break t}s[v]=k}while(c<t)}i=s;break e}return i},I_.prototype.rotX_nrrqhj_k$=function(t,i,s){var c;e:{var p=this.eye_ha5a7z_k$(i);{var v;t:{v=Math.cos(t);break t}var k=v,x;t:{x=Math.sin(t);break t}var T=x;p[s.invoke(1,1,i)]=k,p[s.invoke(2,2,i)]=k,p[s.invoke(2,1,i)]=-T,p[s.invoke(1,2,i)]=T}c=p;break e}return c},I_.prototype.rotY_nrrqhj_k$=function(t,i,s){var c;e:{var p=this.eye_ha5a7z_k$(i);{var v;t:{v=Math.cos(t);break t}var k=v,x;t:{x=Math.sin(t);break t}var T=x;p[s.invoke(0,0,i)]=k,p[s.invoke(2,2,i)]=k,p[s.invoke(2,0,i)]=T,p[s.invoke(0,2,i)]=-T}c=p;break e}return c},I_.prototype.rotZ_nrrqhj_k$=function(t,i,s){var c;e:{var p=this.eye_ha5a7z_k$(i);{var v;t:{v=Math.cos(t);break t}var k=v,x;t:{x=Math.sin(t);break t}var T=x;p[s.invoke(0,0,i)]=k,p[s.invoke(1,1,i)]=k,p[s.invoke(1,0,i)]=-T,p[s.invoke(0,1,i)]=T}c=p;break e}return c},I_.prototype.rot_tm012a_k$=function(t,i,s,c){var p;e:{p=Math.cos(t);break e}var v=p,k;e:{k=Math.sin(t);break e}return this.rot_sx3fbg_k$(v,k,i,s,c)},I_.prototype.rot_sx3fbg_k$=function(t,i,s,c,p){var v;e:{var k=this.eye_ha5a7z_k$(c);{var x=s[0],T=s[1],N=s[2];k[p.invoke(0,0,c)]=x*x*(1-t)+t,k[p.invoke(0,1,c)]=x*T*(1-t)+N*i,k[p.invoke(0,2,c)]=x*N*(1-t)-T*i,k[p.invoke(1,0,c)]=x*T*(1-t)-N*i,k[p.invoke(1,1,c)]=T*T*(1-t)+t,k[p.invoke(1,2,c)]=T*N*(1-t)+x*i,k[p.invoke(2,0,c)]=x*N*(1-t)+T*i,k[p.invoke(2,1,c)]=T*N*(1-t)-x*i,k[p.invoke(2,2,c)]=N*N*(1-t)+t}v=k;break e}return v},I_.prototype.rot_un3ec7_k$=function(t,i,s,c){var p=t.normalized0(),v=p==null?t:p,k=i.normalized0(),x=k==null?i:k,T=v.cross(x),N=T.length_0_k$(),B=v.dot_2c5_k$(x);return this.rot_sx3fbg_k$(B,N,T._get_elements__0_k$(),s,c)},I_.prototype.rot_80y75y_k$=function(t,i,s){var c;e:{var p=this.eye_ha5a7z_k$(i);{var v=t.normalized0(),k=v==null?xv():v;p[s.invoke(0,0,i)]=1-2*(k._get_j__0_k$()*k._get_j__0_k$()+k._get_k__0_k$()*k._get_k__0_k$()),p[s.invoke(1,0,i)]=2*(k._get_i__0_k$()*k._get_j__0_k$()-k._get_r__0_k$()*k._get_k__0_k$()),p[s.invoke(2,0,i)]=2*(k._get_r__0_k$()*k._get_j__0_k$()+k._get_i__0_k$()*k._get_k__0_k$()),p[s.invoke(0,1,i)]=2*(k._get_i__0_k$()*k._get_j__0_k$()+k._get_r__0_k$()*k._get_k__0_k$()),p[s.invoke(1,1,i)]=1-2*(k._get_i__0_k$()*k._get_i__0_k$()+k._get_k__0_k$()*k._get_k__0_k$()),p[s.invoke(2,1,i)]=2*(k._get_k__0_k$()*k._get_j__0_k$()-k._get_i__0_k$()*k._get_r__0_k$()),p[s.invoke(0,2,i)]=2*(k._get_i__0_k$()*k._get_k__0_k$()-k._get_r__0_k$()*k._get_j__0_k$()),p[s.invoke(1,2,i)]=2*(k._get_k__0_k$()*k._get_j__0_k$()+k._get_i__0_k$()*k._get_r__0_k$()),p[s.invoke(2,2,i)]=1-2*(k._get_i__0_k$()*k._get_i__0_k$()+k._get_j__0_k$()*k._get_j__0_k$())}c=p;break e}return c},I_.prototype.scale_9p18tm_k$=function(t,i){var s;e:{var c=this.eye_ha5a7z_k$(i);{var p=0,v;t:{var k=t.length;v=Math.min(i,k);break t}var x=v;if(p<x)do{var T=p;p=p+1|0,c[pt(T,i)+T|0]=t[T]}while(p<x)}s=c;break e}return s},I_.prototype.translate_emzw8k_k$=function(t,i,s){var c;e:{var p=this.eye_ha5a7z_k$(i);{var v=0,k;t:{var x=t.length;k=Math.min(i,x);break t}var T=k;if(v<T)do{var N=v;v=v+1|0,p[s.invoke(i-1|0,N,i)]=t[N]}while(v<T)}c=p;break e}return c},I_.$metadata$={simpleName:"TransformsAux",kind:"object",interfaces:[]};var Pj;function pn(){return Pj==null&&new I_,Pj}function zSe(){return VZ}var VZ;function USe(){return qZ}var qZ;function jSe(){return KZ}var KZ;function GSe(){return JZ}var JZ;function WSe(t,i){var s=NEe();return t.elementWiseWithRhs(i,new Gj(s))}function HSe(t,i){var s=REe();return t.elementWiseWithRhs(i,new Wj(s))}function Bj(){Fj=this;var t;e:{var i=Fr(de(Jt));t=i;break e}Ni(this,t,Zr("matMulVec"))}Bj.prototype.matMulVec_6xdosn_k$=function(t,i){var s;e:{var c=new Float32Array(i._elements.length);{var p=0,v=i._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0;var x;t:{x=0;break t}var T=x,N=0,B=t._order;if(N<B)do{var L=N;N=N+1|0,T=T+i._elements[L]*t._get_elements__0_k$()[t._layout.invoke(k,L,t._order)]}while(N<B);c[k]=T}while(p<=v)}s=c;break e}return i.factory_txu12t_k$(s)},Bj.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var Fj;function d3(){return Fj==null&&new Bj,Fj}function m3(){}m3.prototype.invoke_dbmacu_k$=function(t){return t.toString()},m3.prototype.invoke_20e8_k$=function(t){return this.invoke_dbmacu_k$((t!=null?typeof t=="number":!1)?t:M())},m3.$metadata$={kind:"class",interfaces:[]};function Jt(t){d3(),this._elements=t}Jt.prototype._get_elements__0_k$=function(){return this._elements},Jt.prototype.plusWithT=function(t){var i=new Float32Array(this._elements.length),s=0,c=this._elements.length-1|0;if(s<=c)do{var p=s;s=s+1|0,i[p]=this._elements[p]+t._elements[p]}while(s<=c);return this.factory_txu12t_k$(i)},Jt.prototype.minusWithT=function(t){var i=new Float32Array(this._elements.length),s=0,c=this._elements.length-1|0;if(s<=c)do{var p=s;s=s+1|0,i[p]=this._elements[p]-t._elements[p]}while(s<=c);return this.factory_txu12t_k$(i)},Jt.prototype.plusWithDouble=function(t){var i;e:{i=t;break e}var s=i,c=new Float32Array(this._elements.length),p=0,v=this._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0,c[k]=this._elements[k]+s}while(p<=v);return this.factory_txu12t_k$(c)},Jt.prototype.plusWithFloat=function(t){var i;e:{i=t;break e}var s=i,c=new Float32Array(this._elements.length),p=0,v=this._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0,c[k]=this._elements[k]+s}while(p<=v);return this.factory_txu12t_k$(c)},Jt.prototype.minusWithDouble=function(t){var i;e:{i=t;break e}var s=i,c=new Float32Array(this._elements.length),p=0,v=this._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0,c[k]=this._elements[k]-s}while(p<=v);return this.factory_txu12t_k$(c)},Jt.prototype.minusWithFloat=function(t){var i;e:{i=t;break e}var s=i,c=new Float32Array(this._elements.length),p=0,v=this._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0,c[k]=this._elements[k]-s}while(p<=v);return this.factory_txu12t_k$(c)},Jt.prototype.timesWithT=function(t){var i=new Float32Array(this._elements.length),s=0,c=this._elements.length-1|0;if(s<=c)do{var p=s;s=s+1|0,i[p]=this._elements[p]*t._elements[p]}while(s<=c);return this.factory_txu12t_k$(i)},Jt.prototype.timesWithDouble=function(t){var i;e:{i=t;break e}var s=i,c=new Float32Array(this._elements.length),p=0,v=this._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0,c[k]=this._elements[k]*s}while(p<=v);return this.factory_txu12t_k$(c)},Jt.prototype.timesWithFloat=function(t){var i;e:{i=t;break e}var s=i,c=new Float32Array(this._elements.length),p=0,v=this._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0,c[k]=this._elements[k]*s}while(p<=v);return this.factory_txu12t_k$(c)},Jt.prototype.divWithT=function(t){var i=new Float32Array(this._elements.length),s=0,c=this._elements.length-1|0;if(s<=c)do{var p=s;s=s+1|0,i[p]=this._elements[p]/t._elements[p]}while(s<=c);return this.factory_txu12t_k$(i)},Jt.prototype.divWithDouble=function(t){var i;e:{i=t;break e}var s=i,c=new Float32Array(this._elements.length),p=0,v=this._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0,c[k]=this._elements[k]/s}while(p<=v);return this.factory_txu12t_k$(c)},Jt.prototype.divWithFloat=function(t){var i;e:{i=t;break e}var s=i,c=new Float32Array(this._elements.length),p=0,v=this._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0,c[k]=this._elements[k]/s}while(p<=v);return this.factory_txu12t_k$(c)},Jt.prototype.unaryMinus_0_k$=function(){var t=new Float32Array(this._elements.length),i=0,s=this._elements.length-1|0;if(i<=s)do{var c=i;i=i+1|0,t[c]=-this._elements[c]}while(i<=s);return this.factory_txu12t_k$(t)},Jt.prototype.invDivWithDouble=function(t){var i;e:{i=t;break e}var s=i,c=new Float32Array(this._elements.length),p=0,v=this._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0,c[k]=s/this._elements[k]}while(p<=v);return this.factory_txu12t_k$(c)},Jt.prototype.invDivWithFloat=function(t){var i;e:{i=t;break e}var s=i,c=new Float32Array(this._elements.length),p=0,v=this._elements.length-1|0;if(p<=v)do{var k=p;p=p+1|0,c[k]=s/this._elements[k]}while(p<=v);return this.factory_txu12t_k$(c)},Jt.prototype.sum_0_k$=function(){return g(this._elements)},Jt.prototype.length_0_k$=function(){var t;e:{t=0;break e}for(var i=t,s=this._elements,c=0,p=s.length;c<p;){var v=s[c];c=c+1|0,i=i+v*v}var k;e:{var x=i;k=Math.sqrt(x);break e}return k},Jt.prototype.min_0_k$=function(){return Ei(y(this._elements))},Jt.prototype.max_0_k$=function(){return Ei(w(this._elements))},Jt.prototype.dot_2c5_k$=function(t){var i;e:{i=0;break e}var s=i,c=0,p=this._elements.length-1|0;if(c<=p)do{var v=c;c=c+1|0,s=s+this._elements[v]*t._elements[v]}while(c<=p);return s},Jt.prototype.normalized0=function(){var t=this.length_0_k$(),i;e:{i=0;break e}if(t===i)return null;var s=new Float32Array(this._elements.length),c=0,p=this._elements.length-1|0;if(c<=p)do{var v=c;c=c+1|0,s[v]=this._elements[v]/t}while(c<=p);return this.factory_txu12t_k$(s)},Jt.prototype.normalizedWithT=function(t){var i=this.normalized0();return i==null?t:i},Jt.prototype.elementWiseWithRhs=function(t,i){var s=new Float32Array(this._elements.length),c=0,p=this._elements.length-1|0;if(c<=p)do{var v=c;c=c+1|0,s[v]=i.invoke_rybm4g_k$(this._elements[v],t._elements[v])}while(c<=p);return this.factory_txu12t_k$(s)},Jt.prototype.elementWiseWithOperation=function(t){var i=new Float32Array(this._elements.length),s=0,c=this._elements.length-1|0;if(s<=c)do{var p=s;s=s+1|0,i[p]=t.invoke_dbmacu_k$(this._elements[p])}while(s<=c);return this.factory_txu12t_k$(i)},Jt.prototype.zero_0_k$=function(){for(var t=0,i=this._elements.length,s=new Float32Array(i);t<i;){var c=t,p;e:{var v;t:{v=0;break t}p=v;break e}s[c]=p,t=t+1|0}var k=s;return this.factory_txu12t_k$(k)},Jt.prototype.one_0_k$=function(){for(var t=0,i=this._elements.length,s=new Float32Array(i);t<i;){var c=t,p;e:{var v;t:{v=1;break t}p=v;break e}s[c]=p,t=t+1|0}var k=s;return this.factory_txu12t_k$(k)},Jt.prototype.floatArray_0_k$=function(){var t;e:{var i=this._elements;t=i;break e}return t},Jt.prototype.asList=function(){var t;e:{var i=this._elements,s;t:{var c;n:{c=i;break n}s=c;break t}t=ES(s);break e}return t},Jt.prototype.toString=function(){var t=""+Xo(this)._get_simpleName__0_k$()+"(";return A(this._elements,null,t,")",0,null,PEe(),25)},Jt.prototype.vecMulMat_7dfa45_k$=function(t){var i;e:{var s=new Float32Array(this._elements.length);{var c=0,p=this._elements.length-1|0;if(c<=p)do{var v=c;c=c+1|0;var k;t:{k=0;break t}var x=k,T=0,N=t._order;if(T<N)do{var B=T;T=T+1|0,x=x+this._elements[B]*t._get_elements__0_k$()[t._layout.invoke(B,v,t._order)]}while(T<N);s[v]=x}while(c<=p)}i=s;break e}return this.factory_txu12t_k$(i)},Jt.prototype.factory=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=ce()._get_floatArrayClass__0_k$().isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.factory_txu12t_k$((v!=null?Lu(v):!1)?v:M());return k}throw At("Error choosing proper overload of function Vector.factory for the given parameters")},Jt.prototype.plus=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(Jt).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.plusWithT(v instanceof Jt?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.plusWithDouble((B!=null?typeof B=="number":!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.plusWithFloat((q!=null?typeof q=="number":!1)?q:M());return Q}throw At("Error choosing proper overload of function Vector.plus for the given parameters")},Jt.prototype.minus=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(Jt).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.minusWithT(v instanceof Jt?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.minusWithDouble((B!=null?typeof B=="number":!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.minusWithFloat((q!=null?typeof q=="number":!1)?q:M());return Q}throw At("Error choosing proper overload of function Vector.minus for the given parameters")},Jt.prototype.times=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(Jt).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.timesWithT(v instanceof Jt?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.timesWithDouble((B!=null?typeof B=="number":!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.timesWithFloat((q!=null?typeof q=="number":!1)?q:M());return Q}throw At("Error choosing proper overload of function Vector.times for the given parameters")},Jt.prototype.div=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(Jt).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.divWithT(v instanceof Jt?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.divWithDouble((B!=null?typeof B=="number":!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.divWithFloat((q!=null?typeof q=="number":!1)?q:M());return Q}throw At("Error choosing proper overload of function Vector.div for the given parameters")},Jt.prototype.invDiv=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=ce()._get_doubleClass__0_k$().isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.invDivWithDouble((v!=null?typeof v=="number":!1)?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.invDivWithFloat((B!=null?typeof B=="number":!1)?B:M());return L}throw At("Error choosing proper overload of function Vector.invDiv for the given parameters")},Jt.prototype.normalized=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(Jt).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.normalizedWithT(v instanceof Jt?v:M());return k}if(i.length===0){var x=this.normalized0();return x}throw At("Error choosing proper overload of function Vector.normalized for the given parameters")},Jt.prototype.elementWise=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=de(Jt).isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(VE).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=T instanceof Jt?T:M(),B=i[1],L=this.elementWiseWithRhs(N,(B!=null?Ce(B,VE):!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(Yb).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.elementWiseWithOperation((q!=null?Ce(q,Yb):!1)?q:M());return Q}throw At("Error choosing proper overload of function Vector.elementWise for the given parameters")},Jt.$metadata$={simpleName:"Vector",kind:"class",interfaces:[nee]};function VSe(t,i){return Mi.call(i,Cs(new Float64Array([t]))),i}function qSe(t){return VSe(t,Object.create(Mi.prototype))}function KSe(t,i){return Mi.call(i,Er(new Float32Array([t]))),i}function GE(t){return KSe(t,Object.create(Mi.prototype))}function JSe(t,i){return Mi.call(i,zE(new Int32Array([t]))),i}function XSe(t){return JSe(t,Object.create(Mi.prototype))}function YSe(t){return Mi.call(t,new Float32Array(1)),t}function XZ(){return YSe(Object.create(Mi.prototype))}function Mf(){Lj=this;var t=this,i;e:{i=1;break e}t._xAxis=GE(i),this._zero=XZ(),this._one=this._xAxis;var s;e:{var c=Fr(de(Mi));s=c;break e}Ni(this,s,Kr(["zero","xAxis","one"]))}Mf.prototype._get_xAxis__0_k$=function(){return this._xAxis},Mf.prototype._get_zero__0_k$=function(){return this._zero},Mf.prototype._get_one__0_k$=function(){return this._one},Mf.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(Mf.prototype,"xAxis",{configurable:!0,get:Mf.prototype._get_xAxis__0_k$}),Object.defineProperty(Mf.prototype,"zero",{configurable:!0,get:Mf.prototype._get_zero__0_k$}),Object.defineProperty(Mf.prototype,"one",{configurable:!0,get:Mf.prototype._get_one__0_k$});var Lj;function YZ(){return Lj==null&&new Mf,Lj}function Mi(t){YZ(),Jt.call(this,t)}Mi.prototype.factory_txu12t_k$=function(t){return new Mi(t)},Mi.prototype._get_x__0_k$=function(){return this._get_elements__0_k$()[0]},Mi.prototype._get_xy__0_k$=function(){var t=this._get_x__0_k$(),i;e:{i=0;break e}return Wi(t,i)},Mi.prototype._get_xyz__0_k$=function(){var t=this._get_x__0_k$(),i;e:{i=0;break e}var s=i,c;e:{c=0;break e}return Uo(t,s,c)},Mi.prototype._get_xyzw__0_k$=function(){var t=this._get_x__0_k$(),i;e:{i=0;break e}var s=i,c;e:{c=0;break e}var p=c,v;e:{v=1;break e}return rs(t,s,p,v)},Mi.prototype.withX=function(t){return GE(t)},Mi.prototype.withY=function(t){var i=this._get_x__0_k$(),s;e:{s=t;break e}return Wi(i,s)},Mi.$metadata$={simpleName:"Vec1",kind:"class",interfaces:[]},Object.defineProperty(Mi.prototype,"x",{configurable:!0,get:Mi.prototype._get_x__0_k$}),Object.defineProperty(Mi.prototype,"xy",{configurable:!0,get:Mi.prototype._get_xy__0_k$}),Object.defineProperty(Mi.prototype,"xyz",{configurable:!0,get:Mi.prototype._get_xyz__0_k$}),Object.defineProperty(Mi.prototype,"xyzw",{configurable:!0,get:Mi.prototype._get_xyzw__0_k$});function QSe(t,i,s){return zn.call(s,Cs(new Float64Array([t,i]))),s}function ZSe(t,i){return QSe(t,i,Object.create(zn.prototype))}function eEe(t,i,s){return zn.call(s,Er(new Float32Array([t,i]))),s}function Wi(t,i){return eEe(t,i,Object.create(zn.prototype))}function tEe(t,i,s){return zn.call(s,zE(new Int32Array([t,i]))),s}function WE(t,i){return tEe(t,i,Object.create(zn.prototype))}function nEe(t){return zn.call(t,new Float32Array(2)),t}function QZ(){return nEe(Object.create(zn.prototype))}function Zu(){Dj=this;var t=this,i;e:{i=1;break e}var s=i,c;e:{c=0;break e}t._xAxis_0=Wi(s,c);var p=this,v;e:{v=0;break e}var k=v,x;e:{x=1;break e}p._yAxis=Wi(k,x),this._zero_0=QZ();var T=this,N;e:{N=1;break e}var B=N,L;e:{L=1;break e}T._one_0=Wi(B,L);var O;e:{var W=Fr(de(zn));O=W;break e}Ni(this,O,Kr(["zero","yAxis","xAxis","one"]))}Zu.prototype._get_xAxis__0_k$=function(){return this._xAxis_0},Zu.prototype._get_yAxis__0_k$=function(){return this._yAxis},Zu.prototype._get_zero__0_k$=function(){return this._zero_0},Zu.prototype._get_one__0_k$=function(){return this._one_0},Zu.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(Zu.prototype,"xAxis",{configurable:!0,get:Zu.prototype._get_xAxis__0_k$}),Object.defineProperty(Zu.prototype,"yAxis",{configurable:!0,get:Zu.prototype._get_yAxis__0_k$}),Object.defineProperty(Zu.prototype,"zero",{configurable:!0,get:Zu.prototype._get_zero__0_k$}),Object.defineProperty(Zu.prototype,"one",{configurable:!0,get:Zu.prototype._get_one__0_k$});var Dj;function ZZ(){return Dj==null&&new Zu,Dj}function zn(t){ZZ(),Jt.call(this,t)}zn.prototype.factory_txu12t_k$=function(t){return new zn(t)},zn.prototype._get_x__0_k$=function(){return this._get_elements__0_k$()[0]},zn.prototype._get_y__0_k$=function(){return this._get_elements__0_k$()[1]},zn.prototype._get_xy__0_k$=function(){return this},zn.prototype._get_xyz__0_k$=function(){var t=this._get_x__0_k$(),i=this._get_y__0_k$(),s;e:{s=0;break e}return Uo(t,i,s)},zn.prototype._get_xyzw__0_k$=function(){var t=this._get_x__0_k$(),i=this._get_y__0_k$(),s;e:{s=0;break e}var c=s,p;e:{p=1;break e}return rs(t,i,c,p)},zn.prototype.withX=function(t){return Wi(t,this._get_y__0_k$())},zn.prototype.withY=function(t){return Wi(this._get_x__0_k$(),t)},zn.prototype.withZ=function(t){return Uo(this._get_x__0_k$(),this._get_y__0_k$(),t)},zn.prototype.mul=function(t){return this.vecMulMat_7dfa45_k$(t)},zn.$metadata$={simpleName:"Vec2",kind:"class",interfaces:[]},Object.defineProperty(zn.prototype,"x",{configurable:!0,get:zn.prototype._get_x__0_k$}),Object.defineProperty(zn.prototype,"y",{configurable:!0,get:zn.prototype._get_y__0_k$}),Object.defineProperty(zn.prototype,"xy",{configurable:!0,get:zn.prototype._get_xy__0_k$}),Object.defineProperty(zn.prototype,"xyz",{configurable:!0,get:zn.prototype._get_xyz__0_k$}),Object.defineProperty(zn.prototype,"xyzw",{configurable:!0,get:zn.prototype._get_xyzw__0_k$});function rEe(t,i,s,c){return $t.call(c,Cs(new Float64Array([t,i,s]))),c}function iEe(t,i,s){return rEe(t,i,s,Object.create($t.prototype))}function oEe(t,i,s,c){return $t.call(c,Er(new Float32Array([t,i,s]))),c}function Uo(t,i,s){return oEe(t,i,s,Object.create($t.prototype))}function aEe(t,i,s,c){return $t.call(c,zE(new Int32Array([t,i,s]))),c}function sEe(t,i,s){return aEe(t,i,s,Object.create($t.prototype))}function lEe(t,i,s){return $t.call(s,Er(new Float32Array([t._get_x__0_k$(),t._get_y__0_k$(),i]))),s}function uEe(t,i){return lEe(t,i,Object.create($t.prototype))}function cEe(t,i){return $t.call(i,Er(new Float32Array([t,t,t]))),i}function _Ee(t){return cEe(t,Object.create($t.prototype))}function fEe(t){return $t.call(t,new Float32Array(3)),t}function eee(){return fEe(Object.create($t.prototype))}function Ks(){Oj=this;var t=this,i;e:{i=1;break e}var s=i,c;e:{c=0;break e}var p=c,v;e:{v=0;break e}t._xAxis_1=Uo(s,p,v);var k=this,x;e:{x=0;break e}var T=x,N;e:{N=1;break e}var B=N,L;e:{L=0;break e}k._yAxis_0=Uo(T,B,L);var O=this,W;e:{W=0;break e}var K=W,q;e:{q=0;break e}var Q=q,ee;e:{ee=1;break e}O._zAxis=Uo(K,Q,ee),this._zero_1=eee();var ie=this,fe;e:{fe=1;break e}var le=fe,Se;e:{Se=1;break e}var Ee=Se,Te;e:{Te=1;break e}ie._one_1=Uo(le,Ee,Te);var Me;e:{var Ne=Fr(de($t));Me=Ne;break e}Ni(this,Me,Kr(["zero","yAxis","xAxis","one","zAxis"]))}Ks.prototype._get_xAxis__0_k$=function(){return this._xAxis_1},Ks.prototype._get_yAxis__0_k$=function(){return this._yAxis_0},Ks.prototype._get_zAxis__0_k$=function(){return this._zAxis},Ks.prototype._get_zero__0_k$=function(){return this._zero_1},Ks.prototype._get_one__0_k$=function(){return this._one_1},Ks.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(Ks.prototype,"xAxis",{configurable:!0,get:Ks.prototype._get_xAxis__0_k$}),Object.defineProperty(Ks.prototype,"yAxis",{configurable:!0,get:Ks.prototype._get_yAxis__0_k$}),Object.defineProperty(Ks.prototype,"zAxis",{configurable:!0,get:Ks.prototype._get_zAxis__0_k$}),Object.defineProperty(Ks.prototype,"zero",{configurable:!0,get:Ks.prototype._get_zero__0_k$}),Object.defineProperty(Ks.prototype,"one",{configurable:!0,get:Ks.prototype._get_one__0_k$});var Oj;function ec(){return Oj==null&&new Ks,Oj}function $t(t){ec(),Jt.call(this,t)}$t.prototype.factory_txu12t_k$=function(t){return new $t(t)},$t.prototype._get_x__0_k$=function(){return this._get_elements__0_k$()[0]},$t.prototype._get_y__0_k$=function(){return this._get_elements__0_k$()[1]},$t.prototype._get_z__0_k$=function(){return this._get_elements__0_k$()[2]},$t.prototype._get_xy__0_k$=function(){return new zn(d(this._get_elements__0_k$(),gf(0,1)))},$t.prototype._get_xyz__0_k$=function(){return this},$t.prototype._get_xyzw__0_k$=function(){var t=this._get_x__0_k$(),i=this._get_y__0_k$(),s=this._get_z__0_k$(),c;e:{c=1;break e}return rs(t,i,s,c)},$t.prototype._get_rgb__0_k$=function(){return aj(this._get_x__0_k$(),this._get_y__0_k$(),this._get_z__0_k$())},$t.prototype.withX=function(t){return Uo(t,this._get_y__0_k$(),this._get_z__0_k$())},$t.prototype.withY=function(t){return Uo(this._get_x__0_k$(),t,this._get_z__0_k$())},$t.prototype.withZ=function(t){return Uo(this._get_x__0_k$(),this._get_y__0_k$(),t)},$t.prototype.withW=function(t){return rs(this._get_x__0_k$(),this._get_y__0_k$(),this._get_z__0_k$(),t)},$t.prototype.cross=function(t){return Uo(this._get_y__0_k$()*t._get_z__0_k$()-this._get_z__0_k$()*t._get_y__0_k$(),this._get_z__0_k$()*t._get_x__0_k$()-this._get_x__0_k$()*t._get_z__0_k$(),this._get_x__0_k$()*t._get_y__0_k$()-this._get_y__0_k$()*t._get_x__0_k$())},$t.prototype.mulWithMat=function(t){return this.vecMulMat_7dfa45_k$(t)},$t.prototype.mulWithThis=function(t){var i=this instanceof $t?this:M();return Fd(i,t)},$t.prototype.mul=function(t){var i=arguments,s,c,p;e:{p=de($t).isInstance_wi7j7l_k$(this);break e}if(p?c=i.length===1:c=!1,c){var v;e:{var k=i[0];v=de(Lt).isInstance_wi7j7l_k$(k);break e}s=v}else s=!1;if(s){var x=i[0],T=Fd(this,x instanceof Lt?x:M());return T}var N;if(i.length===1){var B;e:{var L=i[0];B=de(Ct).isInstance_wi7j7l_k$(L);break e}N=B}else N=!1;if(N){var O=i[0],W=this.mulWithMat(O instanceof Ct?O:M());return W}throw At("Error choosing proper overload of function Vec3.mul for the given parameters")},$t.$metadata$={simpleName:"Vec3",kind:"class",interfaces:[]},Object.defineProperty($t.prototype,"x",{configurable:!0,get:$t.prototype._get_x__0_k$}),Object.defineProperty($t.prototype,"y",{configurable:!0,get:$t.prototype._get_y__0_k$}),Object.defineProperty($t.prototype,"z",{configurable:!0,get:$t.prototype._get_z__0_k$}),Object.defineProperty($t.prototype,"xy",{configurable:!0,get:$t.prototype._get_xy__0_k$}),Object.defineProperty($t.prototype,"xyz",{configurable:!0,get:$t.prototype._get_xyz__0_k$}),Object.defineProperty($t.prototype,"xyzw",{configurable:!0,get:$t.prototype._get_xyzw__0_k$}),Object.defineProperty($t.prototype,"rgb",{configurable:!0,get:$t.prototype._get_rgb__0_k$});function pEe(t,i,s,c,p){return dn.call(p,Cs(new Float64Array([t,i,s,c]))),p}function hEe(t,i,s,c){return pEe(t,i,s,c,Object.create(dn.prototype))}function dEe(t,i,s,c,p){return dn.call(p,Er(new Float32Array([t,i,s,c]))),p}function rs(t,i,s,c){return dEe(t,i,s,c,Object.create(dn.prototype))}function mEe(t,i,s,c,p){return dn.call(p,zE(new Int32Array([t,i,s,c]))),p}function vEe(t,i,s,c){return mEe(t,i,s,c,Object.create(dn.prototype))}function gEe(t,i,s){var c=t._get_x__0_k$(),p=t._get_y__0_k$(),v;e:{v=1;break e}return dn.call(s,Er(new Float32Array([c,p,i,v]))),s}function yEe(t,i){return gEe(t,i,Object.create(dn.prototype))}function kEe(t,i,s,c){return dn.call(c,Er(new Float32Array([t._get_x__0_k$(),t._get_y__0_k$(),i,s]))),c}function zj(t,i,s){return kEe(t,i,s,Object.create(dn.prototype))}function $Ee(t,i,s){return dn.call(s,Er(new Float32Array([t._get_x__0_k$(),t._get_y__0_k$(),i._get_x__0_k$(),i._get_y__0_k$()]))),s}function bEe(t,i){return $Ee(t,i,Object.create(dn.prototype))}function wEe(t,i){var s=t._get_x__0_k$(),c=t._get_y__0_k$(),p=t._get_z__0_k$(),v;e:{v=1;break e}return dn.call(i,Er(new Float32Array([s,c,p,v]))),i}function xEe(t){return wEe(t,Object.create(dn.prototype))}function SEe(t,i,s){return dn.call(s,Er(new Float32Array([t._get_x__0_k$(),t._get_y__0_k$(),t._get_z__0_k$(),i]))),s}function Kp(t,i){return SEe(t,i,Object.create(dn.prototype))}function EEe(t){return dn.call(t,new Float32Array(4)),t}function tee(){return EEe(Object.create(dn.prototype))}function ja(){Uj=this;var t=this,i;e:{i=1;break e}var s=i,c;e:{c=0;break e}var p=c,v;e:{v=0;break e}var k=v,x;e:{x=0;break e}t._xAxis_2=rs(s,p,k,x);var T=this,N;e:{N=0;break e}var B=N,L;e:{L=1;break e}var O=L,W;e:{W=0;break e}var K=W,q;e:{q=0;break e}T._yAxis_1=rs(B,O,K,q);var Q=this,ee;e:{ee=0;break e}var ie=ee,fe;e:{fe=0;break e}var le=fe,Se;e:{Se=1;break e}var Ee=Se,Te;e:{Te=0;break e}Q._zAxis_0=rs(ie,le,Ee,Te);var Me=this,Ne;e:{Ne=0;break e}var Pe=Ne,Ye;e:{Ye=0;break e}var Ke=Ye,nt;e:{nt=0;break e}var Ze=nt,ct;e:{ct=1;break e}Me._wAxis=rs(Pe,Ke,Ze,ct),this._zero_2=tee();var ht=this,bt;e:{bt=1;break e}var It=bt,Nt;e:{Nt=1;break e}var Rt=Nt,Xt;e:{Xt=1;break e}var rn=Xt,En;e:{En=1;break e}ht._one_2=rs(It,Rt,rn,En);var un;e:{var gn=Fr(de(dn));un=gn;break e}Ni(this,un,Kr(["zero","yAxis","xAxis","wAxis","one","zAxis"]))}ja.prototype._get_xAxis__0_k$=function(){return this._xAxis_2},ja.prototype._get_yAxis__0_k$=function(){return this._yAxis_1},ja.prototype._get_zAxis__0_k$=function(){return this._zAxis_0},ja.prototype._get_wAxis__0_k$=function(){return this._wAxis},ja.prototype._get_zero__0_k$=function(){return this._zero_2},ja.prototype._get_one__0_k$=function(){return this._one_2},ja.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(ja.prototype,"xAxis",{configurable:!0,get:ja.prototype._get_xAxis__0_k$}),Object.defineProperty(ja.prototype,"yAxis",{configurable:!0,get:ja.prototype._get_yAxis__0_k$}),Object.defineProperty(ja.prototype,"zAxis",{configurable:!0,get:ja.prototype._get_zAxis__0_k$}),Object.defineProperty(ja.prototype,"wAxis",{configurable:!0,get:ja.prototype._get_wAxis__0_k$}),Object.defineProperty(ja.prototype,"zero",{configurable:!0,get:ja.prototype._get_zero__0_k$}),Object.defineProperty(ja.prototype,"one",{configurable:!0,get:ja.prototype._get_one__0_k$});var Uj;function HE(){return Uj==null&&new ja,Uj}function dn(t){HE(),Jt.call(this,t)}dn.prototype.factory_txu12t_k$=function(t){return new dn(t)},dn.prototype._get_x__0_k$=function(){return this._get_elements__0_k$()[0]},dn.prototype._get_y__0_k$=function(){return this._get_elements__0_k$()[1]},dn.prototype._get_z__0_k$=function(){return this._get_elements__0_k$()[2]},dn.prototype._get_w__0_k$=function(){return this._get_elements__0_k$()[3]},dn.prototype._get_xy__0_k$=function(){return new zn(d(this._get_elements__0_k$(),gf(0,1)))},dn.prototype._get_xyz__0_k$=function(){return new $t(d(this._get_elements__0_k$(),gf(0,2)))},dn.prototype._get_xyzw__0_k$=function(){return this},dn.prototype._get_rgb__0_k$=function(){return aj(this._get_x__0_k$(),this._get_y__0_k$(),this._get_z__0_k$())},dn.prototype._get_rgba__0_k$=function(){return new On(this._get_elements__0_k$())},dn.prototype.withX=function(t){return rs(t,this._get_y__0_k$(),this._get_z__0_k$(),this._get_w__0_k$())},dn.prototype.withY=function(t){return rs(this._get_x__0_k$(),t,this._get_z__0_k$(),this._get_w__0_k$())},dn.prototype.withZ=function(t){return rs(this._get_x__0_k$(),this._get_y__0_k$(),t,this._get_w__0_k$())},dn.prototype.withW=function(t){return rs(this._get_x__0_k$(),this._get_y__0_k$(),this._get_z__0_k$(),t)},dn.prototype.dehomog=function(){var t,i=this._get_w__0_k$(),s;e:{s=0;break e}return i!==s?t=Uo(this._get_x__0_k$()/this._get_w__0_k$(),this._get_y__0_k$()/this._get_w__0_k$(),this._get_z__0_k$()/this._get_w__0_k$()):t=null,t},dn.prototype.mul=function(t){return this.vecMulMat_7dfa45_k$(t)},dn.$metadata$={simpleName:"Vec4",kind:"class",interfaces:[]},Object.defineProperty(dn.prototype,"x",{configurable:!0,get:dn.prototype._get_x__0_k$}),Object.defineProperty(dn.prototype,"y",{configurable:!0,get:dn.prototype._get_y__0_k$}),Object.defineProperty(dn.prototype,"z",{configurable:!0,get:dn.prototype._get_z__0_k$}),Object.defineProperty(dn.prototype,"w",{configurable:!0,get:dn.prototype._get_w__0_k$}),Object.defineProperty(dn.prototype,"xy",{configurable:!0,get:dn.prototype._get_xy__0_k$}),Object.defineProperty(dn.prototype,"xyz",{configurable:!0,get:dn.prototype._get_xyz__0_k$}),Object.defineProperty(dn.prototype,"xyzw",{configurable:!0,get:dn.prototype._get_xyzw__0_k$}),Object.defineProperty(dn.prototype,"rgb",{configurable:!0,get:dn.prototype._get_rgb__0_k$}),Object.defineProperty(dn.prototype,"rgba",{configurable:!0,get:dn.prototype._get_rgba__0_k$});function Yb(){}Yb.$metadata$={simpleName:"UnaryOperator",kind:"interface",interfaces:[]};function VE(){}VE.$metadata$={simpleName:"BinaryOperator",kind:"interface",interfaces:[]};function nee(){}nee.$metadata$={simpleName:"Vec",kind:"interface",interfaces:[]};function Qb(t,i){return i.timesWithFloat(t)}function CEe(t,i){return i.invDivWithFloat(t)}function jj(t,i){return i.unaryMinus_0_k$().plusWithFloat(t)}function Gj(t){this._function_3=t}Gj.prototype.invoke_rybm4g_k$=function(t,i){return this._function_3(t,i)},Gj.$metadata$={simpleName:"sam$Vec_BinaryOperator$0",kind:"class",interfaces:[VE]};function Wj(t){this._function_4=t}Wj.prototype.invoke_rybm4g_k$=function(t,i){return this._function_4(t,i)},Wj.$metadata$={simpleName:"sam$Vec_BinaryOperator$0",kind:"class",interfaces:[VE]};function v3(){}v3.prototype.invoke_sv8swh_k$=function(){YZ(),F(),F()},v3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},v3.$metadata$={kind:"class",interfaces:[]};function g3(){}g3.prototype.invoke_sv8swh_k$=function(){ZZ(),F(),F()},g3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},g3.$metadata$={kind:"class",interfaces:[]};function y3(){}y3.prototype.invoke_sv8swh_k$=function(){ec(),F(),F()},y3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},y3.$metadata$={kind:"class",interfaces:[]};function k3(){}k3.prototype.invoke_sv8swh_k$=function(){HE(),F(),F()},k3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},k3.$metadata$={kind:"class",interfaces:[]};function $3(){}$3.prototype.invoke_rybm4g_k$=function(t,i){var s;e:{s=Math.min(t,i);break e}return s},$3.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="number":!1)?t:M();return this.invoke_rybm4g_k$(s,(i!=null?typeof i=="number":!1)?i:M())},$3.$metadata$={kind:"class",interfaces:[]};function b3(){}b3.prototype.invoke_rybm4g_k$=function(t,i){var s;e:{s=Math.max(t,i);break e}return s},b3.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="number":!1)?t:M();return this.invoke_rybm4g_k$(s,(i!=null?typeof i=="number":!1)?i:M())},b3.$metadata$={kind:"class",interfaces:[]};function AEe(){var t=new v3;return function(){return t.invoke_sv8swh_k$(),F()}}function TEe(){var t=new g3;return function(){return t.invoke_sv8swh_k$(),F()}}function IEe(){var t=new y3;return function(){return t.invoke_sv8swh_k$(),F()}}function MEe(){var t=new k3;return function(){return t.invoke_sv8swh_k$(),F()}}function NEe(){var t=new $3;return function(i,s){return t.invoke_rybm4g_k$(i,s)}}function REe(){var t=new b3;return function(i,s){return t.invoke_rybm4g_k$(i,s)}}function PEe(){var t=new m3;return function(i){return t.invoke_dbmacu_k$(i)}}function BEe(){return ree}var ree;function Hj(){Vj=this;var t;e:{var i=Fr(de(Ld));t=i;break e}Ni(this,t,Zr("start"))}Hj.prototype.start=function(){return new Ld(m0(),0)},Hj.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var Vj;function Zb(){return Vj==null&&new Hj,Vj}function Ld(t,i){Zb(),this._start_1=t,this._elapsed=i}Ld.prototype._get_elapsed__0_k$=function(){return this._elapsed},Ld.prototype.tick=function(){var t;e:{var i=m0(),s;t:{var c;n:{var p=i.minus_wiekkq_k$(this._start_1);c=p.toDouble_0_k$()/1e3;break n}s=new Ld(i,c);break t}t=s;break e}return t},Ld.$metadata$={simpleName:"Timer",kind:"class",interfaces:[]},Object.defineProperty(Ld.prototype,"elapsed",{configurable:!0,get:Ld.prototype._get_elapsed__0_k$});function qj(t){this._interval=t,this._timer=new pa(Zb().start()),this._count_1=new is(0)}qj.prototype.tick=function(t){var i=this._count_1.addAndGet_ha5a7z_k$(1),s=this._timer.get_0_k$().tick(),c=i/s._elapsed;return s._elapsed>=this._interval&&(this._timer.set_iav7o_k$(s),this._count_1.set_majfzk_k$(0),t!=null&&t(c)),c},qj.$metadata$={simpleName:"FPS",kind:"class",interfaces:[]};function Kj(t){this._function_5=t}Kj.prototype.invoke_b1jcz9_k$=function(t,i,s){return this._function_5(t,i,s)},Kj.$metadata$={simpleName:"sam$TickerMapper$0",kind:"class",interfaces:[x3]};function w3(t){this._$mapper_21=t}w3.prototype.invoke_b1jcz9_k$=function(t,i,s){return this._$mapper_21(t)},w3.prototype.invoke_ifn5k1_k$=function(t,i,s){var c=(t==null?!0:Re(t))?t:M(),p=(i!=null?typeof i=="number":!1)?i:M();return this.invoke_b1jcz9_k$(c,p,(s!=null?typeof s=="number":!1)?s:M())},w3.$metadata$={kind:"class",interfaces:[]};function qE(t){this._interval_0=t,this._timer_0=new pa(Zb().start()),this._count_2=new is(0)}qE.prototype.tickWithTickerMapperOfT=function(t,i){var s=this._count_2.addAndGet_ha5a7z_k$(1),c=this._timer_0.get_0_k$().tick(),p;return c._elapsed>=this._interval_0?(this._timer_0.set_iav7o_k$(c),this._count_2.set_majfzk_k$(0),p=i.invoke_b1jcz9_k$(t,s,c._elapsed)):p=t,p},qE.prototype.tickWithFn=function(t,i){var s=LEe(i);return this.tickWithTickerMapperOfT(t,new Kj(s))},qE.prototype.tick=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=v==null?!0:ce()._get_anyClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(x3).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=(T==null?!0:Re(T))?T:M(),B=i[1],L=this.tickWithTickerMapperOfT(N,(B!=null?Ce(B,x3):!1)?B:M());return L}var O,W;if(i.length===2){var K;e:{var q=i[0];K=q==null?!0:ce()._get_anyClass__0_k$().isInstance_wi7j7l_k$(q);break e}W=K}else W=!1;if(W){var Q;e:{var ee=i[1];Q=ce().functionClass(1).isInstance_wi7j7l_k$(ee);break e}O=Q}else O=!1;if(O){var ie=i[0],fe=(ie==null?!0:Re(ie))?ie:M(),le=i[1],Se=this.tickWithFn(fe,(le!=null?typeof le=="function":!1)?le:M());return Se}throw At("Error choosing proper overload of function Ticker.tick for the given parameters")},qE.$metadata$={simpleName:"Ticker",kind:"class",interfaces:[]};function iee(){var t=m0(),i;e:{var s=864e5;i=t.div_wiekkq_k$(Yi(s));break e}return i}function x3(){}x3.$metadata$={simpleName:"TickerMapper",kind:"interface",interfaces:[]};function S3(){}S3.prototype.invoke_sv8swh_k$=function(){Zb(),F(),F()},S3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},S3.$metadata$={kind:"class",interfaces:[]};function FEe(){var t=new S3;return function(){return t.invoke_sv8swh_k$(),F()}}function LEe(t){var i=new w3(t);return function(s,c,p){return i.invoke_b1jcz9_k$(s,c,p)}}var oee;function Ni(t,i,s){var c=Object,p=c.getOwnPropertyNames(t),v=(p!=null?uo(p):!1)?p:M(),k;e:{k=t;break e}var x=k,T=c.getOwnPropertyNames(x.constructor.prototype),N=(T!=null?uo(T):!1)?T:M(),B;e:{var L;t:{L=v;break t}B=L.concat(N);break e}for(var O=B,W=0,K=O.length;W<K;){var q=O[W];W=W+1|0,!!s.contains_2bq_k$(q)&&(typeof x[q]=="function"?i[q]=x[q]:c.defineProperty(i,q,OEe(x,q)))}return oee}function DEe(t,i){var s=Re(t)?t:M();if(Ce(s,Hr))return t;if(uo(s))return u(uo(s)?s:M());if(Ce(s,tu))return an(Ce(s,tu)?s:M());throw sn('Could not convert argument "'+i+'" '+t+" to List, unknown type")}function Sv(t){for(var i=t.prototype,s=Object,c=s.getOwnPropertyNames(i),p=S((c!=null?uo(c):!1)?c:M()),v=gp(),k=p.iterator_0_k$();k.hasNext_0_k$();){var x=k.next_0_k$(),T=new pe(95),N=j1(x,T,0,!1,6);if(N>0?typeof i[x]=="function":!1){var B;e:{var L;t:{L=x;break t}B=L.substring(0,N);break e}var O=B;(p.contains_2bq_k$(O)?!1:!v.contains_2bq_k$(O))&&(s.defineProperty(i,O,zEe(i,x)),v.add_2bq_k$(O),F())}else if(V$(x,"_get_",!1,2)){var W=Om(x,"_get_"),K=mn(Dm(W,["_"],!1,0,6));(p.contains_2bq_k$(K)?!1:!v.contains_2bq_k$(K))&&(s.defineProperty(i,K,UEe(i,x)),v.add_2bq_k$(K),F())}}var q=s.getPrototypeOf(i);q.constructor!==s&&Sv(q.constructor)}function Jj(t){var i=t.prototype,s=Symbol.iterator,c=Object,p=GEe();c.defineProperty(i,s,jEe(p))}function M_(t,i){this._done=t,this._value_17=i}M_.prototype._get_done__0_k$=function(){return this._done},M_.prototype._get_value__0_k$=function(){return this._value_17},M_.$metadata$={simpleName:"JSIteratorResult",kind:"class",interfaces:[]},Object.defineProperty(M_.prototype,"done",{configurable:!0,get:M_.prototype._get_done__0_k$}),Object.defineProperty(M_.prototype,"value",{configurable:!0,get:M_.prototype._get_value__0_k$});function E3(t){this._wrapped=t}E3.prototype.next=function(){var t;if(this._wrapped.hasNext_0_k$()){var i=this._wrapped.next_0_k$();t=new M_(!1,i)}else t=new M_(!0,null);return t},E3.$metadata$={simpleName:"JSIterator",kind:"class",interfaces:[]};function C3(t){this._entryIterator=t._get_entries__0_k$().iterator_0_k$()}C3.prototype.next=function(){var t;if(this._entryIterator.hasNext_0_k$()){var i=this._entryIterator.next_0_k$(),s;e:{var c=[i._get_key__0_k$(),i._get_value__0_k$()],p;t:{var v;n:{v=c;break n}p=v;break t}s=p;break e}t=new M_(!1,s)}else t=new M_(!0,null);return t},C3.$metadata$={simpleName:"JSMapIterator",kind:"class",interfaces:[]};function OEe(t,i){return{get:function(){t[i]},set:function(s){t[i]=s},enumerable:!0,configurable:!0}}function zEe(t,i){return{value:t[i],enumerable:!0,writable:!1,configurable:!0}}function UEe(t,i){return{get:t[i],enumerable:!0,configurable:!0}}function jEe(t){return{enumerable:!0,get:function(){var i=this;return function(){return t(i)}}}}function A3(){}A3.prototype.invoke_wi7j7l_k$=function(t){var i=t,s;if(i!=null?Ce(i,tu):!1)s=new E3(t.iterator_0_k$());else if(i!=null?Ce(i,wo):!1)s=new C3(t);else throw sn(""+t+" is not a collection");var c=s;return c},A3.prototype.invoke_20e8_k$=function(t){return this.invoke_wi7j7l_k$((t==null?!0:Re(t))?t:M())},A3.$metadata$={kind:"class",interfaces:[]};function GEe(){var t=new A3;return function(i){return t.invoke_wi7j7l_k$(i)}}function WEe(){var t;e:{Sv(Fr(de(Do))),Sv(Fr(de(gs))),Sv(Fr(de(gi))),Sv(Tr),Sv(ml),Sv(ky),Sv(Fr(de(cn))),Jj(Fr(de(ji))),Jj(Fr(de(aa))),t=Jj(Fr(de(ao)));break e}return t}function HEe(){return aee}var aee;function T3(t,i){this._$thisQueueCallback=t,this._$p=i}T3.prototype.invoke_sv8swh_k$=function(){this._$thisQueueCallback(this._$p)},T3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},T3.$metadata$={kind:"class",interfaces:[]};function Nf(){Xj=this,this._main=new Rf("main"),this._current=this._main,this._globalAsync=this._main;var t;e:{var i=Fr(de(Rf));t=i;break e}Ni(this,t,Kr(["current","globalAsync","main"]))}Nf.prototype._get_main__0_k$=function(){return this._main},Nf.prototype._get_current__0_k$=function(){return this._current},Nf.prototype._get_globalAsync__0_k$=function(){return this._globalAsync},Nf.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(Nf.prototype,"main",{configurable:!0,get:Nf.prototype._get_main__0_k$}),Object.defineProperty(Nf.prototype,"current",{configurable:!0,get:Nf.prototype._get_current__0_k$}),Object.defineProperty(Nf.prototype,"globalAsync",{configurable:!0,get:Nf.prototype._get_globalAsync__0_k$});var Xj;function Yj(){return Xj==null&&new Nf,Xj}function I3(t,i){this._this$0_71=t,this._$thisQueueCallback_0=i}I3.prototype.invoke_iav7o_k$=function(t){this._this$0_71.queue(KEe(this._$thisQueueCallback_0,t))},I3.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},I3.$metadata$={kind:"class",interfaces:[]};function Rf(t){Yj(),this._name_0=t}Rf.prototype._get_name__0_k$=function(){return this._name_0},Rf.prototype.queue=function(t){window.setTimeout(t,0),F()},Rf.prototype.getCallbackOnThisQueue_8o3qkm_k$=function(t){return qEe(this,t)},Rf.prototype.targetsThisThread=function(){return!0},Rf.$metadata$={simpleName:"DispatchQueue",kind:"class",interfaces:[]},Object.defineProperty(Rf.prototype,"name",{configurable:!0,get:Rf.prototype._get_name__0_k$});function see(t){return t}function lee(){return new at(1,0)}function pa(t){this._value_18=t}pa.prototype.get_0_k$=function(){return this._value_18},pa.prototype.set_iav7o_k$=function(t){this._value_18=t},pa.prototype.getAndUpdate_bsv4z7_k$=function(t){var i=this._value_18;return this._value_18=t(this._value_18),i},pa.$metadata$={simpleName:"AtomicReference",kind:"class",interfaces:[]};function is(t){this._value_19=t}is.prototype.get_0_k$=function(){return this._value_19},is.prototype.set_majfzk_k$=function(t){this._value_19=t},is.prototype.addAndGet_ha5a7z_k$=function(t){var i=this;return i._value_19=i._value_19+t|0,this._value_19},is.prototype.getAndUpdate_q6uncz_k$=function(t){var i=this._value_19;return this._value_19=t(i),i},is.$metadata$={simpleName:"AtomicInt",kind:"class",interfaces:[]};function p0(){this._isSignaled=!1}p0.prototype.waitFor_sv8swh_k$=function(){},p0.prototype.waitFor_ha5a7z_k$=function(t){return this._get_signaled__0_k$()},p0.prototype.signalAll_sv8swh_k$=function(){this._isSignaled=!0},p0.prototype._get_signaled__0_k$=function(){return this._isSignaled},p0.$metadata$={simpleName:"Condition",kind:"class",interfaces:[]};function Pf(){}Pf.prototype.lock_sv8swh_k$=function(){},Pf.prototype.unlock_sv8swh_k$=function(){},Pf.prototype.invoke_fexekg_k$=function(t){return t()},Pf.$metadata$={simpleName:"ReentrantLock",kind:"class",interfaces:[]};function ew(){this._arr=Di()}ew.prototype.add_iav7o_k$=function(t){this._arr.add_2bq_k$(t),F()},ew.prototype.removeAll_rmmh13_k$=function(t){Ka(this._arr,t),F()},ew.prototype.forEach_pql811_k$=function(t){for(var i=this._arr,s=i.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$();t(c)}},ew.$metadata$={simpleName:"SynchronizedList",kind:"class",interfaces:[]};function M3(){}M3.prototype.invoke_sv8swh_k$=function(){Yj(),F(),F()},M3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},M3.$metadata$={kind:"class",interfaces:[]};function VEe(){var t=new M3;return function(){return t.invoke_sv8swh_k$(),F()}}function qEe(t,i){var s=new I3(t,i);return function(c){return s.invoke_iav7o_k$(c),F()}}function KEe(t,i){var s=new T3(t,i);return function(){return s.invoke_sv8swh_k$(),F()}}var KE;function uee(t){return new Promise(JEe(t))}function cee(t){return new Promise(XEe(t))}function _ee(t,i,s){return t.map(YEe(s,i))}function fee(t,i){return t.map(QEe(i))}function N3(t,i){this._$reject=t,this._$resolve=i}N3.prototype.invoke_smwq2v_k$=function(t){if(t instanceof fn)this._$reject(t._error);else if(t instanceof _n){var i=t._value_16;this._$resolve((i==null?!0:Re(i))?i:M())}else this._$resolve(Re(t)?t:M())},N3.prototype.invoke_20e8_k$=function(t){return this.invoke_smwq2v_k$(t instanceof Ot?t:M()),F()},N3.$metadata$={kind:"class",interfaces:[]};function R3(t){this._$this_promise=t}R3.prototype.invoke_h3emdu_k$=function(t,i){this._$this_promise.whenDone(ZEe(i,t))},R3.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_h3emdu_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},R3.$metadata$={kind:"class",interfaces:[]};function P3(t,i){this._$reject_0=t,this._$resolve_0=i}P3.prototype.invoke_iav7o_k$=function(t){if(t instanceof fn)this._$reject_0(t._error);else if(t instanceof _n){var i=t._value_16;this._$resolve_0((i==null?!0:Re(i))?i:M())}else this._$resolve_0(t)},P3.prototype.invoke_20e8_k$=function(t){return this.invoke_iav7o_k$((t==null?!0:Re(t))?t:M()),F()},P3.$metadata$={kind:"class",interfaces:[]};function B3(t){this._$this_promise_0=t}B3.prototype.invoke_h3emdu_k$=function(t,i){this._$this_promise_0.whenDone(eCe(i,t))},B3.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_h3emdu_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},B3.$metadata$={kind:"class",interfaces:[]};function F3(t,i){this._$error=t,this._$success=i}F3.prototype.invoke_fc38ei_k$=function(t){var i;try{var s=t,c;s instanceof fn?c=this._$error==null?t:Tn().success(this._$error(t._error)):s instanceof _n?c=Tn().success(this._$success(t._value_16)):Lr(),i=c}catch(k){var p;if(k instanceof ki){var v;this._$error!=null?v=Tn().success(this._$error(k)):v=Tn().errorWithException(k),p=v}else throw k;i=p}return i},F3.prototype.invoke_20e8_k$=function(t){return this.invoke_fc38ei_k$(t instanceof Ot?t:M())},F3.$metadata$={kind:"class",interfaces:[]};function L3(t){this._$success_0=t}L3.prototype.invoke_2c5_k$=function(t){var i=t,s;if(i instanceof fn)s=(t==null?!0:Re(t))?t:M();else if(i instanceof _n){var c=Tn(),p=t._value_16,v=c.success(this._$success_0((p==null?!0:Re(p))?p:M()));s=Re(v)?v:M()}else s=this._$success_0(t);return s},L3.prototype.invoke_20e8_k$=function(t){return this.invoke_2c5_k$((t==null?!0:Re(t))?t:M())},L3.$metadata$={kind:"class",interfaces:[]};function JEe(t){var i=new R3(t);return function(s,c){return i.invoke_h3emdu_k$(s,c),F()}}function XEe(t){var i=new B3(t);return function(s,c){return i.invoke_h3emdu_k$(s,c),F()}}function YEe(t,i){var s=new F3(t,i);return function(c){return s.invoke_fc38ei_k$(c)}}function QEe(t){var i=new L3(t);return function(s){return i.invoke_2c5_k$(s)}}function ZEe(t,i){var s=new N3(t,i);return function(c){return s.invoke_smwq2v_k$(c),F()}}function eCe(t,i){var s=new P3(t,i);return function(c){return s.invoke_iav7o_k$(c),F()}}function Ea(t,i,s){N_.call(this),this._width=t,this._height_0=i,this._data_3=s}Ea.prototype._get_width__0_k$=function(){return this._width},Ea.prototype._get_height__0_k$=function(){return this._height_0},Ea.prototype._get_data__0_k$=function(){return this._data_3},Ea.$metadata$={simpleName:"RawInt",kind:"class",interfaces:[]},Object.defineProperty(Ea.prototype,"width",{configurable:!0,get:Ea.prototype._get_width__0_k$}),Object.defineProperty(Ea.prototype,"height",{configurable:!0,get:Ea.prototype._get_height__0_k$}),Object.defineProperty(Ea.prototype,"data",{configurable:!0,get:Ea.prototype._get_data__0_k$});function jo(t,i,s,c){N_.call(this),this._width_0=t,this._height_1=i,this._data_4=s,this._pixelComponents=c}jo.prototype._get_width__0_k$=function(){return this._width_0},jo.prototype._get_height__0_k$=function(){return this._height_1},jo.prototype._get_data__0_k$=function(){return this._data_4},jo.prototype._get_pixelComponents__0_k$=function(){return this._pixelComponents},jo.$metadata$={simpleName:"RawFloat",kind:"class",interfaces:[]},Object.defineProperty(jo.prototype,"width",{configurable:!0,get:jo.prototype._get_width__0_k$}),Object.defineProperty(jo.prototype,"height",{configurable:!0,get:jo.prototype._get_height__0_k$}),Object.defineProperty(jo.prototype,"data",{configurable:!0,get:jo.prototype._get_data__0_k$}),Object.defineProperty(jo.prototype,"pixelComponents",{configurable:!0,get:jo.prototype._get_pixelComponents__0_k$});function N_(){}N_.$metadata$={simpleName:"Image",kind:"class",interfaces:[]},Object.defineProperty(N_.prototype,"width",{configurable:!0,get:N_.prototype._get_width__0_k$}),Object.defineProperty(N_.prototype,"height",{configurable:!0,get:N_.prototype._get_height__0_k$});function Ca(t,i){N_.call(this),this._width_1=t,this._height_2=i}Ca.prototype._get_width__0_k$=function(){return this._width_1},Ca.prototype._get_height__0_k$=function(){return this._height_2},Ca.$metadata$={simpleName:"PlatformImage",kind:"class",interfaces:[]},Object.defineProperty(Ca.prototype,"width",{configurable:!0,get:Ca.prototype._get_width__0_k$}),Object.defineProperty(Ca.prototype,"height",{configurable:!0,get:Ca.prototype._get_height__0_k$});function Bf(t){Ca.call(this,t.width,t.height),this._bitmap=t}Bf.prototype._get_bitmap__0_k$=function(){return this._bitmap},Bf.$metadata$={simpleName:"BitmapImage",kind:"class",interfaces:[]},Object.defineProperty(Bf.prototype,"bitmap",{configurable:!0,get:Bf.prototype._get_bitmap__0_k$});function Jp(t){Ca.call(this,t.videoWidth,t.videoHeight),this._video=t}Jp.prototype._get_video__0_k$=function(){return this._video},Jp.$metadata$={simpleName:"HTMLVideoImage",kind:"class",interfaces:[]},Object.defineProperty(Jp.prototype,"video",{configurable:!0,get:Jp.prototype._get_video__0_k$});function Xp(t){Ca.call(this,t.naturalWidth,t.naturalHeight),this._image=t}Xp.prototype._get_image__0_k$=function(){return this._image},Xp.$metadata$={simpleName:"HTMLImage",kind:"class",interfaces:[]},Object.defineProperty(Xp.prototype,"image",{configurable:!0,get:Xp.prototype._get_image__0_k$});function Yp(t){Ca.call(this,t.width,t.height),this._canvas=t}Yp.prototype._get_canvas__0_k$=function(){return this._canvas},Yp.$metadata$={simpleName:"HTMLCanvasImage",kind:"class",interfaces:[]},Object.defineProperty(Yp.prototype,"canvas",{configurable:!0,get:Yp.prototype._get_canvas__0_k$});function Qp(t){Ca.call(this,t.width,t.height),this._data_5=t}Qp.prototype._get_data__0_k$=function(){return this._data_5},Qp.$metadata$={simpleName:"ImageDataImage",kind:"class",interfaces:[]},Object.defineProperty(Qp.prototype,"data",{configurable:!0,get:Qp.prototype._get_data__0_k$});function tCe(t,i,s,c){var p;e:{var v;t:{for(var k=Wr(so(s,10)),x=s.iterator_0_k$();x.hasNext_0_k$();){var T=x.next_0_k$(),N;n:{N=new Ea(t,i,T);break n}k.add_2bq_k$(N),F()}v=k;break t}p=v;break e}return Zp.call(c,p),c}function nCe(t,i,s){return tCe(t,i,s,Object.create(Zp.prototype))}function rCe(t,i,s,c,p){var v;e:{var k;t:{for(var x=Wr(so(s,10)),T=s.iterator_0_k$();T.hasNext_0_k$();){var N=T.next_0_k$(),B;n:{B=new jo(t,i,N,c);break n}x.add_2bq_k$(B),F()}k=x;break t}v=k;break e}return eh.call(p,v),p}function iCe(t,i,s,c){return rCe(t,i,s,c,Object.create(eh.prototype))}function Zp(t){tw.call(this),this._images=t}Zp.prototype._get_images__0_k$=function(){return this._images},Zp.$metadata$={simpleName:"RawInt",kind:"class",interfaces:[]},Object.defineProperty(Zp.prototype,"images",{configurable:!0,get:Zp.prototype._get_images__0_k$});function eh(t){tw.call(this),this._images_0=t}eh.prototype._get_images__0_k$=function(){return this._images_0},eh.$metadata$={simpleName:"RawFloat",kind:"class",interfaces:[]},Object.defineProperty(eh.prototype,"images",{configurable:!0,get:eh.prototype._get_images__0_k$});function tw(){}tw.$metadata$={simpleName:"ImageList",kind:"class",interfaces:[]};function oCe(t,i,s,c,p,v,k,x){return Ao.call(x,new Ea(t,t,i),new Ea(t,t,s),new Ea(t,t,c),new Ea(t,t,p),new Ea(t,t,v),new Ea(t,t,k)),x}function aCe(t,i,s,c,p,v,k){return oCe(t,i,s,c,p,v,k,Object.create(Ao.prototype))}function sCe(t,i,s,c,p,v,k,x,T){return To.call(T,new jo(t,t,i,x),new jo(t,t,s,x),new jo(t,t,c,x),new jo(t,t,p,x),new jo(t,t,v,x),new jo(t,t,k,x)),T}function lCe(t,i,s,c,p,v,k,x){return sCe(t,i,s,c,p,v,k,x,Object.create(To.prototype))}function Ao(t,i,s,c,p,v){nw.call(this),this._xPos=t,this._xNeg=i,this._yPos=s,this._yNeg=c,this._zPos=p,this._zNeg=v}Ao.prototype._get_xPos__0_k$=function(){return this._xPos},Ao.prototype._get_xNeg__0_k$=function(){return this._xNeg},Ao.prototype._get_yPos__0_k$=function(){return this._yPos},Ao.prototype._get_yNeg__0_k$=function(){return this._yNeg},Ao.prototype._get_zPos__0_k$=function(){return this._zPos},Ao.prototype._get_zNeg__0_k$=function(){return this._zNeg},Ao.$metadata$={simpleName:"RawInt",kind:"class",interfaces:[]},Object.defineProperty(Ao.prototype,"xPos",{configurable:!0,get:Ao.prototype._get_xPos__0_k$}),Object.defineProperty(Ao.prototype,"xNeg",{configurable:!0,get:Ao.prototype._get_xNeg__0_k$}),Object.defineProperty(Ao.prototype,"yPos",{configurable:!0,get:Ao.prototype._get_yPos__0_k$}),Object.defineProperty(Ao.prototype,"yNeg",{configurable:!0,get:Ao.prototype._get_yNeg__0_k$}),Object.defineProperty(Ao.prototype,"zPos",{configurable:!0,get:Ao.prototype._get_zPos__0_k$}),Object.defineProperty(Ao.prototype,"zNeg",{configurable:!0,get:Ao.prototype._get_zNeg__0_k$});function To(t,i,s,c,p,v){nw.call(this),this._xPos_0=t,this._xNeg_0=i,this._yPos_0=s,this._yNeg_0=c,this._zPos_0=p,this._zNeg_0=v}To.prototype._get_xPos__0_k$=function(){return this._xPos_0},To.prototype._get_xNeg__0_k$=function(){return this._xNeg_0},To.prototype._get_yPos__0_k$=function(){return this._yPos_0},To.prototype._get_yNeg__0_k$=function(){return this._yNeg_0},To.prototype._get_zPos__0_k$=function(){return this._zPos_0},To.prototype._get_zNeg__0_k$=function(){return this._zNeg_0},To.$metadata$={simpleName:"RawFloat",kind:"class",interfaces:[]},Object.defineProperty(To.prototype,"xPos",{configurable:!0,get:To.prototype._get_xPos__0_k$}),Object.defineProperty(To.prototype,"xNeg",{configurable:!0,get:To.prototype._get_xNeg__0_k$}),Object.defineProperty(To.prototype,"yPos",{configurable:!0,get:To.prototype._get_yPos__0_k$}),Object.defineProperty(To.prototype,"yNeg",{configurable:!0,get:To.prototype._get_yNeg__0_k$}),Object.defineProperty(To.prototype,"zPos",{configurable:!0,get:To.prototype._get_zPos__0_k$}),Object.defineProperty(To.prototype,"zNeg",{configurable:!0,get:To.prototype._get_zNeg__0_k$});function nw(){}nw.$metadata$={simpleName:"ImageCube",kind:"class",interfaces:[]};function D3(t,i){this._$fulfill_9=t,this._$reader=i}D3.prototype.invoke_xfv2uo_k$=function(t){var i=Tn(),s;e:{var c=this._$reader.result,p=new Int8Array(c instanceof ArrayBuffer?c:M()),v;t:{v=p;break t}s=v;break e}this._$fulfill_9(i.success(s))},D3.prototype.invoke_20e8_k$=function(t){return this.invoke_xfv2uo_k$(t instanceof Event?t:M()),F()},D3.$metadata$={kind:"class",interfaces:[]};function O3(t,i){this._$fulfill_10=t,this._this$0_72=i}O3.prototype.invoke_xfv2uo_k$=function(t){this._$fulfill_10(Tn().errorWithMessage("Failed to load data from blob for "+this._this$0_72._path_4))},O3.prototype.invoke_20e8_k$=function(t){return this.invoke_xfv2uo_k$(t instanceof Event?t:M()),F()},O3.$metadata$={kind:"class",interfaces:[]};function z3(t,i){this._$fulfill_11=t,this._$reader_0=i}z3.prototype.invoke_xfv2uo_k$=function(t){var i=Tn(),s=this._$reader_0.result;this._$fulfill_11(i.success((s!=null?typeof s=="string":!1)?s:M()))},z3.prototype.invoke_20e8_k$=function(t){return this.invoke_xfv2uo_k$(t instanceof Event?t:M()),F()},z3.$metadata$={kind:"class",interfaces:[]};function U3(t,i){this._$fulfill_12=t,this._this$0_73=i}U3.prototype.invoke_xfv2uo_k$=function(t){this._$fulfill_12(Tn().errorWithMessage("Failed to load string from block for "+this._this$0_73._path_4))},U3.prototype.invoke_20e8_k$=function(t){return this.invoke_xfv2uo_k$(t instanceof Event?t:M()),F()},U3.$metadata$={kind:"class",interfaces:[]};function j3(t){this._this$0_74=t}j3.prototype.invoke_ge63q8_k$=function(t){var i=new FileReader;i.onload=pCe(t,i),i.onerror=hCe(t,this._this$0_74),i.readAsArrayBuffer(this._this$0_74._data_6)},j3.prototype.invoke_20e8_k$=function(t){return this.invoke_ge63q8_k$((t!=null?typeof t=="function":!1)?t:M()),F()},j3.$metadata$={kind:"class",interfaces:[]};function G3(t){this._this$0_75=t}G3.prototype.invoke_x9vlsm_k$=function(t){var i=new FileReader;i.onload=dCe(t,i),i.onerror=mCe(t,this._this$0_75),i.readAsText(this._this$0_75._data_6)},G3.prototype.invoke_20e8_k$=function(t){return this.invoke_x9vlsm_k$((t!=null?typeof t=="function":!1)?t:M()),F()},G3.$metadata$={kind:"class",interfaces:[]};function th(t,i,s){this._path_4=t,this._fileSystem_5=i,this._data_6=s}th.prototype._get_path__0_k$=function(){return this._path_4},th.prototype.readAllBytes_0_k$=function(){return Hs(_Ce(this))},th.prototype.readAllText_0_k$=function(){return Hs(fCe(this))},th.prototype.equals=function(t){return t instanceof th?this.hashCode()===ur(t):!1},th.prototype.hashCode=function(){var t=this._path_4.hashCode();return t=pt(31,t)+ur(this._data_6)|0,t},th.prototype.readLinesExt_0_k$=function(){var t=Ce(this,yv)?this:M();return twe(t)},th.prototype.readLines=function(){return this.readLinesExt_0_k$()},th.$metadata$={simpleName:"NetworkFile",kind:"class",interfaces:[yv]};function uCe(t){var i;e:{var s;t:{var c;n:{c=[t];break n}s=c;break t}i=s;break e}var p=i,v;e:{var k={};k.type="image/png",v=k;break e}return cCe(new Blob(p,v))}function cCe(t){return Hs(vCe(t))}function W3(t){this._$fulfill_13=t}W3.prototype.invoke_mbm7qb_k$=function(t){this._$fulfill_13(Tn().success(new Bf(t)))},W3.prototype.invoke_20e8_k$=function(t){return this.invoke_mbm7qb_k$(t instanceof ImageBitmap?t:M()),F()},W3.$metadata$={kind:"class",interfaces:[]};function H3(t){this._$fulfill_14=t}H3.prototype.invoke_1ti8hr_k$=function(t){var i=Tn(),s;e:{var c=t.message,p=c;s=p==null?"":p;break e}this._$fulfill_14(i.errorWithMessage("Bitmap texture creation failed with "+s))},H3.prototype.invoke_20e8_k$=function(t){return this.invoke_1ti8hr_k$(t instanceof Error?t:M()),F()},H3.$metadata$={kind:"class",interfaces:[]};function V3(t){this._$blob=t}V3.prototype.invoke_ng2lb0_k$=function(t){var i=window.createImageBitmap(this._$blob),s=i.then(gCe(t));s.catch(yCe(t)),F()},V3.prototype.invoke_20e8_k$=function(t){return this.invoke_ng2lb0_k$((t!=null?typeof t=="function":!1)?t:M()),F()},V3.$metadata$={kind:"class",interfaces:[]};function _Ce(t){var i=new j3(t);return function(s){return i.invoke_ge63q8_k$(s),F()}}function fCe(t){var i=new G3(t);return function(s){return i.invoke_x9vlsm_k$(s),F()}}function pCe(t,i){var s=new D3(t,i);return function(c){return s.invoke_xfv2uo_k$(c),F()}}function hCe(t,i){var s=new O3(t,i);return function(c){return s.invoke_xfv2uo_k$(c),F()}}function dCe(t,i){var s=new z3(t,i);return function(c){return s.invoke_xfv2uo_k$(c),F()}}function mCe(t,i){var s=new U3(t,i);return function(c){return s.invoke_xfv2uo_k$(c),F()}}function vCe(t){var i=new V3(t);return function(s){return i.invoke_ng2lb0_k$(s),F()}}function gCe(t){var i=new W3(t);return function(s){return i.invoke_mbm7qb_k$(s),F()}}function yCe(t){var i=new H3(t);return function(s){return i.invoke_1ti8hr_k$(s),F()}}function kCe(){return pee}var pee;function $Ce(){return hee}var hee;function bCe(){return dee}var dee;function wCe(){return mee}var mee;function Dd(t){this._resourcePath=t}Dd.prototype._get_resourcePath__0_k$=function(){return this._resourcePath},Dd.$metadata$={simpleName:"ApplicationContext",kind:"class",interfaces:[]},Object.defineProperty(Dd.prototype,"resourcePath",{configurable:!0,get:Dd.prototype._get_resourcePath__0_k$});function xCe(t){return null}function SCe(t,i,s,c,p){return(s&2)!=0&&(i=new bn("")),Go.call(p,t,i),p}function ECe(t,i,s,c){return SCe(t,i,s,c,Object.create(Go.prototype))}function JE(){Qj=this;var t;e:{var i=Fr(de(Go));t=i;break e}Ni(this,t,Kr(["create","create0","createWithPath"]))}JE.prototype.create0=function(t){var i=rw();return OY(i,t)},JE.prototype.createWithPath=function(t,i){var s=rw();return zY(s,t,i)},JE.prototype.create=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=de(Dd).isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(bn).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=rw(),N=i[0],B=N instanceof Dd?N:M(),L=i[1],O=zY(T,B,L instanceof bn?L:M());return O}var W;if(i.length===1){var K;e:{var q=i[0];K=de(Dd).isInstance_wi7j7l_k$(q);break e}W=K}else W=!1;if(W){var Q=rw(),ee=i[0],ie=OY(Q,ee instanceof Dd?ee:M());return ie}throw At("Error choosing proper overload of function Companion.create for the given parameters")},JE.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var Qj;function rw(){return Qj==null&&new JE,Qj}function Go(t,i){rw();var s=i===void 0?new bn(""):i;this._context=t,this._root_2=s,this._fs=new Zi(this._context._resourcePath,!0,this._root_2)}Go.prototype._get_root__0_k$=function(){return this._root_2},Go.prototype._get_fs__0_k$=function(){return this._fs},Go.prototype.fileAt_1hpm3o_k$=function(t){return this._fs.fileAt_1hpm3o_k$(t)},Go.prototype.watch_1hpm3o_k$=function(t){return this._fs.watch_1hpm3o_k$(t)},Go.prototype.watchWithPath=function(t){return this.watch_1hpm3o_k$(t)},Go.prototype.exists_1hpm3o_k$=function(t){return this._fs.exists_1hpm3o_k$(t)},Go.prototype.lastModified_1hpm3o_k$=function(t){return this._fs.lastModified_1hpm3o_k$(t)},Go.prototype.subSystemExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Db(i,t)},Go.prototype.subSystem=function(t){return this.subSystemExt_1hpm3o_k$(t)},Go.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,Et)?this:M();return zb(i,t)},Go.prototype.textAtExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},Go.prototype.textAt=function(t){return this.textAtExt_1hpm3o_k$(t)},Go.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},Go.$metadata$={simpleName:"ResourceFileSystem",kind:"class",interfaces:[Et]},Object.defineProperty(Go.prototype,"root",{configurable:!0,get:Go.prototype._get_root__0_k$});function Zj(){e5=this;var t;e:{var i=Fr(de(Wo));t=i;break e}Ni(this,t,Zr("create"))}Zj.prototype.create=function(t){var i=t5();return _we(i,t)},Zj.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var e5;function t5(){return e5==null&&new Zj,e5}function Wo(t){t5();var i=t===void 0?new bn(""):t;this._root_3=i,this._fs_0=new Zi(window.location.href,!0,this._root_3)}Wo.prototype._get_root__0_k$=function(){return this._root_3},Wo.prototype._get_fs__0_k$=function(){return this._fs_0},Wo.prototype.fileAt_1hpm3o_k$=function(t){return this._fs_0.fileAt_1hpm3o_k$(t)},Wo.prototype.watch_1hpm3o_k$=function(t){return this._fs_0.watch_1hpm3o_k$(t)},Wo.prototype.watchWithPath=function(t){return this.watch_1hpm3o_k$(t)},Wo.prototype.exists_1hpm3o_k$=function(t){return this._fs_0.exists_1hpm3o_k$(t)},Wo.prototype.lastModified_1hpm3o_k$=function(t){return this._fs_0.lastModified_1hpm3o_k$(t)},Wo.prototype.writeFile_mjqkfe_k$=function(t,i,s){throw new Vl("An operation is not implemented: Not yet implemented")},Wo.prototype.subSystemExt_1hpm3o_k$=function(t){var i=Ce(this,fa)?this:M();return Ob(i,t)},Wo.prototype.subSystem=function(t){return this.subSystemExt_1hpm3o_k$(t)},Wo.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,fa)?this:M();return ME(i,t)},Wo.prototype.textAtExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},Wo.prototype.textAt=function(t){return this.textAtExt_1hpm3o_k$(t)},Wo.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},Wo.$metadata$={simpleName:"DeviceFileSystem",kind:"class",interfaces:[fa]},Object.defineProperty(Wo.prototype,"root",{configurable:!0,get:Wo.prototype._get_root__0_k$});function q3(){}q3.prototype.invoke_u30jr9_k$=function(t){var i;if(t.ok)i=t.blob();else throw SJ("response status "+t.status+" error "+t.statusText);return i},q3.prototype.invoke_20e8_k$=function(t){return this.invoke_u30jr9_k$(t instanceof Response?t:M())},q3.$metadata$={kind:"class",interfaces:[]};function K3(t,i,s){this._$fulfill_15=t,this._$path_17=i,this._this$0_76=s}K3.prototype.invoke_onpj7x_k$=function(t){this._$fulfill_15(Tn().success(new th(this._$path_17,this._this$0_76,t)))},K3.prototype.invoke_20e8_k$=function(t){return this.invoke_onpj7x_k$(t instanceof Blob?t:M()),F()},K3.$metadata$={kind:"class",interfaces:[]};function J3(t,i){this._$fulfill_16=t,this._$url=i}J3.prototype.invoke_1ti8hr_k$=function(t){this._$fulfill_16(Tn().errorWithMessage("Request to "+this._$url+" failed with error "+t))},J3.prototype.invoke_20e8_k$=function(t){return this.invoke_1ti8hr_k$(t instanceof Error?t:M()),F()},J3.$metadata$={kind:"class",interfaces:[]};function X3(t,i,s,c,p){this._$weakThis=t,this._$fire_11=i,this._$fileWatch=s,this._$scheduler=c,this._$end_16=p}X3.prototype.invoke_sv8swh_k$=function(){var t=this._$weakThis.get();t!=null?(this._$fire_11(this._$fileWatch._v.getFile_0_k$()),this._$fileWatch._v=this._$fileWatch._v.watch_9t4vbe_k$(t)):this._$scheduler._v!=null&&(window.clearInterval(Ei(this._$scheduler._v)),this._$end_16())},X3.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},X3.$metadata$={kind:"class",interfaces:[]};function Y3(t,i){this._$request=t,this._$fullfil=i}Y3.prototype.invoke_xfv2uo_k$=function(t){if(this._$request.readyState===XMLHttpRequest.DONE)if(this._$request.status===200){var i=Tn(),s;e:{var c=this._$request.getResponseHeader("Last-Modified"),p=c;s=p==null?"":p;break e}this._$fullfil(i.success(Yi(new Date(s).getMilliseconds())))}else this._$fullfil(Tn().errorWithMessage("No Last-Modified header present (response code "+this._$request.status+")"))},Y3.prototype.invoke_20e8_k$=function(t){return this.invoke_xfv2uo_k$(t instanceof Event?t:M()),F()},Y3.$metadata$={kind:"class",interfaces:[]};function Q3(t){this._$fullfil_0=t}Q3.prototype.invoke_xfv2uo_k$=function(t){this._$fullfil_0(Tn().errorWithMessage("No Last-Modified header present (request timeout)"))},Q3.prototype.invoke_20e8_k$=function(t){return this.invoke_xfv2uo_k$(t instanceof Event?t:M()),F()},Q3.$metadata$={kind:"class",interfaces:[]};function Z3(t,i){this._$fullfil_1=t,this._$request_0=i}Z3.prototype.invoke_xfv2uo_k$=function(t){this._$fullfil_1(Tn().errorWithMessage("No Last-Modified header present (error "+this._$request_0.statusText+")"))},Z3.prototype.invoke_20e8_k$=function(t){return this.invoke_xfv2uo_k$(t instanceof Event?t:M()),F()},Z3.$metadata$={kind:"class",interfaces:[]};function CCe(t,i,s,c,p,v){return(c&2)!=0&&(i=!1),(c&4)!=0&&(s=new bn("")),Zi.call(v,t,i,s),v}function n5(t,i,s,c,p){return CCe(t,i,s,c,p,Object.create(Zi.prototype))}function h0(){r5=this;var t;e:{var i=Fr(de(Zi));t=i;break e}Ni(this,t,Kr(["create","create0","createWithBoolean","createWithBooleanAndPath","createWithPath"]))}h0.prototype.create0=function(t){var i=nh();return UY(i,t)},h0.prototype.createWithBoolean=function(t,i){var s=nh();return jY(s,t,i)},h0.prototype.createWithPath=function(t,i){var s=nh();return GY(s,t,i)},h0.prototype.createWithBooleanAndPath=function(t,i,s){var c=nh();return WY(c,t,i,s)},h0.prototype.create=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=ce()._get_booleanClass__0_k$().isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=de(bn).isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=nh(),O=i[0],W=(O!=null?typeof O=="string":!1)?O:M(),K=i[1],q=(K!=null?typeof K=="boolean":!1)?K:M(),Q=i[2],ee=WY(L,W,q,Q instanceof bn?Q:M());return ee}var ie,fe;if(i.length===2){var le;e:{var Se=i[0];le=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(Se);break e}fe=le}else fe=!1;if(fe){var Ee;e:{var Te=i[1];Ee=ce()._get_booleanClass__0_k$().isInstance_wi7j7l_k$(Te);break e}ie=Ee}else ie=!1;if(ie){var Me=nh(),Ne=i[0],Pe=(Ne!=null?typeof Ne=="string":!1)?Ne:M(),Ye=i[1],Ke=jY(Me,Pe,(Ye!=null?typeof Ye=="boolean":!1)?Ye:M());return Ke}var nt,Ze;if(i.length===2){var ct;e:{var ht=i[0];ct=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(ht);break e}Ze=ct}else Ze=!1;if(Ze){var bt;e:{var It=i[1];bt=de(bn).isInstance_wi7j7l_k$(It);break e}nt=bt}else nt=!1;if(nt){var Nt=nh(),Rt=i[0],Xt=(Rt!=null?typeof Rt=="string":!1)?Rt:M(),rn=i[1],En=GY(Nt,Xt,rn instanceof bn?rn:M());return En}var un;if(i.length===1){var gn;e:{var Fn=i[0];gn=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(Fn);break e}un=gn}else un=!1;if(un){var Un=nh(),en=i[0],Nn=UY(Un,(en!=null?typeof en=="string":!1)?en:M());return Nn}throw At("Error choosing proper overload of function Companion.create for the given parameters")},h0.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var r5;function nh(){return r5==null&&new h0,r5}function eP(t,i,s){this._$url_0=t,this._$path_18=i,this._this$0_77=s}eP.prototype.invoke_tulyfs_k$=function(t){var i;e:{var s=Promise.resolve(window.fetch(this._$url_0)),c=s.then(OCe()),p=zCe(t,this._$path_18,this._this$0_77),v;t:{var k;n:{k=c;break n}v=k;break t}i=v.then(p);break e}var x=i;x.catch(UCe(t,this._$url_0)),F()},eP.prototype.invoke_20e8_k$=function(t){return this.invoke_tulyfs_k$((t!=null?typeof t=="function":!1)?t:M()),F()},eP.$metadata$={kind:"class",interfaces:[]};function tP(t,i){this._$weakThis_0=t,this._$fileWatch_0=i}tP.prototype.invoke_z0upnb_k$=function(t,i){var s={_v:null},c=window;s._v=c.setInterval(jCe(this._$weakThis_0,t,this._$fileWatch_0,s,i),1e3)},tP.prototype.invoke_osx4an_k$=function(t,i){var s=(t!=null?typeof t=="function":!1)?t:M();return this.invoke_z0upnb_k$(s,(i!=null?typeof i=="function":!1)?i:M()),F()},tP.$metadata$={kind:"class",interfaces:[]};function nP(){}nP.prototype.invoke_1blrcu_k$=function(t){var i=t,s;return i instanceof _n?s=!0:i instanceof fn?s=!1:Lr(),s},nP.prototype.invoke_20e8_k$=function(t){return this.invoke_1blrcu_k$(t instanceof Ot?t:M())},nP.$metadata$={kind:"class",interfaces:[]};function rP(t,i){this._this$0_78=t,this._$path_19=i}rP.prototype.invoke_s894hr_k$=function(t){var i=new XMLHttpRequest;i.timeout=1e4,i.open("HEAD",new URL(this._this$0_78._root_4.joinWithPath(this._$path_19).toString(),this._this$0_78._serverUrl).href,!0),i.onload=GCe(i,t),i.ontimeout=WCe(t),i.onerror=HCe(t,i),i.send(null)},rP.prototype.invoke_20e8_k$=function(t){return this.invoke_s894hr_k$((t!=null?typeof t=="function":!1)?t:M()),F()},rP.$metadata$={kind:"class",interfaces:[]};function Zi(t,i,s){nh();var c=s===void 0?new bn(""):s;this._serverUrl=t,this._root_4=c}Zi.prototype._get_serverUrl__0_k$=function(){return this._serverUrl},Zi.prototype._get_root__0_k$=function(){return this._root_4},Zi.prototype.fileAt_1hpm3o_k$=function(t){var i=new bn(this._serverUrl).joinWithPath(this._root_4).joinWithPath(t);return Hs(BCe(i,t,this))},Zi.prototype.watch_1hpm3o_k$=function(t){var i=new vP(this),s={_v:Twe(t,this,null,!1,12,null)};return Xu(FCe(i,s))},Zi.prototype.watchWithPath=function(t){return this.watch_1hpm3o_k$(t)},Zi.prototype.exists_1hpm3o_k$=function(t){var i=this.fileAt_1hpm3o_k$(t);return i.map(LCe())},Zi.prototype.lastModified_1hpm3o_k$=function(t){return Hs(DCe(this,t))},Zi.prototype.subSystemExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Db(i,t)},Zi.prototype.subSystem=function(t){return this.subSystemExt_1hpm3o_k$(t)},Zi.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,Et)?this:M();return zb(i,t)},Zi.prototype.textAtExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},Zi.prototype.textAt=function(t){return this.textAtExt_1hpm3o_k$(t)},Zi.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},Zi.$metadata$={simpleName:"NetworkFileSystem",kind:"class",interfaces:[Et]},Object.defineProperty(Zi.prototype,"root",{configurable:!0,get:Zi.prototype._get_root__0_k$});function ACe(t,i,s,c,p,v){return(c&2)!=0&&(i=!1),(c&4)!=0&&(s=new bn("")),vi.call(v,t,i,s),v}function i5(t,i,s,c,p){return ACe(t,i,s,c,p,Object.create(vi.prototype))}function d0(){o5=this;var t;e:{var i=Fr(de(vi));t=i;break e}Ni(this,t,Kr(["create","create0","createWithBoolean","createWithBooleanAndPath","createWithPath"]))}d0.prototype.create0=function(t){var i=rh();return HY(i,t)},d0.prototype.createWithBoolean=function(t,i){var s=rh();return VY(s,t,i)},d0.prototype.createWithPath=function(t,i){var s=rh();return qY(s,t,i)},d0.prototype.createWithBooleanAndPath=function(t,i,s){var c=rh();return KY(c,t,i,s)},d0.prototype.create=function(t){var i=arguments,s,c,p;if(i.length===3){var v;e:{var k=i[0];v=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(k);break e}p=v}else p=!1;if(p){var x;e:{var T=i[1];x=ce()._get_booleanClass__0_k$().isInstance_wi7j7l_k$(T);break e}c=x}else c=!1;if(c){var N;e:{var B=i[2];N=de(bn).isInstance_wi7j7l_k$(B);break e}s=N}else s=!1;if(s){var L=rh(),O=i[0],W=(O!=null?typeof O=="string":!1)?O:M(),K=i[1],q=(K!=null?typeof K=="boolean":!1)?K:M(),Q=i[2],ee=KY(L,W,q,Q instanceof bn?Q:M());return ee}var ie,fe;if(i.length===2){var le;e:{var Se=i[0];le=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(Se);break e}fe=le}else fe=!1;if(fe){var Ee;e:{var Te=i[1];Ee=ce()._get_booleanClass__0_k$().isInstance_wi7j7l_k$(Te);break e}ie=Ee}else ie=!1;if(ie){var Me=rh(),Ne=i[0],Pe=(Ne!=null?typeof Ne=="string":!1)?Ne:M(),Ye=i[1],Ke=VY(Me,Pe,(Ye!=null?typeof Ye=="boolean":!1)?Ye:M());return Ke}var nt,Ze;if(i.length===2){var ct;e:{var ht=i[0];ct=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(ht);break e}Ze=ct}else Ze=!1;if(Ze){var bt;e:{var It=i[1];bt=de(bn).isInstance_wi7j7l_k$(It);break e}nt=bt}else nt=!1;if(nt){var Nt=rh(),Rt=i[0],Xt=(Rt!=null?typeof Rt=="string":!1)?Rt:M(),rn=i[1],En=qY(Nt,Xt,rn instanceof bn?rn:M());return En}var un;if(i.length===1){var gn;e:{var Fn=i[0];gn=ce()._get_stringClass__0_k$().isInstance_wi7j7l_k$(Fn);break e}un=gn}else un=!1;if(un){var Un=rh(),en=i[0],Nn=HY(Un,(en!=null?typeof en=="string":!1)?en:M());return Nn}throw At("Error choosing proper overload of function Companion.create for the given parameters")},d0.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var o5;function rh(){return o5==null&&new d0,o5}function vi(t,i,s){rh();var c=s===void 0?new bn(""):s;this._root_5=c,this._fs_1=new Zi(window.location.href,!0,this._root_5)}vi.prototype._get_root__0_k$=function(){return this._root_5},vi.prototype._get_fs__0_k$=function(){return this._fs_1},vi.prototype.fileAt_1hpm3o_k$=function(t){return this._fs_1.fileAt_1hpm3o_k$(t)},vi.prototype.watchWithPath=function(t){return this._fs_1.watch_1hpm3o_k$(t)},vi.prototype.exists_1hpm3o_k$=function(t){return this._fs_1.exists_1hpm3o_k$(t)},vi.prototype.lastModified_1hpm3o_k$=function(t){return this._fs_1.lastModified_1hpm3o_k$(t)},vi.prototype.writeFile_mjqkfe_k$=function(t,i,s){throw new Vl("An operation is not implemented: Not yet implemented")},vi.prototype.watchWithSetOfString=function(t){throw new Vl("An operation is not implemented: Not yet implemented")},vi.prototype.watchWithWatchPaths=function(t){return this.watchWithSetOfString(t)},vi.prototype.textAtExt_1hpm3o_k$=function(t){var i=Ce(this,Et)?this:M();return Ef(i,t)},vi.prototype.textAt=function(t){return this.textAtExt_1hpm3o_k$(t)},vi.prototype.watcherExt_gyro5k_k$=function(t,i){var s=Ce(this,Et)?this:M();return Af(s,t,i)},vi.prototype.subSystemExt_1hpm3o_k$=function(t){var i=Ce(this,fa)?this:M();return Ob(i,t)},vi.prototype.subSystem=function(t){return this.subSystemExt_1hpm3o_k$(t)},vi.prototype.indexedExt_ha5a7z_k$=function(t){var i=Ce(this,fa)?this:M();return ME(i,t)},vi.prototype.watch=function(t){var i=arguments,s;if(i.length===1){var c;e:{var p=i[0];c=de(bn).isInstance_wi7j7l_k$(p);break e}s=c}else s=!1;if(s){var v=i[0],k=this.watchWithPath(v instanceof bn?v:M());return k}var x;if(i.length===1){var T;e:{var N=i[0];T=de(ys).isInstance_wi7j7l_k$(N);break e}x=T}else x=!1;if(x){var B=i[0],L=this.watchWithSetOfString((B!=null?Ce(B,ys):!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(ys).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.watchWithSetOfString((q!=null?Ce(q,ys):!1)?q:M());return Q}throw At("Error choosing proper overload of function WriteableNetworkFileSystem.watch for the given parameters")},vi.$metadata$={simpleName:"WriteableNetworkFileSystem",kind:"class",interfaces:[Et,fa,xR]},Object.defineProperty(vi.prototype,"root",{configurable:!0,get:vi.prototype._get_root__0_k$});function TCe(t){throw new Vl("An operation is not implemented: Not yet implemented")}function vee(){throw new Vl("An operation is not implemented: Not yet implemented")}function ICe(t){var i=t,s;return i instanceof Go?s=t._fs._serverUrl:i instanceof Wo?s=t._fs_0._serverUrl:i instanceof Zi?s=t._serverUrl:i instanceof vi?s=t._fs_1._serverUrl:s="Unsupported FileSystem implementation",s}function iP(){}iP.prototype.invoke_sv8swh_k$=function(){rw(),F(),F()},iP.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},iP.$metadata$={kind:"class",interfaces:[]};function oP(){}oP.prototype.invoke_sv8swh_k$=function(){t5(),F(),F()},oP.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},oP.$metadata$={kind:"class",interfaces:[]};function aP(){}aP.prototype.invoke_sv8swh_k$=function(){nh(),F(),F()},aP.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},aP.$metadata$={kind:"class",interfaces:[]};function sP(){}sP.prototype.invoke_sv8swh_k$=function(){rh(),F(),F()},sP.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},sP.$metadata$={kind:"class",interfaces:[]};function MCe(){var t=new iP;return function(){return t.invoke_sv8swh_k$(),F()}}function NCe(){var t=new oP;return function(){return t.invoke_sv8swh_k$(),F()}}function RCe(){var t=new aP;return function(){return t.invoke_sv8swh_k$(),F()}}function PCe(){var t=new sP;return function(){return t.invoke_sv8swh_k$(),F()}}function BCe(t,i,s){var c=new eP(t,i,s);return function(p){return c.invoke_tulyfs_k$(p),F()}}function FCe(t,i){var s=new tP(t,i);return function(c,p){return s.invoke_z0upnb_k$(c,p),F()}}function LCe(){var t=new nP;return function(i){return t.invoke_1blrcu_k$(i)}}function DCe(t,i){var s=new rP(t,i);return function(c){return s.invoke_s894hr_k$(c),F()}}function OCe(){var t=new q3;return function(i){return t.invoke_u30jr9_k$(i)}}function zCe(t,i,s){var c=new K3(t,i,s);return function(p){return c.invoke_onpj7x_k$(p),F()}}function UCe(t,i){var s=new J3(t,i);return function(c){return s.invoke_1ti8hr_k$(c),F()}}function jCe(t,i,s,c,p){var v=new X3(t,i,s,c,p);return function(){return v.invoke_sv8swh_k$(),F()}}function GCe(t,i){var s=new Y3(t,i);return function(c){return s.invoke_xfv2uo_k$(c),F()}}function WCe(t){var i=new Q3(t);return function(s){return i.invoke_xfv2uo_k$(s),F()}}function HCe(t,i){var s=new Z3(t,i);return function(c){return s.invoke_xfv2uo_k$(c),F()}}function VCe(t,i){var s=JSON.parse(t);return sM(oQ()._json_5,i,s)}function qCe(t){throw new Vl("An operation is not implemented: Not yet implemented")}function KCe(t){throw new Vl("An operation is not implemented: Not yet implemented")}function JCe(t,i,s,c){return Hs(XCe(t,c,s,i))}function lP(t,i){this._$fulfill_17=t,this._$reader_1=i}lP.prototype.invoke_xfv2uo_k$=function(t){var i=Tn(),s=this._$reader_1.result;this._$fulfill_17(i.success((s!=null?typeof s=="string":!1)?s:M()))},lP.prototype.invoke_20e8_k$=function(t){return this.invoke_xfv2uo_k$(t instanceof Event?t:M()),F()},lP.$metadata$={kind:"class",interfaces:[]};function uP(t,i){this._$fulfill_18=t,this._$url_1=i}uP.prototype.invoke_xfv2uo_k$=function(t){this._$fulfill_18(Tn().errorWithMessage("Failed to response body string from block for "+this._$url_1))},uP.prototype.invoke_20e8_k$=function(t){return this.invoke_xfv2uo_k$(t instanceof Event?t:M()),F()},uP.$metadata$={kind:"class",interfaces:[]};function cP(t){this._$reader_2=t}cP.prototype.invoke_onpj7x_k$=function(t){this._$reader_2.readAsText(t)},cP.prototype.invoke_20e8_k$=function(t){return this.invoke_onpj7x_k$(t instanceof Blob?t:M()),F()},cP.$metadata$={kind:"class",interfaces:[]};function _P(t,i){this._$fulfill_19=t,this._$url_2=i}_P.prototype.invoke_1ti8hr_k$=function(t){this._$fulfill_19(Tn().errorWithMessage("Reading response from "+this._$url_2+" failed with error "+t))},_P.prototype.invoke_20e8_k$=function(t){return this.invoke_1ti8hr_k$(t instanceof Error?t:M()),F()},_P.$metadata$={kind:"class",interfaces:[]};function fP(t){this._$url_3=t}fP.prototype.invoke_u30jr9_k$=function(t){var i;return t.ok?i=Tn().success(t.blob()):i=Tn().errorWithException(new l0(t.status,"Error sending HTTP request to "+this._$url_3+", response status "+t.status+" error "+t.statusText)),i},fP.prototype.invoke_20e8_k$=function(t){return this.invoke_u30jr9_k$(t instanceof Response?t:M())},fP.$metadata$={kind:"class",interfaces:[]};function pP(t,i){this._$fulfill_20=t,this._$url_4=i}pP.prototype.invoke_t0eu3x_k$=function(t){var i=t;if(i instanceof fn)this._$fulfill_20(t);else if(i instanceof _n){var s=new FileReader;s.onload=eAe(this._$fulfill_20,s),s.onerror=tAe(this._$fulfill_20,this._$url_4);var c=nAe(s);t._value_16.then(c,rAe(this._$fulfill_20,this._$url_4)),F()}F()},pP.prototype.invoke_20e8_k$=function(t){return this.invoke_t0eu3x_k$(t instanceof Ot?t:M()),F()},pP.$metadata$={kind:"class",interfaces:[]};function hP(t,i){this._$fulfill_21=t,this._$url_5=i}hP.prototype.invoke_1ti8hr_k$=function(t){this._$fulfill_21(Tn().errorWithMessage("Request to "+this._$url_5+" failed with error "+t))},hP.prototype.invoke_20e8_k$=function(t){return this.invoke_1ti8hr_k$(t instanceof Error?t:M()),F()},hP.$metadata$={kind:"class",interfaces:[]};function dP(t,i,s,c){this._$url_6=t,this._$method=i,this._$headers=s,this._$body=c}dP.prototype.invoke_x9vlsm_k$=function(t){var i=Promise,s=window,c=this._$method._get_name__0_k$(),p=cAe(this._$headers),v;e:{var k=void 0,x=void 0,T=void 0,N=void 0,B=void 0,L=void 0,O=void 0,W=void 0,K=void 0,q={};q.method=c,q.headers=p,q.body=this._$body,q.referrer=k,q.referrerPolicy=x,q.mode=T,q.credentials=N,q.cache=B,q.redirect=L,q.integrity=O,q.keepalive=W,q.window=K,v=q;break e}var Q=i.resolve(s.fetch(this._$url_6,v)),ee=Q.then(YCe(this._$url_6)),ie=QCe(t,this._$url_6);ee.then(ie,ZCe(t,this._$url_6)),F()},dP.prototype.invoke_20e8_k$=function(t){return this.invoke_x9vlsm_k$((t!=null?typeof t=="function":!1)?t:M()),F()},dP.$metadata$={kind:"class",interfaces:[]};function XCe(t,i,s,c){var p=new dP(t,i,s,c);return function(v){return p.invoke_x9vlsm_k$(v),F()}}function YCe(t){var i=new fP(t);return function(s){return i.invoke_u30jr9_k$(s)}}function QCe(t,i){var s=new pP(t,i);return function(c){return s.invoke_t0eu3x_k$(c),F()}}function ZCe(t,i){var s=new hP(t,i);return function(c){return s.invoke_1ti8hr_k$(c),F()}}function eAe(t,i){var s=new lP(t,i);return function(c){return s.invoke_xfv2uo_k$(c),F()}}function tAe(t,i){var s=new uP(t,i);return function(c){return s.invoke_xfv2uo_k$(c),F()}}function nAe(t){var i=new cP(t);return function(s){return i.invoke_onpj7x_k$(s),F()}}function rAe(t,i){var s=new _P(t,i);return function(c){return s.invoke_1ti8hr_k$(c),F()}}function a5(t){return VK(t)}function s5(){l5=this}s5.prototype.log_xj5xsb_k$=function(t,i,s){var c=s,p=c==null?null:VK(c),v=p==null?"":p,k=t;k.equals(Vb())?console.log(i,v):k.equals(BE())||k.equals(c0())?console.info(i,v):k.equals(qb())?console.warn(i,v):k.equals(Md())&&console.error(i,v)},s5.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var l5;function iAe(){return l5==null&&new s5,l5}function gee(t,i){return ea.call(i),i._innerMap=t,i}function oAe(t){return gee(t,Object.create(ea.prototype))}function aAe(t){return gee({},t),t}function sAe(){return aAe(Object.create(ea.prototype))}function Od(t){this._entry=t}Od.prototype._get_key__0_k$=function(){var t=this._entry[0];return(t!=null?typeof t=="string":!1)?t:M()},Od.prototype._get_value__0_k$=function(){var t=this._entry[1];return(t==null?!0:Re(t))?t:M()},Od.$metadata$={simpleName:"StringEntry",kind:"class",interfaces:[nu]},Object.defineProperty(Od.prototype,"key",{configurable:!0,get:Od.prototype._get_key__0_k$}),Object.defineProperty(Od.prototype,"value",{configurable:!0,get:Od.prototype._get_value__0_k$});function mP(t){var i=Object.entries;return((i!=null?typeof i=="function":!1)?i:M())(t._innerMap)}function lAe(t){return t.hasOwnProperty("key")}function uAe(t,i){return t[i]}ea.prototype._get_entries__0_k$=function(){var t;e:{var i=mP(this),s;t:{for(var c=Wr(i.length),p=i,v=0,k=p.length;v<k;){var x=p[v];v=v+1|0;var T;n:{T=new Od(x);break n}c.add_2bq_k$(T),F()}s=c;break t}t=s;break e}return Gt(t)},ea.prototype._get_keys__0_k$=function(){var t;e:{var i=mP(this),s;t:{for(var c=Wr(i.length),p=i,v=0,k=p.length;v<k;){var x=p[v];v=v+1|0;var T;n:{var N=x[0];T=(N!=null?typeof N=="string":!1)?N:M();break n}c.add_2bq_k$(T),F()}s=c;break t}t=s;break e}return Gt(t)},ea.prototype._get_size__0_k$=function(){return mP(this).length},ea.prototype._get_values__0_k$=function(){var t;e:{var i=mP(this),s;t:{for(var c=Wr(i.length),p=i,v=0,k=p.length;v<k;){var x=p[v];v=v+1|0;var T;n:{var N=x[1];T=(N==null?!0:Re(N))?N:M();break n}c.add_2bq_k$(T),F()}s=c;break t}t=s;break e}return t},ea.prototype.containsKey_6wfw3l_k$=function(t){var i=this._innerMap,s=lAe(i);return(s!=null?typeof s=="boolean":!1)?s:M()},ea.prototype.containsKey_2bw_k$=function(t){return(t!=null?typeof t=="string":!1)?this.containsKey_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M()):!1},ea.prototype.containsValue_2c7_k$=function(t){return this._get_values__0_k$().contains_2bq_k$(t)},ea.prototype.get_6wfw3l_k$=function(t){var i=this._innerMap,s=uAe(i,t);return(s==null?!0:Re(s))?s:null},ea.prototype.get_2bw_k$=function(t){return(t!=null?typeof t=="string":!1)?this.get_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M()):null},ea.prototype.isEmpty_0_k$=function(){return this._get_size__0_k$()===0};function ea(){}ea.$metadata$={simpleName:"StringMap",kind:"class",interfaces:[wo]},Object.defineProperty(ea.prototype,"entries",{configurable:!0,get:ea.prototype._get_entries__0_k$}),Object.defineProperty(ea.prototype,"keys",{configurable:!0,get:ea.prototype._get_keys__0_k$}),Object.defineProperty(ea.prototype,"size",{configurable:!0,get:ea.prototype._get_size__0_k$}),Object.defineProperty(ea.prototype,"values",{configurable:!0,get:ea.prototype._get_values__0_k$});function cAe(t){for(var i={},s=t._get_entries__0_k$().iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$();i[c._get_key__0_k$()]=c._get_value__0_k$()}return i}function _Ae(){return window.navigator.userAgent}function fAe(){return"Web "+window.navigator.platform}function m0(){return CO(new Date().getTime())}function vP(t){this._ref=new WeakRef(t)}vP.prototype.get=function(){var t=this._ref.deref();return xt(t,void 0)?null:t},vP.$metadata$={simpleName:"WeakReference",kind:"class",interfaces:[]};function Ev(t){return new XE(t)}function XE(t){this._initializer_0=t,this.__value_1=null}XE.prototype._get_value__0_k$=function(){var t=this.__value_1,i;if(t==null){var s;e:{var c;t:{var p=this._initializer_0();this.__value_1=p,c=p;break t}s=c;break e}i=s}else i=t;return i},XE.prototype.isInitialized_0_k$=function(){return this.__value_1!=null},XE.prototype.toString=function(){return this.isInitialized_0_k$()?Bt(this._get_value__0_k$()):"Lazy value not initialized yet."},XE.$metadata$={simpleName:"FastLazyImpl",kind:"class",interfaces:[Wh]};function pAe(){return yee}var yee;function hAe(){return kee}var kee,u5;function dAe(t,i,s,c,p,v,k,x,T,N,B,L,O){return(B&512)!=0&&(N=null),hn.call(O,t,i,s,c,p,v,k,x,T,N),O}function c5(t,i,s,c,p,v,k,x,T,N,B,L){return dAe(t,i,s,c,p,v,k,x,T,N,B,L,Object.create(hn.prototype))}function iw(){_5=this;var t=this,i=Ds(),s=Wi(.5,.5),c=qp()._identity,p=WE(1,1),v=rC()._FULL,k=Wi(.5,.5);t._EMPTY_5=c5(i,s,1,c,0,p,v,k,1,null,512,null);var x;e:{var T=Fr(de(hn));x=T;break e}Ni(this,x,Kr(["EMPTY","interpolateBlendshapes"]))}iw.prototype._get_EMPTY__0_k$=function(){return this._EMPTY_5},iw.prototype.interpolateBlendshapes_rhhbu6_k$=function(t,i,s){if(t===i||s<=0)return t;if(s>=1)return i;var c;e:{var p=DD(t,i),v;t:{var k=hf(xi(p._get_size__0_k$())),x;n:{for(var T=p._get_entries__0_k$(),N=T.iterator_0_k$();N.hasNext_0_k$();){var B=N.next_0_k$(),L;r:{L=B._get_key__0_k$();break r}var O=L,W;r:{var K=t.get_2bw_k$(B._get_key__0_k$()),q=(K==null?0:K)*(1-s),Q=i.get_2bw_k$(B._get_key__0_k$());W=q+(Q==null?0:Q)*s;break r}k.put_1q9pf_k$(O,W),F()}x=k;break n}v=x;break t}c=v;break e}return c},iw.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(iw.prototype,"EMPTY",{configurable:!0,get:iw.prototype._get_EMPTY__0_k$});var _5;function f5(){return _5==null&&new iw,_5}function hn(t,i,s,c,p,v,k,x,T,N){f5();var B=N===void 0?null:N;this._blendshapes=t,this._normalizedImagePosition=i,this._normalizedImageScale=s,this._rotationQuaternion=c,this._confidence=p,this._inputImageSize=v,this._faceRectangle=k,this._positionInCrop=x,this._scaleInCrop=T,this._debug=B}hn.prototype._get_blendshapes__0_k$=function(){return this._blendshapes},hn.prototype._get_normalizedImagePosition__0_k$=function(){return this._normalizedImagePosition},hn.prototype._get_normalizedImageScale__0_k$=function(){return this._normalizedImageScale},hn.prototype._get_rotationQuaternion__0_k$=function(){return this._rotationQuaternion},hn.prototype._get_confidence__0_k$=function(){return this._confidence},hn.prototype._get_inputImageSize__0_k$=function(){return this._inputImageSize},hn.prototype._get_faceRectangle__0_k$=function(){return this._faceRectangle},hn.prototype._get_positionInCrop__0_k$=function(){return this._positionInCrop},hn.prototype._get_scaleInCrop__0_k$=function(){return this._scaleInCrop},hn.prototype._get_debug__0_k$=function(){return this._debug},hn.prototype.hasFace=function(){return this._confidence>.3},hn.prototype.interpolate=function(t,i){return i<=0?this:i>=1?t:new hn(f5().interpolateBlendshapes_rhhbu6_k$(this._blendshapes,t._blendshapes,i),this._normalizedImagePosition.timesWithFloat(1-i).plusWithT(t._normalizedImagePosition.timesWithFloat(i)),this._normalizedImageScale*(1-i)+t._normalizedImageScale*i,this._rotationQuaternion.slerp(t._rotationQuaternion,i),this._confidence*(1-i)+t._confidence*i,this._inputImageSize.timesWithFloat(1-i).plusWithT(t._inputImageSize.timesWithFloat(i)),this._faceRectangle.timesWithFloat(1-i).plusWithT(t._faceRectangle.timesWithFloat(i)),this._positionInCrop.timesWithFloat(1-i).plusWithT(t._positionInCrop.timesWithFloat(i)),this._scaleInCrop*(1-i)+t._scaleInCrop*i,t._debug)},hn.prototype.withNewImagePositionAndScale_6d3my9_k$=function(t,i){return new hn(this._blendshapes,t,i,this._rotationQuaternion,this._confidence,this._inputImageSize,this._faceRectangle,this._positionInCrop,this._scaleInCrop,this._debug)},hn.prototype.serialize=function(t){return this.serializeExt_d0lx5w_k$(t===void 0?null:t)},hn.prototype.serializeExt_d0lx5w_k$=function(t){var i=this instanceof hn?this:M();return vAe(i,t)},hn.prototype.serializeExt$default_20zg0q_k$=function(t,i,s){return(i&1)!=0&&(t=null),this.serializeExt_d0lx5w_k$(t)},hn.prototype.component1=function(){return this._blendshapes},hn.prototype.component2=function(){return this._normalizedImagePosition},hn.prototype.component3=function(){return this._normalizedImageScale},hn.prototype.component4=function(){return this._rotationQuaternion},hn.prototype.component5=function(){return this._confidence},hn.prototype.component6=function(){return this._inputImageSize},hn.prototype.component7=function(){return this._faceRectangle},hn.prototype.component8_0_k$=function(){return this._positionInCrop},hn.prototype.component9_0_k$=function(){return this._scaleInCrop},hn.prototype.component10=function(){return this._debug},hn.prototype.copy=function(t,i,s,c,p,v,k,x,T,N){return this.copy_qdx20k_k$(t===void 0?this._blendshapes:t,i===void 0?this._normalizedImagePosition:i,s===void 0?this._normalizedImageScale:s,c===void 0?this._rotationQuaternion:c,p===void 0?this._confidence:p,v===void 0?this._inputImageSize:v,k===void 0?this._faceRectangle:k,x===void 0?this._positionInCrop:x,T===void 0?this._scaleInCrop:T,N===void 0?this._debug:N)},hn.prototype.copy_qdx20k_k$=function(t,i,s,c,p,v,k,x,T,N){return new hn(t,i,s,c,p,v,k,x,T,N)},hn.prototype.copy$default_mjttlu_k$=function(t,i,s,c,p,v,k,x,T,N,B,L){return(B&1)!=0&&(t=this._blendshapes),(B&2)!=0&&(i=this._normalizedImagePosition),(B&4)!=0&&(s=this._normalizedImageScale),(B&8)!=0&&(c=this._rotationQuaternion),(B&16)!=0&&(p=this._confidence),(B&32)!=0&&(v=this._inputImageSize),(B&64)!=0&&(k=this._faceRectangle),(B&128)!=0&&(x=this._positionInCrop),(B&256)!=0&&(T=this._scaleInCrop),(B&512)!=0&&(N=this._debug),this.copy_qdx20k_k$(t,i,s,c,p,v,k,x,T,N)},hn.prototype.toString=function(){return"FaceTrackerResult(blendshapes="+this._blendshapes+", normalizedImagePosition="+this._normalizedImagePosition+", normalizedImageScale="+this._normalizedImageScale+", rotationQuaternion="+this._rotationQuaternion+", confidence="+this._confidence+", inputImageSize="+this._inputImageSize+", faceRectangle="+this._faceRectangle+", positionInCrop="+this._positionInCrop+", scaleInCrop="+this._scaleInCrop+", debug="+this._debug+")"},hn.prototype.hashCode=function(){var t=ur(this._blendshapes);return t=pt(t,31)+ur(this._normalizedImagePosition)|0,t=pt(t,31)+hS(this._normalizedImageScale)|0,t=pt(t,31)+ur(this._rotationQuaternion)|0,t=pt(t,31)+hS(this._confidence)|0,t=pt(t,31)+ur(this._inputImageSize)|0,t=pt(t,31)+ur(this._faceRectangle)|0,t=pt(t,31)+ur(this._positionInCrop)|0,t=pt(t,31)+hS(this._scaleInCrop)|0,t=pt(t,31)+(this._debug==null?0:ur(this._debug))|0,t},hn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof hn))return!1;var i=t instanceof hn?t:M();return!(!xt(this._blendshapes,i._blendshapes)||!xt(this._normalizedImagePosition,i._normalizedImagePosition)||!xt(this._normalizedImageScale,i._normalizedImageScale)||!xt(this._rotationQuaternion,i._rotationQuaternion)||!xt(this._confidence,i._confidence)||!xt(this._inputImageSize,i._inputImageSize)||!xt(this._faceRectangle,i._faceRectangle)||!xt(this._positionInCrop,i._positionInCrop)||!xt(this._scaleInCrop,i._scaleInCrop)||!xt(this._debug,i._debug))},hn.$metadata$={simpleName:"FaceTrackerResult",kind:"class",interfaces:[]},Object.defineProperty(hn.prototype,"blendshapes",{configurable:!0,get:hn.prototype._get_blendshapes__0_k$}),Object.defineProperty(hn.prototype,"normalizedImagePosition",{configurable:!0,get:hn.prototype._get_normalizedImagePosition__0_k$}),Object.defineProperty(hn.prototype,"normalizedImageScale",{configurable:!0,get:hn.prototype._get_normalizedImageScale__0_k$}),Object.defineProperty(hn.prototype,"rotationQuaternion",{configurable:!0,get:hn.prototype._get_rotationQuaternion__0_k$}),Object.defineProperty(hn.prototype,"confidence",{configurable:!0,get:hn.prototype._get_confidence__0_k$}),Object.defineProperty(hn.prototype,"inputImageSize",{configurable:!0,get:hn.prototype._get_inputImageSize__0_k$}),Object.defineProperty(hn.prototype,"faceRectangle",{configurable:!0,get:hn.prototype._get_faceRectangle__0_k$}),Object.defineProperty(hn.prototype,"debug",{configurable:!0,get:hn.prototype._get_debug__0_k$});function Ho(t,i){this._tracker=t,this._result_1=i}Ho.prototype._get_tracker__0_k$=function(){return this._tracker},Ho.prototype._get_result__0_k$=function(){return this._result_1},Ho.prototype.component1=function(){return this._tracker},Ho.prototype.component2=function(){return this._result_1},Ho.prototype.copy=function(t,i){return this.copy_mc8v6p_k$(t===void 0?this._tracker:t,i===void 0?this._result_1:i)},Ho.prototype.copy_mc8v6p_k$=function(t,i){return new Ho(t,i)},Ho.prototype.copy$default_nzjusq_k$=function(t,i,s,c){return(s&1)!=0&&(t=this._tracker),(s&2)!=0&&(i=this._result_1),this.copy_mc8v6p_k$(t,i)},Ho.prototype.toString=function(){return"FaceTrackerWithResult(tracker="+this._tracker+", result="+this._result_1+")"},Ho.prototype.hashCode=function(){var t=ur(this._tracker);return t=pt(t,31)+(this._result_1==null?0:this._result_1.hashCode())|0,t},Ho.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Ho))return!1;var i=t instanceof Ho?t:M();return!(!xt(this._tracker,i._tracker)||!xt(this._result_1,i._result_1))},Ho.$metadata$={simpleName:"FaceTrackerWithResult",kind:"class",interfaces:[]},Object.defineProperty(Ho.prototype,"tracker",{configurable:!0,get:Ho.prototype._get_tracker__0_k$}),Object.defineProperty(Ho.prototype,"result",{configurable:!0,get:Ho.prototype._get_result__0_k$});function YE(){}YE.prototype.invoke_5sf5yd_k$=function(t){return new Io(t)},YE.prototype.invoke_20e8_k$=function(t){return this.invoke_5sf5yd_k$((t!=null?Ce(t,sw):!1)?t:M())},YE.prototype._get_name__0_k$=function(){return"<init>"},YE.$metadata$={kind:"class",interfaces:[]};function QE(){}QE.prototype.invoke_5sf5yd_k$=function(t){return new Io(t)},QE.prototype.invoke_20e8_k$=function(t){return this.invoke_5sf5yd_k$((t!=null?Ce(t,sw):!1)?t:M())},QE.prototype._get_name__0_k$=function(){return"<init>"},QE.$metadata$={kind:"class",interfaces:[]};function Cv(){p5=this;var t;e:{var i=Fr(de(Io));t=i;break e}Ni(this,t,Kr(["createVideoTrackerWithFileSystem","createVideoTrackerWithThis","createImageTrackerWithFileSystem","createImageTrackerWithThis","createImageTracker","createVideoTracker"]))}Cv.prototype.createVideoTrackerWithFileSystem=function(t,i){var s=RAe(t,i);return Ad(s,$Ae())},Cv.prototype.createImageTrackerWithFileSystem=function(t,i){var s=Cee(t,i,null,4);return Ad(s,bAe())},Cv.prototype.createVideoTrackerWithThis=function(t){var i=ow();return jee(i,t)},Cv.prototype.createImageTrackerWithThis=function(t){var i=ow();return Gee(i,t)},Cv.prototype.createVideoTracker=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=de(Et).isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(R_).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=(T!=null?Ce(T,Et):!1)?T:M(),B=i[1],L=this.createVideoTrackerWithFileSystem(N,B instanceof R_?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(Et).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=ow(),Q=i[0],ee=jee(q,(Q!=null?Ce(Q,Et):!1)?Q:M());return ee}throw At("Error choosing proper overload of function Companion.createVideoTracker for the given parameters")},Cv.prototype.createImageTracker=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=de(Et).isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=de(R_).isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=(T!=null?Ce(T,Et):!1)?T:M(),B=i[1],L=this.createImageTrackerWithFileSystem(N,B instanceof R_?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(Et).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=ow(),Q=i[0],ee=Gee(q,(Q!=null?Ce(Q,Et):!1)?Q:M());return ee}throw At("Error choosing proper overload of function Companion.createImageTracker for the given parameters")},Cv.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var p5;function ow(){return p5==null&&new Cv,p5}function h5(t,i){this._this$0_79=t,this._$image=i}h5.prototype.invoke_0_k$=function(){var t=this._this$0_79._persistentTracker.get_0_k$(),i=t.track_lklkhu_k$(this._$image),s=i.component1(),c=i.component2();return this._this$0_79._lastResultInternal.set_iav7o_k$(c),this._this$0_79._persistentTracker.set_iav7o_k$(s),c},h5.$metadata$={kind:"class",interfaces:[]};function Io(t){ow(),this._persistentTracker=new pa(t),this._lastResultInternal=new pa(null),this._lock_2=new Pf,this._blendshapeNames=this._persistentTracker.get_0_k$()._get_blendshapeNames__0_k$()}Io.prototype.trackWithImage=function(t){return this._lock_2.invoke_fexekg_k$(kAe(this,t))},Io.prototype._get_lastResult__0_k$=function(){return this._lastResultInternal.get_0_k$()},Io.prototype._get_blendshapeNames__0_k$=function(){return this._blendshapeNames},Io.prototype.trackWithFaceTrackerAndHTMLVideoElement=function(t){var i=this instanceof Io?this:M();return Dee(i,t)},Io.prototype.trackWithFaceTrackerAndImageBitmap=function(t){var i=this instanceof Io?this:M();return Oee(i,t)},Io.prototype.trackWithFaceTrackerAndHTMLCanvasElement=function(t){var i=this instanceof Io?this:M();return zee(i,t)},Io.prototype.trackWithFaceTrackerAndHTMLImageElement=function(t){var i=this instanceof Io?this:M();return Uee(i,t)},Io.prototype.track=function(t){var i=arguments,s,c,p;e:{p=de(Io).isInstance_wi7j7l_k$(this);break e}if(p?c=i.length===1:c=!1,c){var v;e:{var k=i[0];v=k==null?!0:de(HTMLVideoElement).isInstance_wi7j7l_k$(k);break e}s=v}else s=!1;if(s){var x=i[0],T=Dee(this,(x==null?!0:x instanceof HTMLVideoElement)?x:M());return T}var N,B,L;e:{L=de(Io).isInstance_wi7j7l_k$(this);break e}if(L?B=i.length===1:B=!1,B){var O;e:{var W=i[0];O=W==null?!0:de(ImageBitmap).isInstance_wi7j7l_k$(W);break e}N=O}else N=!1;if(N){var K=i[0],q=Oee(this,(K==null?!0:K instanceof ImageBitmap)?K:M());return q}var Q,ee,ie;e:{ie=de(Io).isInstance_wi7j7l_k$(this);break e}if(ie?ee=i.length===1:ee=!1,ee){var fe;e:{var le=i[0];fe=le==null?!0:de(HTMLCanvasElement).isInstance_wi7j7l_k$(le);break e}Q=fe}else Q=!1;if(Q){var Se=i[0],Ee=zee(this,(Se==null?!0:Se instanceof HTMLCanvasElement)?Se:M());return Ee}var Te,Me,Ne;e:{Ne=de(Io).isInstance_wi7j7l_k$(this);break e}if(Ne?Me=i.length===1:Me=!1,Me){var Pe;e:{var Ye=i[0];Pe=Ye==null?!0:de(HTMLImageElement).isInstance_wi7j7l_k$(Ye);break e}Te=Pe}else Te=!1;if(Te){var Ke=i[0],nt=Uee(this,(Ke==null?!0:Ke instanceof HTMLImageElement)?Ke:M());return nt}var Ze;if(i.length===1){var ct;e:{var ht=i[0];ct=de(As).isInstance_wi7j7l_k$(ht);break e}Ze=ct}else Ze=!1;if(Ze){var bt=i[0],It=this.trackWithImage(bt instanceof As?bt:M());return It}throw At("Error choosing proper overload of function FaceTracker.track for the given parameters")},Io.$metadata$={simpleName:"FaceTracker",kind:"class",interfaces:[]},Object.defineProperty(Io.prototype,"lastResult",{configurable:!0,get:Io.prototype._get_lastResult__0_k$}),Object.defineProperty(Io.prototype,"blendshapeNames",{configurable:!0,get:Io.prototype._get_blendshapeNames__0_k$});function aw(t,i,s,c,p){this._faceTracker=t,this._stabilizerImagePosition=i,this._stabilizerImageScale=s,this._stabilizerRotation=c,this._blendshapeProcessor=p}aw.prototype._get_blendshapeNames__0_k$=function(){return this._faceTracker._get_blendshapeNames__0_k$()},aw.prototype.track_lklkhu_k$=function(t){var i=this._faceTracker.track_lklkhu_k$(t),s=i.component1(),c=i.component2();if(c==null)return new Ho(s===this._faceTracker?this:new aw(s,this._stabilizerImagePosition,this._stabilizerImageScale,this._stabilizerRotation,this._blendshapeProcessor),c);var p=this._stabilizerImagePosition.stabilize_2c5_k$(c._normalizedImagePosition),v=p.component1_0_k$(),k=p.component2_0_k$(),x=this._stabilizerImageScale.stabilize_2c5_k$(GE(c._normalizedImageScale)),T=x.component1_0_k$(),N=x.component2_0_k$(),B=this._stabilizerRotation.stabilize_2c5_k$(c._rotationQuaternion),L=B.component1_0_k$(),O=B.component2_0_k$(),W=this._blendshapeProcessor.process_crvthi_k$(c._blendshapes),K=W.component1_0_k$(),q=W.component2_0_k$(),Q=new aw(s,v,T,L,K),ee=N._get_x__0_k$(),ie=WE(t._width_3,t._height_4);return new Ho(Q,c5(q,k,ee,O,c._confidence,ie,c._faceRectangle,c._positionInCrop,c._scaleInCrop,null,512,null))},aw.$metadata$={simpleName:"FaceTrackerProcessed",kind:"class",interfaces:[sw]};function mAe(t){var i=u5,s=CU().wrap_b1bk5f_k$(t);s.order_pnds3d_k$(AU()),F(),s.rewind_0_k$(),F();var c=yy(),p=0,v=i._get_size__0_k$()-1|0;if(p<=v)do{var k=p;p=p+1|0;{var x=i.get_ha5a7z_k$(k),T=(s.get_0_k$()&255)/255;c.put_1q9pf_k$(x,T),F()}}while(p<=v);var N=s.nextFloat_0_k$(),B=s.nextFloat_0_k$(),L=s.nextFloat_0_k$(),O=s.nextFloat_0_k$(),W=s.nextFloat_0_k$(),K=s.nextFloat_0_k$(),q=s.nextFloat_0_k$(),Q=null,ee=WE(1,1);if(s.position_0_k$()<(s.limit_0_k$()-4|0)){var ie=s.nextShort_0_k$();if(ie>=2&&(ee=Wi(s.nextFloat_0_k$(),s.nextFloat_0_k$())),ie>=1){var fe=s.nextShort_0_k$(),le;e:{var Se=s.limit_0_k$()-s.position_0_k$()|0;le=Math.min(fe,Se);break e}Q=new Int8Array(le),s.get_b1bk5f_k$(Q),F()}}var Ee=Wi(N,B),Te=au(O,W,K,q),Me=ee,Ne=rC()._FULL,Pe=Wi(.5,.5),Ye=c5(c,Ee,L,Te,1,Me,Ne,Pe,1,null,512,null);return new cn(Ye,Q)}function sw(){}sw.$metadata$={simpleName:"PersistentFaceTracker",kind:"interface",interfaces:[]};function vAe(t,i){var s=i,c=s==null?null:s.length,p=c==null?0:c,v=u5,k=CU().allocate_ha5a7z_k$((((v._get_size__0_k$()+28|0)+2|0)+2|0)+p|0);k.order_pnds3d_k$(AU()),F(),k.rewind_0_k$(),F();for(var x=v.iterator_0_k$();x.hasNext_0_k$();){var T=x.next_0_k$(),N;e:{var B;t:{var L=t._blendshapes.get_2bw_k$(T),O=L==null?0:L;B=Math.min(1,O);break t}var W=B;N=Math.max(0,W);break e}var K=N*255;k.put_wi8e9i_k$(hi(Ay(K)&255)),F()}k.putFloat_dbmacu_k$(t._normalizedImagePosition._get_x__0_k$()),F(),k.putFloat_dbmacu_k$(t._normalizedImagePosition._get_y__0_k$()),F(),k.putFloat_dbmacu_k$(t._normalizedImageScale),F(),k.putFloat_dbmacu_k$(t._rotationQuaternion._get_xyzw__0_k$()._get_x__0_k$()),F(),k.putFloat_dbmacu_k$(t._rotationQuaternion._get_xyzw__0_k$()._get_y__0_k$()),F(),k.putFloat_dbmacu_k$(t._rotationQuaternion._get_xyzw__0_k$()._get_z__0_k$()),F(),k.putFloat_dbmacu_k$(t._rotationQuaternion._get_xyzw__0_k$()._get_w__0_k$()),F(),k.putShort_dip2j2_k$(2),F(),k.putFloat_dbmacu_k$(t._inputImageSize._get_x__0_k$()),F(),k.putFloat_dbmacu_k$(t._inputImageSize._get_y__0_k$()),F(),k.putShort_dip2j2_k$(Ty(p)),F();var q=i;if(q!=null){e:{t:{k.put_b1bk5f_k$(q);break t}break e}}return F(),k.array_0_k$()}function gP(){}gP.prototype.invoke_sv8swh_k$=function(){f5(),F(),F()},gP.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},gP.$metadata$={kind:"class",interfaces:[]};function yP(){}yP.prototype.invoke_sv8swh_k$=function(){ow(),F(),F()},yP.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},yP.$metadata$={kind:"class",interfaces:[]};function gAe(){var t=new gP;return function(){return t.invoke_sv8swh_k$(),F()}}function yAe(){var t=new yP;return function(){return t.invoke_sv8swh_k$(),F()}}function kAe(t,i){var s=new h5(t,i);return function(){return s.invoke_0_k$()}}function $Ae(){var t=new YE,i=function(s){return t.invoke_5sf5yd_k$(s)};return i.callableName=t._get_name__0_k$(),i}function bAe(){var t=new QE,i=function(s){return t.invoke_5sf5yd_k$(s)};return i.callableName=t._get_name__0_k$(),i}function wAe(){return $ee}var $ee;function bee(t,i,s,c,p,v,k){var x=v,T;return x.equals(SY())?T=k:x.equals(EY())?T=new oC(i,s,c,p,k):x.equals(CY())?T=new iC(i,s,c,p,k):Lr(),T}function Av(){d5=this;var t;e:{var i=Fr(de(m5));t=i;break e}Ni(this,t,Kr(["fixedZReprojectorWithAspectRatio","fixedScaleReprojectorWithAspectRatio","fixedZReprojectorWithWidthToHeight","fixedZReprojector","reprojectorWithCorrectedAspectRatio","fixedScaleReprojector","fixedScaleReprojectorWithWidthToHeight"]))}Av.prototype.fixedZReprojectorWithWidthToHeight=function(t,i,s,c){return new pw(t,i,s,c)},Av.prototype.fixedZReprojectorWithAspectRatio=function(t,i,s,c,p,v,k,x){return bee(this,i,s,c,p,v,new pw(t,i/s,k,x))},Av.prototype.fixedScaleReprojectorWithWidthToHeight=function(t,i,s,c){return new hw(t,i,s,c)},Av.prototype.fixedScaleReprojectorWithAspectRatio=function(t,i,s,c,p,v,k,x){return bee(this,i,s,c,p,v,new hw(t,i/s,k,x))},Av.prototype.fixedZReprojector=function(t){var i=arguments,s,c,p,v,k,x,T,N;if(i.length===8){var B;e:{var L=i[0];B=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(L);break e}N=B}else N=!1;if(N){var O;e:{var W=i[1];O=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(W);break e}T=O}else T=!1;if(T){var K;e:{var q=i[2];K=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(q);break e}x=K}else x=!1;if(x){var Q;e:{var ee=i[3];Q=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(ee);break e}k=Q}else k=!1;if(k){var ie;e:{var fe=i[4];ie=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(fe);break e}v=ie}else v=!1;if(v){var le;e:{var Se=i[5];le=de(wf).isInstance_wi7j7l_k$(Se);break e}p=le}else p=!1;if(p){var Ee;e:{var Te=i[6];Ee=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Te);break e}c=Ee}else c=!1;if(c){var Me;e:{var Ne=i[7];Me=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ne);break e}s=Me}else s=!1;if(s){var Pe=i[0],Ye=(Pe!=null?typeof Pe=="number":!1)?Pe:M(),Ke=i[1],nt=(Ke!=null?typeof Ke=="number":!1)?Ke:M(),Ze=i[2],ct=(Ze!=null?typeof Ze=="number":!1)?Ze:M(),ht=i[3],bt=(ht!=null?typeof ht=="number":!1)?ht:M(),It=i[4],Nt=(It!=null?typeof It=="number":!1)?It:M(),Rt=i[5],Xt=Rt instanceof wf?Rt:M(),rn=i[6],En=(rn!=null?typeof rn=="number":!1)?rn:M(),un=i[7],gn=this.fixedZReprojectorWithAspectRatio(Ye,nt,ct,bt,Nt,Xt,En,(un!=null?typeof un=="number":!1)?un:M());return gn}var Fn,Un,en,Nn;if(i.length===4){var wn;e:{var yr=i[0];wn=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(yr);break e}Nn=wn}else Nn=!1;if(Nn){var rr;e:{var Or=i[1];rr=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Or);break e}en=rr}else en=!1;if(en){var Jn;e:{var qr=i[2];Jn=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(qr);break e}Un=Jn}else Un=!1;if(Un){var $r;e:{var ei=i[3];$r=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(ei);break e}Fn=$r}else Fn=!1;if(Fn){var br=i[0],$i=(br!=null?typeof br=="number":!1)?br:M(),zr=i[1],oi=(zr!=null?typeof zr=="number":!1)?zr:M(),ti=i[2],Ri=(ti!=null?typeof ti=="number":!1)?ti:M(),ni=i[3],ai=this.fixedZReprojectorWithWidthToHeight($i,oi,Ri,(ni!=null?typeof ni=="number":!1)?ni:M());return ai}throw At("Error choosing proper overload of function Companion.fixedZReprojector for the given parameters")},Av.prototype.fixedScaleReprojector=function(t){var i=arguments,s,c,p,v,k,x,T,N;if(i.length===8){var B;e:{var L=i[0];B=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(L);break e}N=B}else N=!1;if(N){var O;e:{var W=i[1];O=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(W);break e}T=O}else T=!1;if(T){var K;e:{var q=i[2];K=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(q);break e}x=K}else x=!1;if(x){var Q;e:{var ee=i[3];Q=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(ee);break e}k=Q}else k=!1;if(k){var ie;e:{var fe=i[4];ie=ce()._get_intClass__0_k$().isInstance_wi7j7l_k$(fe);break e}v=ie}else v=!1;if(v){var le;e:{var Se=i[5];le=de(wf).isInstance_wi7j7l_k$(Se);break e}p=le}else p=!1;if(p){var Ee;e:{var Te=i[6];Ee=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Te);break e}c=Ee}else c=!1;if(c){var Me;e:{var Ne=i[7];Me=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Ne);break e}s=Me}else s=!1;if(s){var Pe=i[0],Ye=(Pe!=null?typeof Pe=="number":!1)?Pe:M(),Ke=i[1],nt=(Ke!=null?typeof Ke=="number":!1)?Ke:M(),Ze=i[2],ct=(Ze!=null?typeof Ze=="number":!1)?Ze:M(),ht=i[3],bt=(ht!=null?typeof ht=="number":!1)?ht:M(),It=i[4],Nt=(It!=null?typeof It=="number":!1)?It:M(),Rt=i[5],Xt=Rt instanceof wf?Rt:M(),rn=i[6],En=(rn!=null?typeof rn=="number":!1)?rn:M(),un=i[7],gn=this.fixedScaleReprojectorWithAspectRatio(Ye,nt,ct,bt,Nt,Xt,En,(un!=null?typeof un=="number":!1)?un:M());return gn}var Fn,Un,en,Nn;if(i.length===4){var wn;e:{var yr=i[0];wn=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(yr);break e}Nn=wn}else Nn=!1;if(Nn){var rr;e:{var Or=i[1];rr=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(Or);break e}en=rr}else en=!1;if(en){var Jn;e:{var qr=i[2];Jn=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(qr);break e}Un=Jn}else Un=!1;if(Un){var $r;e:{var ei=i[3];$r=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(ei);break e}Fn=$r}else Fn=!1;if(Fn){var br=i[0],$i=(br!=null?typeof br=="number":!1)?br:M(),zr=i[1],oi=(zr!=null?typeof zr=="number":!1)?zr:M(),ti=i[2],Ri=(ti!=null?typeof ti=="number":!1)?ti:M(),ni=i[3],ai=this.fixedScaleReprojectorWithWidthToHeight($i,oi,Ri,(ni!=null?typeof ni=="number":!1)?ni:M());return ai}throw At("Error choosing proper overload of function Companion.fixedScaleReprojector for the given parameters")},Av.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var d5;function wee(){return d5==null&&new Av,d5}function m5(){wee()}m5.$metadata$={simpleName:"FaceTrackerReprojectors",kind:"class",interfaces:[]};function Tv(t,i){this._spatialPosition=t,this._spatialScale=i}Tv.prototype.toString=function(){return"Result(spatialPosition="+this._spatialPosition+", spatialScale="+this._spatialScale+")"},Tv.prototype.hashCode=function(){var t=ur(this._spatialPosition);return t=pt(t,31)+hS(this._spatialScale)|0,t},Tv.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Tv))return!1;var i=t instanceof Tv?t:M();return!(!xt(this._spatialPosition,i._spatialPosition)||!xt(this._spatialScale,i._spatialScale))},Tv.$metadata$={simpleName:"Result",kind:"class",interfaces:[]};function ih(){}ih.prototype.reprojectTrackerResult=function(t){return this.reprojectWithNormalizedImagePosition(t._normalizedImagePosition,t._normalizedImageScale)},ih.$metadata$={simpleName:"FaceTrackerReprojector",kind:"interface",interfaces:[]};function kP(){}kP.prototype.invoke_sv8swh_k$=function(){wee(),F(),F()},kP.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},kP.$metadata$={kind:"class",interfaces:[]};function xAe(){var t=new kP;return function(){return t.invoke_sv8swh_k$(),F()}}function xee(t,i,s,c,p){var v;e:{var k;t:{k=Math.min(1,t);break t}var x=k;v=Math.max(0,x);break e}return EAe(s,c,p,i,v)}function SAe(t,i,s,c,p,v,k){return(v&16)!=0&&(p=.5),xee(t,i,s,c,p)}function ZE(){}ZE.$metadata$={simpleName:"BlendshapeProcessor",kind:"interface",interfaces:[]};function v5(t,i){this._bsToSymmetrise=t,this._power=i}v5.prototype.process_crvthi_k$=function(t){for(var i=Am(t),s=this._bsToSymmetrise.iterator_0_k$();s.hasNext_0_k$();){var c=s.next_0_k$(),p=c.component1_0_k$(),v=c.component2_0_k$(),k=t.get_2bw_k$(p),x=k==null?0:k,T=t.get_2bw_k$(v),N=T==null?0:T,B;e:{var L;t:{var O;n:{var W=x,K=N;O=Math.max(W,K);break n}var q=O;L=Math.min(1,q);break t}var Q=L,ee=this._power;B=Math.pow(Q,ee);break e}var ie=B,fe=(1-ie)*(x+N)/2;x=x*ie+fe,N=N*ie+fe;{var le=x;i.put_1q9pf_k$(p,le),F()}{var Se=N;i.put_1q9pf_k$(v,Se),F()}}return new cn(this,i)},v5.$metadata$={simpleName:"BPSymmetriseMax",kind:"class",interfaces:[ZE]};function g5(t){this._bsToAmplify=t}g5.prototype.process_crvthi_k$=function(t){var i=Am(t),s;e:{var c=this._bsToAmplify;s=c._get_entries__0_k$().iterator_0_k$();break e}for(var p=s;p.hasNext_0_k$();){var v=p.next_0_k$(),k;e:{k=v._get_key__0_k$();break e}var x=k,T;e:{T=v._get_value__0_k$();break e}var N=T,B=t.get_2bw_k$(x),L=B==null?0:B;if(N._get_size__0_k$()===3){var O=N.get_ha5a7z_k$(0),W=N.get_ha5a7z_k$(1),K=N.get_ha5a7z_k$(2),q=SAe(L,O,W,K,0,16);i.put_1q9pf_k$(x,q),F()}else{var Q=xee(L,N.get_ha5a7z_k$(0),N.get_ha5a7z_k$(1),N.get_ha5a7z_k$(2),N.get_ha5a7z_k$(3));i.put_1q9pf_k$(x,Q),F()}}return new cn(this,i)},g5.$metadata$={simpleName:"BPAmplify",kind:"class",interfaces:[ZE]};function $P(t,i){this._defaultStabilizer=t,this._stabilizers=i}$P.prototype.process_crvthi_k$=function(t){var i=Sbe(t,0,2,null),s=this._defaultStabilizer.stabilize_2c5_k$(i),c=s.component1_0_k$(),p=s.component2_0_k$(),v;e:{v=Ql();break e}var k=v,x=Am(p._get_blendshapes__0_k$()),T;e:{var N=this._stabilizers;T=N._get_entries__0_k$().iterator_0_k$();break e}for(var B=T;B.hasNext_0_k$();){var L=B.next_0_k$(),O;e:{O=L._get_key__0_k$();break e}var W=O,K;e:{K=L._get_value__0_k$();break e}var q=K,Q=t.get_2bw_k$(W),ee=q.stabilize_2c5_k$(GE(Q==null?0:Q)),ie=ee.component1_0_k$(),fe=ee.component2_0_k$();k.put_1q9pf_k$(W,ie),F();{var le=fe._get_x__0_k$();x.put_1q9pf_k$(W,le),F()}}return new cn(new $P(c,k),x)},$P.$metadata$={simpleName:"BPStabilize",kind:"class",interfaces:[ZE]};function bP(t){this._processors=t}bP.prototype.process_crvthi_k$=function(t){var i=t,s;e:{s=Di();break e}for(var c=s,p=this._processors.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$(),k=v.process_crvthi_k$(i),x=k.component1_0_k$(),T=k.component2_0_k$();i=T,c.add_2bq_k$(x),F()}return new cn(new bP(c),i)},bP.$metadata$={simpleName:"BPChain",kind:"class",interfaces:[ZE]};function See(t,i,s){var c;e:{var p=i/s;c=Math.pow(p,t);break e}return s*c}function Eee(t,i,s){return s<=t?See(i,s,t):1-See(i,1-s,1-t)}function EAe(t,i,s,c,p){var v;e:{v=Math.pow(p,t);break e}var k=v*(1-Eee(s,c,p)),x;e:{var T=1-p;x=Math.pow(T,i);break e}return k+(1-x)*Eee(s,c,p)}function lw(){}lw.$metadata$={simpleName:"FaceDetector",kind:"interface",interfaces:[]};function wP(){}wP.prototype.invoke_yw263a_k$=function(t){return new EP(t)},wP.prototype.invoke_20e8_k$=function(t){return this.invoke_yw263a_k$(t instanceof HP?t:M())},wP.$metadata$={kind:"class",interfaces:[]};function y5(){k5=this,this._objThreshold=.5;var t=this,i;e:{i=new Float32Array([5,8,8,14,14,25,26,43,51,80,112,155]);break e}t._anchors=i}y5.prototype.create_2xt1wa_k$=function(t,i){var s=M5().create_jx19r9_k$(t,"yoloface-500k",i);return Ad(s,IAe())},y5.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var k5;function eC(){return k5==null&&new y5,k5}function CAe(t,i,s,c){if(i==null)return null;var p=Mee(i),v=p;v._width_2=v._width_2*s;var k=p;k._height_3=k._height_3*c;var x=p,T;e:{var N=p._width_2,B=p._height_3;T=Math.max(N,B);break e}x._width_2=T;var L=p,O;e:{var W=p._width_2,K=p._height_3;O=Math.max(W,K);break e}L._height_3=O;var q=p;q._width_2=q._width_2*1.2;var Q=p;Q._height_3=Q._height_3*1.2;var ee=p;return ee._x_0=ee._x_0*s,p._y_0=(1-p._y_0)*c,p._x_0=p._x_0-p._width_2/2,p._y_0=p._y_0-1.1*p._height_3/2,p.build_0_k$()}function AAe(t,i){var s;e:{s=i._get_size__0_k$();break e}if(s<=0)return null;var c;e:{var p;t:{var v=MAe();p=new xP(v);break t}c=ci(i,p);break e}var k=c;return k.get_ha5a7z_k$(0)}function $5(t,i){var s;e:{var c=-i;s=Math.exp(c);break e}return 1/(1+s)}function TAe(t,i){var s=6,c=6,p=Di(),v=32,k=40,x=0;if(x<v)do{var T=x;x=x+1|0;var N=0;if(N<k)do{var B=N;N=N+1|0;var L=0;if(L<s)do{var O=L;L=L+1|0;var W=(pt(pt(pt(T,k),s),c)+pt(pt(B,s),c)|0)+pt(O,c)|0,K=$5(t,i[W+4|0]);if(eC(),K>=.5){var q=($5(t,i[W+0|0])+B)/k,Q=($5(t,i[W+1|0])+T)/v,ee=eC()._anchors[pt(2,O)+0|0],ie;e:{var fe=i[W+2|0];ie=Math.exp(fe);break e}var le=ee*ie/t._model._inputWidth,Se=eC()._anchors[pt(2,O)+1|0],Ee;e:{var Te=i[W+3|0];Ee=Math.exp(Te);break e}var Me=Js(q,Q,le,Se*Ee/t._model._inputHeight);p.add_2bq_k$(Me),F()}}while(L<s)}while(N<k)}while(x<v);return p}function xP(t){this._function_6=t}xP.prototype.compare_1qgdm_k$=function(t,i){return this._function_6(t,i)},xP.prototype.compare=function(t,i){return this.compare_1qgdm_k$(t,i)},xP.$metadata$={simpleName:"sam$kotlin_Comparator$0",kind:"class",interfaces:[ar]};function SP(){}SP.prototype.invoke_r0n8bk_k$=function(t,i){var s;e:{var c;t:{c=i.area();break t}var p=c,v;t:{v=t.area();break t}s=fp(p,v);break e}return s},SP.prototype.invoke_osx4an_k$=function(t,i){var s=t instanceof Sn?t:M();return this.invoke_r0n8bk_k$(s,i instanceof Sn?i:M())},SP.$metadata$={kind:"class",interfaces:[]};function EP(t){eC(),this._model=t}EP.prototype.detect_vwut0c_k$=function(t,i){var s=gQ(this._model.run_tgqs69_k$(t,Js(-.3,-.3,1.6,1.6)),"Error running face detection model"),c;if(s==null)return new cn(this,null);c=s;var p=c,v=TAe(this,mt(p._outputs._get_values__0_k$())),k=CAe(this,AAe(this,v),t._width_3,t._height_4);return new cn(this,k)},EP.$metadata$={simpleName:"FaceDetectorYoloFace500k",kind:"class",interfaces:[lw]};function uw(t,i){this._scale_1=t,this._previousDetector=i}uw.prototype.detect_vwut0c_k$=function(t,i){var s=this._previousDetector.detect_vwut0c_k$(t,i),c=s.component1_0_k$(),p=s.component2_0_k$(),v=p,k;if(v==null)return new cn(new uw(this._scale_1,c),p);k=v;var x=k,T=(1-this._scale_1)*x._get_width__0_k$();return new cn(new uw(this._scale_1,c),x.insetBy(T,T))},uw.$metadata$={simpleName:"FaceDetectorExpander",kind:"class",interfaces:[lw]};function cw(t,i){this._offset=t,this._previousDetector_0=i}cw.prototype.detect_vwut0c_k$=function(t,i){var s=this._previousDetector_0.detect_vwut0c_k$(t,i),c=s.component1_0_k$(),p=s.component2_0_k$(),v=p,k;if(v==null)return new cn(new cw(this._offset,c),p);k=v;var x=k,T=this._offset*x._get_extent__0_k$()._get_y__0_k$();return new cn(new cw(this._offset,c),Js(x._get_origin__0_k$()._get_x__0_k$(),x._get_origin__0_k$()._get_y__0_k$()+T,x._get_width__0_k$(),x._get_height__0_k$()))},cw.$metadata$={simpleName:"FaceDetectorVerticalOffset",kind:"class",interfaces:[lw]};function b5(){}b5.prototype.detect_vwut0c_k$=function(t,i){if(i==null?!0:!i.hasFace())return new cn(this,null);var s=Wi(i._positionInCrop._get_x__0_k$(),1-i._positionInCrop._get_y__0_k$()),c=s.timesWithT(i._faceRectangle._get_extent__0_k$()).plusWithT(i._faceRectangle._get_origin__0_k$()),p=Wi(i._faceRectangle._get_extent__0_k$()._get_y__0_k$()*i._scaleInCrop,i._faceRectangle._get_extent__0_k$()._get_y__0_k$()*i._scaleInCrop);return new cn(this,Js(c._get_x__0_k$()-p._get_x__0_k$()/2,c._get_y__0_k$()-p._get_y__0_k$()/2,p._get_x__0_k$(),p._get_y__0_k$()))},b5.$metadata$={simpleName:"FaceDetectorTrackerResult",kind:"class",interfaces:[lw]};function tC(t,i){this._mainDetector=t,this._fallbackDetector=i}tC.prototype.detect_vwut0c_k$=function(t,i){var s=this._mainDetector.detect_vwut0c_k$(t,i),c=s.component1_0_k$(),p=s.component2_0_k$();if(p==null){var v=this._fallbackDetector.detect_vwut0c_k$(t,i),k=v.component1_0_k$(),x=v.component2_0_k$();return new cn(new tC(c,k),x)}return new cn(new tC(c,this._fallbackDetector),p)},tC.$metadata$={simpleName:"FaceDetectorFallback",kind:"class",interfaces:[lw]};function IAe(){var t=new wP;return function(i){return t.invoke_yw263a_k$(i)}}function MAe(){var t=new SP;return function(i,s){return t.invoke_r0n8bk_k$(i,s)}}function NAe(t,i,s){var c=eC().create_2xt1wa_k$(t,i);return o0(c,PAe(t,s,i))}function Cee(t,i,s,c,p){return(c&4)!=0&&(s="2001161359"),NAe(t,i,s)}function RAe(t,i){var s=Cee(t,i,null,4);return Ad(s,BAe())}function CP(t,i,s){this._$fileSystem_3=t,this._$model=i,this._$context=s}CP.prototype.invoke_v1byj2_k$=function(t){var i=t;i=new uw(1,i),i=new cw(0,i);var s=new b5;s=new uw(1.35,s),s=new cw(-.1,s);var c=new tC(s,i);return PP().create(this._$fileSystem_3,this._$model,c,this._$context)},CP.prototype.invoke_20e8_k$=function(t){return this.invoke_v1byj2_k$(t instanceof EP?t:M())},CP.$metadata$={kind:"class",interfaces:[]};function AP(){}AP.prototype.invoke_5sf5yd_k$=function(t){var i=jE(.5,.15,0,4,null),s=jE(.5,.05,0,4,null),c=jE(.9,.1,0,4,null),p=gY(l_([Le("jawLeft",.9),Le("jawRight",.9),Le("mouthLeft",.9),Le("mouthRight",.9),Le("mouthSmile_L",.8),Le("mouthSmile_R",.8),Le("mouthFrown_L",.6),Le("mouthFrown_R",.6),Le("mouthUpperUp_L",.7),Le("mouthUpperUp_R",.7),Le("mouthLowerDown_L",.7),Le("mouthLowerDown_R",.7),Le("mouthFunnel",.6),Le("mouthPucker",.6),Le("cheekPuff",.9),Le("eyeLookIn_L",.9),Le("eyeLookIn_R",.9),Le("eyeLookUp_R",.9),Le("eyeLookUp_L",.9),Le("eyeLookOut_L",.9),Le("eyeLookOut_R",.9),Le("eyeLookDown_L",.9),Le("eyeLookDown_R",.9),Le("eyeBlink_L",.85),Le("eyeBlink_R",.85),Le("eyeSquint_L",.85),Le("eyeSquint_R",.85),Le("eyeWide_L",.8),Le("eyeWide_R",.8),Le("tongueOut",.9),Le("browInnerUp_L",.7),Le("browInnerUp_R",.7),Le("browOuterUp_L",.7),Le("browOuterUp_R",.7),Le("browDown_L",.8),Le("browDown_R",.8),Le("noseSneer_L",.8),Le("noseSneer_R",.8)]),.9),v=gY(l_([Le("jawLeft",1),Le("jawRight",1),Le("mouthLeft",2),Le("mouthRight",2),Le("mouthSmile_L",1.2),Le("mouthSmile_R",1.2),Le("mouthFrown_L",1.2),Le("mouthFrown_R",1.2),Le("mouthUpperUp_L",1.1),Le("mouthUpperUp_R",1.1),Le("mouthLowerDown_L",1.1),Le("mouthLowerDown_R",1.1),Le("mouthFunnel",1.3),Le("mouthPucker",1.2),Le("cheekPuff",1.2),Le("eyeLookIn_L",1.1),Le("eyeLookIn_R",1.1),Le("eyeLookUp_R",1.1),Le("eyeLookUp_L",1.1),Le("eyeLookOut_L",1.1),Le("eyeLookOut_R",1.1),Le("eyeLookDown_L",1.1),Le("eyeLookDown_R",1.1),Le("eyeBlink_L",.9),Le("eyeBlink_R",.9),Le("eyeSquint_L",.6),Le("eyeSquint_R",.6),Le("eyeWide_L",1.3),Le("eyeWide_R",1.3),Le("tongueOut",1),Le("browInnerUp_L",1.2),Le("browInnerUp_R",1.2),Le("browOuterUp_L",1.2),Le("browOuterUp_R",1.2),Le("browDown_L",1.3),Le("browDown_R",1.3),Le("noseSneer_L",1.1),Le("noseSneer_R",1.1)]),.1),k=wSe(p,v,0,4,null),x=jE(.35,.1,0,4,null);return new aw(t,i,s,c,new bP(Ji([new $P(k,pi(Le("jawOpen",new _3(x,jE(.85,1,0,4,null),.5)))),new g5(l_([new cn("eyeBlink_L",Ji([17,1.7,10,.8])),new cn("eyeBlink_R",Ji([17,1.7,10,.8])),new cn("mouthPucker",Ji([6,1,3.5])),new cn("mouthLeft",Ji([3,9,4,.7])),new cn("mouthRight",Ji([3,9,4,.7])),new cn("mouthUpperUp_L",Ji([3,3,10])),new cn("mouthUpperUp_R",Ji([3,3,10])),new cn("mouthFrown_L",Ji([4,3,2,.6])),new cn("mouthFrown_R",Ji([4,3,2,.6])),new cn("mouthSmile_L",Ji([8,.7,2.5])),new cn("mouthSmile_R",Ji([8,.7,2.5])),new cn("noseSneer_L",Ji([10,1.5,2])),new cn("noseSneer_R",Ji([10,1.5,2])),new cn("eyeWide_L",Ji([7,1,4,.6])),new cn("eyeWide_R",Ji([7,1,4,.6]))])),new v5(Ji([new cn("eyeBlink_L","eyeBlink_R"),new cn("eyeSquint_L","eyeSquint_R")]),2)])))},AP.prototype.invoke_20e8_k$=function(t){return this.invoke_5sf5yd_k$((t!=null?Ce(t,sw):!1)?t:M())},AP.$metadata$={kind:"class",interfaces:[]};function PAe(t,i,s){var c=new CP(t,i,s);return function(p){return c.invoke_v1byj2_k$(p)}}function BAe(){var t=new AP;return function(i){return t.invoke_5sf5yd_k$(i)}}function FAe(){return Aee}var Aee;function LAe(t,i,s){var c=t._json_6.parseToJsonElement_6wfw3l_k$(i),p=_v(c).get_6wfw3l_k$("model_metadata"),v=p==null?null:_v(p),k=v==null?null:v.get_6wfw3l_k$("outputs"),x=k==null?null:_v(k),T=x,N=T==null?null:T.get_6wfw3l_k$("blendshapes"),B=N==null?null:_v(N),L=B==null?null:B.get_6wfw3l_k$("names"),O=L==null?null:Cye(L),W;if(O==null)W=null;else{var K;e:{var q;t:{for(var Q=Wr(so(O,10)),ee=O.iterator_0_k$();ee.hasNext_0_k$();){var ie=ee.next_0_k$(),fe;n:{fe=uE(ie)._get_content__0_k$();break n}Q.add_2bq_k$(fe),F()}q=Q;break t}K=q;break e}W=K}var le=W,Se=x,Ee=Se==null?null:Se.get_6wfw3l_k$("transforms"),Te=Ee==null?null:_v(Ee),Me=Te==null?null:Te.get_6wfw3l_k$("scale_normalization"),Ne=Me==null?null:_v(Me),Pe=Ne,Ye=Pe==null?null:Pe.get_6wfw3l_k$("scale"),Ke=Ye==null?null:uE(Ye),nt=Ke==null?null:wX(Ke),Ze=Ne,ct=Ze==null?null:Ze.get_6wfw3l_k$("offset"),ht=ct==null?null:uE(ct),bt=ht==null?null:wX(ht);return((le==null?!0:nt==null)?!0:bt==null)?null:new oh(le,Wi(nt,bt),s)}function DAe(t,i,s){var c=i.fileAt_1hpm3o_k$(s),p=o0(c,VAe());return jM(p,qAe(s))}function TP(){}TP.prototype.invoke_rrujww_k$=function(t){t._ignoreUnknownKeys=!0},TP.prototype.invoke_20e8_k$=function(t){return this.invoke_rrujww_k$(t instanceof cv?t:M()),F()},TP.$metadata$={kind:"class",interfaces:[]};function IP(){}IP.prototype.invoke_1hjdyz_k$=function(t){return t.readAllText_0_k$()},IP.prototype.invoke_20e8_k$=function(t){return this.invoke_1hjdyz_k$((t!=null?Ce(t,yv):!1)?t:M())},IP.$metadata$={kind:"class",interfaces:[]};function MP(t){this._$labelPath=t}MP.prototype.invoke_6wfw3l_k$=function(t){var i=LAe(PP(),t,this._$labelPath.baseName()),s;return i==null?s=Tn().errorWithMessage("Could not parse metadata from "+this._$labelPath):s=Tn().success(i),s},MP.prototype.invoke_20e8_k$=function(t){return this.invoke_6wfw3l_k$((t!=null?typeof t=="string":!1)?t:M())},MP.$metadata$={kind:"class",interfaces:[]};function NP(){}NP.prototype.invoke_3ianlp_k$=function(t){return G0e(t)},NP.prototype.invoke_20e8_k$=function(t){return this.invoke_3ianlp_k$(t instanceof Ws?t:M())},NP.$metadata$={kind:"class",interfaces:[]};function RP(t){this._$detector=t}RP.prototype.invoke_8rtbj5_k$=function(t){var i=t.component1_0_k$(),s=t.component2_0_k$();return UAe(i,s,this._$detector)},RP.prototype.invoke_20e8_k$=function(t){return this.invoke_8rtbj5_k$(t instanceof Ws?t:M())},RP.$metadata$={kind:"class",interfaces:[]};function OAe(t,i,s,c,p,v,k){return Iv.call(k),k._version_0=t,k._blendshapeNames_1=i,k._model_0=s,k._detector=c,k._scaleParams_0=p,k._previousResult=v,k}function w5(t,i,s,c,p,v){return OAe(t,i,s,c,p,v,Object.create(Iv.prototype))}function zAe(t,i,s,c){return Iv.call(c),c._model_0=t,c._detector=s,c._blendshapeNames_1=i._blendshapeNames_0,c._scaleParams_0=i._scaleParams,c._version_0=i._version,c._previousResult=null,c}function UAe(t,i,s){return zAe(t,i,s,Object.create(Iv.prototype))}function oh(t,i,s){this._blendshapeNames_0=t,this._scaleParams=i,this._version=s}oh.prototype.copy=function(t,i,s){return this.copy_ok1vvf_k$(t===void 0?this._blendshapeNames_0:t,i===void 0?this._scaleParams:i,s===void 0?this._version:s)},oh.prototype.copy_ok1vvf_k$=function(t,i,s){return new oh(t,i,s)},oh.prototype.toString=function(){return"Metadata(blendshapeNames="+this._blendshapeNames_0+", scaleParams="+this._scaleParams+", version="+this._version+")"},oh.prototype.hashCode=function(){var t=ur(this._blendshapeNames_0);return t=pt(t,31)+ur(this._scaleParams)|0,t=pt(t,31)+td(this._version)|0,t},oh.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof oh))return!1;var i=t instanceof oh?t:M();return!(!xt(this._blendshapeNames_0,i._blendshapeNames_0)||!xt(this._scaleParams,i._scaleParams)||this._version!==i._version)},oh.$metadata$={simpleName:"Metadata",kind:"class",interfaces:[]};function _w(){x5=this;var t=this;t._json_6=iE(null,HAe(),1);var i;e:{var s=Fr(de(Iv));i=s;break e}Ni(this,i,Kr(["loadMetadata","json","create","parseMetadata"]))}_w.prototype._get_json__0_k$=function(){return this._json_6},_w.prototype.create=function(t,i,s,c){var p=M5().create_jx19r9_k$(t,i,c),v=DAe(this,t,new bn(""+i+".json")),k=aU(Wp(),p,v),x=k.map(KAe());return Ad(x,JAe(s))},_w.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(_w.prototype,"json",{configurable:!0,get:_w.prototype._get_json__0_k$});var x5;function PP(){return x5==null&&new _w,x5}Iv.prototype._get_blendshapeNames__0_k$=function(){return this._blendshapeNames_1},Iv.prototype.track_lklkhu_k$=function(t){var i=this._detector.detect_vwut0c_k$(t,this._previousResult),s=i.component1_0_k$(),c=i.component2_0_k$();if(Cd().map_0_k$()?c==null:!0)return new Ho(w5(this._version_0,this._blendshapeNames_1,this._model_0,s,this._scaleParams_0,null),null);var p=Mee(c),v=p;v._x_0=v._x_0/t._width_3;var k=p;k._y_0=k._y_0/t._height_4;var x=p;x._width_2=x._width_2/t._width_3;var T=p;T._height_3=T._height_3/t._height_4;var N=this._model_0.run_tgqs69_k$(t,p.build_0_k$()),B=yQ(a2e(N,this._model_0,this._blendshapeNames_1),"Could not run network prediction"),L;if(B==null)return new Ho(w5(this._version_0,this._blendshapeNames_1,this._model_0,s,this._scaleParams_0,null),null);L=B;var O=L,W=O._transforms,K=au(W[3],W[0],W[1],W[2]).toEuler(),q=qp().fromEulerWithX(K._get_x__0_k$(),-K._get_y__0_k$(),-K._get_z__0_k$()),Q=W[7]/this._scaleParams_0._get_x__0_k$()+this._scaleParams_0._get_y__0_k$(),ee=Uo(W[4],W[5],W[6]),ie=O._isFace,fe=O._blendshapes_0,le=ee._get_xy__0_k$().timesWithT(p._get_extent__0_k$()).plusWithT(p._get_origin__0_k$()),Se=Q*p._width_2,Ee=WE(t._width_3,t._height_4),Te=ee._get_xy__0_k$(),Me=N._get_optional__0_k$(),Ne=new hn(fe,le,Se,q,ie,Ee,c,Te,Q,Me==null?null:Me._debugInput);return new Ho(w5(this._version_0,this._blendshapeNames_1,this._model_0,s,this._scaleParams_0,Ne),Ne)};function Iv(){PP()}Iv.$metadata$={simpleName:"ImageFaceTracker",kind:"class",interfaces:[sw]};function jAe(t,i,s,c,p){return(s&2)!=0&&(i=null),BP.call(p,t,i),p}function GAe(t,i,s,c){return jAe(t,i,s,c,Object.create(BP.prototype))}function BP(t,i){this._outputs=t,this._debugInput=i}BP.$metadata$={simpleName:"NeuralNetOutput",kind:"class",interfaces:[]};function Tee(t,i,s){this._blendshapes_0=t,this._transforms=i,this._isFace=s}Tee.$metadata$={simpleName:"TrackerNetResult",kind:"class",interfaces:[]};function FP(){}FP.prototype.invoke_sv8swh_k$=function(){PP(),F(),F()},FP.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},FP.$metadata$={kind:"class",interfaces:[]};function WAe(){var t=new FP;return function(){return t.invoke_sv8swh_k$(),F()}}function HAe(){var t=new TP;return function(i){return t.invoke_rrujww_k$(i),F()}}function VAe(){var t=new IP;return function(i){return t.invoke_1hjdyz_k$(i)}}function qAe(t){var i=new MP(t);return function(s){return i.invoke_6wfw3l_k$(s)}}function KAe(){var t=new NP;return function(i){return t.invoke_3ianlp_k$(i)}}function JAe(t){var i=new RP(t);return function(s){return i.invoke_8rtbj5_k$(s)}}function XAe(){return Iee}var Iee;function YAe(t,i,s,c,p){return Sn.call(p,Er(new Float32Array([t,i,s,c]))),p}function Js(t,i,s,c){return YAe(t,i,s,c,Object.create(Sn.prototype))}function QAe(t,i,s){return Sn.call(s,Er(new Float32Array([t._get_x__0_k$(),t._get_y__0_k$(),i._get_x__0_k$(),i._get_y__0_k$()]))),s}function ZAe(t,i){return QAe(t,i,Object.create(Sn.prototype))}function e2e(t){var i;e:{i=0;break e}var s=i,c;e:{c=0;break e}var p=c,v;e:{v=1;break e}var k=v,x;e:{x=1;break e}return Sn.call(t,Er(new Float32Array([s,p,k,x]))),t}function t2e(){return e2e(Object.create(Sn.prototype))}function nC(){S5=this;var t=this,i;e:{i=0;break e}var s=i,c;e:{c=0;break e}var p=c,v;e:{v=1;break e}var k=v,x;e:{x=1;break e}t._FULL=Js(s,p,k,x);var T;e:{var N=Fr(de(Sn));T=N;break e}Ni(this,T,Zr("FULL"))}nC.prototype._get_FULL__0_k$=function(){return this._FULL},nC.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(nC.prototype,"FULL",{configurable:!0,get:nC.prototype._get_FULL__0_k$});var S5;function rC(){return S5==null&&new nC,S5}function Sn(t){rC(),Jt.call(this,t)}Sn.prototype.factory_txu12t_k$=function(t){return new Sn(t)},Sn.prototype._get_x__0_k$=function(){return this._get_elements__0_k$()[0]},Sn.prototype._get_y__0_k$=function(){return this._get_elements__0_k$()[1]},Sn.prototype._get_width__0_k$=function(){return this._get_elements__0_k$()[2]},Sn.prototype._get_height__0_k$=function(){return this._get_elements__0_k$()[3]},Sn.prototype._get_origin__0_k$=function(){return Wi(this._get_x__0_k$(),this._get_y__0_k$())},Sn.prototype._get_extent__0_k$=function(){return Wi(this._get_width__0_k$(),this._get_height__0_k$())},Sn.prototype._get_minX__0_k$=function(){return this._get_elements__0_k$()[0]},Sn.prototype._get_minY__0_k$=function(){return this._get_elements__0_k$()[1]},Sn.prototype._get_maxX__0_k$=function(){return this._get_elements__0_k$()[0]+this._get_elements__0_k$()[2]},Sn.prototype._get_maxY__0_k$=function(){return this._get_elements__0_k$()[1]+this._get_elements__0_k$()[3]},Sn.prototype.area=function(){return this._get_width__0_k$()*this._get_height__0_k$()},Sn.prototype.expandToSquare=function(){var t;e:{var i=this._get_width__0_k$(),s=this._get_height__0_k$();t=Math.max(i,s);break e}var c=t;return Js(this._get_x__0_k$(),this._get_y__0_k$(),c,c)},Sn.prototype.scaleWidthHeight=function(t,i){return Js(this._get_x__0_k$(),this._get_y__0_k$(),this._get_width__0_k$()*t,this._get_height__0_k$()*i)},Sn.prototype.scaleXY=function(t,i){return Js(this._get_x__0_k$()*t,this._get_y__0_k$()*i,this._get_width__0_k$(),this._get_height__0_k$())},Sn.prototype.scaleWithSx=function(t,i){return Js(this._get_x__0_k$()*t,this._get_y__0_k$()*i,this._get_width__0_k$()*t,this._get_height__0_k$()*i)},Sn.prototype.scaleWithS=function(t){return Js(this._get_x__0_k$()*t._get_x__0_k$(),this._get_y__0_k$()*t._get_y__0_k$(),this._get_width__0_k$()*t._get_x__0_k$(),this._get_height__0_k$()*t._get_y__0_k$())},Sn.prototype.scaleAroundCenter=function(t,i){var s=this._get_x__0_k$()+this._get_width__0_k$()/2,c=this._get_y__0_k$()+this._get_height__0_k$()/2,p=this._get_width__0_k$()*t,v=this._get_height__0_k$()*i;return Js(s-p/2,c-v/2,p,v)},Sn.prototype.offset=function(t,i){return Js(this._get_x__0_k$()+t,this._get_y__0_k$()+i,this._get_width__0_k$(),this._get_height__0_k$())},Sn.prototype.flipY=function(t){var i;if(t===void 0){var s;e:{s=1,F();break e}i=s}else i=t;return this.flipY_dbmacu_k$(i)},Sn.prototype.flipY_dbmacu_k$=function(t){return Js(this._get_x__0_k$(),t-this._get_height__0_k$()-this._get_y__0_k$(),this._get_width__0_k$(),this._get_height__0_k$())},Sn.prototype.flipY$default_xiu8d0_k$=function(t,i,s){if((i&1)!=0){var c;e:{c=1,F();break e}t=c}return this.flipY_dbmacu_k$(t)},Sn.prototype.toArray=function(){return Er(new Float32Array([this._get_x__0_k$(),this._get_y__0_k$(),this._get_width__0_k$(),this._get_height__0_k$()]))},Sn.prototype.toFloatArray=function(){var t;e:{var i=new Float32Array([this._get_x__0_k$(),this._get_y__0_k$(),this._get_width__0_k$(),this._get_height__0_k$()]);t=i;break e}return t},Sn.prototype.insetBy=function(t,i){return Js(this._get_x__0_k$()+t/2,this._get_y__0_k$()+i/2,this._get_width__0_k$()-t,this._get_height__0_k$()-i)},Sn.prototype.normalizeBy=function(t){return Js(this._get_x__0_k$()/t._get_x__0_k$(),this._get_y__0_k$()/t._get_y__0_k$(),this._get_width__0_k$()/t._get_x__0_k$(),this._get_height__0_k$()/t._get_y__0_k$())},Sn.prototype.scale=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=(T!=null?typeof T=="number":!1)?T:M(),B=i[1],L=this.scaleWithSx(N,(B!=null?typeof B=="number":!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(zn).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.scaleWithS(q instanceof zn?q:M());return Q}throw At("Error choosing proper overload of function Rect.scale for the given parameters")},Sn.$metadata$={simpleName:"Rect",kind:"class",interfaces:[]},Object.defineProperty(Sn.prototype,"x",{configurable:!0,get:Sn.prototype._get_x__0_k$}),Object.defineProperty(Sn.prototype,"y",{configurable:!0,get:Sn.prototype._get_y__0_k$}),Object.defineProperty(Sn.prototype,"width",{configurable:!0,get:Sn.prototype._get_width__0_k$}),Object.defineProperty(Sn.prototype,"height",{configurable:!0,get:Sn.prototype._get_height__0_k$}),Object.defineProperty(Sn.prototype,"origin",{configurable:!0,get:Sn.prototype._get_origin__0_k$}),Object.defineProperty(Sn.prototype,"extent",{configurable:!0,get:Sn.prototype._get_extent__0_k$}),Object.defineProperty(Sn.prototype,"minX",{configurable:!0,get:Sn.prototype._get_minX__0_k$}),Object.defineProperty(Sn.prototype,"minY",{configurable:!0,get:Sn.prototype._get_minY__0_k$}),Object.defineProperty(Sn.prototype,"maxX",{configurable:!0,get:Sn.prototype._get_maxX__0_k$}),Object.defineProperty(Sn.prototype,"maxY",{configurable:!0,get:Sn.prototype._get_maxY__0_k$});function n2e(t,i){return fw.call(i),i._x_0=t._get_x__0_k$(),i._y_0=t._get_y__0_k$(),i._width_2=t._get_width__0_k$(),i._height_3=t._get_height__0_k$(),i}function Mee(t){return n2e(t,Object.create(fw.prototype))}fw.prototype._get_origin__0_k$=function(){return Wi(this._x_0,this._y_0)},fw.prototype._get_extent__0_k$=function(){return Wi(this._width_2,this._height_3)},fw.prototype.build_0_k$=function(){return Js(this._x_0,this._y_0,this._width_2,this._height_3)};function fw(){}fw.$metadata$={simpleName:"RectBuilder",kind:"class",interfaces:[]};function LP(){}LP.prototype.invoke_sv8swh_k$=function(){rC(),F(),F()},LP.prototype.invoke_0_k$=function(){return this.invoke_sv8swh_k$(),F()},LP.$metadata$={kind:"class",interfaces:[]};function r2e(){var t=new LP;return function(){return t.invoke_sv8swh_k$(),F()}}function pw(t,i,s,c){this._z_0=c;var p=3.1415927*t/180,v=this,k;e:{var x=p/2;k=Math.tan(x);break e}v._reHeight=this._z_0*k*2,this._reWidth=this._reHeight*i,this._avatarScale=s/this._reWidth}pw.prototype.reprojectWithNormalizedImagePosition=function(t,i){var s=(t._get_x__0_k$()-.5)*this._reWidth,c=(t._get_y__0_k$()-.5)*this._reHeight,p=-this._z_0,v=i/this._avatarScale;return new Tv(Uo(s,c,p),v)},pw.prototype.reproject=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=de(zn).isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=T instanceof zn?T:M(),B=i[1],L=this.reprojectWithNormalizedImagePosition(N,(B!=null?typeof B=="number":!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(hn).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.reprojectTrackerResult(q instanceof hn?q:M());return Q}throw At("Error choosing proper overload of function FaceTrackerReprojectorFixedZ.reproject for the given parameters")},pw.$metadata$={simpleName:"FaceTrackerReprojectorFixedZ",kind:"class",interfaces:[ih]};function hw(t,i,s,c){this._widthToHeight=i,this._scale_2=c;var p=3.1415927*t/180,v=this,k;e:{var x=p/2;k=Math.tan(x);break e}v._imageZ=.5/k,this._avatarScale_0=s*this._scale_2*this._imageZ/this._widthToHeight}hw.prototype.reprojectWithNormalizedImagePosition=function(t,i){var s=this._avatarScale_0/i,c=(t._get_x__0_k$()-.5)*this._widthToHeight*s/this._imageZ,p=(t._get_y__0_k$()-.5)*s/this._imageZ;return new Tv(Uo(c,p,-s),this._scale_2)},hw.prototype.reproject=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=de(zn).isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=T instanceof zn?T:M(),B=i[1],L=this.reprojectWithNormalizedImagePosition(N,(B!=null?typeof B=="number":!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(hn).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.reprojectTrackerResult(q instanceof hn?q:M());return Q}throw At("Error choosing proper overload of function FaceTrackerReprojectorFixedScale.reproject for the given parameters")},hw.$metadata$={simpleName:"FaceTrackerReprojectorFixedScale",kind:"class",interfaces:[ih]};function iC(t,i,s,c,p){this._reprojector=p,this._renderingRatio=t/i,this._cameraRatio=s/c}iC.prototype.reprojectWithNormalizedImagePosition=function(t,i){var s;if(this._renderingRatio>this._cameraRatio){var c=this._cameraRatio/this._renderingRatio;s=this._reprojector.reprojectWithNormalizedImagePosition(Wi((t._get_x__0_k$()-.5)*c+.5,t._get_y__0_k$()),i*c)}else{var p=this._renderingRatio/this._cameraRatio;s=this._reprojector.reprojectWithNormalizedImagePosition(Wi(t._get_x__0_k$(),(t._get_y__0_k$()-.5)*p+.5),i)}return s},iC.prototype.reproject=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=de(zn).isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=T instanceof zn?T:M(),B=i[1],L=this.reprojectWithNormalizedImagePosition(N,(B!=null?typeof B=="number":!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(hn).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.reprojectTrackerResult(q instanceof hn?q:M());return Q}throw At("Error choosing proper overload of function AspectRatioCorrectorShrink.reproject for the given parameters")},iC.$metadata$={simpleName:"AspectRatioCorrectorShrink",kind:"class",interfaces:[ih]};function oC(t,i,s,c,p){this._reprojector_0=p,this._renderingRatio_0=t/i,this._cameraRatio_0=s/c}oC.prototype.reprojectWithNormalizedImagePosition=function(t,i){var s;if(this._renderingRatio_0>this._cameraRatio_0){var c=this._renderingRatio_0/this._cameraRatio_0;s=this._reprojector_0.reprojectWithNormalizedImagePosition(Wi(t._get_x__0_k$(),(t._get_y__0_k$()-.5)*c+.5),i)}else{var p=this._cameraRatio_0/this._renderingRatio_0;s=this._reprojector_0.reprojectWithNormalizedImagePosition(Wi((t._get_x__0_k$()-.5)*p+.5,t._get_y__0_k$()),i*p)}return s},oC.prototype.reproject=function(t){var i=arguments,s,c;if(i.length===2){var p;e:{var v=i[0];p=de(zn).isInstance_wi7j7l_k$(v);break e}c=p}else c=!1;if(c){var k;e:{var x=i[1];k=ce()._get_floatClass__0_k$().isInstance_wi7j7l_k$(x);break e}s=k}else s=!1;if(s){var T=i[0],N=T instanceof zn?T:M(),B=i[1],L=this.reprojectWithNormalizedImagePosition(N,(B!=null?typeof B=="number":!1)?B:M());return L}var O;if(i.length===1){var W;e:{var K=i[0];W=de(hn).isInstance_wi7j7l_k$(K);break e}O=W}else O=!1;if(O){var q=i[0],Q=this.reprojectTrackerResult(q instanceof hn?q:M());return Q}throw At("Error choosing proper overload of function AspectRatioCorrectorZoom.reproject for the given parameters")},oC.$metadata$={simpleName:"AspectRatioCorrectorZoom",kind:"class",interfaces:[ih]};function As(t){this._image_0=t,this._width_3=this._image_0._get_width__0_k$(),this._height_4=this._image_0._get_height__0_k$()}As.prototype._get_image__0_k$=function(){return this._image_0},As.prototype._get_width__0_k$=function(){return this._width_3},As.prototype._get_height__0_k$=function(){return this._height_4},As.$metadata$={simpleName:"TrackerImage",kind:"class",interfaces:[]},Object.defineProperty(As.prototype,"image",{configurable:!0,get:As.prototype._get_image__0_k$}),Object.defineProperty(As.prototype,"width",{configurable:!0,get:As.prototype._get_width__0_k$}),Object.defineProperty(As.prototype,"height",{configurable:!0,get:As.prototype._get_height__0_k$});function tc(){E5=this,this._CPU=C5(),this._WebGL=aC(),this._WASM=OP(),this._WebGPU=A5()}tc.prototype._get_CPU__0_k$=function(){return this._CPU},tc.prototype._get_WebGL__0_k$=function(){return this._WebGL},tc.prototype._get_WASM__0_k$=function(){return this._WASM},tc.prototype._get_WebGPU__0_k$=function(){return this._WebGPU},tc.$metadata$={simpleName:"TrackerBackendEnum",kind:"object",interfaces:[]},Object.defineProperty(tc.prototype,"CPU",{configurable:!0,get:tc.prototype._get_CPU__0_k$}),Object.defineProperty(tc.prototype,"WebGL",{configurable:!0,get:tc.prototype._get_WebGL__0_k$}),Object.defineProperty(tc.prototype,"WASM",{configurable:!0,get:tc.prototype._get_WASM__0_k$}),Object.defineProperty(tc.prototype,"WebGPU",{configurable:!0,get:tc.prototype._get_WebGPU__0_k$});var E5;function i2e(){return E5==null&&new tc,E5}function o2e(t,i,s,c){return(i&1)!=0&&(t=aC()),R_.call(c,t),c}function Nee(t,i,s){return o2e(t,i,s,Object.create(R_.prototype))}function R_(t){var i=t===void 0?aC():t;this._backend=i,this._dispatchQueue=Yj()._main}R_.prototype._get_backend__0_k$=function(){return this._backend},R_.prototype._get_dispatchQueue__0_k$=function(){return this._dispatchQueue},R_.$metadata$={simpleName:"TrackerGPUContext",kind:"class",interfaces:[]},Object.defineProperty(R_.prototype,"backend",{configurable:!0,get:R_.prototype._get_backend__0_k$});var Ree,Pee,Bee,Fee,Lee;function DP(){if(Lee)return F();Lee=!0,Ree=new Mv("CPU",0),Pee=new Mv("WebGL",1),Bee=new Mv("WASM",2),Fee=new Mv("WebGPU",3)}function Mv(t,i){yi.call(this,t,i)}Mv.$metadata$={simpleName:"TrackerBackend",kind:"class",interfaces:[]};function Dee(t,i){return(i==null?!0:i.readyState<3)?null:t.trackWithImage(new As(new Jp(i)))}function Oee(t,i){return i==null?null:t.trackWithImage(new As(new Bf(i)))}function zee(t,i){return i==null?null:t.trackWithImage(new As(new Yp(i)))}function Uee(t,i){return(i==null?!0:!i.complete)?null:t.trackWithImage(new As(new Xp(i)))}function jee(t,i){return t.createVideoTrackerWithFileSystem(i,Nee(null,1,null))}function Gee(t,i){return t.createImageTrackerWithFileSystem(i,Nee(null,1,null))}function C5(){return DP(),Ree}function aC(){return DP(),Pee}function OP(){return DP(),Bee}function A5(){return DP(),Fee}function a2e(t,i,s){return t.flatMap(l2e(i,s))}function zP(t,i,s){this._$modelName=t,this._$fulfill_22=i,this._$timer=s}zP.prototype.invoke_1a0idz_k$=function(t){try{var i=new HP(t,this._$modelName),s=new Qp(new ImageData(new Uint8ClampedArray(pt(pt(i._inputWidth,i._inputHeight),4)),i._inputWidth,i._inputHeight));i.run_tgqs69_k$(new As(s),rC()._FULL),F(),this._$fulfill_22(Tn().success(i)),this._$timer.debug("Model "+this._$modelName+" loaded")}catch(c){if(c instanceof ki)this._$fulfill_22(Tn().errorWithMessage("Model "+this._$modelName+" loading failed: "+c.message));else throw c}},zP.prototype.invoke_20e8_k$=function(t){return this.invoke_1a0idz_k$(t instanceof GraphModel?t:M()),F()},zP.$metadata$={kind:"class",interfaces:[]};function UP(t,i){this._$fulfill_23=t,this._$modelName_0=i}UP.prototype.invoke_1ti8hr_k$=function(t){this._$fulfill_23(Tn().errorWithMessage("Model ("+this._$modelName_0+") loading failed with: "+t.message))},UP.prototype.invoke_20e8_k$=function(t){return this.invoke_1ti8hr_k$(t instanceof Error?t:M()),F()},UP.$metadata$={kind:"class",interfaces:[]};function jP(t,i,s,c){this._$absolutePath=t,this._$modelName_1=i,this._$fulfill_24=s,this._$timer_0=c}jP.prototype.invoke_wikalu_k$=function(t){var i=a.loadGraphModel(this._$absolutePath.toString()),s=i.then(p2e(this._$modelName_1,this._$fulfill_24,this._$timer_0));return s.catch(h2e(this._$fulfill_24,this._$modelName_1))},jP.prototype.invoke_20e8_k$=function(t){return this.invoke_wikalu_k$(t instanceof xc?t:M())},jP.$metadata$={kind:"class",interfaces:[]};function GP(t,i){this._$context_0=t,this._$fulfill_25=i}GP.prototype.invoke_1ti8hr_k$=function(t){var i=this._$context_0._backend,s;i.equals(aC())?s="":i.equals(C5())?s=`
The CPU backend is optional, please add @tensorflow/tfjs-backend-cpu to your NPM dependencies and import it to use it.`:i.equals(OP())?s=`
The WASM backend is optional and experimental, please add @tensorflow/tfjs-backend-wasm to your NPM dependencies and import it to use it.`:i.equals(A5())?s=`
The WebGPU backend is optional and experimental, please add @tensorflow/tfjs-backend-webgpu to your NPM dependencies and import it to use it.`:Lr();var c=s;this._$fulfill_25(Tn().errorWithMessage("Error setting backend "+this._$context_0._backend+": "+t.message+"."+c))},GP.prototype.invoke_20e8_k$=function(t){return this.invoke_1ti8hr_k$(t instanceof Error?t:M()),F()},GP.$metadata$={kind:"class",interfaces:[]};function WP(t,i,s,c){this._$fileSystem_4=t,this._$modelName_2=i,this._$context_1=s,this._$timer_1=c}WP.prototype.invoke_eeda2h_k$=function(t){var i=new bn(ICe(this._$fileSystem_4)).joinWithPath(this._$fileSystem_4._get_root__0_k$()),s=i.joinWithPath(new bn("models/"+this._$modelName_2+"/model.json"));this._$context_1._backend.equals(OP())&&TfJsWasm.setWasmPaths(i.toString());var c=this._$context_1._backend,p;c.equals(C5())?p="cpu":c.equals(aC())?p="webgl":c.equals(OP())?p="wasm":c.equals(A5())?p="webgpu":Lr();var v=p,k=o.setBackend(v),x=_2e(s,this._$modelName_2,t,this._$timer_1);k.then(x,f2e(this._$context_1,t)),F()},WP.prototype.invoke_20e8_k$=function(t){return this.invoke_eeda2h_k$((t!=null?typeof t=="function":!1)?t:M()),F()},WP.$metadata$={kind:"class",interfaces:[]};function s2e(t){return Array.isArray(t)}function T5(){I5=this}T5.prototype.create_jx19r9_k$=function(t,i,s){var c=mQ(_o());return Hs(c2e(t,i,s,c))},T5.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]};var I5;function M5(){return I5==null&&new T5,I5}function N5(t,i,s){this._$image_0=t,this._$rect=i,this._this$0_80=s}N5.prototype.invoke_0_k$=function(){var t=this._$image_0._image_0,i;t instanceof Bf?i=o.browser.fromPixels(this._$image_0._image_0._bitmap):t instanceof Jp?i=o.browser.fromPixels(this._$image_0._image_0._video):t instanceof Xp?i=o.browser.fromPixels(this._$image_0._image_0._image):t instanceof Yp?i=o.browser.fromPixels(this._$image_0._image_0._canvas):t instanceof Qp?i=o.browser.fromPixels(this._$image_0._image_0._data_5):Lr();var s=i,c=o.expandDims(s),p=o.image,v=o,k;e:{var x=[1-this._$rect._get_y__0_k$()-this._$rect._get_height__0_k$(),this._$rect._get_x__0_k$(),1-this._$rect._get_y__0_k$(),this._$rect._get_x__0_k$()+this._$rect._get_width__0_k$()],T;t:{var N;n:{N=x;break n}T=N;break t}k=T;break e}var B=k,L;e:{var O;t:{var W;n:{W=[1,4];break n}O=W;break t}L=O;break e}var K=v.tensor2d(B,L),q=o,Q;e:{var ee;t:{var ie;n:{ie=[0];break n}ee=ie;break t}Q=ee;break e}var fe=q.tensor1d(Q,"int32"),le;e:{var Se=[this._this$0_80._inputHeight,this._this$0_80._inputWidth],Ee;t:{var Te;n:{Te=Se;break n}Ee=Te;break t}le=Ee;break e}var Me=p.cropAndResize(c,K,fe,le),Ne=o.mul(Me,this._this$0_80._one255th),Pe=this._this$0_80._model_1.predict(Ne),Ye,Ke=s2e(Pe);if((Ke!=null?typeof Ke=="boolean":!1)?Ke:M()){var nt;e:{var Ze;t:{Ze=Pe;break t}nt=Ze;break e}var ct=nt,ht;e:{var bt;t:{for(var It=Wr(ct.length),Nt=0,Rt=ct,Xt=0,rn=Rt.length;Xt<rn;){var En=Rt[Xt];Xt=Xt+1|0;var un;n:{var gn=Nt;Nt=gn+1|0;var Fn=gn,Un=this._this$0_80._outputNames.get_ha5a7z_k$(Fn),en;r:{var Nn=o.squeeze(En).dataSync(),wn;i:{wn=Nn;break i}en=wn;break r}un=Le(Un,en);break n}It.add_2bq_k$(un),F()}bt=It;break t}ht=bt;break e}Ye=Cm(ht)}else{var yr=this._this$0_80._outputNames.get_ha5a7z_k$(0),rr;e:{var Or=o.squeeze(Pe).dataSync(),Jn;t:{Jn=Or;break t}rr=Jn;break e}Ye=pi(Le(yr,rr))}var qr=Ye,$r=Tn();return $r.success(GAe(qr,null,2,null))},N5.$metadata$={kind:"class",interfaces:[]};function HP(t,i){M5(),this._model_1=t,this._modelName=i;var s=this,c=this._model_1.inputs[0].shape,p=c==null?null:c[2];s._inputWidth=(p!=null?typeof p=="number":!1)?p:M();var v=this,k=this._model_1.inputs[0].shape,x=k==null?null:k[1];v._inputHeight=(x!=null?typeof x=="number":!1)?x:M(),this._inputChannels=3;var T=this,N;e:{var B=this._model_1.outputs,L;t:{for(var O=Wr(B.length),W=B,K=0,q=W.length;K<q;){var Q=W[K];K=K+1|0;var ee;n:{ee=Q.name;break n}O.add_2bq_k$(ee),F()}L=O;break t}N=L;break e}T._outputNames=N,this._one255th=o.scalar(.00392156862745098)}HP.prototype.run_tgqs69_k$=function(t,i){var s=o;return s.tidy(u2e(t,i,this))},HP.$metadata$={simpleName:"NeuralNetModel",kind:"class",interfaces:[]};function VP(t,i){this._$model_0=t,this._$blendshapeNames=i}VP.prototype.invoke_f3hylc_k$=function(t){if(this._$model_0._outputNames._get_size__0_k$()<3)return Tn().errorWithMessage("Invalid number of neural net outputs, at least 3 are required, got "+this._$model_0._outputNames._get_size__0_k$());var i;e:{var s=t._outputs._get_entries__0_k$(),c;t:{for(var p=s.iterator_0_k$();p.hasNext_0_k$();){var v=p.next_0_k$(),k;n:{k=v._get_value__0_k$().length===1;break n}if(k){c=v;break t}}c=null;break t}i=c;break e}var x=i,T;if(x==null)return Tn().errorWithMessage("Network result does not contain isFace");T=x;var N=T,B;e:{var L=t._outputs._get_entries__0_k$(),O;t:{for(var W=L.iterator_0_k$();W.hasNext_0_k$();){var K=W.next_0_k$(),q;n:{q=K._get_value__0_k$().length===this._$blendshapeNames._get_size__0_k$()?K._get_key__0_k$()!==N._get_key__0_k$():!1;break n}if(q){O=K;break t}}O=null;break t}B=O;break e}var Q=B,ee;if(Q==null)return Tn().errorWithMessage("Network result does not contain blendshapes");ee=Q;var ie=ee,fe;e:{var le=t._outputs._get_entries__0_k$(),Se;t:{for(var Ee=le.iterator_0_k$();Ee.hasNext_0_k$();){var Te=Ee.next_0_k$(),Me;n:{Me=Te._get_key__0_k$()!==N._get_key__0_k$()?Te._get_key__0_k$()!==ie._get_key__0_k$():!1;break n}if(Me){Se=Te;break t}}Se=null;break t}fe=Se;break e}var Ne=fe,Pe;if(Ne==null)return Tn().errorWithMessage("Network result does not contain transforms");Pe=Ne;var Ye=Pe,Ke=ie._get_value__0_k$(),nt=Ye._get_value__0_k$(),Ze=N._get_value__0_k$();if(nt.length<8)return Tn().errorWithMessage("Invalid number of transforms, need at least 8 values, got "+nt.length);if(Ze.length!==1)return Tn().errorWithMessage("Invalid number of isFace output, expected 1 value, got "+Ze.length);var ct=yy();if(Ke.length===this._$blendshapeNames._get_size__0_k$()){var ht=0,bt=this._$blendshapeNames._get_size__0_k$()-1|0;if(ht<=bt)do{var It=ht;ht=ht+1|0;{var Nt=this._$blendshapeNames.get_ha5a7z_k$(It),Rt=Ke[It];ct.put_1q9pf_k$(Nt,Rt),F()}}while(ht<=bt)}else return Tn().errorWithMessage("Invalid number of blendshapes in the network, expected "+Ke.length+", got "+this._$blendshapeNames._get_size__0_k$());return Tn().success(new Tee(ct,nt,Ze[0]))},VP.prototype.invoke_20e8_k$=function(t){return this.invoke_f3hylc_k$(t instanceof BP?t:M())},VP.$metadata$={kind:"class",interfaces:[]};function l2e(t,i){var s=new VP(t,i);return function(c){return s.invoke_f3hylc_k$(c)}}function u2e(t,i,s){var c=new N5(t,i,s);return function(){return c.invoke_0_k$()}}function c2e(t,i,s,c){var p=new WP(t,i,s,c);return function(v){return p.invoke_eeda2h_k$(v),F()}}function _2e(t,i,s,c){var p=new jP(t,i,s,c);return function(v){return p.invoke_wikalu_k$(v)}}function f2e(t,i){var s=new GP(t,i);return function(c){return s.invoke_1ti8hr_k$(c),F()}}function p2e(t,i,s){var c=new zP(t,i,s);return function(p){return c.invoke_1a0idz_k$(p),F()}}function h2e(t,i){var s=new UP(t,i);return function(c){return s.invoke_1ti8hr_k$(c),F()}}ji.prototype._get_entries__0_k$=wo.prototype._get_entries__0_k$,ql.prototype.hasNext_0_k$=Jr.prototype.hasNext_0_k$,ev.prototype.hasNext_0_k$=Jr.prototype.hasNext_0_k$,Nu.prototype.hasNext_0_k$=Jr.prototype.hasNext_0_k$,Yr.prototype.get_ha5a7z_k$=Hr.prototype.get_ha5a7z_k$,ff.prototype._get_entries__0_k$=fS.prototype._get_entries__0_k$,yp.prototype.createJsMap_0_k$=AT.prototype.createJsMap_0_k$,vl.prototype._get_simpleName__0_k$=df.prototype._get_simpleName__0_k$,vl.prototype.isInstance_wi7j7l_k$=df.prototype.isInstance_wi7j7l_k$,Ec.prototype.next_0_k$=hy.prototype.next_0_k$,ru.prototype.add_2bq_k$=Cp.prototype.add_2bq_k$,ru.prototype.removeAt_ha5a7z_k$=Cp.prototype.removeAt_ha5a7z_k$,$s.prototype.next_0_k$=Jr.prototype.next_0_k$,bs.prototype._get_isNullable__0_k$=Sr.prototype._get_isNullable__0_k$,bs.prototype._get_isInline__0_k$=Sr.prototype._get_isInline__0_k$,Dr.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,Dr.prototype._get_serializersModule__0_k$=Ap.prototype._get_serializersModule__0_k$,Dr.prototype.decodeSerializableValue_f8566k_k$=Ap.prototype.decodeSerializableValue_f8566k_k$,Dr.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,Dr.prototype.decodeElementIndex_6qhf5t_k$=tr.prototype.decodeElementIndex_6qhf5t_k$,Dr.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Vr.prototype._get_serializersModule__0_k$=iu.prototype._get_serializersModule__0_k$,Vr.prototype.encodeNotNullMark_sv8swh_k$=iu.prototype.encodeNotNullMark_sv8swh_k$,Vr.prototype.beginCollection_5vyt7k_k$=iu.prototype.beginCollection_5vyt7k_k$,Vr.prototype.encodeSerializableValue_79s409_k$=iu.prototype.encodeSerializableValue_79s409_k$,Vr.prototype.encodeNullableSerializableValue_99f6e2_k$=iu.prototype.encodeNullableSerializableValue_99f6e2_k$,Vr.prototype.shouldEncodeElementDefault_5vyt7k_k$=YS.prototype.shouldEncodeElementDefault_5vyt7k_k$,za.prototype._get_serialName__0_k$=Sr.prototype._get_serialName__0_k$,za.prototype._get_isNullable__0_k$=Sr.prototype._get_isNullable__0_k$,za.prototype._get_isInline__0_k$=Sr.prototype._get_isInline__0_k$,za.prototype._get_annotations__0_k$=Sr.prototype._get_annotations__0_k$,dd.prototype._get_isNullable__0_k$=Sr.prototype._get_isNullable__0_k$,dd.prototype._get_isInline__0_k$=Sr.prototype._get_isInline__0_k$,dd.prototype._get_annotations__0_k$=Sr.prototype._get_annotations__0_k$,md.prototype._get_isNullable__0_k$=Sr.prototype._get_isNullable__0_k$,md.prototype._get_isInline__0_k$=Sr.prototype._get_isInline__0_k$,md.prototype._get_annotations__0_k$=Sr.prototype._get_annotations__0_k$,ws.prototype._get_isNullable__0_k$=Sr.prototype._get_isNullable__0_k$,ws.prototype._get_isInline__0_k$=Sr.prototype._get_isInline__0_k$,ws.prototype._get_annotations__0_k$=Sr.prototype._get_annotations__0_k$,uv.prototype._get_isNullable__0_k$=Sr.prototype._get_isNullable__0_k$,uv.prototype._get_isInline__0_k$=Sr.prototype._get_isInline__0_k$,uv.prototype._get_annotations__0_k$=Sr.prototype._get_annotations__0_k$,vd.prototype._get_descriptor__0_k$=Mr.prototype._get_descriptor__0_k$,Yo.prototype._get_isNullable__0_k$=Sr.prototype._get_isNullable__0_k$,Yo.prototype._get_isInline__0_k$=Sr.prototype._get_isInline__0_k$,Ip.prototype._get_isNullable__0_k$=Sr.prototype._get_isNullable__0_k$,Ky.prototype.typeParametersSerializers_0_k$=pb.prototype.typeParametersSerializers_0_k$,Qo.prototype._get_isNullable__0_k$=Sr.prototype._get_isNullable__0_k$,Qo.prototype._get_isInline__0_k$=Sr.prototype._get_isInline__0_k$,Qo.prototype._get_annotations__0_k$=Sr.prototype._get_annotations__0_k$,nr.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,nr.prototype.decodeSerializableValue_f8566k_k$=Ap.prototype.decodeSerializableValue_f8566k_k$,nr.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,nr.prototype.decodeElementIndex_6qhf5t_k$=tr.prototype.decodeElementIndex_6qhf5t_k$,nr.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Ss.prototype.decodeSerializableValue_f8566k_k$=Ap.prototype.decodeSerializableValue_f8566k_k$,Ss.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,Ss.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,Ss.prototype.decodeElementIndex_6qhf5t_k$=tr.prototype.decodeElementIndex_6qhf5t_k$,Ss.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Mc.prototype._get_isNullable__0_k$=Sr.prototype._get_isNullable__0_k$,Mc.prototype._get_isInline__0_k$=Sr.prototype._get_isInline__0_k$,Mc.prototype._get_annotations__0_k$=Sr.prototype._get_annotations__0_k$,Rb.prototype.contextual_4gjxmy_k$=GI.prototype.contextual_4gjxmy_k$,Oi.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,Oi.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Oi.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,wl.prototype.decodeSerializableValue_f8566k_k$=Ap.prototype.decodeSerializableValue_f8566k_k$,wl.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,wl.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,wl.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Ai.prototype.encodeNotNullMark_sv8swh_k$=iu.prototype.encodeNotNullMark_sv8swh_k$,Ai.prototype.beginCollection_5vyt7k_k$=iu.prototype.beginCollection_5vyt7k_k$,Ai.prototype.encodeNullableSerializableValue_99f6e2_k$=iu.prototype.encodeNullableSerializableValue_99f6e2_k$,_r.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,_r.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,_r.prototype.decodeElementIndex_6qhf5t_k$=tr.prototype.decodeElementIndex_6qhf5t_k$,_r.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Es.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,Es.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,Es.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Nc.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,Nc.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,Nc.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Rc.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,Rc.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,Rc.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,cr.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,cr.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,cr.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Gp.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,Gp.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,Gp.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Pc.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,Pc.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,Pc.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,Oo.prototype.decodeSerializableElement$default_51un9o_k$=tr.prototype.decodeSerializableElement$default_51un9o_k$,Oo.prototype.decodeSequentially_0_k$=tr.prototype.decodeSequentially_0_k$,Oo.prototype.decodeCollectionSize_6qhf5t_k$=tr.prototype.decodeCollectionSize_6qhf5t_k$,mv.prototype.typeParametersSerializers_0_k$=pb.prototype.typeParametersSerializers_0_k$,Zo.prototype.indexedExt$default_l3mjq9_k$=Et.prototype.indexedExt$default_l3mjq9_k$,Zo.prototype.watcherExt$default_w0x9wb_k$=Et.prototype.watcherExt$default_w0x9wb_k$,Sl.prototype.writeFile$default_d4gjvw_k$=fa.prototype.writeFile$default_d4gjvw_k$,Sl.prototype.watcherExt$default_w0x9wb_k$=Et.prototype.watcherExt$default_w0x9wb_k$,Sl.prototype.indexedExt$default_l3mjq9_k$=Et.prototype.indexedExt$default_l3mjq9_k$,Sa.prototype.indexedExt$default_l3mjq9_k$=Et.prototype.indexedExt$default_l3mjq9_k$,Sa.prototype.watcherExt$default_w0x9wb_k$=Et.prototype.watcherExt$default_w0x9wb_k$,Fc.prototype.writeFile$default_d4gjvw_k$=fa.prototype.writeFile$default_d4gjvw_k$,Eo.prototype.writeFile$default_d4gjvw_k$=fa.prototype.writeFile$default_d4gjvw_k$,Eo.prototype.watcherExt$default_w0x9wb_k$=Et.prototype.watcherExt$default_w0x9wb_k$,Eo.prototype.indexedExt$default_l3mjq9_k$=Et.prototype.indexedExt$default_l3mjq9_k$,Lc.prototype.subSystem=Et.prototype.subSystem,Lc.prototype.indexedExt_ha5a7z_k$=Et.prototype.indexedExt_ha5a7z_k$,Lc.prototype.textAt=Et.prototype.textAt,Lc.prototype.watcherExt_gyro5k_k$=Et.prototype.watcherExt_gyro5k_k$,Dc.prototype.subSystem=Et.prototype.subSystem,Dc.prototype.indexedExt_ha5a7z_k$=Et.prototype.indexedExt_ha5a7z_k$,Dc.prototype.textAt=Et.prototype.textAt,Dc.prototype.watcherExt_gyro5k_k$=Et.prototype.watcherExt_gyro5k_k$,Go.prototype.indexedExt$default_l3mjq9_k$=Et.prototype.indexedExt$default_l3mjq9_k$,Go.prototype.watcherExt$default_w0x9wb_k$=Et.prototype.watcherExt$default_w0x9wb_k$,Wo.prototype.writeFile$default_d4gjvw_k$=fa.prototype.writeFile$default_d4gjvw_k$,Wo.prototype.indexedExt$default_l3mjq9_k$=Et.prototype.indexedExt$default_l3mjq9_k$,Wo.prototype.watcherExt$default_w0x9wb_k$=Et.prototype.watcherExt$default_w0x9wb_k$,Zi.prototype.indexedExt$default_l3mjq9_k$=Et.prototype.indexedExt$default_l3mjq9_k$,Zi.prototype.watcherExt$default_w0x9wb_k$=Et.prototype.watcherExt$default_w0x9wb_k$,vi.prototype.writeFile$default_d4gjvw_k$=fa.prototype.writeFile$default_d4gjvw_k$,vi.prototype.watcherExt$default_w0x9wb_k$=Et.prototype.watcherExt$default_w0x9wb_k$,vi.prototype.indexedExt$default_l3mjq9_k$=Et.prototype.indexedExt$default_l3mjq9_k$,pw.prototype.reprojectTrackerResult=ih.prototype.reprojectTrackerResult,hw.prototype.reprojectTrackerResult=ih.prototype.reprojectTrackerResult,iC.prototype.reprojectTrackerResult=ih.prototype.reprojectTrackerResult,oC.prototype.reprojectTrackerResult=ih.prototype.reprojectTrackerResult,Wl=sT(),wT=null,sO=Fde(),rI=Zde(),cI=new ArrayBuffer(8),_I=ome(),gO=ame(),xy=sme(),yO=lme(),kO=1-yO|0,$p=J$(0),mS=J$(1),SO=J$(-1),iJ=new at(-1,2147483647),mf=new at(0,-2147483648),EO=J$(16777216),lJ=Tme(),cX=Gge(),Qz=Zge(),mX=l_([Le(ce()._get_stringClass__0_k$(),II()),Le(de(pe),QJ(by())),Le(ce()._get_charArrayClass__0_k$(),Zve()),Le(ce()._get_doubleClass__0_k$(),ZJ(Rn())),Le(ce()._get_doubleArrayClass__0_k$(),ege()),Le(ce()._get_floatClass__0_k$(),eX(we())),Le(ce()._get_floatArrayClass__0_k$(),tge()),Le(de(at),vz(ks())),Le(ce()._get_longArrayClass__0_k$(),nge()),Le(ce()._get_intClass__0_k$(),gz(j())),Le(ce()._get_intArrayClass__0_k$(),rge()),Le(ce()._get_shortClass__0_k$(),yz(b())),Le(ce()._get_shortArrayClass__0_k$(),ige()),Le(ce()._get_byteClass__0_k$(),kz(Yh())),Le(ce()._get_byteArrayClass__0_k$(),oge()),Le(ce()._get_booleanClass__0_k$(),tX()),Le(ce()._get_booleanArrayClass__0_k$(),age()),Le(de(xc),sge(F()))]),zI=new yd(Ds(),Ds(),Ds(),Ds()),fE=new eM,PX=Kr([lge()._get_descriptor__0_k$(),nX(wc())._get_descriptor__0_k$(),uge()._get_descriptor__0_k$(),cge()._get_descriptor__0_k$()]),tM=k0e(),Ji([be(0,8),be(9,13),be(14,18),be(19,23),be(24,36)]),Ji([8,13,18,23]),rU=kt(new pe(48).rangeTo_wi8o78_k$(new pe(57)),new pe(97).rangeTo_wi8o78_k$(new pe(102))),ZX="Mocap4Face",oU="0.2.0",eY=oU,tY=!1,rY=H0e(),iY=pke(),lY=Eke()(),_Y=y$e()(),JN=Ji(["browOuterUp_L","browInnerUp_L","browDown_L","eyeBlink_L","eyeSquint_L","eyeWide_L","eyeLookUp_L","eyeLookOut_L","eyeLookIn_L","eyeLookDown_L","noseSneer_L","mouthUpperUp_L","mouthSmile_L","mouthLeft","mouthFrown_L","mouthLowerDown_L","jawLeft","cheekPuff","mouthShrugUpper","mouthFunnel","mouthRollLower","jawOpen","tongueOut","mouthPucker","mouthRollUpper","jawRight","mouthLowerDown_R","mouthFrown_R","mouthRight","mouthSmile_R","mouthUpperUp_R","noseSneer_R","eyeLookDown_R","eyeLookIn_R","eyeLookOut_R","eyeLookUp_R","eyeWide_R","eyeSquint_R","eyeBlink_R","browDown_R","browInnerUp_R","browOuterUp_R"]),kY=zbe()(),uQ=qxe()(),kQ=n1e()(),$Q=r1e()(),wQ=b1e()(),xQ=U1e()(),SQ=j1e()(),EQ=G1e()(),CQ=W1e()(),UE=Z1e(),TQ=eSe(),IQ=tSe(),MQ=3.1415927,NQ=pSe()(),VZ=AEe()(),qZ=TEe()(),KZ=IEe()(),JZ=MEe()(),ree=FEe()(),oee=WEe(),aee=VEe()(),KE=new Rf("JS queue"),pee=MCe()(),hee=NCe()(),dee=RCe()(),mee=PCe()(),yee=gAe()(),kee=yAe()(),u5=JN,$ee=xAe()(),Aee=WAe()(),Iee=r2e()();var Wee=n.kotlinx||(n.kotlinx={}),qP=Wee.atomicfu||(Wee.atomicfu={});qP.atomic$ref$=mve,qP.atomic$boolean$=gve,qP.atomic$int$=kve,qP.atomic$long$=bve,Object.defineProperty(n,"FACEMOJI_SDK_VERSION",{configurable:!0,get:U0e}),Object.defineProperty(n,"FacemojiAPI",{configurable:!0,get:Cd}),Object.defineProperty(n,"FutureCompanionInit",{configurable:!0,get:hke}),n.Future=Yt,n.Future.createWithGenerator=Hs,n.Future.createWithValue=_a,Object.defineProperty(n,"ObservableCompanionInit",{configurable:!0,get:i$e}),n.Observable=fr,n.Observable.createWithGenerator=Xu,n.Observable.createWithFutureOfT=u$e,n.Observable.createWithCollectionOfFutureOfT=c$e,n.Observable.createWithValue=Fb,Object.defineProperty(n,"EXPRESSION_BLENDSHAPES",{configurable:!0,get:$be}),Object.defineProperty(n,"CommonEmotions",{configurable:!0,get:bbe}),Object.defineProperty(n,"TryCompanionInit",{configurable:!0,get:Fbe}),n.Try=Ot,n.Try.Value=_n,n.Try.Error=fn,n.Try.Error.createWithMessage=Dbe,Object.defineProperty(n,"FillMode",{configurable:!0,get:jbe}),Object.defineProperty(n,"PixelComponents",{configurable:!0,get:Gbe}),n.FileSubSystem=Zo,n.WriteableFileSubSystem=Sl,n.FallbackFileSystem=Sa,n.FallbackFileSystem.createWithFileSystem=iwe,n.DevelopmentFileSystem=Eo,n.DevelopmentFileSystem.createWithListOfString=awe,n.DevelopmentFileSystem.createWithArrayOfString=swe,n.FileSystemWatcher=kv,n.FileSystemWatcher.createWithFileSystem=DY,Object.defineProperty(n,"FileWatchErrorSensitivity",{configurable:!0,get:cwe}),Object.defineProperty(n,"JsonEncoderDecoder",{configurable:!0,get:oQ}),n.Path=bn,Object.defineProperty(n,"LoggerCompanionInit",{configurable:!0,get:Pxe}),Object.defineProperty(n,"LogLevel",{configurable:!0,get:Bxe}),n.Logger=YU,n.TimeLogger=A_,Object.defineProperty(n,"CameraCompanionInit",{configurable:!0,get:Yxe}),Object.defineProperty(n,"OrbitCameraControlsCompanionInit",{configurable:!0,get:Qxe}),n.Camera=Vt,n.OrbitCameraControls=Nd,Object.defineProperty(n,"ColCompanionInit",{configurable:!0,get:s1e}),n.Col=On,n.Col.createWithDoubleAndDoubleAndDoubleAndDouble=u1e,n.Col.createWithDoubleAndDoubleAndDouble=_1e,n.Col.createWithFloatAndFloatAndFloatAndFloat=Kb,n.Col.createWithFloatAndFloatAndFloat=aj,n.Col.createWithIntAndIntAndIntAndInt=d1e,n.Col.createWithIntAndIntAndInt=v1e,n.Col.create7=y1e,n.Col.createWithIntAndIntArray=$1e,Object.defineProperty(n,"MatrixLayoutCompanionInit",{configurable:!0,get:w1e}),Object.defineProperty(n,"Mat2CompanionInit",{configurable:!0,get:x1e}),Object.defineProperty(n,"Mat3CompanionInit",{configurable:!0,get:S1e}),Object.defineProperty(n,"Mat4CompanionInit",{configurable:!0,get:E1e}),n.MatrixLayout=Ue,n.Matrix=dr,n.Mat2=Zn,n.Mat2.createWithX=OE,n.Mat2.createWithLayout=T1e,n.Mat3=Ct,n.Mat3.createWithX=f0,n.Mat3.createWithLayout=B1e,n.Mat4=St,n.Mat4.createWithX=Bd,n.Mat4.createWithLayout=z1e,n.numArrayOfWithDouble=Cs,n.numArrayOfWithFloat=Er,n.numArrayOfWithInt=zE,Object.defineProperty(n,"PIn",{configurable:!0,get:J1e}),Object.defineProperty(n,"radianPerDegree",{configurable:!0,get:X1e}),Object.defineProperty(n,"degreePerRadian",{configurable:!0,get:Y1e}),Object.defineProperty(n,"PIf",{configurable:!0,get:Q1e}),Object.defineProperty(n,"QuaternionCompanionInit",{configurable:!0,get:nSe}),n.Quaternion=Lt,n.Quaternion.createWithDouble=iSe,n.Quaternion.createWithFloat=au,n.Quaternion.createWithVec4=sSe,n.Quaternion.create4=xv,Object.defineProperty(n,"Vec1CompanionInit",{configurable:!0,get:zSe}),Object.defineProperty(n,"Vec2CompanionInit",{configurable:!0,get:USe}),Object.defineProperty(n,"Vec3CompanionInit",{configurable:!0,get:jSe}),Object.defineProperty(n,"Vec4CompanionInit",{configurable:!0,get:GSe}),n.min=WSe,n.max=HSe,n.Vector=Jt,n.Vec1=Mi,n.Vec1.createWithDouble=qSe,n.Vec1.createWithFloat=GE,n.Vec1.createWithInt=XSe,n.Vec1.create4=XZ,n.Vec2=zn,n.Vec2.createWithDouble=ZSe,n.Vec2.createWithFloat=Wi,n.Vec2.createWithInt=WE,n.Vec2.create4=QZ,n.Vec3=$t,n.Vec3.createWithDouble=iEe,n.Vec3.createWithFloat=Uo,n.Vec3.createWithInt=sEe,n.Vec3.createWithVec2=uEe,n.Vec3.createWithNum=_Ee,n.Vec3.create6=eee,n.Vec4=dn,n.Vec4.createWithDouble=hEe,n.Vec4.createWithFloat=rs,n.Vec4.createWithInt=vEe,n.Vec4.createWithVec2AndNum=yEe,n.Vec4.createWithVec2AndNumAndNum=zj,n.Vec4.createWithVec2AndVec2=bEe,n.Vec4.createWithVec3=xEe,n.Vec4.createWithVec3AndNum=Kp,n.Vec4.create9=tee,Object.defineProperty(n,"TimerCompanionInit",{configurable:!0,get:BEe}),n.Timer=Ld,n.FPS=qj,n.Ticker=qE;var R5=n._js||(n._js={});return R5.JSIteratorResult=M_,R5.JSIterator=E3,R5.JSMapIterator=C3,Object.defineProperty(n,"DispatchQueueCompanionInit",{configurable:!0,get:HEe}),n.DispatchQueue=Rf,n.Image=N_,n.Image.RawInt=Ea,n.Image.RawFloat=jo,n.PlatformImage=Ca,n.BitmapImage=Bf,n.HTMLVideoImage=Jp,n.HTMLImage=Xp,n.HTMLCanvasImage=Yp,n.ImageDataImage=Qp,n.ImageList=tw,n.ImageList.RawInt=Zp,n.ImageList.RawInt.createWithWidth=nCe,n.ImageList.RawFloat=eh,n.ImageList.RawFloat.createWithWidth=iCe,n.ImageCube=nw,n.ImageCube.RawInt=Ao,n.ImageCube.RawInt.createWithSize=aCe,n.ImageCube.RawFloat=To,n.ImageCube.RawFloat.createWithSize=lCe,n.imageFromBytes=uCe,Object.defineProperty(n,"ResourceFileSystemCompanionInit",{configurable:!0,get:kCe}),Object.defineProperty(n,"DeviceFileSystemCompanionInit",{configurable:!0,get:$Ce}),Object.defineProperty(n,"NetworkFileSystemCompanionInit",{configurable:!0,get:bCe}),Object.defineProperty(n,"WriteableNetworkFileSystemCompanionInit",{configurable:!0,get:wCe}),n.ApplicationContext=Dd,n.ResourceFileSystem=Go,n.DeviceFileSystem=Wo,n.NetworkFileSystem=Zi,n.WriteableNetworkFileSystem=vi,n.cacheDir=TCe,n.developmentResourceDirs=vee,n.StringMap=ea,n.StringMap.createWithDynamic=oAe,n.StringMap.create1=sAe,n.StringMap.StringEntry=Od,n.getTimeMillis=m0,n.WeakReference=vP,Object.defineProperty(n,"FaceTrackerResultCompanionInit",{configurable:!0,get:pAe}),Object.defineProperty(n,"FaceTrackerCompanionInit",{configurable:!0,get:hAe}),n.FaceTrackerResult=hn,n.FaceTrackerWithResult=Ho,n.FaceTracker=Io,n.deserializeResult=mAe,Object.defineProperty(n,"FaceTrackerReprojectorsCompanionInit",{configurable:!0,get:wAe}),n.FaceTrackerReprojectors=m5,Object.defineProperty(n,"ImageFaceTrackerCompanionInit",{configurable:!0,get:FAe}),Object.defineProperty(n,"RectCompanionInit",{configurable:!0,get:XAe}),n.Rect=Sn,n.Rect.createWithNum=Js,n.Rect.createWithVec2=ZAe,n.Rect.create3=t2e,n.TrackerImage=As,Object.defineProperty(n,"TrackerBackend",{configurable:!0,get:i2e}),n.TrackerGPUContext=R_,n})})(KLe);var net={exports:{}},z2={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ret=Xn.exports,Fhe=60103;z2.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Lhe=Symbol.for;Fhe=Lhe("react.element"),z2.Fragment=Lhe("react.fragment")}var iet=ret.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oet=Object.prototype.hasOwnProperty,aet={key:!0,ref:!0,__self:!0,__source:!0};function Dhe(r,e,n){var o,a={},l=null,u=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(u=e.ref);for(o in e)oet.call(e,o)&&!aet.hasOwnProperty(o)&&(a[o]=e[o]);if(r&&r.defaultProps)for(o in e=r.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:Fhe,type:r,key:l,ref:u,props:a,_owner:iet.current}}z2.jsx=Dhe;z2.jsxs=Dhe;net.exports=z2;export{fet as C,het as E,pet as O,cet as R,Ole as a,uet as b,KLe as f,net as j,Xn as r,fLe as u};
